(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}})();function aS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),i}var TI={exports:{}},Kp={},SI={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),t6=Symbol.for("react.portal"),i6=Symbol.for("react.fragment"),r6=Symbol.for("react.strict_mode"),n6=Symbol.for("react.profiler"),a6=Symbol.for("react.provider"),s6=Symbol.for("react.context"),o6=Symbol.for("react.forward_ref"),l6=Symbol.for("react.suspense"),h6=Symbol.for("react.memo"),u6=Symbol.for("react.lazy"),W_=Symbol.iterator;function f6(e){return e===null||typeof e!="object"?null:(e=W_&&e[W_]||e["@@iterator"],typeof e=="function"?e:null)}var CI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EI=Object.assign,_I={};function Fh(e,t,i){this.props=e,this.context=t,this.refs=_I,this.updater=i||CI}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AI(){}AI.prototype=Fh.prototype;function sS(e,t,i){this.props=e,this.context=t,this.refs=_I,this.updater=i||CI}var oS=sS.prototype=new AI;oS.constructor=sS;EI(oS,Fh.prototype);oS.isPureReactComponent=!0;var Y_=Array.isArray,wI=Object.prototype.hasOwnProperty,lS={current:null},MI={key:!0,ref:!0,__self:!0,__source:!0};function bI(e,t,i){var r,n={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)wI.call(t,r)&&!MI.hasOwnProperty(r)&&(n[r]=t[r]);var o=arguments.length-2;if(o===1)n.children=i;else if(1<o){for(var l=Array(o),h=0;h<o;h++)l[h]=arguments[h+2];n.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)n[r]===void 0&&(n[r]=o[r]);return{$$typeof:ac,type:e,key:a,ref:s,props:n,_owner:lS.current}}function c6(e,t){return{$$typeof:ac,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hS(e){return typeof e=="object"&&e!==null&&e.$$typeof===ac}function d6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var H_=/\/+/g;function pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d6(""+e.key):t.toString(36)}function qv(e,t,i,r,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ac:case t6:s=!0}}if(s)return s=e,n=n(s),e=r===""?"."+pm(s,0):r,Y_(n)?(i="",e!=null&&(i=e.replace(H_,"$&/")+"/"),qv(n,t,i,"",function(h){return h})):n!=null&&(hS(n)&&(n=c6(n,i+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(H_,"$&/")+"/")+e)),t.push(n)),1;if(s=0,r=r===""?".":r+":",Y_(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+pm(a,o);s+=qv(a,t,i,l,n)}else if(l=f6(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+pm(a,o++),s+=qv(a,t,i,l,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Nc(e,t,i){if(e==null)return e;var r=[],n=0;return qv(e,r,"","",function(a){return t.call(i,a,n++)}),r}function v6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ai={current:null},Jv={transition:null},p6={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:Jv,ReactCurrentOwner:lS};function PI(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Nc,forEach:function(e,t,i){Nc(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Nc(e,function(){t++}),t},toArray:function(e){return Nc(e,function(t){return t})||[]},only:function(e){if(!hS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Fh;fe.Fragment=i6;fe.Profiler=n6;fe.PureComponent=sS;fe.StrictMode=r6;fe.Suspense=l6;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p6;fe.act=PI;fe.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=EI({},e.props),n=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=lS.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)wI.call(t,l)&&!MI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){o=Array(l);for(var h=0;h<l;h++)o[h]=arguments[h+2];r.children=o}return{$$typeof:ac,type:e.type,key:n,ref:a,props:r,_owner:s}};fe.createContext=function(e){return e={$$typeof:s6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:a6,_context:e},e.Consumer=e};fe.createElement=bI;fe.createFactory=function(e){var t=bI.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:o6,render:e}};fe.isValidElement=hS;fe.lazy=function(e){return{$$typeof:u6,_payload:{_status:-1,_result:e},_init:v6}};fe.memo=function(e,t){return{$$typeof:h6,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Jv.transition;Jv.transition={};try{e()}finally{Jv.transition=t}};fe.unstable_act=PI;fe.useCallback=function(e,t){return Ai.current.useCallback(e,t)};fe.useContext=function(e){return Ai.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Ai.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Ai.current.useEffect(e,t)};fe.useId=function(){return Ai.current.useId()};fe.useImperativeHandle=function(e,t,i){return Ai.current.useImperativeHandle(e,t,i)};fe.useInsertionEffect=function(e,t){return Ai.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Ai.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Ai.current.useMemo(e,t)};fe.useReducer=function(e,t,i){return Ai.current.useReducer(e,t,i)};fe.useRef=function(e){return Ai.current.useRef(e)};fe.useState=function(e){return Ai.current.useState(e)};fe.useSyncExternalStore=function(e,t,i){return Ai.current.useSyncExternalStore(e,t,i)};fe.useTransition=function(){return Ai.current.useTransition()};fe.version="18.3.1";SI.exports=fe;var dh=SI.exports;const m6=aS(dh);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g6=dh,x6=Symbol.for("react.element"),y6=Symbol.for("react.fragment"),T6=Object.prototype.hasOwnProperty,S6=g6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C6={key:!0,ref:!0,__self:!0,__source:!0};function RI(e,t,i){var r,n={},a=null,s=null;i!==void 0&&(a=""+i),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)T6.call(t,r)&&!C6.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:x6,type:e,key:a,ref:s,props:n,_owner:S6.current}}Kp.Fragment=y6;Kp.jsx=RI;Kp.jsxs=RI;TI.exports=Kp;var Ch=TI.exports,LI={exports:{}},rr={},FI={exports:{}},II={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,b){var I=P.length;P.push(b);e:for(;0<I;){var D=I-1>>>1,G=P[D];if(0<n(G,b))P[D]=b,P[I]=G,I=D;else break e}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var b=P[0],I=P.pop();if(I!==b){P[0]=I;e:for(var D=0,G=P.length,H=G>>>1;D<H;){var V=2*(D+1)-1,X=P[V],K=V+1,te=P[K];if(0>n(X,I))K<G&&0>n(te,X)?(P[D]=te,P[K]=I,D=K):(P[D]=X,P[V]=I,D=V);else if(K<G&&0>n(te,I))P[D]=te,P[K]=I,D=K;else break e}}return b}function n(P,b){var I=P.sortIndex-b.sortIndex;return I!==0?I:P.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],h=[],u=1,f=null,c=3,v=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(P){for(var b=i(h);b!==null;){if(b.callback===null)r(h);else if(b.startTime<=P)r(h),b.sortIndex=b.expirationTime,t(l,b);else break;b=i(h)}}function E(P){if(m=!1,S(P),!p)if(i(l)!==null)p=!0,A(_);else{var b=i(h);b!==null&&L(E,b.startTime-P)}}function _(P,b){p=!1,m&&(m=!1,g(F),F=-1),v=!0;var I=c;try{for(S(b),f=i(l);f!==null&&(!(f.expirationTime>b)||P&&!N());){var D=f.callback;if(typeof D=="function"){f.callback=null,c=f.priorityLevel;var G=D(f.expirationTime<=b);b=e.unstable_now(),typeof G=="function"?f.callback=G:f===i(l)&&r(l),S(b)}else r(l);f=i(l)}if(f!==null)var H=!0;else{var V=i(h);V!==null&&L(E,V.startTime-b),H=!1}return H}finally{f=null,c=I,v=!1}}var w=!1,R=null,F=-1,k=5,B=-1;function N(){return!(e.unstable_now()-B<k)}function d(){if(R!==null){var P=e.unstable_now();B=P;var b=!0;try{b=R(!0,P)}finally{b?y():(w=!1,R=null)}}else w=!1}var y;if(typeof T=="function")y=function(){T(d)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,M=C.port2;C.port1.onmessage=d,y=function(){M.postMessage(null)}}else y=function(){x(d,0)};function A(P){R=P,w||(w=!0,y())}function L(P,b){F=x(function(){P(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,A(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(P){switch(c){case 1:case 2:case 3:var b=3;break;default:b=c}var I=c;c=b;try{return P()}finally{c=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,b){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=c;c=P;try{return b()}finally{c=I}},e.unstable_scheduleCallback=function(P,b,I){var D=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?D+I:D):I=D,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,P={id:u++,callback:b,priorityLevel:P,startTime:I,expirationTime:G,sortIndex:-1},I>D?(P.sortIndex=I,t(h,P),i(l)===null&&P===i(h)&&(m?(g(F),F=-1):m=!0,L(E,I-D))):(P.sortIndex=G,t(l,P),p||v||(p=!0,A(_))),P},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(P){var b=c;return function(){var I=c;c=b;try{return P.apply(this,arguments)}finally{c=I}}}})(II);FI.exports=II;var E6=FI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6=dh,ir=E6;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OI=new Set,Ff={};function Ko(e,t){Eh(e,t),Eh(e+"Capture",t)}function Eh(e,t){for(Ff[e]=t,e=0;e<t.length;e++)OI.add(t[e])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=Object.prototype.hasOwnProperty,A6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X_={},K_={};function w6(e){return cy.call(K_,e)?!0:cy.call(X_,e)?!1:A6.test(e)?K_[e]=!0:(X_[e]=!0,!1)}function M6(e,t,i,r){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b6(e,t,i,r){if(t===null||typeof t>"u"||M6(e,t,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wi(e,t,i,r,n,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new wi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var uS=/[\-:]([a-z])/g;function fS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uS,fS);qt[t]=new wi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uS,fS);qt[t]=new wi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uS,fS);qt[t]=new wi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new wi(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new wi(e,1,!1,e.toLowerCase(),null,!0,!0)});function cS(e,t,i,r){var n=qt.hasOwnProperty(t)?qt[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b6(t,i,n,r)&&(i=null),r||n===null?w6(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=i===null?n.type===3?!1:"":i:(t=n.attributeName,r=n.attributeNamespace,i===null?e.removeAttribute(t):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}var ga=_6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),eh=Symbol.for("react.portal"),th=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),DI=Symbol.for("react.provider"),BI=Symbol.for("react.context"),vS=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),pS=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),NI=Symbol.for("react.offscreen"),q_=Symbol.iterator;function ru(e){return e===null||typeof e!="object"?null:(e=q_&&e[q_]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,mm;function ff(e){if(mm===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);mm=t&&t[1]||""}return`
`+mm+e}var gm=!1;function xm(e,t){if(!e||gm)return"";gm=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),a=r.stack.split(`
`),s=n.length-1,o=a.length-1;1<=s&&0<=o&&n[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(n[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||n[s]!==a[o]){var l=`
`+n[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{gm=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ff(e):""}function P6(e){switch(e.tag){case 5:return ff(e.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return e=xm(e.type,!1),e;case 11:return e=xm(e.type.render,!1),e;case 1:return e=xm(e.type,!0),e;default:return""}}function my(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case th:return"Fragment";case eh:return"Portal";case dy:return"Profiler";case dS:return"StrictMode";case vy:return"Suspense";case py:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BI:return(e.displayName||"Context")+".Consumer";case DI:return(e._context.displayName||"Context")+".Provider";case vS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pS:return t=e.displayName||null,t!==null?t:my(e.type)||"Memo";case Es:t=e._payload,e=e._init;try{return my(e(t))}catch{}}return null}function R6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(t);case 8:return t===dS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L6(e){var t=GI(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kc(e){e._valueTracker||(e._valueTracker=L6(e))}function kI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=GI(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function mp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gy(e,t){var i=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function J_(e,t){var i=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;i=zs(t.value!=null?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $I(e,t){t=t.checked,t!=null&&cS(e,"checked",t,!1)}function xy(e,t){$I(e,t);var i=zs(t.value),r=t.type;if(i!=null)r==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yy(e,t.type,i):t.hasOwnProperty("defaultValue")&&yy(e,t.type,zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z_(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function yy(e,t,i){(t!=="number"||mp(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var cf=Array.isArray;function vh(e,t,i,r){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&r&&(e[i].defaultSelected=!0)}else{for(i=""+zs(i),t=null,n=0;n<e.length;n++){if(e[n].value===i){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ty(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q_(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(z(92));if(cf(i)){if(1<i.length)throw Error(z(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:zs(i)}}function zI(e,t){var i=zs(t.value),r=zs(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),r!=null&&(e.defaultValue=""+r)}function j_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $c,UI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,i,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($c=$c||document.createElement("div"),$c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function If(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Sf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F6=["Webkit","ms","Moz","O"];Object.keys(Sf).forEach(function(e){F6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sf[t]=Sf[e]})});function WI(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Sf.hasOwnProperty(e)&&Sf[e]?(""+t).trim():t+"px"}function YI(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=WI(i,t[i],r);i==="float"&&(i="cssFloat"),r?e.setProperty(i,n):e[i]=n}}var I6=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cy(e,t){if(t){if(I6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ey(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _y=null;function mS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ay=null,ph=null,mh=null;function eA(e){if(e=lc(e)){if(typeof Ay!="function")throw Error(z(280));var t=e.stateNode;t&&(t=jp(t),Ay(e.stateNode,e.type,t))}}function HI(e){ph?mh?mh.push(e):mh=[e]:ph=e}function XI(){if(ph){var e=ph,t=mh;if(mh=ph=null,eA(e),t)for(e=0;e<t.length;e++)eA(t[e])}}function KI(e,t){return e(t)}function qI(){}var ym=!1;function JI(e,t,i){if(ym)return e(t,i);ym=!0;try{return KI(e,t,i)}finally{ym=!1,(ph!==null||mh!==null)&&(qI(),XI())}}function Of(e,t){var i=e.stateNode;if(i===null)return null;var r=jp(i);if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(z(231,t,typeof i));return i}var wy=!1;if(fa)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){wy=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{wy=!1}function O6(e,t,i,r,n,a,s,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(i,h)}catch(u){this.onError(u)}}var Cf=!1,gp=null,xp=!1,My=null,D6={onError:function(e){Cf=!0,gp=e}};function B6(e,t,i,r,n,a,s,o,l){Cf=!1,gp=null,O6.apply(D6,arguments)}function N6(e,t,i,r,n,a,s,o,l){if(B6.apply(this,arguments),Cf){if(Cf){var h=gp;Cf=!1,gp=null}else throw Error(z(198));xp||(xp=!0,My=h)}}function qo(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function ZI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tA(e){if(qo(e)!==e)throw Error(z(188))}function G6(e){var t=e.alternate;if(!t){if(t=qo(e),t===null)throw Error(z(188));return t!==e?null:e}for(var i=e,r=t;;){var n=i.return;if(n===null)break;var a=n.alternate;if(a===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===i)return tA(n),e;if(a===r)return tA(n),t;a=a.sibling}throw Error(z(188))}if(i.return!==r.return)i=n,r=a;else{for(var s=!1,o=n.child;o;){if(o===i){s=!0,i=n,r=a;break}if(o===r){s=!0,r=n,i=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===i){s=!0,i=a,r=n;break}if(o===r){s=!0,r=a,i=n;break}o=o.sibling}if(!s)throw Error(z(189))}}if(i.alternate!==r)throw Error(z(190))}if(i.tag!==3)throw Error(z(188));return i.stateNode.current===i?e:t}function QI(e){return e=G6(e),e!==null?jI(e):null}function jI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jI(e);if(t!==null)return t;e=e.sibling}return null}var eO=ir.unstable_scheduleCallback,iA=ir.unstable_cancelCallback,k6=ir.unstable_shouldYield,$6=ir.unstable_requestPaint,lt=ir.unstable_now,z6=ir.unstable_getCurrentPriorityLevel,gS=ir.unstable_ImmediatePriority,tO=ir.unstable_UserBlockingPriority,yp=ir.unstable_NormalPriority,V6=ir.unstable_LowPriority,iO=ir.unstable_IdlePriority,qp=null,On=null;function U6(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(qp,e,void 0,(e.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:H6,W6=Math.log,Y6=Math.LN2;function H6(e){return e>>>=0,e===0?32:31-(W6(e)/Y6|0)|0}var zc=64,Vc=4194304;function df(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tp(e,t){var i=e.pendingLanes;if(i===0)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,s=i&268435455;if(s!==0){var o=s&~n;o!==0?r=df(o):(a&=s,a!==0&&(r=df(a)))}else s=i&~n,s!==0?r=df(s):a!==0&&(r=df(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(r&4&&(r|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)i=31-an(t),n=1<<i,r|=e[i],t&=~n;return r}function X6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K6(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-an(a),o=1<<s,l=n[s];l===-1?(!(o&i)||o&r)&&(n[s]=X6(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function by(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rO(){var e=zc;return zc<<=1,!(zc&4194240)&&(zc=64),e}function Tm(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function sc(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-an(t),e[t]=i}function q6(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-an(i),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,i&=~a}}function xS(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-an(i),n=1<<r;n&t|e[r]&t&&(e[r]|=t),i&=~n}}var we=0;function nO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aO,yS,sO,oO,lO,Py=!1,Uc=[],Rs=null,Ls=null,Fs=null,Df=new Map,Bf=new Map,As=[],J6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rA(e,t){switch(e){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Df.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(t.pointerId)}}function au(e,t,i,r,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},t!==null&&(t=lc(t),t!==null&&yS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Z6(e,t,i,r,n){switch(t){case"focusin":return Rs=au(Rs,e,t,i,r,n),!0;case"dragenter":return Ls=au(Ls,e,t,i,r,n),!0;case"mouseover":return Fs=au(Fs,e,t,i,r,n),!0;case"pointerover":var a=n.pointerId;return Df.set(a,au(Df.get(a)||null,e,t,i,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Bf.set(a,au(Bf.get(a)||null,e,t,i,r,n)),!0}return!1}function hO(e){var t=Lo(e.target);if(t!==null){var i=qo(t);if(i!==null){if(t=i.tag,t===13){if(t=ZI(i),t!==null){e.blockedOn=t,lO(e.priority,function(){sO(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ry(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);_y=r,i.target.dispatchEvent(r),_y=null}else return t=lc(i),t!==null&&yS(t),e.blockedOn=i,!1;t.shift()}return!0}function nA(e,t,i){Zv(e)&&i.delete(t)}function Q6(){Py=!1,Rs!==null&&Zv(Rs)&&(Rs=null),Ls!==null&&Zv(Ls)&&(Ls=null),Fs!==null&&Zv(Fs)&&(Fs=null),Df.forEach(nA),Bf.forEach(nA)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,Py||(Py=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,Q6)))}function Nf(e){function t(n){return su(n,e)}if(0<Uc.length){su(Uc[0],e);for(var i=1;i<Uc.length;i++){var r=Uc[i];r.blockedOn===e&&(r.blockedOn=null)}}for(Rs!==null&&su(Rs,e),Ls!==null&&su(Ls,e),Fs!==null&&su(Fs,e),Df.forEach(t),Bf.forEach(t),i=0;i<As.length;i++)r=As[i],r.blockedOn===e&&(r.blockedOn=null);for(;0<As.length&&(i=As[0],i.blockedOn===null);)hO(i),i.blockedOn===null&&As.shift()}var gh=ga.ReactCurrentBatchConfig,Sp=!0;function j6(e,t,i,r){var n=we,a=gh.transition;gh.transition=null;try{we=1,TS(e,t,i,r)}finally{we=n,gh.transition=a}}function e9(e,t,i,r){var n=we,a=gh.transition;gh.transition=null;try{we=4,TS(e,t,i,r)}finally{we=n,gh.transition=a}}function TS(e,t,i,r){if(Sp){var n=Ry(e,t,i,r);if(n===null)Rm(e,t,r,Cp,i),rA(e,r);else if(Z6(n,e,t,i,r))r.stopPropagation();else if(rA(e,r),t&4&&-1<J6.indexOf(e)){for(;n!==null;){var a=lc(n);if(a!==null&&aO(a),a=Ry(e,t,i,r),a===null&&Rm(e,t,r,Cp,i),a===n)break;n=a}n!==null&&r.stopPropagation()}else Rm(e,t,r,null,i)}}var Cp=null;function Ry(e,t,i,r){if(Cp=null,e=mS(r),e=Lo(e),e!==null)if(t=qo(e),t===null)e=null;else if(i=t.tag,i===13){if(e=ZI(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cp=e,null}function uO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z6()){case gS:return 1;case tO:return 4;case yp:case V6:return 16;case iO:return 536870912;default:return 16}default:return 16}}var bs=null,SS=null,Qv=null;function fO(){if(Qv)return Qv;var e,t=SS,i=t.length,r,n="value"in bs?bs.value:bs.textContent,a=n.length;for(e=0;e<i&&t[e]===n[e];e++);var s=i-e;for(r=1;r<=s&&t[i-r]===n[a-r];r++);return Qv=n.slice(e,1<r?1-r:void 0)}function jv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wc(){return!0}function aA(){return!1}function nr(e){function t(i,r,n,a,s){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],this[o]=i?i(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wc:aA,this.isPropagationStopped=aA,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),t}var Ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CS=nr(Ih),oc=je({},Ih,{view:0,detail:0}),t9=nr(oc),Sm,Cm,ou,Jp=je({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ES,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ou&&(ou&&e.type==="mousemove"?(Sm=e.screenX-ou.screenX,Cm=e.screenY-ou.screenY):Cm=Sm=0,ou=e),Sm)},movementY:function(e){return"movementY"in e?e.movementY:Cm}}),sA=nr(Jp),i9=je({},Jp,{dataTransfer:0}),r9=nr(i9),n9=je({},oc,{relatedTarget:0}),Em=nr(n9),a9=je({},Ih,{animationName:0,elapsedTime:0,pseudoElement:0}),s9=nr(a9),o9=je({},Ih,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l9=nr(o9),h9=je({},Ih,{data:0}),oA=nr(h9),u9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c9[e])?!!t[e]:!1}function ES(){return d9}var v9=je({},oc,{key:function(e){if(e.key){var t=u9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ES,charCode:function(e){return e.type==="keypress"?jv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p9=nr(v9),m9=je({},Jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lA=nr(m9),g9=je({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ES}),x9=nr(g9),y9=je({},Ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),T9=nr(y9),S9=je({},Jp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C9=nr(S9),E9=[9,13,27,32],_S=fa&&"CompositionEvent"in window,Ef=null;fa&&"documentMode"in document&&(Ef=document.documentMode);var _9=fa&&"TextEvent"in window&&!Ef,cO=fa&&(!_S||Ef&&8<Ef&&11>=Ef),hA=" ",uA=!1;function dO(e,t){switch(e){case"keyup":return E9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ih=!1;function A9(e,t){switch(e){case"compositionend":return vO(t);case"keypress":return t.which!==32?null:(uA=!0,hA);case"textInput":return e=t.data,e===hA&&uA?null:e;default:return null}}function w9(e,t){if(ih)return e==="compositionend"||!_S&&dO(e,t)?(e=fO(),Qv=SS=bs=null,ih=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cO&&t.locale!=="ko"?null:t.data;default:return null}}var M9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M9[e.type]:t==="textarea"}function pO(e,t,i,r){HI(r),t=Ep(t,"onChange"),0<t.length&&(i=new CS("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var _f=null,Gf=null;function b9(e){wO(e,0)}function Zp(e){var t=ah(e);if(kI(t))return e}function P9(e,t){if(e==="change")return t}var mO=!1;if(fa){var _m;if(fa){var Am="oninput"in document;if(!Am){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),Am=typeof cA.oninput=="function"}_m=Am}else _m=!1;mO=_m&&(!document.documentMode||9<document.documentMode)}function dA(){_f&&(_f.detachEvent("onpropertychange",gO),Gf=_f=null)}function gO(e){if(e.propertyName==="value"&&Zp(Gf)){var t=[];pO(t,Gf,e,mS(e)),JI(b9,t)}}function R9(e,t,i){e==="focusin"?(dA(),_f=t,Gf=i,_f.attachEvent("onpropertychange",gO)):e==="focusout"&&dA()}function L9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zp(Gf)}function F9(e,t){if(e==="click")return Zp(t)}function I9(e,t){if(e==="input"||e==="change")return Zp(t)}function O9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:O9;function kf(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!cy.call(t,n)||!on(e[n],t[n]))return!1}return!0}function vA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pA(e,t){var i=vA(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=vA(i)}}function xO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yO(){for(var e=window,t=mp();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=mp(e.document)}return t}function AS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D9(e){var t=yO(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&xO(i.ownerDocument.documentElement,i)){if(r!==null&&AS(i)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=i.textContent.length,a=Math.min(r.start,n);r=r.end===void 0?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=pA(i,a);var s=pA(i,r);n&&s&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B9=fa&&"documentMode"in document&&11>=document.documentMode,rh=null,Ly=null,Af=null,Fy=!1;function mA(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fy||rh==null||rh!==mp(r)||(r=rh,"selectionStart"in r&&AS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Af&&kf(Af,r)||(Af=r,r=Ep(Ly,"onSelect"),0<r.length&&(t=new CS("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=rh)))}function Yc(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var nh={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},wm={},TO={};fa&&(TO=document.createElement("div").style,"AnimationEvent"in window||(delete nh.animationend.animation,delete nh.animationiteration.animation,delete nh.animationstart.animation),"TransitionEvent"in window||delete nh.transitionend.transition);function Qp(e){if(wm[e])return wm[e];if(!nh[e])return e;var t=nh[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in TO)return wm[e]=t[i];return e}var SO=Qp("animationend"),CO=Qp("animationiteration"),EO=Qp("animationstart"),_O=Qp("transitionend"),AO=new Map,gA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){AO.set(e,t),Ko(t,[e])}for(var Mm=0;Mm<gA.length;Mm++){var bm=gA[Mm],N9=bm.toLowerCase(),G9=bm[0].toUpperCase()+bm.slice(1);Ws(N9,"on"+G9)}Ws(SO,"onAnimationEnd");Ws(CO,"onAnimationIteration");Ws(EO,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(_O,"onTransitionEnd");Eh("onMouseEnter",["mouseout","mouseover"]);Eh("onMouseLeave",["mouseout","mouseover"]);Eh("onPointerEnter",["pointerout","pointerover"]);Eh("onPointerLeave",["pointerout","pointerover"]);Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k9=new Set("cancel close invalid load scroll toggle".split(" ").concat(vf));function xA(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,N6(r,t,void 0,e),e.currentTarget=null}function wO(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;xA(n,o,h),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,h=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;xA(n,o,h),a=l}}}if(xp)throw e=My,xp=!1,My=null,e}function ke(e,t){var i=t[Ny];i===void 0&&(i=t[Ny]=new Set);var r=e+"__bubble";i.has(r)||(MO(t,e,2,!1),i.add(r))}function Pm(e,t,i){var r=0;t&&(r|=4),MO(i,e,r,t)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[Hc]){e[Hc]=!0,OI.forEach(function(i){i!=="selectionchange"&&(k9.has(i)||Pm(i,!1,e),Pm(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hc]||(t[Hc]=!0,Pm("selectionchange",!1,t))}}function MO(e,t,i,r){switch(uO(t)){case 1:var n=j6;break;case 4:n=e9;break;default:n=TS}i=n.bind(null,t,i,e),n=void 0,!wy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):n!==void 0?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Rm(e,t,i,r,n){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;s=s.return}for(;o!==null;){if(s=Lo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}JI(function(){var h=a,u=mS(i),f=[];e:{var c=AO.get(e);if(c!==void 0){var v=CS,p=e;switch(e){case"keypress":if(jv(i)===0)break e;case"keydown":case"keyup":v=p9;break;case"focusin":p="focus",v=Em;break;case"focusout":p="blur",v=Em;break;case"beforeblur":case"afterblur":v=Em;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=r9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=x9;break;case SO:case CO:case EO:v=s9;break;case _O:v=T9;break;case"scroll":v=t9;break;case"wheel":v=C9;break;case"copy":case"cut":case"paste":v=l9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lA}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?c!==null?c+"Capture":null:c;m=[];for(var T=h,S;T!==null;){S=T;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,g!==null&&(E=Of(T,g),E!=null&&m.push(zf(T,E,S)))),x)break;T=T.return}0<m.length&&(c=new v(c,p,null,i,u),f.push({event:c,listeners:m}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",c&&i!==_y&&(p=i.relatedTarget||i.fromElement)&&(Lo(p)||p[ca]))break e;if((v||c)&&(c=u.window===u?u:(c=u.ownerDocument)?c.defaultView||c.parentWindow:window,v?(p=i.relatedTarget||i.toElement,v=h,p=p?Lo(p):null,p!==null&&(x=qo(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=h),v!==p)){if(m=sA,E="onMouseLeave",g="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(m=lA,E="onPointerLeave",g="onPointerEnter",T="pointer"),x=v==null?c:ah(v),S=p==null?c:ah(p),c=new m(E,T+"leave",v,i,u),c.target=x,c.relatedTarget=S,E=null,Lo(u)===h&&(m=new m(g,T+"enter",p,i,u),m.target=S,m.relatedTarget=x,E=m),x=E,v&&p)t:{for(m=v,g=p,T=0,S=m;S;S=hl(S))T++;for(S=0,E=g;E;E=hl(E))S++;for(;0<T-S;)m=hl(m),T--;for(;0<S-T;)g=hl(g),S--;for(;T--;){if(m===g||g!==null&&m===g.alternate)break t;m=hl(m),g=hl(g)}m=null}else m=null;v!==null&&yA(f,c,v,m,!1),p!==null&&x!==null&&yA(f,x,p,m,!0)}}e:{if(c=h?ah(h):window,v=c.nodeName&&c.nodeName.toLowerCase(),v==="select"||v==="input"&&c.type==="file")var _=P9;else if(fA(c))if(mO)_=I9;else{_=L9;var w=R9}else(v=c.nodeName)&&v.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(_=F9);if(_&&(_=_(e,h))){pO(f,_,i,u);break e}w&&w(e,c,h),e==="focusout"&&(w=c._wrapperState)&&w.controlled&&c.type==="number"&&yy(c,"number",c.value)}switch(w=h?ah(h):window,e){case"focusin":(fA(w)||w.contentEditable==="true")&&(rh=w,Ly=h,Af=null);break;case"focusout":Af=Ly=rh=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,mA(f,i,u);break;case"selectionchange":if(B9)break;case"keydown":case"keyup":mA(f,i,u)}var R;if(_S)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ih?dO(e,i)&&(F="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(F="onCompositionStart");F&&(cO&&i.locale!=="ko"&&(ih||F!=="onCompositionStart"?F==="onCompositionEnd"&&ih&&(R=fO()):(bs=u,SS="value"in bs?bs.value:bs.textContent,ih=!0)),w=Ep(h,F),0<w.length&&(F=new oA(F,e,null,i,u),f.push({event:F,listeners:w}),R?F.data=R:(R=vO(i),R!==null&&(F.data=R)))),(R=_9?A9(e,i):w9(e,i))&&(h=Ep(h,"onBeforeInput"),0<h.length&&(u=new oA("onBeforeInput","beforeinput",null,i,u),f.push({event:u,listeners:h}),u.data=R))}wO(f,t)})}function zf(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ep(e,t){for(var i=t+"Capture",r=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Of(e,i),a!=null&&r.unshift(zf(e,a,n)),a=Of(e,t),a!=null&&r.push(zf(e,a,n))),e=e.return}return r}function hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yA(e,t,i,r,n){for(var a=t._reactName,s=[];i!==null&&i!==r;){var o=i,l=o.alternate,h=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&h!==null&&(o=h,n?(l=Of(i,a),l!=null&&s.unshift(zf(i,l,o))):n||(l=Of(i,a),l!=null&&s.push(zf(i,l,o)))),i=i.return}s.length!==0&&e.push({event:t,listeners:s})}var $9=/\r\n?/g,z9=/\u0000|\uFFFD/g;function TA(e){return(typeof e=="string"?e:""+e).replace($9,`
`).replace(z9,"")}function Xc(e,t,i){if(t=TA(t),TA(e)!==t&&i)throw Error(z(425))}function _p(){}var Iy=null,Oy=null;function Dy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,V9=typeof clearTimeout=="function"?clearTimeout:void 0,SA=typeof Promise=="function"?Promise:void 0,U9=typeof queueMicrotask=="function"?queueMicrotask:typeof SA<"u"?function(e){return SA.resolve(null).then(e).catch(W9)}:By;function W9(e){setTimeout(function(){throw e})}function Lm(e,t){var i=t,r=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(r===0){e.removeChild(n),Nf(t);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=n}while(i);Nf(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Oh=Math.random().toString(36).slice(2),In="__reactFiber$"+Oh,Vf="__reactProps$"+Oh,ca="__reactContainer$"+Oh,Ny="__reactEvents$"+Oh,Y9="__reactListeners$"+Oh,H9="__reactHandles$"+Oh;function Lo(e){var t=e[In];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ca]||i[In]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=CA(e);e!==null;){if(i=e[In])return i;e=CA(e)}return t}e=i,i=e.parentNode}return null}function lc(e){return e=e[In]||e[ca],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ah(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function jp(e){return e[Vf]||null}var Gy=[],sh=-1;function Ys(e){return{current:e}}function ze(e){0>sh||(e.current=Gy[sh],Gy[sh]=null,sh--)}function De(e,t){sh++,Gy[sh]=e.current,e.current=t}var Vs={},ui=Ys(Vs),Vi=Ys(!1),Vo=Vs;function _h(e,t){var i=e.type.contextTypes;if(!i)return Vs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in i)n[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ui(e){return e=e.childContextTypes,e!=null}function Ap(){ze(Vi),ze(ui)}function EA(e,t,i){if(ui.current!==Vs)throw Error(z(168));De(ui,t),De(Vi,i)}function bO(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(z(108,R6(e)||"Unknown",n));return je({},i,r)}function wp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vs,Vo=ui.current,De(ui,e),De(Vi,Vi.current),!0}function _A(e,t,i){var r=e.stateNode;if(!r)throw Error(z(169));i?(e=bO(e,t,Vo),r.__reactInternalMemoizedMergedChildContext=e,ze(Vi),ze(ui),De(ui,e)):ze(Vi),De(Vi,i)}var na=null,e0=!1,Fm=!1;function PO(e){na===null?na=[e]:na.push(e)}function X9(e){e0=!0,PO(e)}function Hs(){if(!Fm&&na!==null){Fm=!0;var e=0,t=we;try{var i=na;for(we=1;e<i.length;e++){var r=i[e];do r=r(!0);while(r!==null)}na=null,e0=!1}catch(n){throw na!==null&&(na=na.slice(e+1)),eO(gS,Hs),n}finally{we=t,Fm=!1}}return null}var oh=[],lh=0,Mp=null,bp=0,Mr=[],br=0,Uo=null,sa=1,oa="";function Ao(e,t){oh[lh++]=bp,oh[lh++]=Mp,Mp=e,bp=t}function RO(e,t,i){Mr[br++]=sa,Mr[br++]=oa,Mr[br++]=Uo,Uo=e;var r=sa;e=oa;var n=32-an(r)-1;r&=~(1<<n),i+=1;var a=32-an(t)+n;if(30<a){var s=n-n%5;a=(r&(1<<s)-1).toString(32),r>>=s,n-=s,sa=1<<32-an(t)+n|i<<n|r,oa=a+e}else sa=1<<a|i<<n|r,oa=e}function wS(e){e.return!==null&&(Ao(e,1),RO(e,1,0))}function MS(e){for(;e===Mp;)Mp=oh[--lh],oh[lh]=null,bp=oh[--lh],oh[lh]=null;for(;e===Uo;)Uo=Mr[--br],Mr[br]=null,oa=Mr[--br],Mr[br]=null,sa=Mr[--br],Mr[br]=null}var tr=null,er=null,Xe=!1,rn=null;function LO(e,t){var i=Pr(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function AA(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,er=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Uo!==null?{id:sa,overflow:oa}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Pr(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,tr=e,er=null,!0):!1;default:return!1}}function ky(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $y(e){if(Xe){var t=er;if(t){var i=t;if(!AA(e,t)){if(ky(e))throw Error(z(418));t=Is(i.nextSibling);var r=tr;t&&AA(e,t)?LO(r,i):(e.flags=e.flags&-4097|2,Xe=!1,tr=e)}}else{if(ky(e))throw Error(z(418));e.flags=e.flags&-4097|2,Xe=!1,tr=e}}}function wA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Kc(e){if(e!==tr)return!1;if(!Xe)return wA(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dy(e.type,e.memoizedProps)),t&&(t=er)){if(ky(e))throw FO(),Error(z(418));for(;t;)LO(e,t),t=Is(t.nextSibling)}if(wA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){er=Is(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}er=null}}else er=tr?Is(e.stateNode.nextSibling):null;return!0}function FO(){for(var e=er;e;)e=Is(e.nextSibling)}function Ah(){er=tr=null,Xe=!1}function bS(e){rn===null?rn=[e]:rn.push(e)}var K9=ga.ReactCurrentBatchConfig;function lu(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(z(309));var r=i.stateNode}if(!r)throw Error(z(147,e));var n=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=n.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(z(284));if(!i._owner)throw Error(z(290,e))}return e}function qc(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function MA(e){var t=e._init;return t(e._payload)}function IO(e){function t(g,T){if(e){var S=g.deletions;S===null?(g.deletions=[T],g.flags|=16):S.push(T)}}function i(g,T){if(!e)return null;for(;T!==null;)t(g,T),T=T.sibling;return null}function r(g,T){for(g=new Map;T!==null;)T.key!==null?g.set(T.key,T):g.set(T.index,T),T=T.sibling;return g}function n(g,T){return g=Ns(g,T),g.index=0,g.sibling=null,g}function a(g,T,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<T?(g.flags|=2,T):S):(g.flags|=2,T)):(g.flags|=1048576,T)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,T,S,E){return T===null||T.tag!==6?(T=km(S,g.mode,E),T.return=g,T):(T=n(T,S),T.return=g,T)}function l(g,T,S,E){var _=S.type;return _===th?u(g,T,S.props.children,E,S.key):T!==null&&(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Es&&MA(_)===T.type)?(E=n(T,S.props),E.ref=lu(g,T,S),E.return=g,E):(E=sp(S.type,S.key,S.props,null,g.mode,E),E.ref=lu(g,T,S),E.return=g,E)}function h(g,T,S,E){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=$m(S,g.mode,E),T.return=g,T):(T=n(T,S.children||[]),T.return=g,T)}function u(g,T,S,E,_){return T===null||T.tag!==7?(T=No(S,g.mode,E,_),T.return=g,T):(T=n(T,S),T.return=g,T)}function f(g,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return T=km(""+T,g.mode,S),T.return=g,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:return S=sp(T.type,T.key,T.props,null,g.mode,S),S.ref=lu(g,null,T),S.return=g,S;case eh:return T=$m(T,g.mode,S),T.return=g,T;case Es:var E=T._init;return f(g,E(T._payload),S)}if(cf(T)||ru(T))return T=No(T,g.mode,S,null),T.return=g,T;qc(g,T)}return null}function c(g,T,S,E){var _=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return _!==null?null:o(g,T,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gc:return S.key===_?l(g,T,S,E):null;case eh:return S.key===_?h(g,T,S,E):null;case Es:return _=S._init,c(g,T,_(S._payload),E)}if(cf(S)||ru(S))return _!==null?null:u(g,T,S,E,null);qc(g,S)}return null}function v(g,T,S,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(S)||null,o(T,g,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gc:return g=g.get(E.key===null?S:E.key)||null,l(T,g,E,_);case eh:return g=g.get(E.key===null?S:E.key)||null,h(T,g,E,_);case Es:var w=E._init;return v(g,T,S,w(E._payload),_)}if(cf(E)||ru(E))return g=g.get(S)||null,u(T,g,E,_,null);qc(T,E)}return null}function p(g,T,S,E){for(var _=null,w=null,R=T,F=T=0,k=null;R!==null&&F<S.length;F++){R.index>F?(k=R,R=null):k=R.sibling;var B=c(g,R,S[F],E);if(B===null){R===null&&(R=k);break}e&&R&&B.alternate===null&&t(g,R),T=a(B,T,F),w===null?_=B:w.sibling=B,w=B,R=k}if(F===S.length)return i(g,R),Xe&&Ao(g,F),_;if(R===null){for(;F<S.length;F++)R=f(g,S[F],E),R!==null&&(T=a(R,T,F),w===null?_=R:w.sibling=R,w=R);return Xe&&Ao(g,F),_}for(R=r(g,R);F<S.length;F++)k=v(R,g,F,S[F],E),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?F:k.key),T=a(k,T,F),w===null?_=k:w.sibling=k,w=k);return e&&R.forEach(function(N){return t(g,N)}),Xe&&Ao(g,F),_}function m(g,T,S,E){var _=ru(S);if(typeof _!="function")throw Error(z(150));if(S=_.call(S),S==null)throw Error(z(151));for(var w=_=null,R=T,F=T=0,k=null,B=S.next();R!==null&&!B.done;F++,B=S.next()){R.index>F?(k=R,R=null):k=R.sibling;var N=c(g,R,B.value,E);if(N===null){R===null&&(R=k);break}e&&R&&N.alternate===null&&t(g,R),T=a(N,T,F),w===null?_=N:w.sibling=N,w=N,R=k}if(B.done)return i(g,R),Xe&&Ao(g,F),_;if(R===null){for(;!B.done;F++,B=S.next())B=f(g,B.value,E),B!==null&&(T=a(B,T,F),w===null?_=B:w.sibling=B,w=B);return Xe&&Ao(g,F),_}for(R=r(g,R);!B.done;F++,B=S.next())B=v(R,g,F,B.value,E),B!==null&&(e&&B.alternate!==null&&R.delete(B.key===null?F:B.key),T=a(B,T,F),w===null?_=B:w.sibling=B,w=B);return e&&R.forEach(function(d){return t(g,d)}),Xe&&Ao(g,F),_}function x(g,T,S,E){if(typeof S=="object"&&S!==null&&S.type===th&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Gc:e:{for(var _=S.key,w=T;w!==null;){if(w.key===_){if(_=S.type,_===th){if(w.tag===7){i(g,w.sibling),T=n(w,S.props.children),T.return=g,g=T;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Es&&MA(_)===w.type){i(g,w.sibling),T=n(w,S.props),T.ref=lu(g,w,S),T.return=g,g=T;break e}i(g,w);break}else t(g,w);w=w.sibling}S.type===th?(T=No(S.props.children,g.mode,E,S.key),T.return=g,g=T):(E=sp(S.type,S.key,S.props,null,g.mode,E),E.ref=lu(g,T,S),E.return=g,g=E)}return s(g);case eh:e:{for(w=S.key;T!==null;){if(T.key===w)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){i(g,T.sibling),T=n(T,S.children||[]),T.return=g,g=T;break e}else{i(g,T);break}else t(g,T);T=T.sibling}T=$m(S,g.mode,E),T.return=g,g=T}return s(g);case Es:return w=S._init,x(g,T,w(S._payload),E)}if(cf(S))return p(g,T,S,E);if(ru(S))return m(g,T,S,E);qc(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,T!==null&&T.tag===6?(i(g,T.sibling),T=n(T,S),T.return=g,g=T):(i(g,T),T=km(S,g.mode,E),T.return=g,g=T),s(g)):i(g,T)}return x}var wh=IO(!0),OO=IO(!1),Pp=Ys(null),Rp=null,hh=null,PS=null;function RS(){PS=hh=Rp=null}function LS(e){var t=Pp.current;ze(Pp),e._currentValue=t}function zy(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function xh(e,t){Rp=e,PS=hh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function Fr(e){var t=e._currentValue;if(PS!==e)if(e={context:e,memoizedValue:t,next:null},hh===null){if(Rp===null)throw Error(z(308));hh=e,Rp.dependencies={lanes:0,firstContext:e}}else hh=hh.next=e;return t}var Fo=null;function FS(e){Fo===null?Fo=[e]:Fo.push(e)}function DO(e,t,i,r){var n=t.interleaved;return n===null?(i.next=i,FS(t)):(i.next=n.next,n.next=i),t.interleaved=i,da(e,r)}function da(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _s=!1;function IS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,da(e,i)}return n=r.interleaved,n===null?(t.next=t,FS(r)):(t.next=n.next,n.next=t),r.interleaved=t,da(e,i)}function ep(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,xS(e,i)}}function bA(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,a=null;if(i=i.firstBaseUpdate,i!==null){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};a===null?n=a=s:a=a.next=s,i=i.next}while(i!==null);a===null?n=a=t:a=a.next=t}else n=a=t;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Lp(e,t,i,r){var n=e.updateQueue;_s=!1;var a=n.firstBaseUpdate,s=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,h=l.next;l.next=null,s===null?a=h:s.next=h,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=h:o.next=h,u.lastBaseUpdate=l))}if(a!==null){var f=n.baseState;s=0,u=h=l=null,o=a;do{var c=o.lane,v=o.eventTime;if((r&c)===c){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(c=t,v=i,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(v,f,c);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,c=typeof p=="function"?p.call(v,f,c):p,c==null)break e;f=je({},f,c);break e;case 2:_s=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,c=n.effects,c===null?n.effects=[o]:c.push(o))}else v={eventTime:v,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(h=u=v,l=f):u=u.next=v,s|=c;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;c=o,o=c.next,c.next=null,n.lastBaseUpdate=c,n.shared.pending=null}}while(!0);if(u===null&&(l=f),n.baseState=l,n.firstBaseUpdate=h,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do s|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);Yo|=s,e.lanes=s,e.memoizedState=f}}function PA(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(z(191,n));n.call(r)}}}var hc={},Dn=Ys(hc),Uf=Ys(hc),Wf=Ys(hc);function Io(e){if(e===hc)throw Error(z(174));return e}function OS(e,t){switch(De(Wf,t),De(Uf,e),De(Dn,hc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sy(t,e)}ze(Dn),De(Dn,t)}function Mh(){ze(Dn),ze(Uf),ze(Wf)}function NO(e){Io(Wf.current);var t=Io(Dn.current),i=Sy(t,e.type);t!==i&&(De(Uf,e),De(Dn,i))}function DS(e){Uf.current===e&&(ze(Dn),ze(Uf))}var Ze=Ys(0);function Fp(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Im=[];function BS(){for(var e=0;e<Im.length;e++)Im[e]._workInProgressVersionPrimary=null;Im.length=0}var tp=ga.ReactCurrentDispatcher,Om=ga.ReactCurrentBatchConfig,Wo=0,Qe=null,Ct=null,Nt=null,Ip=!1,wf=!1,Yf=0,q9=0;function Qt(){throw Error(z(321))}function NS(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!on(e[i],t[i]))return!1;return!0}function GS(e,t,i,r,n,a){if(Wo=a,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tp.current=e===null||e.memoizedState===null?j9:ez,e=i(r,n),wf){a=0;do{if(wf=!1,Yf=0,25<=a)throw Error(z(301));a+=1,Nt=Ct=null,t.updateQueue=null,tp.current=tz,e=i(r,n)}while(wf)}if(tp.current=Op,t=Ct!==null&&Ct.next!==null,Wo=0,Nt=Ct=Qe=null,Ip=!1,t)throw Error(z(300));return e}function kS(){var e=Yf!==0;return Yf=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Qe.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Ir(){if(Ct===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Nt===null?Qe.memoizedState:Nt.next;if(t!==null)Nt=t,Ct=e;else{if(e===null)throw Error(z(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Nt===null?Qe.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Hf(e,t){return typeof t=="function"?t(e):t}function Dm(e){var t=Ir(),i=t.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=e;var r=Ct,n=r.baseQueue,a=i.pending;if(a!==null){if(n!==null){var s=n.next;n.next=a.next,a.next=s}r.baseQueue=n=a,i.pending=null}if(n!==null){a=n.next,r=r.baseState;var o=s=null,l=null,h=a;do{var u=h.lane;if((Wo&u)===u)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var f={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Qe.lanes|=u,Yo|=u}h=h.next}while(h!==null&&h!==a);l===null?s=r:l.next=o,on(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,i.lastRenderedState=r}if(e=i.interleaved,e!==null){n=e;do a=n.lane,Qe.lanes|=a,Yo|=a,n=n.next;while(n!==e)}else n===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Bm(e){var t=Ir(),i=t.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=e;var r=i.dispatch,n=i.pending,a=t.memoizedState;if(n!==null){i.pending=null;var s=n=n.next;do a=e(a,s.action),s=s.next;while(s!==n);on(a,t.memoizedState)||(zi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),i.lastRenderedState=a}return[a,r]}function GO(){}function kO(e,t){var i=Qe,r=Ir(),n=t(),a=!on(r.memoizedState,n);if(a&&(r.memoizedState=n,zi=!0),r=r.queue,$S(VO.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||Nt!==null&&Nt.memoizedState.tag&1){if(i.flags|=2048,Xf(9,zO.bind(null,i,r,n,t),void 0,null),Gt===null)throw Error(z(349));Wo&30||$O(i,t,n)}return n}function $O(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function zO(e,t,i,r){t.value=i,t.getSnapshot=r,UO(t)&&WO(e)}function VO(e,t,i){return i(function(){UO(t)&&WO(e)})}function UO(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!on(e,i)}catch{return!0}}function WO(e){var t=da(e,1);t!==null&&sn(t,e,1,-1)}function RA(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:e},t.queue=e,e=e.dispatch=Q9.bind(null,Qe,e),[t.memoizedState,e]}function Xf(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e)),e}function YO(){return Ir().memoizedState}function ip(e,t,i,r){var n=Ln();Qe.flags|=e,n.memoizedState=Xf(1|t,i,void 0,r===void 0?null:r)}function t0(e,t,i,r){var n=Ir();r=r===void 0?null:r;var a=void 0;if(Ct!==null){var s=Ct.memoizedState;if(a=s.destroy,r!==null&&NS(r,s.deps)){n.memoizedState=Xf(t,i,a,r);return}}Qe.flags|=e,n.memoizedState=Xf(1|t,i,a,r)}function LA(e,t){return ip(8390656,8,e,t)}function $S(e,t){return t0(2048,8,e,t)}function HO(e,t){return t0(4,2,e,t)}function XO(e,t){return t0(4,4,e,t)}function KO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qO(e,t,i){return i=i!=null?i.concat([e]):null,t0(4,4,KO.bind(null,t,e),i)}function zS(){}function JO(e,t){var i=Ir();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function ZO(e,t){var i=Ir();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function QO(e,t,i){return Wo&21?(on(i,t)||(i=rO(),Qe.lanes|=i,Yo|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=i)}function J9(e,t){var i=we;we=i!==0&&4>i?i:4,e(!0);var r=Om.transition;Om.transition={};try{e(!1),t()}finally{we=i,Om.transition=r}}function jO(){return Ir().memoizedState}function Z9(e,t,i){var r=Bs(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},eD(e))tD(t,i);else if(i=DO(e,t,i,r),i!==null){var n=Ei();sn(i,e,r,n),iD(i,t,r)}}function Q9(e,t,i){var r=Bs(e),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(eD(e))tD(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,i);if(n.hasEagerState=!0,n.eagerState=o,on(o,s)){var l=t.interleaved;l===null?(n.next=n,FS(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}i=DO(e,t,n,r),i!==null&&(n=Ei(),sn(i,e,r,n),iD(i,t,r))}}function eD(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function tD(e,t){wf=Ip=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function iD(e,t,i){if(i&4194240){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,xS(e,i)}}var Op={readContext:Fr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},j9={readContext:Fr,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:Fr,useEffect:LA,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ip(4194308,4,KO.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ip(4194308,4,e,t)},useInsertionEffect:function(e,t){return ip(4,2,e,t)},useMemo:function(e,t){var i=Ln();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=Ln();return t=i!==void 0?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Z9.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:RA,useDebugValue:zS,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=RA(!1),t=e[0];return e=J9.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=Qe,n=Ln();if(Xe){if(i===void 0)throw Error(z(407));i=i()}else{if(i=t(),Gt===null)throw Error(z(349));Wo&30||$O(r,t,i)}n.memoizedState=i;var a={value:i,getSnapshot:t};return n.queue=a,LA(VO.bind(null,r,a,e),[e]),r.flags|=2048,Xf(9,zO.bind(null,r,a,i,t),void 0,null),i},useId:function(){var e=Ln(),t=Gt.identifierPrefix;if(Xe){var i=oa,r=sa;i=(r&~(1<<32-an(r)-1)).toString(32)+i,t=":"+t+"R"+i,i=Yf++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=q9++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ez={readContext:Fr,useCallback:JO,useContext:Fr,useEffect:$S,useImperativeHandle:qO,useInsertionEffect:HO,useLayoutEffect:XO,useMemo:ZO,useReducer:Dm,useRef:YO,useState:function(){return Dm(Hf)},useDebugValue:zS,useDeferredValue:function(e){var t=Ir();return QO(t,Ct.memoizedState,e)},useTransition:function(){var e=Dm(Hf)[0],t=Ir().memoizedState;return[e,t]},useMutableSource:GO,useSyncExternalStore:kO,useId:jO,unstable_isNewReconciler:!1},tz={readContext:Fr,useCallback:JO,useContext:Fr,useEffect:$S,useImperativeHandle:qO,useInsertionEffect:HO,useLayoutEffect:XO,useMemo:ZO,useReducer:Bm,useRef:YO,useState:function(){return Bm(Hf)},useDebugValue:zS,useDeferredValue:function(e){var t=Ir();return Ct===null?t.memoizedState=e:QO(t,Ct.memoizedState,e)},useTransition:function(){var e=Bm(Hf)[0],t=Ir().memoizedState;return[e,t]},useMutableSource:GO,useSyncExternalStore:kO,useId:jO,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Vy(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:je({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var i0={isMounted:function(e){return(e=e._reactInternals)?qo(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Ei(),n=Bs(e),a=ha(r,n);a.payload=t,i!=null&&(a.callback=i),t=Os(e,a,n),t!==null&&(sn(t,e,n,r),ep(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Ei(),n=Bs(e),a=ha(r,n);a.tag=1,a.payload=t,i!=null&&(a.callback=i),t=Os(e,a,n),t!==null&&(sn(t,e,n,r),ep(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ei(),r=Bs(e),n=ha(i,r);n.tag=2,t!=null&&(n.callback=t),t=Os(e,n,r),t!==null&&(sn(t,e,r,i),ep(t,e,r))}};function FA(e,t,i,r,n,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!kf(i,r)||!kf(n,a):!0}function rD(e,t,i){var r=!1,n=Vs,a=t.contextType;return typeof a=="object"&&a!==null?a=Fr(a):(n=Ui(t)?Vo:ui.current,r=t.contextTypes,a=(r=r!=null)?_h(e,n):Vs),t=new t(i,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=i0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function IA(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&i0.enqueueReplaceState(t,t.state,null)}function Uy(e,t,i,r){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs={},IS(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=Fr(a):(a=Ui(t)?Vo:ui.current,n.context=_h(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Vy(e,t,a,i),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&i0.enqueueReplaceState(n,n.state,null),Lp(e,i,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function bh(e,t){try{var i="",r=t;do i+=P6(r),r=r.return;while(r);var n=i}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function Nm(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Wy(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var iz=typeof WeakMap=="function"?WeakMap:Map;function nD(e,t,i){i=ha(-1,i),i.tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){Bp||(Bp=!0,eT=r),Wy(e,t)},i}function aD(e,t,i){i=ha(-1,i),i.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;i.payload=function(){return r(n)},i.callback=function(){Wy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(i.callback=function(){Wy(e,t),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),i}function OA(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new iz;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(i)||(n.add(i),e=mz.bind(null,e,t,i),t.then(e,e))}function DA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BA(e,t,i,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=ha(-1,1),t.tag=2,Os(i,t,1))),i.lanes|=1),e)}var rz=ga.ReactCurrentOwner,zi=!1;function Ci(e,t,i,r){t.child=e===null?OO(t,null,i,r):wh(t,e.child,i,r)}function NA(e,t,i,r,n){i=i.render;var a=t.ref;return xh(t,n),r=GS(e,t,i,r,a,n),i=kS(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,va(e,t,n)):(Xe&&i&&wS(t),t.flags|=1,Ci(e,t,r,n),t.child)}function GA(e,t,i,r,n){if(e===null){var a=i.type;return typeof a=="function"&&!qS(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=a,sD(e,t,a,r,n)):(e=sp(i.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var s=a.memoizedProps;if(i=i.compare,i=i!==null?i:kf,i(s,r)&&e.ref===t.ref)return va(e,t,n)}return t.flags|=1,e=Ns(a,r),e.ref=t.ref,e.return=t,t.child=e}function sD(e,t,i,r,n){if(e!==null){var a=e.memoizedProps;if(kf(a,r)&&e.ref===t.ref)if(zi=!1,t.pendingProps=r=a,(e.lanes&n)!==0)e.flags&131072&&(zi=!0);else return t.lanes=e.lanes,va(e,t,n)}return Yy(e,t,i,r,n)}function oD(e,t,i){var r=t.pendingProps,n=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(fh,ji),ji|=i;else{if(!(i&1073741824))return e=a!==null?a.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(fh,ji),ji|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:i,De(fh,ji),ji|=r}else a!==null?(r=a.baseLanes|i,t.memoizedState=null):r=i,De(fh,ji),ji|=r;return Ci(e,t,n,i),t.child}function lD(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Yy(e,t,i,r,n){var a=Ui(i)?Vo:ui.current;return a=_h(t,a),xh(t,n),i=GS(e,t,i,r,a,n),r=kS(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,va(e,t,n)):(Xe&&r&&wS(t),t.flags|=1,Ci(e,t,i,n),t.child)}function kA(e,t,i,r,n){if(Ui(i)){var a=!0;wp(t)}else a=!1;if(xh(t,n),t.stateNode===null)rp(e,t),rD(t,i,r),Uy(t,i,r,n),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,h=i.contextType;typeof h=="object"&&h!==null?h=Fr(h):(h=Ui(i)?Vo:ui.current,h=_h(t,h));var u=i.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==h)&&IA(t,s,r,h),_s=!1;var c=t.memoizedState;s.state=c,Lp(t,r,s,n),l=t.memoizedState,o!==r||c!==l||Vi.current||_s?(typeof u=="function"&&(Vy(t,i,u,r),l=t.memoizedState),(o=_s||FA(t,i,o,r,c,l,h))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=h,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,BO(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:en(t.type,o),s.props=h,f=t.pendingProps,c=s.context,l=i.contextType,typeof l=="object"&&l!==null?l=Fr(l):(l=Ui(i)?Vo:ui.current,l=_h(t,l));var v=i.getDerivedStateFromProps;(u=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||c!==l)&&IA(t,s,r,l),_s=!1,c=t.memoizedState,s.state=c,Lp(t,r,s,n);var p=t.memoizedState;o!==f||c!==p||Vi.current||_s?(typeof v=="function"&&(Vy(t,i,v,r),p=t.memoizedState),(h=_s||FA(t,i,h,r,c,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Hy(e,t,i,r,a,n)}function Hy(e,t,i,r,n,a){lD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return n&&_A(t,i,!1),va(e,t,a);r=t.stateNode,rz.current=t;var o=s&&typeof i.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=wh(t,e.child,null,a),t.child=wh(t,null,o,a)):Ci(e,t,o,a),t.memoizedState=r.state,n&&_A(t,i,!0),t.child}function hD(e){var t=e.stateNode;t.pendingContext?EA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EA(e,t.context,!1),OS(e,t.containerInfo)}function $A(e,t,i,r,n){return Ah(),bS(n),t.flags|=256,Ci(e,t,i,r),t.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Ky(e){return{baseLanes:e,cachePool:null,transitions:null}}function uD(e,t,i){var r=t.pendingProps,n=Ze.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),De(Ze,n&1),e===null)return $y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=a0(s,r,0,null),e=No(e,r,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ky(i),t.memoizedState=Xy,e):VS(t,s));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return nz(e,t,s,r,o,n,i);if(a){a=r.fallback,s=t.mode,n=e.child,o=n.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ns(n,l),r.subtreeFlags=n.subtreeFlags&14680064),o!==null?a=Ns(o,a):(a=No(a,s,i,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Ky(i):{baseLanes:s.baseLanes|i,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~i,t.memoizedState=Xy,r}return a=e.child,e=a.sibling,r=Ns(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=i),r.return=t,r.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function VS(e,t){return t=a0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jc(e,t,i,r){return r!==null&&bS(r),wh(t,e.child,null,i),e=VS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nz(e,t,i,r,n,a,s){if(i)return t.flags&256?(t.flags&=-257,r=Nm(Error(z(422))),Jc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,n=t.mode,r=a0({mode:"visible",children:r.children},n,0,null),a=No(a,n,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&wh(t,e.child,null,s),t.child.memoizedState=Ky(s),t.memoizedState=Xy,a);if(!(t.mode&1))return Jc(e,t,s,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(z(419)),r=Nm(a,r,void 0),Jc(e,t,s,r)}if(o=(s&e.childLanes)!==0,zi||o){if(r=Gt,r!==null){switch(s&-s){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|s)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,da(e,n),sn(r,e,n,-1))}return KS(),r=Nm(Error(z(421))),Jc(e,t,s,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=gz.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,er=Is(n.nextSibling),tr=t,Xe=!0,rn=null,e!==null&&(Mr[br++]=sa,Mr[br++]=oa,Mr[br++]=Uo,sa=e.id,oa=e.overflow,Uo=t),t=VS(t,r.children),t.flags|=4096,t)}function zA(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zy(e.return,t,i)}function Gm(e,t,i,r,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=i,a.tailMode=n)}function fD(e,t,i){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(Ci(e,t,r.children,i),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zA(e,i,t);else if(e.tag===19)zA(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;i!==null;)e=i.alternate,e!==null&&Fp(e)===null&&(n=i),i=i.sibling;i=n,i===null?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Gm(t,!1,n,i,a);break;case"backwards":for(i=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Fp(e)===null){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Gm(t,!0,i,null,a);break;case"together":Gm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function va(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,i=Ns(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ns(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function az(e,t,i){switch(t.tag){case 3:hD(t),Ah();break;case 5:NO(t);break;case 1:Ui(t.type)&&wp(t);break;case 4:OS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;De(Pp,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ze,Ze.current&1),t.flags|=128,null):i&t.child.childLanes?uD(e,t,i):(De(Ze,Ze.current&1),e=va(e,t,i),e!==null?e.sibling:null);De(Ze,Ze.current&1);break;case 19:if(r=(i&t.childLanes)!==0,e.flags&128){if(r)return fD(e,t,i);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),De(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,oD(e,t,i)}return va(e,t,i)}var cD,qy,dD,vD;cD=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};qy=function(){};dD=function(e,t,i,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Io(Dn.current);var a=null;switch(i){case"input":n=gy(e,n),r=gy(e,r),a=[];break;case"select":n=je({},n,{value:void 0}),r=je({},r,{value:void 0}),a=[];break;case"textarea":n=Ty(e,n),r=Ty(e,r),a=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_p)}Cy(i,r);var s;i=null;for(h in n)if(!r.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var o=n[h];for(s in o)o.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ff.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var l=r[h];if(o=n!=null?n[h]:void 0,r.hasOwnProperty(h)&&l!==o&&(l!=null||o!=null))if(h==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(i||(i={}),i[s]=l[s])}else i||(a||(a=[]),a.push(h,i)),i=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&ke("scroll",e),a||o===l||(a=[])):(a=a||[]).push(h,l))}i&&(a=a||[]).push("style",i);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};vD=function(e,t,i,r){i!==r&&(t.flags|=4)};function hu(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var n=e.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function sz(e,t,i){var r=t.pendingProps;switch(MS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Ui(t.type)&&Ap(),jt(t),null;case 3:return r=t.stateNode,Mh(),ze(Vi),ze(ui),BS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(rT(rn),rn=null))),qy(e,t),jt(t),null;case 5:DS(t);var n=Io(Wf.current);if(i=t.type,e!==null&&t.stateNode!=null)dD(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return jt(t),null}if(e=Io(Dn.current),Kc(t)){r=t.stateNode,i=t.type;var a=t.memoizedProps;switch(r[In]=t,r[Vf]=a,e=(t.mode&1)!==0,i){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(n=0;n<vf.length;n++)ke(vf[n],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":J_(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":Q_(r,a),ke("invalid",r)}Cy(i,a),n=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Xc(r.textContent,o,e),n=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Xc(r.textContent,o,e),n=["children",""+o]):Ff.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ke("scroll",r)}switch(i){case"input":kc(r),Z_(r,a,!0);break;case"textarea":kc(r),j_(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=_p)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VI(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(i,{is:r.is}):(e=s.createElement(i),i==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,i),e[In]=t,e[Vf]=r,cD(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ey(i,r),i){case"dialog":ke("cancel",e),ke("close",e),n=r;break;case"iframe":case"object":case"embed":ke("load",e),n=r;break;case"video":case"audio":for(n=0;n<vf.length;n++)ke(vf[n],e);n=r;break;case"source":ke("error",e),n=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),n=r;break;case"details":ke("toggle",e),n=r;break;case"input":J_(e,r),n=gy(e,r),ke("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=je({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Q_(e,r),n=Ty(e,r),ke("invalid",e);break;default:n=r}Cy(i,n),o=n;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?YI(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UI(e,l)):a==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&If(e,l):typeof l=="number"&&If(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ff.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ke("scroll",e):l!=null&&cS(e,a,l,s))}switch(i){case"input":kc(e),Z_(e,r,!1);break;case"textarea":kc(e),j_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?vh(e,!!r.multiple,a,!1):r.defaultValue!=null&&vh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=_p)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)vD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(i=Io(Wf.current),Io(Dn.current),Kc(t)){if(r=t.stateNode,i=t.memoizedProps,r[In]=t,(a=r.nodeValue!==i)&&(e=tr,e!==null))switch(e.tag){case 3:Xc(r.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xc(r.nodeValue,i,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return jt(t),null;case 13:if(ze(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&er!==null&&t.mode&1&&!(t.flags&128))FO(),Ah(),t.flags|=98560,a=!1;else if(a=Kc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[In]=t}else Ah(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),a=!1}else rn!==null&&(rT(rn),rn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?Et===0&&(Et=3):KS())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Mh(),qy(e,t),e===null&&$f(t.stateNode.containerInfo),jt(t),null;case 10:return LS(t.type._context),jt(t),null;case 17:return Ui(t.type)&&Ap(),jt(t),null;case 19:if(ze(Ze),a=t.memoizedState,a===null)return jt(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)hu(a,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Fp(e),s!==null){for(t.flags|=128,hu(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;i!==null;)a=i,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return De(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&lt()>Ph&&(t.flags|=128,r=!0,hu(a,!1),t.lanes=4194304)}else{if(!r)if(e=Fp(s),e!==null){if(t.flags|=128,r=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),hu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Xe)return jt(t),null}else 2*lt()-a.renderingStartTime>Ph&&i!==1073741824&&(t.flags|=128,r=!0,hu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(i=a.last,i!==null?i.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=lt(),t.sibling=null,i=Ze.current,De(Ze,r?i&1|2:i&1),t):(jt(t),null);case 22:case 23:return XS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ji&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function oz(e,t){switch(MS(t),t.tag){case 1:return Ui(t.type)&&Ap(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mh(),ze(Vi),ze(ui),BS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return DS(t),null;case 13:if(ze(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Ah()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ze),null;case 4:return Mh(),null;case 10:return LS(t.type._context),null;case 22:case 23:return XS(),null;case 24:return null;default:return null}}var Zc=!1,hi=!1,lz=typeof WeakSet=="function"?WeakSet:Set,Z=null;function uh(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){nt(e,t,r)}else i.current=null}function Jy(e,t,i){try{i()}catch(r){nt(e,t,r)}}var VA=!1;function hz(e,t){if(Iy=Sp,e=yO(),AS(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var n=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{i.nodeType,a.nodeType}catch{i=null;break e}var s=0,o=-1,l=-1,h=0,u=0,f=e,c=null;t:for(;;){for(var v;f!==i||n!==0&&f.nodeType!==3||(o=s+n),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(v=f.firstChild)!==null;)c=f,f=v;for(;;){if(f===e)break t;if(c===i&&++h===n&&(o=s),c===a&&++u===r&&(l=s),(v=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=v}i=o===-1||l===-1?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(Oy={focusedElem:e,selectionRange:i},Sp=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,g=t.stateNode,T=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:en(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){nt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return p=VA,VA=!1,p}function Mf(e,t,i){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&Jy(t,i,a)}n=n.next}while(n!==r)}}function r0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function Zy(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function pD(e){var t=e.alternate;t!==null&&(e.alternate=null,pD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[Vf],delete t[Ny],delete t[Y9],delete t[H9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mD(e){return e.tag===5||e.tag===3||e.tag===4}function UA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qy(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_p));else if(r!==4&&(e=e.child,e!==null))for(Qy(e,t,i),e=e.sibling;e!==null;)Qy(e,t,i),e=e.sibling}function jy(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jy(e,t,i),e=e.sibling;e!==null;)jy(e,t,i),e=e.sibling}var Ht=null,tn=!1;function ka(e,t,i){for(i=i.child;i!==null;)gD(e,t,i),i=i.sibling}function gD(e,t,i){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(qp,i)}catch{}switch(i.tag){case 5:hi||uh(i,t);case 6:var r=Ht,n=tn;Ht=null,ka(e,t,i),Ht=r,tn=n,Ht!==null&&(tn?(e=Ht,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ht.removeChild(i.stateNode));break;case 18:Ht!==null&&(tn?(e=Ht,i=i.stateNode,e.nodeType===8?Lm(e.parentNode,i):e.nodeType===1&&Lm(e,i),Nf(e)):Lm(Ht,i.stateNode));break;case 4:r=Ht,n=tn,Ht=i.stateNode.containerInfo,tn=!0,ka(e,t,i),Ht=r,tn=n;break;case 0:case 11:case 14:case 15:if(!hi&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var a=n,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Jy(i,t,s),n=n.next}while(n!==r)}ka(e,t,i);break;case 1:if(!hi&&(uh(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(o){nt(i,t,o)}ka(e,t,i);break;case 21:ka(e,t,i);break;case 22:i.mode&1?(hi=(r=hi)||i.memoizedState!==null,ka(e,t,i),hi=r):ka(e,t,i);break;default:ka(e,t,i)}}function WA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new lz),t.forEach(function(r){var n=xz.bind(null,e,r);i.has(r)||(i.add(r),r.then(n,n))})}}function Gr(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,tn=!1;break e;case 3:Ht=o.stateNode.containerInfo,tn=!0;break e;case 4:Ht=o.stateNode.containerInfo,tn=!0;break e}o=o.return}if(Ht===null)throw Error(z(160));gD(a,s,n),Ht=null,tn=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(h){nt(n,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xD(t,e),t=t.sibling}function xD(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gr(t,e),cn(e),r&4){try{Mf(3,e,e.return),r0(3,e)}catch(m){nt(e,e.return,m)}try{Mf(5,e,e.return)}catch(m){nt(e,e.return,m)}}break;case 1:Gr(t,e),cn(e),r&512&&i!==null&&uh(i,i.return);break;case 5:if(Gr(t,e),cn(e),r&512&&i!==null&&uh(i,i.return),e.flags&32){var n=e.stateNode;try{If(n,"")}catch(m){nt(e,e.return,m)}}if(r&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,s=i!==null?i.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&$I(n,a),Ey(o,s);var h=Ey(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?YI(n,f):u==="dangerouslySetInnerHTML"?UI(n,f):u==="children"?If(n,f):cS(n,u,f,h)}switch(o){case"input":xy(n,a);break;case"textarea":zI(n,a);break;case"select":var c=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?vh(n,!!a.multiple,v,!1):c!==!!a.multiple&&(a.defaultValue!=null?vh(n,!!a.multiple,a.defaultValue,!0):vh(n,!!a.multiple,a.multiple?[]:"",!1))}n[Vf]=a}catch(m){nt(e,e.return,m)}}break;case 6:if(Gr(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(z(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(m){nt(e,e.return,m)}}break;case 3:if(Gr(t,e),cn(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Nf(t.containerInfo)}catch(m){nt(e,e.return,m)}break;case 4:Gr(t,e),cn(e);break;case 13:Gr(t,e),cn(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(YS=lt())),r&4&&WA(e);break;case 22:if(u=i!==null&&i.memoizedState!==null,e.mode&1?(hi=(h=hi)||u,Gr(t,e),hi=h):Gr(t,e),cn(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(f=Z=u;Z!==null;){switch(c=Z,v=c.child,c.tag){case 0:case 11:case 14:case 15:Mf(4,c,c.return);break;case 1:uh(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,i=c.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){nt(r,i,m)}}break;case 5:uh(c,c.return);break;case 22:if(c.memoizedState!==null){HA(f);continue}}v!==null?(v.return=c,Z=v):HA(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{n=f.stateNode,h?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=WI("display",s))}catch(m){nt(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(m){nt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gr(t,e),cn(e),r&4&&WA(e);break;case 21:break;default:Gr(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(mD(i)){var r=i;break e}i=i.return}throw Error(z(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(If(n,""),r.flags&=-33);var a=UA(e);jy(e,a,n);break;case 3:case 4:var s=r.stateNode.containerInfo,o=UA(e);Qy(e,o,s);break;default:throw Error(z(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uz(e,t,i){Z=e,yD(e)}function yD(e,t,i){for(var r=(e.mode&1)!==0;Z!==null;){var n=Z,a=n.child;if(n.tag===22&&r){var s=n.memoizedState!==null||Zc;if(!s){var o=n.alternate,l=o!==null&&o.memoizedState!==null||hi;o=Zc;var h=hi;if(Zc=s,(hi=l)&&!h)for(Z=n;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?XA(n):l!==null?(l.return=s,Z=l):XA(n);for(;a!==null;)Z=a,yD(a),a=a.sibling;Z=n,Zc=o,hi=h}YA(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,Z=a):YA(e)}}function YA(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hi||r0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hi)if(i===null)r.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:en(t.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&PA(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}PA(t,s,i)}break;case 5:var o=t.stateNode;if(i===null&&t.flags&4){i=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var u=h.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Nf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}hi||t.flags&512&&Zy(t)}catch(c){nt(t,t.return,c)}}if(t===e){Z=null;break}if(i=t.sibling,i!==null){i.return=t.return,Z=i;break}Z=t.return}}function HA(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Z=i;break}Z=t.return}}function XA(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{r0(4,t)}catch(l){nt(t,i,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(l){nt(t,n,l)}}var a=t.return;try{Zy(t)}catch(l){nt(t,a,l)}break;case 5:var s=t.return;try{Zy(t)}catch(l){nt(t,s,l)}}}catch(l){nt(t,t.return,l)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var fz=Math.ceil,Dp=ga.ReactCurrentDispatcher,US=ga.ReactCurrentOwner,Rr=ga.ReactCurrentBatchConfig,ye=0,Gt=null,vt=null,Kt=0,ji=0,fh=Ys(0),Et=0,Kf=null,Yo=0,n0=0,WS=0,bf=null,$i=null,YS=0,Ph=1/0,ra=null,Bp=!1,eT=null,Ds=null,Qc=!1,Ps=null,Np=0,Pf=0,tT=null,np=-1,ap=0;function Ei(){return ye&6?lt():np!==-1?np:np=lt()}function Bs(e){return e.mode&1?ye&2&&Kt!==0?Kt&-Kt:K9.transition!==null?(ap===0&&(ap=rO()),ap):(e=we,e!==0||(e=window.event,e=e===void 0?16:uO(e.type)),e):1}function sn(e,t,i,r){if(50<Pf)throw Pf=0,tT=null,Error(z(185));sc(e,i,r),(!(ye&2)||e!==Gt)&&(e===Gt&&(!(ye&2)&&(n0|=i),Et===4&&ws(e,Kt)),Wi(e,r),i===1&&ye===0&&!(t.mode&1)&&(Ph=lt()+500,e0&&Hs()))}function Wi(e,t){var i=e.callbackNode;K6(e,t);var r=Tp(e,e===Gt?Kt:0);if(r===0)i!==null&&iA(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(i!=null&&iA(i),t===1)e.tag===0?X9(KA.bind(null,e)):PO(KA.bind(null,e)),U9(function(){!(ye&6)&&Hs()}),i=null;else{switch(nO(r)){case 1:i=gS;break;case 4:i=tO;break;case 16:i=yp;break;case 536870912:i=iO;break;default:i=yp}i=MD(i,TD.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function TD(e,t){if(np=-1,ap=0,ye&6)throw Error(z(327));var i=e.callbackNode;if(yh()&&e.callbackNode!==i)return null;var r=Tp(e,e===Gt?Kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gp(e,r);else{t=r;var n=ye;ye|=2;var a=CD();(Gt!==e||Kt!==t)&&(ra=null,Ph=lt()+500,Bo(e,t));do try{vz();break}catch(o){SD(e,o)}while(!0);RS(),Dp.current=a,ye=n,vt!==null?t=0:(Gt=null,Kt=0,t=Et)}if(t!==0){if(t===2&&(n=by(e),n!==0&&(r=n,t=iT(e,n))),t===1)throw i=Kf,Bo(e,0),ws(e,r),Wi(e,lt()),i;if(t===6)ws(e,r);else{if(n=e.current.alternate,!(r&30)&&!cz(n)&&(t=Gp(e,r),t===2&&(a=by(e),a!==0&&(r=a,t=iT(e,a))),t===1))throw i=Kf,Bo(e,0),ws(e,r),Wi(e,lt()),i;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:wo(e,$i,ra);break;case 3:if(ws(e,r),(r&130023424)===r&&(t=YS+500-lt(),10<t)){if(Tp(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){Ei(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=By(wo.bind(null,e,$i,ra),t);break}wo(e,$i,ra);break;case 4:if(ws(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var s=31-an(r);a=1<<s,s=t[s],s>n&&(n=s),r&=~a}if(r=n,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fz(r/1960))-r,10<r){e.timeoutHandle=By(wo.bind(null,e,$i,ra),r);break}wo(e,$i,ra);break;case 5:wo(e,$i,ra);break;default:throw Error(z(329))}}}return Wi(e,lt()),e.callbackNode===i?TD.bind(null,e):null}function iT(e,t){var i=bf;return e.current.memoizedState.isDehydrated&&(Bo(e,t).flags|=256),e=Gp(e,t),e!==2&&(t=$i,$i=i,t!==null&&rT(t)),e}function rT(e){$i===null?$i=e:$i.push.apply($i,e)}function cz(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var n=i[r],a=n.getSnapshot;n=n.value;try{if(!on(a(),n))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t){for(t&=~WS,t&=~n0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-an(t),r=1<<i;e[i]=-1,t&=~r}}function KA(e){if(ye&6)throw Error(z(327));yh();var t=Tp(e,0);if(!(t&1))return Wi(e,lt()),null;var i=Gp(e,t);if(e.tag!==0&&i===2){var r=by(e);r!==0&&(t=r,i=iT(e,r))}if(i===1)throw i=Kf,Bo(e,0),ws(e,t),Wi(e,lt()),i;if(i===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wo(e,$i,ra),Wi(e,lt()),null}function HS(e,t){var i=ye;ye|=1;try{return e(t)}finally{ye=i,ye===0&&(Ph=lt()+500,e0&&Hs())}}function Ho(e){Ps!==null&&Ps.tag===0&&!(ye&6)&&yh();var t=ye;ye|=1;var i=Rr.transition,r=we;try{if(Rr.transition=null,we=1,e)return e()}finally{we=r,Rr.transition=i,ye=t,!(ye&6)&&Hs()}}function XS(){ji=fh.current,ze(fh)}function Bo(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,V9(i)),vt!==null)for(i=vt.return;i!==null;){var r=i;switch(MS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ap();break;case 3:Mh(),ze(Vi),ze(ui),BS();break;case 5:DS(r);break;case 4:Mh();break;case 13:ze(Ze);break;case 19:ze(Ze);break;case 10:LS(r.type._context);break;case 22:case 23:XS()}i=i.return}if(Gt=e,vt=e=Ns(e.current,null),Kt=ji=t,Et=0,Kf=null,WS=n0=Yo=0,$i=bf=null,Fo!==null){for(t=0;t<Fo.length;t++)if(i=Fo[t],r=i.interleaved,r!==null){i.interleaved=null;var n=r.next,a=i.pending;if(a!==null){var s=a.next;a.next=n,r.next=s}i.pending=r}Fo=null}return e}function SD(e,t){do{var i=vt;try{if(RS(),tp.current=Op,Ip){for(var r=Qe.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Ip=!1}if(Wo=0,Nt=Ct=Qe=null,wf=!1,Yf=0,US.current=null,i===null||i.return===null){Et=1,Kf=t,vt=null;break}e:{var a=e,s=i.return,o=i,l=t;if(t=Kt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=DA(s);if(v!==null){v.flags&=-257,BA(v,s,o,a,t),v.mode&1&&OA(a,h,t),t=v,l=h;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){OA(a,h,t),KS();break e}l=Error(z(426))}}else if(Xe&&o.mode&1){var x=DA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),BA(x,s,o,a,t),bS(bh(l,o));break e}}a=l=bh(l,o),Et!==4&&(Et=2),bf===null?bf=[a]:bf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=nD(a,l,t);bA(a,g);break e;case 1:o=l;var T=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ds===null||!Ds.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=aD(a,o,t);bA(a,E);break e}}a=a.return}while(a!==null)}_D(i)}catch(_){t=_,vt===i&&i!==null&&(vt=i=i.return);continue}break}while(!0)}function CD(){var e=Dp.current;return Dp.current=Op,e===null?Op:e}function KS(){(Et===0||Et===3||Et===2)&&(Et=4),Gt===null||!(Yo&268435455)&&!(n0&268435455)||ws(Gt,Kt)}function Gp(e,t){var i=ye;ye|=2;var r=CD();(Gt!==e||Kt!==t)&&(ra=null,Bo(e,t));do try{dz();break}catch(n){SD(e,n)}while(!0);if(RS(),ye=i,Dp.current=r,vt!==null)throw Error(z(261));return Gt=null,Kt=0,Et}function dz(){for(;vt!==null;)ED(vt)}function vz(){for(;vt!==null&&!k6();)ED(vt)}function ED(e){var t=wD(e.alternate,e,ji);e.memoizedProps=e.pendingProps,t===null?_D(e):vt=t,US.current=null}function _D(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=oz(i,t),i!==null){i.flags&=32767,vt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,vt=null;return}}else if(i=sz(i,t,ji),i!==null){vt=i;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);Et===0&&(Et=5)}function wo(e,t,i){var r=we,n=Rr.transition;try{Rr.transition=null,we=1,pz(e,t,i,r)}finally{Rr.transition=n,we=r}return null}function pz(e,t,i,r){do yh();while(Ps!==null);if(ye&6)throw Error(z(327));i=e.finishedWork;var n=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(q6(e,a),e===Gt&&(vt=Gt=null,Kt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Qc||(Qc=!0,MD(yp,function(){return yh(),null})),a=(i.flags&15990)!==0,i.subtreeFlags&15990||a){a=Rr.transition,Rr.transition=null;var s=we;we=1;var o=ye;ye|=4,US.current=null,hz(e,i),xD(i,e),D9(Oy),Sp=!!Iy,Oy=Iy=null,e.current=i,uz(i),$6(),ye=o,we=s,Rr.transition=a}else e.current=i;if(Qc&&(Qc=!1,Ps=e,Np=n),a=e.pendingLanes,a===0&&(Ds=null),U6(i.stateNode),Wi(e,lt()),t!==null)for(r=e.onRecoverableError,i=0;i<t.length;i++)n=t[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(Bp)throw Bp=!1,e=eT,eT=null,e;return Np&1&&e.tag!==0&&yh(),a=e.pendingLanes,a&1?e===tT?Pf++:(Pf=0,tT=e):Pf=0,Hs(),null}function yh(){if(Ps!==null){var e=nO(Np),t=Rr.transition,i=we;try{if(Rr.transition=null,we=16>e?16:e,Ps===null)var r=!1;else{if(e=Ps,Ps=null,Np=0,ye&6)throw Error(z(331));var n=ye;for(ye|=4,Z=e.current;Z!==null;){var a=Z,s=a.child;if(Z.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var h=o[l];for(Z=h;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Mf(8,u,a)}var f=u.child;if(f!==null)f.return=u,Z=f;else for(;Z!==null;){u=Z;var c=u.sibling,v=u.return;if(pD(u),u===h){Z=null;break}if(c!==null){c.return=v,Z=c;break}Z=v}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Z=s;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mf(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Z=g;break e}Z=a.return}}var T=e.current;for(Z=T;Z!==null;){s=Z;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Z=S;else e:for(s=T;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:r0(9,o)}}catch(_){nt(o,o.return,_)}if(o===s){Z=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Z=E;break e}Z=o.return}}if(ye=n,Hs(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(qp,e)}catch{}r=!0}return r}finally{we=i,Rr.transition=t}}return!1}function qA(e,t,i){t=bh(i,t),t=nD(e,t,1),e=Os(e,t,1),t=Ei(),e!==null&&(sc(e,1,t),Wi(e,t))}function nt(e,t,i){if(e.tag===3)qA(e,e,i);else for(;t!==null;){if(t.tag===3){qA(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){e=bh(i,e),e=aD(t,e,1),t=Os(t,e,1),e=Ei(),t!==null&&(sc(t,1,e),Wi(t,e));break}}t=t.return}}function mz(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),t=Ei(),e.pingedLanes|=e.suspendedLanes&i,Gt===e&&(Kt&i)===i&&(Et===4||Et===3&&(Kt&130023424)===Kt&&500>lt()-YS?Bo(e,0):WS|=i),Wi(e,t)}function AD(e,t){t===0&&(e.mode&1?(t=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):t=1);var i=Ei();e=da(e,t),e!==null&&(sc(e,t,i),Wi(e,i))}function gz(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),AD(e,i)}function xz(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(i=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),AD(e,i)}var wD;wD=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vi.current)zi=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return zi=!1,az(e,t,i);zi=!!(e.flags&131072)}else zi=!1,Xe&&t.flags&1048576&&RO(t,bp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rp(e,t),e=t.pendingProps;var n=_h(t,ui.current);xh(t,i),n=GS(null,t,r,e,n,i);var a=kS();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(r)?(a=!0,wp(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,IS(t),n.updater=i0,t.stateNode=n,n._reactInternals=t,Uy(t,r,e,i),t=Hy(null,t,r,!0,a,i)):(t.tag=0,Xe&&a&&wS(t),Ci(null,t,n,i),t=t.child),t;case 16:r=t.elementType;e:{switch(rp(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=Tz(r),e=en(r,e),n){case 0:t=Yy(null,t,r,e,i);break e;case 1:t=kA(null,t,r,e,i);break e;case 11:t=NA(null,t,r,e,i);break e;case 14:t=GA(null,t,r,en(r.type,e),i);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:en(r,n),Yy(e,t,r,n,i);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:en(r,n),kA(e,t,r,n,i);case 3:e:{if(hD(t),e===null)throw Error(z(387));r=t.pendingProps,a=t.memoizedState,n=a.element,BO(e,t),Lp(t,r,null,i);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=bh(Error(z(423)),t),t=$A(e,t,r,i,n);break e}else if(r!==n){n=bh(Error(z(424)),t),t=$A(e,t,r,i,n);break e}else for(er=Is(t.stateNode.containerInfo.firstChild),tr=t,Xe=!0,rn=null,i=OO(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ah(),r===n){t=va(e,t,i);break e}Ci(e,t,r,i)}t=t.child}return t;case 5:return NO(t),e===null&&$y(t),r=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,s=n.children,Dy(r,n)?s=null:a!==null&&Dy(r,a)&&(t.flags|=32),lD(e,t),Ci(e,t,s,i),t.child;case 6:return e===null&&$y(t),null;case 13:return uD(e,t,i);case 4:return OS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wh(t,null,r,i):Ci(e,t,r,i),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:en(r,n),NA(e,t,r,n,i);case 7:return Ci(e,t,t.pendingProps,i),t.child;case 8:return Ci(e,t,t.pendingProps.children,i),t.child;case 12:return Ci(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,a=t.memoizedProps,s=n.value,De(Pp,r._currentValue),r._currentValue=s,a!==null)if(on(a.value,s)){if(a.children===n.children&&!Vi.current){t=va(e,t,i);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ha(-1,i&-i),l.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var u=h.pending;u===null?l.next=l:(l.next=u.next,u.next=l),h.pending=l}}a.lanes|=i,l=a.alternate,l!==null&&(l.lanes|=i),zy(a.return,i,t),o.lanes|=i;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=i,o=s.alternate,o!==null&&(o.lanes|=i),zy(s,i,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ci(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,xh(t,i),n=Fr(n),r=r(n),t.flags|=1,Ci(e,t,r,i),t.child;case 14:return r=t.type,n=en(r,t.pendingProps),n=en(r.type,n),GA(e,t,r,n,i);case 15:return sD(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:en(r,n),rp(e,t),t.tag=1,Ui(r)?(e=!0,wp(t)):e=!1,xh(t,i),rD(t,r,n),Uy(t,r,n,i),Hy(null,t,r,!0,e,i);case 19:return fD(e,t,i);case 22:return oD(e,t,i)}throw Error(z(156,t.tag))};function MD(e,t){return eO(e,t)}function yz(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,i,r){return new yz(e,t,i,r)}function qS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tz(e){if(typeof e=="function")return qS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vS)return 11;if(e===pS)return 14}return 2}function Ns(e,t){var i=e.alternate;return i===null?(i=Pr(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function sp(e,t,i,r,n,a){var s=2;if(r=e,typeof e=="function")qS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case th:return No(i.children,n,a,t);case dS:s=8,n|=8;break;case dy:return e=Pr(12,i,t,n|2),e.elementType=dy,e.lanes=a,e;case vy:return e=Pr(13,i,t,n),e.elementType=vy,e.lanes=a,e;case py:return e=Pr(19,i,t,n),e.elementType=py,e.lanes=a,e;case NI:return a0(i,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DI:s=10;break e;case BI:s=9;break e;case vS:s=11;break e;case pS:s=14;break e;case Es:s=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Pr(s,i,t,n),t.elementType=e,t.type=r,t.lanes=a,t}function No(e,t,i,r){return e=Pr(7,e,r,t),e.lanes=i,e}function a0(e,t,i,r){return e=Pr(22,e,r,t),e.elementType=NI,e.lanes=i,e.stateNode={isHidden:!1},e}function km(e,t,i){return e=Pr(6,e,null,t),e.lanes=i,e}function $m(e,t,i){return t=Pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sz(e,t,i,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function JS(e,t,i,r,n,a,s,o,l){return e=new Sz(e,t,i,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},IS(a),e}function Cz(e,t,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:i}}function bD(e){if(!e)return Vs;e=e._reactInternals;e:{if(qo(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var i=e.type;if(Ui(i))return bO(e,i,t)}return t}function PD(e,t,i,r,n,a,s,o,l){return e=JS(i,r,!0,e,n,a,s,o,l),e.context=bD(null),i=e.current,r=Ei(),n=Bs(i),a=ha(r,n),a.callback=t??null,Os(i,a,n),e.current.lanes=n,sc(e,n,r),Wi(e,r),e}function s0(e,t,i,r){var n=t.current,a=Ei(),s=Bs(n);return i=bD(i),t.context===null?t.context=i:t.pendingContext=i,t=ha(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Os(n,t,s),e!==null&&(sn(e,n,s,a),ep(e,n,s)),s}function kp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ZS(e,t){JA(e,t),(e=e.alternate)&&JA(e,t)}function Ez(){return null}var RD=typeof reportError=="function"?reportError:function(e){console.error(e)};function QS(e){this._internalRoot=e}o0.prototype.render=QS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));s0(e,t,null,null)};o0.prototype.unmount=QS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){s0(null,e,null,null)}),t[ca]=null}};function o0(e){this._internalRoot=e}o0.prototype.unstable_scheduleHydration=function(e){if(e){var t=oO();e={blockedOn:null,target:e,priority:t};for(var i=0;i<As.length&&t!==0&&t<As[i].priority;i++);As.splice(i,0,e),i===0&&hO(e)}};function jS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZA(){}function _z(e,t,i,r,n){if(n){if(typeof r=="function"){var a=r;r=function(){var h=kp(s);a.call(h)}}var s=PD(t,r,e,0,null,!1,!1,"",ZA);return e._reactRootContainer=s,e[ca]=s.current,$f(e.nodeType===8?e.parentNode:e),Ho(),s}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var o=r;r=function(){var h=kp(l);o.call(h)}}var l=JS(e,0,!1,null,null,!1,!1,"",ZA);return e._reactRootContainer=l,e[ca]=l.current,$f(e.nodeType===8?e.parentNode:e),Ho(function(){s0(t,l,i,r)}),l}function h0(e,t,i,r,n){var a=i._reactRootContainer;if(a){var s=a;if(typeof n=="function"){var o=n;n=function(){var l=kp(s);o.call(l)}}s0(t,s,e,n)}else s=_z(i,t,e,n,r);return kp(s)}aO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=df(t.pendingLanes);i!==0&&(xS(t,i|1),Wi(t,lt()),!(ye&6)&&(Ph=lt()+500,Hs()))}break;case 13:Ho(function(){var r=da(e,1);if(r!==null){var n=Ei();sn(r,e,1,n)}}),ZS(e,1)}};yS=function(e){if(e.tag===13){var t=da(e,134217728);if(t!==null){var i=Ei();sn(t,e,134217728,i)}ZS(e,134217728)}};sO=function(e){if(e.tag===13){var t=Bs(e),i=da(e,t);if(i!==null){var r=Ei();sn(i,e,t,r)}ZS(e,t)}};oO=function(){return we};lO=function(e,t){var i=we;try{return we=e,t()}finally{we=i}};Ay=function(e,t,i){switch(t){case"input":if(xy(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var n=jp(r);if(!n)throw Error(z(90));kI(r),xy(r,n)}}}break;case"textarea":zI(e,i);break;case"select":t=i.value,t!=null&&vh(e,!!i.multiple,t,!1)}};KI=HS;qI=Ho;var Az={usingClientEntryPoint:!1,Events:[lc,ah,jp,HI,XI,HS]},uu={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wz={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QI(e),e===null?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||Ez,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{qp=jc.inject(wz),On=jc}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Az;rr.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jS(t))throw Error(z(200));return Cz(e,t,null,i)};rr.createRoot=function(e,t){if(!jS(e))throw Error(z(299));var i=!1,r="",n=RD;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=JS(e,1,!1,null,null,i,!1,r,n),e[ca]=t.current,$f(e.nodeType===8?e.parentNode:e),new QS(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=QI(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Ho(e)};rr.hydrate=function(e,t,i){if(!l0(t))throw Error(z(200));return h0(null,e,t,!0,i)};rr.hydrateRoot=function(e,t,i){if(!jS(e))throw Error(z(405));var r=i!=null&&i.hydratedSources||null,n=!1,a="",s=RD;if(i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(s=i.onRecoverableError)),t=PD(t,null,e,1,i??null,n,!1,a,s),e[ca]=t.current,$f(e),r)for(e=0;e<r.length;e++)i=r[e],n=i._getVersion,n=n(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new o0(t)};rr.render=function(e,t,i){if(!l0(t))throw Error(z(200));return h0(null,e,t,!1,i)};rr.unmountComponentAtNode=function(e){if(!l0(e))throw Error(z(40));return e._reactRootContainer?(Ho(function(){h0(null,null,e,!1,function(){e._reactRootContainer=null,e[ca]=null})}),!0):!1};rr.unstable_batchedUpdates=HS;rr.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!l0(i))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return h0(e,t,i,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function LD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LD)}catch(e){console.error(e)}}LD(),LI.exports=rr;var Mz=LI.exports,FD,QA=Mz;FD=QA.createRoot,QA.hydrateRoot;Array.prototype.forEach||(Array.prototype.forEach=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),i=t.length>>>0;if(typeof e!="function")throw new TypeError;for(var r=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)n in t&&e.call(r,t[n],n,t)});Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});(function(){function e(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return e(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var i=t?this.internal_createDelay(t):this.internal_createDelay();return e(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(i,r,n){typeof n<"u"?t.internal_start(i||0,r,n):t.internal_start(i||0,r||0)}):t.start=function(i,r,n){r||n?this.noteGrainOn(i||0,r,n):this.noteOn(i||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(i){t.internal_stop(i||0)}):t.stop=function(i){this.noteOff(i||0)},e(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return e(t.threshold),e(t.knee),e(t.ratio),e(t.reduction),e(t.attack),e(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return e(t.frequency),e(t.detune),e(t.Q),e(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(i){t.internal_start(i||0)}):t.start=function(i){this.noteOn(i||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(i){t.internal_stop(i||0)}):t.stop=function(i){this.noteOff(i||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),e(t.frequency),e(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)})();window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){});Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)});(function(){if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}})();var zm=Date.now(),ed=["ms","moz","webkit","o"];for(var fu=0;fu<ed.length&&!window.requestAnimationFrame;fu++)window.requestAnimationFrame=window[ed[fu]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ed[fu]+"CancelAnimationFrame"]||window[ed[fu]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),i=16+zm-t;return i<0&&(i=0),zm=t,setTimeout(function(){zm=Date.now(),e(performance.now())},i)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});if(typeof window.Uint32Array!="function"&&typeof window.Uint32Array!="object"){var cu=function(e){var t=new Array;window[e]=function(i){if(typeof i=="number"){Array.call(this,i),this.length=i;for(var r=0;r<this.length;r++)this[r]=0}else{Array.call(this,i.length),this.length=i.length;for(var r=0;r<this.length;r++)this[r]=i[r]}},window[e].prototype=t,window[e].constructor=window[e]};cu("Float32Array"),cu("Uint32Array"),cu("Uint16Array"),cu("Int16Array"),cu("ArrayBuffer")}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xa={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bz={DEFAULT:0,LINEAR:0,NEAREST:1},eC=bz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pz={VERSION:"3.21.0",BlendModes:xa,ScaleModes:eC,AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8},Or=Pz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Rz=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},Te=Rz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jA=Te,ID=function(){var e,t,i,r,n,a,s=arguments[0]||{},o=1,l=arguments.length,h=!1;for(typeof s=="boolean"&&(h=s,s=arguments[1]||{},o=2),l===o&&(s=this,--o);o<l;o++)if((e=arguments[o])!=null)for(t in e)i=s[t],r=e[t],s!==r&&(h&&r&&(jA(r)||(n=Array.isArray(r)))?(n?(n=!1,a=i&&Array.isArray(i)?i:[]):a=i&&jA(i)?i:{},s[t]=ID(h,a,r)):r!==void 0&&(s[t]=r));return s},pt=ID;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lz=function(e,t,i,r,n,a){r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=1);var s,o=0,l=e.length;if(a===1)for(s=n;s<l;s++)e[s][t]+=i+o*r,o++;else for(s=n;s>=0;s--)e[s][t]+=i+o*r,o++;return e},Nn=Lz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fz=Nn,Iz=function(e,t,i,r,n){return Fz(e,"angle",t,i,r,n)},Oz=Iz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dz=function(e,t,i){for(var r=0;r<e.length;r++){var n=e[r];t.call(i,n)}return e},Bz=Dz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nz=function(e,t,i){i===void 0&&(i=0);for(var r=i;r<e.length;r++){var n=e[r],a=!0;for(var s in t)n[s]!==t[s]&&(a=!1);if(a)return n}return null},Gz=Nz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kz=function(e,t,i){i===void 0&&(i=0);for(var r=i;r<e.length;r++){var n=e[r],a=!0;for(var s in t)n[s]!==t[s]&&(a=!1);if(a)return n}return null},$z=kz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zz={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},tC=zz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vz=function(e){return e.y+e.height-e.height*e.originY},ya=Vz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uz=function(e){return e.x-e.width*e.originX+e.width*.5},Dh=Uz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wz=function(e,t){return e.y=t-e.height+e.height*e.originY,e},Ta=Wz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yz=function(e,t){var i=e.width*e.originX;return e.x=t+i-e.width*.5,e},Bh=Yz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hz=ya,Xz=Dh,Kz=Ta,qz=Bh,Jz=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),qz(e,Xz(t)+i),Kz(e,Hz(t)+r),e},OD=Jz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zz=function(e){return e.x-e.width*e.originX},Sa=Zz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qz=function(e,t){return e.x=t+e.width*e.originX,e},Ca=Qz;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jz=ya,eV=Sa,tV=Ta,iV=Ca,rV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),iV(e,eV(t)-i),tV(e,jz(t)+r),e},DD=rV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nV=function(e){return e.x+e.width-e.width*e.originX},Ea=nV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aV=function(e,t){return e.x=t-e.width+e.width*e.originX,e},_a=aV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sV=ya,oV=Ea,lV=Ta,hV=_a,uV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),hV(e,oV(t)+i),lV(e,sV(t)+r),e},BD=uV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fV=function(e,t){var i=e.height*e.originY;return e.y=t+i-e.height*.5,e},Nh=fV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cV=Bh,dV=Nh,vV=function(e,t,i){return cV(e,t),dV(e,i)},ND=vV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pV=function(e){return e.y-e.height*e.originY+e.height*.5},Gh=pV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mV=ND,gV=Dh,xV=Gh,yV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),mV(e,gV(t)+i,xV(t)+r),e},GD=yV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TV=Gh,SV=Sa,CV=Nh,EV=Ca,_V=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),EV(e,SV(t)-i),CV(e,TV(t)+r),e},kD=_V;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AV=Gh,wV=Ea,MV=Nh,bV=_a,PV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),bV(e,wV(t)+i),MV(e,AV(t)+r),e},$D=PV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RV=function(e){return e.y-e.height*e.originY},Aa=RV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LV=function(e,t){return e.y=t+e.height*e.originY,e},wa=LV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FV=Dh,IV=Aa,OV=Bh,DV=wa,BV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),OV(e,FV(t)+i),DV(e,IV(t)-r),e},zD=BV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NV=Sa,GV=Aa,kV=Ca,$V=wa,zV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),kV(e,NV(t)-i),$V(e,GV(t)-r),e},VD=zV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VV=Ea,UV=Aa,WV=_a,YV=wa,HV=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),WV(e,VV(t)+i),YV(e,UV(t)-r),e},UD=HV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ma=tC,Gn=[];Gn[Ma.BOTTOM_CENTER]=OD;Gn[Ma.BOTTOM_LEFT]=DD;Gn[Ma.BOTTOM_RIGHT]=BD;Gn[Ma.CENTER]=GD;Gn[Ma.LEFT_CENTER]=kD;Gn[Ma.RIGHT_CENTER]=$D;Gn[Ma.TOP_CENTER]=zD;Gn[Ma.TOP_LEFT]=VD;Gn[Ma.TOP_RIGHT]=UD;var XV=function(e,t,i,r,n){return Gn[i](e,t,r,n)},WD=XV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var KV=function(e,t,i){var r=typeof e;return!e||r==="number"||r==="string"?i:e.hasOwnProperty(t)&&e[t]!==void 0?e[t]:i},Y=KV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qV=function(){},W=qV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function JV(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}function ZV(e,t,i){var r=i?e[t]:Object.getOwnPropertyDescriptor(e,t);return!i&&r.value&&typeof r.value=="object"&&(r=r.value),r&&JV(r)?(typeof r.enumerable>"u"&&(r.enumerable=!0),typeof r.configurable>"u"&&(r.configurable=!0),r):!1}function QV(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function iC(e,t,i,r){for(var n in t)if(t.hasOwnProperty(n)){var a=ZV(t,n,i);if(a!==!1){var s=r||e;if(QV(s.prototype,n)){if(uc.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,n,a)}else e.prototype[n]=t[n]}}function YD(e,t){if(t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)iC(e,t[i].prototype||t[i])}}function uc(e){e||(e={});var t,i;if(e.initialize){if(typeof e.initialize!="function")throw new Error("initialize must be a function");t=e.initialize,delete e.initialize}else if(e.Extends){var r=e.Extends;t=function(){r.apply(this,arguments)}}else t=function(){};e.Extends?(t.prototype=Object.create(e.Extends.prototype),t.prototype.constructor=t,i=e.Extends,delete e.Extends):t.prototype.constructor=t;var n=null;return e.Mixins&&(n=e.Mixins,delete e.Mixins),YD(t,n),iC(t,e,!0,i),t}uc.extend=iC;uc.mixin=YD;uc.ignoreFinals=!1;var O=uc;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jV=function(e,t,i){if(e.radius>0&&t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom){var r=(e.x-t)*(e.x-t),n=(e.y-i)*(e.y-i);return r+n<=e.radius*e.radius}else return!1},Xs=jV;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e7={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6},ba=e7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t7=O,i7=ba,r7=new t7({initialize:function(t,i){t===void 0&&(t=0),i===void 0&&(i=t),this.type=i7.POINT,this.x=t,this.y=i},setTo:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x=e,this.y=t,this}}),ce=r7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n7=ce,a7=function(e,t,i){return i===void 0&&(i=new n7),i.x=e.x+e.radius*Math.cos(t),i.y=e.y+e.radius*Math.sin(t),i},rC=a7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s7=function(e,t,i){return Math.max(t,Math.min(i,e))},$t=s7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o7=$t,l7=function(e,t,i){return e=o7(e,0,1),(i-t)*e},fc=l7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h7={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991},et=h7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u7=rC,f7=fc,c7=et,d7=ce,v7=function(e,t,i){i===void 0&&(i=new d7);var r=f7(t,0,c7.PI2);return u7(e,r,i)},HD=v7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p7=function(e){return 2*(Math.PI*e.radius)},XD=p7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var m7=XD,g7=rC,x7=fc,y7=et,T7=function(e,t,i,r){r===void 0&&(r=[]),t||(t=m7(e)/i);for(var n=0;n<t;n++){var a=x7(n/t,0,y7.PI2);r.push(g7(e,a))}return r},KD=T7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S7=ce,C7=function(e,t){t===void 0&&(t=new S7);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),n=r>1?2-r:r,a=n*Math.cos(i),s=n*Math.sin(i);return t.x=e.x+a*e.radius,t.y=e.y+s*e.radius,t},nC=C7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E7=O,_7=Xs,A7=HD,w7=KD,M7=ba,b7=nC,P7=new E7({initialize:function(t,i,r){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),this.type=M7.CIRCLE,this.x=t,this.y=i,this._radius=r,this._diameter=r*2},contains:function(e,t){return _7(this,e,t)},getPoint:function(e,t){return A7(this,e,t)},getPoints:function(e,t,i){return w7(this,e,t,i)},getRandomPoint:function(e){return b7(this,e)},setTo:function(e,t,i){return this.x=e,this.y=t,this._radius=i,this._diameter=i*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(e,t){return t===void 0&&(t=e),this.x=e,this.y=t,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this._diameter=e*2}},diameter:{get:function(){return this._diameter},set:function(e){this._diameter=e,this._radius=e*.5}},left:{get:function(){return this.x-this._radius},set:function(e){this.x=e+this._radius}},right:{get:function(){return this.x+this._radius},set:function(e){this.x=e-this._radius}},top:{get:function(){return this.y-this._radius},set:function(e){this.y=e+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(e){this.y=e-this._radius}}}),Jo=P7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Un=$t,ul=2,R7={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e,t,i,r){return e===void 0&&(e=1),t===void 0?this.alpha=e:(this._alphaTL=Un(e,0,1),this._alphaTR=Un(t,0,1),this._alphaBL=Un(i,0,1),this._alphaBR=Un(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(e){var t=Un(e,0,1);this._alpha=t,this._alphaTL=t,this._alphaTR=t,this._alphaBL=t,this._alphaBR=t,t===0?this.renderFlags&=~ul:this.renderFlags|=ul}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(e){var t=Un(e,0,1);this._alphaTL=t,t!==0&&(this.renderFlags|=ul)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(e){var t=Un(e,0,1);this._alphaTR=t,t!==0&&(this.renderFlags|=ul)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(e){var t=Un(e,0,1);this._alphaBL=t,t!==0&&(this.renderFlags|=ul)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(e){var t=Un(e,0,1);this._alphaBR=t,t!==0&&(this.renderFlags|=ul)}}},qD=R7,JD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function n(l,h,u){this.fn=l,this.context=h,this.once=u||!1}function a(l,h,u,f,c){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new n(u,f||l,c),p=i?i+h:h;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],v]:l._events[p].push(v):(l._events[p]=v,l._eventsCount++),l}function s(l,h){--l._eventsCount===0?l._events=new r:delete l._events[h]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],u,f;if(this._eventsCount===0)return h;for(f in u=this._events)t.call(u,f)&&h.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(u)):h},o.prototype.listeners=function(h){var u=i?i+h:h,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var c=0,v=f.length,p=new Array(v);c<v;c++)p[c]=f[c].fn;return p},o.prototype.listenerCount=function(h){var u=i?i+h:h,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(h,u,f,c,v,p){var m=i?i+h:h;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,T,S;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,c),!0;case 5:return x.fn.call(x.context,u,f,c,v),!0;case 6:return x.fn.call(x.context,u,f,c,v,p),!0}for(S=1,T=new Array(g-1);S<g;S++)T[S-1]=arguments[S];x.fn.apply(x.context,T)}else{var E=x.length,_;for(S=0;S<E;S++)switch(x[S].once&&this.removeListener(h,x[S].fn,void 0,!0),g){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,u);break;case 3:x[S].fn.call(x[S].context,u,f);break;case 4:x[S].fn.call(x[S].context,u,f,c);break;default:if(!T)for(_=1,T=new Array(g-1);_<g;_++)T[_-1]=arguments[_];x[S].fn.apply(x[S].context,T)}}return!0},o.prototype.on=function(h,u,f){return a(this,h,u,f,!1)},o.prototype.once=function(h,u,f){return a(this,h,u,f,!0)},o.prototype.removeListener=function(h,u,f,c){var v=i?i+h:h;if(!this._events[v])return this;if(!u)return s(this,v),this;var p=this._events[v];if(p.fn)p.fn===u&&(!c||p.once)&&(!f||p.context===f)&&s(this,v);else{for(var m=0,x=[],g=p.length;m<g;m++)(p[m].fn!==u||c&&!p[m].once||f&&p[m].context!==f)&&x.push(p[m]);x.length?this._events[v]=x.length===1?x[0]:x:s(this,v)}return this},o.prototype.removeAllListeners=function(h){var u;return h?(u=i?i+h:h,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,e.exports=o})(JD);var Me=JD.exports;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var L7="add";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var F7="complete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var I7="repeat";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var O7="restart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D7="start";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var B7="pauseall";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var N7="remove";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var G7="resumeall";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var k7="animationcomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $7="animationcomplete-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var z7="animationrepeat-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var V7="animationrestart-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var U7="animationstart-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var W7="animationupdate-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Y7="animationrepeat";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var H7="animationrestart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var X7="animationstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var K7="animationupdate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u0={ADD_ANIMATION:L7,ANIMATION_COMPLETE:F7,ANIMATION_REPEAT:I7,ANIMATION_RESTART:O7,ANIMATION_START:D7,PAUSE_ALL:B7,REMOVE_ANIMATION:N7,RESUME_ALL:G7,SPRITE_ANIMATION_COMPLETE:k7,SPRITE_ANIMATION_KEY_COMPLETE:$7,SPRITE_ANIMATION_KEY_REPEAT:z7,SPRITE_ANIMATION_KEY_RESTART:V7,SPRITE_ANIMATION_KEY_START:U7,SPRITE_ANIMATION_KEY_UPDATE:W7,SPRITE_ANIMATION_REPEAT:Y7,SPRITE_ANIMATION_RESTART:H7,SPRITE_ANIMATION_START:X7,SPRITE_ANIMATION_UPDATE:K7};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var q7=function(e,t,i){if(t.length){if(t.length===1)return t[0]}else return NaN;var r=1,n,a;if(i){if(e<t[0][i])return t[0];for(;t[r][i]<e;)r++}else for(;t[r]<e;)r++;return r>t.length&&(r=t.length),i?(n=t[r-1][i],a=t[r][i],a-e<=e-n?t[r]:t[r-1]):(n=t[r-1],a=t[r],a-e<=e-n?a:n)},ZD=q7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J7=O,Z7=new J7({initialize:function(t,i,r,n){this.textureKey=t,this.textureFrame=i,this.index=r,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}}),QD=Z7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q7=function(e,t,i){if(!e||typeof e=="number")return i;if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1){for(var r=t.split("."),n=e,a=i,s=0;s<r.length;s++)if(n.hasOwnProperty(r[s]))a=n[r[s]],n=n[r[s]];else{a=i;break}return a}else return i},me=Q7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var j7=$t,eU=O,ew=Me,oo=u0,tU=ZD,iU=QD,Ri=me,rU=new eU({Extends:ew,initialize:function(t,i,r){ew.call(this),this.manager=t,this.key=i,this.type="frame",this.frames=this.getFrames(t.textureManager,Ri(r,"frames",[]),Ri(r,"defaultTextureKey",null)),this.frameRate=Ri(r,"frameRate",null),this.duration=Ri(r,"duration",null),this.duration===null&&this.frameRate===null?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&this.frameRate===null?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=Ri(r,"skipMissedFrames",!0),this.delay=Ri(r,"delay",0),this.repeat=Ri(r,"repeat",0),this.repeatDelay=Ri(r,"repeatDelay",0),this.yoyo=Ri(r,"yoyo",!1),this.showOnStart=Ri(r,"showOnStart",!1),this.hideOnComplete=Ri(r,"hideOnComplete",!1),this.paused=!1,this.manager.on(oo.PAUSE_ALL,this.pause,this),this.manager.on(oo.RESUME_ALL,this.resume,this)},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var i=this.getFrames(this.manager.textureManager,t);if(i.length>0){if(e===0)this.frames=i.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(i);else{var r=this.frames.slice(0,e),n=this.frames.slice(e);this.frames=r.concat(i,n)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},completeAnimation:function(e){this.hideOnComplete&&(e.parent.visible=!1),e.stop()},getFirstTick:function(e,t){t===void 0&&(t=!0),e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration,t&&(e.nextTick+=e._delay)},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,i){var r=[],n,a,s=1,o,l;if(typeof t=="string"){l=t;var h=e.get(l),u=h.getFrameNames();t=[],u.forEach(function(x,g){t.push({key:l,frame:g})})}if(!Array.isArray(t)||t.length===0)return r;for(o=0;o<t.length;o++){var f=t[o],c=Ri(f,"key",i);if(c){var v=Ri(f,"frame",0),p=e.getFrame(c,v);a=new iU(c,v,s,p),a.duration=Ri(f,"duration",0),a.isFirst=!n,n&&(n.nextFrame=a,a.prevFrame=n),r.push(a),n=a,s++}}if(r.length>0){a.isLast=!0,a.nextFrame=r[0],r[0].prevFrame=a;var m=1/(r.length-1);for(o=0;o<r.length;o++)r[o].progress=o*m}return r},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},load:function(e,t){t>=this.frames.length&&(t=0),e.currentAnim!==this&&(e.currentAnim=this,e.frameRate=this.frameRate,e.duration=this.duration,e.msPerFrame=this.msPerFrame,e.skipMissedFrames=this.skipMissedFrames,e._delay=this.delay,e._repeat=this.repeat,e._repeatDelay=this.repeatDelay,e._yoyo=this.yoyo);var i=this.frames[t];t===0&&!e.forward&&(i=this.getLastFrame()),e.updateFrame(i)},getFrameByProgress:function(e){return e=j7(e,0,1),tU(e,this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e._yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e._reverse&&e.forward?e.forward=!1:this.repeatAnimation(e):this.completeAnimation(e):this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),e._reverse===!t&&e.repeatCounter>0){e.forward=t,this.repeatAnimation(e);return}if(e._reverse!==t&&e.repeatCounter===0){this.completeAnimation(e);return}e.forward=t;var i=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,i)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e._yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?e._reverse&&!e.forward?(e.currentFrame=this.getLastFrame(),this.repeatAnimation(e)):(e.forward=!0,this.repeatAnimation(e)):this.completeAnimation(e):this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.updateFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return t!==-1&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(e._pendingStop===2)return this.completeAnimation(e);if(e._repeatDelay>0&&e.pendingRepeat===!1)e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e._repeatDelay;else if(e.repeatCounter--,e.updateFrame(e.currentFrame[e.forward?"nextFrame":"prevFrame"]),e.isPlaying){this.getNextTick(e),e.pendingRepeat=!1;var t=e.currentFrame,i=e.parent;this.emit(oo.ANIMATION_REPEAT,this,t),i.emit(oo.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,t,e.repeatCounter,i),i.emit(oo.SPRITE_ANIMATION_REPEAT,this,t,e.repeatCounter,i)}},setFrame:function(e){e.forward?this.nextFrame(e):this.previousFrame(e)},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(t){e.frames.push(t.toJSON())}),e},updateFrameSequence:function(){for(var e=this.frames.length,t=1/(e-1),i,r=0;r<e;r++)i=this.frames[r],i.index=r+1,i.isFirst=!1,i.isLast=!1,i.progress=r*t,r===0?(i.isFirst=!0,e===1?(i.isLast=!0,i.nextFrame=i,i.prevFrame=i):(i.isLast=!1,i.prevFrame=this.frames[e-1],i.nextFrame=this.frames[r+1])):r===e-1&&e>1?(i.isLast=!0,i.prevFrame=this.frames[e-2],i.nextFrame=this.frames[0]):e>1&&(i.prevFrame=this.frames[r-1],i.nextFrame=this.frames[r+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(oo.PAUSE_ALL,this.pause,this),this.manager.off(oo.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}}),aC=rU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vm=aC,nU=O,Ki=u0,aU=new nU({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.once(Ki.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(e){return e instanceof Vm&&(e=e.key),this.nextAnim=e,this.parent},setDelay:function(e){return e===void 0&&(e=0),this._delay=e,this.parent},getDelay:function(){return this._delay},delayedPlay:function(e,t,i){return this.play(t,!0,i),this.nextTick+=e,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(e,t){return t===void 0&&(t=0),this.isPlaying&&this.stop(),this.animationManager.load(this,e,t),this.parent},pause:function(e){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),e!==void 0&&this.updateFrame(e),this.parent},resume:function(e){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),e!==void 0&&this.updateFrame(e),this.parent},isPaused:{get:function(){return this._paused}},play:function(e,t,i){return t===void 0&&(t=!1),i===void 0&&(i=0),e instanceof Vm&&(e=e.key),t&&this.isPlaying&&this.currentAnim.key===e?this.parent:(this.forward=!0,this._reverse=!1,this._startAnimation(e,i))},playReverse:function(e,t,i){return t===void 0&&(t=!1),i===void 0&&(i=0),e instanceof Vm&&(e=e.key),t&&this.isPlaying&&this.currentAnim.key===e?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(e,i))},_startAnimation:function(e,t){this.load(e,t);var i=this.currentAnim,r=this.parent;if(!i)return r;this.repeatCounter=this._repeat===-1?Number.MAX_VALUE:this._repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,i.showOnStart&&(r.visible=!0);var n=this.currentFrame;return i.emit(Ki.ANIMATION_START,i,n,r),r.emit(Ki.SPRITE_ANIMATION_KEY_START+e,i,n,r),r.emit(Ki.SPRITE_ANIMATION_START,i,n,r),r},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var e=this.currentFrame.progress;return this.forward||(e=1-e),e},setProgress:function(e){return this.forward||(e=1-e),this.setCurrentFrame(this.currentAnim.getFrameByProgress(e)),this.parent},remove:function(e,t){t===void 0&&(t=this.currentAnim),this.isPlaying&&t.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(e){return this._repeat=e,this.repeatCounter=e===-1?Number.MAX_VALUE:e,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(e){return this._repeatDelay=e,this.parent},restart:function(e){e===void 0&&(e=!1);var t=this.currentAnim;t.getFirstTick(this,e),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(t.frames[0]);var i=this.parent,r=this.currentFrame;return t.emit(Ki.ANIMATION_RESTART,t,r,i),i.emit(Ki.SPRITE_ANIMATION_KEY_RESTART+t.key,t,r,i),i.emit(Ki.SPRITE_ANIMATION_RESTART,t,r,i),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var e=this.parent,t=this.currentAnim,i=this.currentFrame;if(t&&(t.emit(Ki.ANIMATION_COMPLETE,t,i,e),e.emit(Ki.SPRITE_ANIMATION_KEY_COMPLETE+t.key,t,i,e),e.emit(Ki.SPRITE_ANIMATION_COMPLETE,t,i,e)),this.nextAnim){var r=this.nextAnim;this.nextAnim=null,this.play(r)}return e},stopAfterDelay:function(e){return this._pendingStop=1,this._pendingStopValue=e,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(e){return this._pendingStop=3,this._pendingStopValue=e,this.parent},setTimeScale:function(e){return e===void 0&&(e=1),this._timeScale=e,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(e,t){if(!(!this.currentAnim||!this.isPlaying||this.currentAnim.paused)){if(this.accumulator+=t*this._timeScale,this._pendingStop===1&&(this._pendingStopValue-=t,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(e){var t=this.parent;return this.currentFrame=e,t.texture=e.frame.texture,t.frame=e.frame,t.isCropped&&t.frame.updateCropUVs(t._crop,t.flipX,t.flipY),t.setSizeToFrame(),e.frame.customPivot?t.setOrigin(e.frame.pivotX,e.frame.pivotY):t.updateDisplayOrigin(),t},updateFrame:function(e){var t=this.setCurrentFrame(e);if(this.isPlaying){e.setAlpha&&(t.alpha=e.alpha);var i=this.currentAnim;t.emit(Ki.SPRITE_ANIMATION_KEY_UPDATE+i.key,i,e,t),t.emit(Ki.SPRITE_ANIMATION_UPDATE,i,e,t),this._pendingStop===3&&this._pendingStopValue===e&&this.currentAnim.completeAnimation(this)}},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(e){return e===void 0&&(e=!1),this._yoyo=e,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(Ki.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}}),jD=aU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tw=xa,sU={_blendMode:tw.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(e){typeof e=="string"&&(e=tw[e]),e|=0,e>=-1&&(this._blendMode=e)}},setBlendMode:function(e){return this.blendMode=e,this}},eB=sU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oU={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}},lU=oU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hU={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,r){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,t,i,r,this.flipX,this.flipY);else{var n=e;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}},uU=hU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fU={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.scene.sys.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}},tB=fU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cU={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}},dU=cU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vU=function(e,t,i){return e.width<=0||e.height<=0?!1:e.x<=t&&e.x+e.width>=t&&e.y<=i&&e.y+e.height>=i},Pa=vU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pU=function(e){return 2*(e.width+e.height)},f0=pU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mU=f0,gU=ce,xU=function(e,t,i){if(i===void 0&&(i=new gU),t<=0||t>=1)return i.x=e.x,i.y=e.y,i;var r=mU(e)*t;return t>.5?(r-=e.width+e.height,r<=e.width?(i.x=e.right-r,i.y=e.bottom):(i.x=e.x,i.y=e.bottom-(r-e.width))):r<=e.width?(i.x=e.x+r,i.y=e.y):(i.x=e.right,i.y=e.y+(r-e.width)),i},sC=xU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yU=sC,TU=f0,SU=function(e,t,i,r){r===void 0&&(r=[]),t||(t=TU(e)/i);for(var n=0;n<t;n++){var a=n/t;r.push(yU(e,a))}return r},iB=SU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CU=ce,EU=function(e,t,i){return i===void 0&&(i=new CU),i.x=e.x1+(e.x2-e.x1)*t,i.y=e.y1+(e.y2-e.y1)*t,i},rB=EU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _U=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))},Ks=_U;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AU=Ks,wU=ce,MU=function(e,t,i,r){r===void 0&&(r=[]),t||(t=AU(e)/i);for(var n=e.x1,a=e.y1,s=e.x2,o=e.y2,l=0;l<t;l++){var h=l/t,u=n+(s-n)*h,f=a+(o-a)*h;r.push(new wU(u,f))}return r},oC=MU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bU=ce,PU=function(e,t){t===void 0&&(t=new bU);var i=Math.random();return t.x=e.x1+i*(e.x2-e.x1),t.y=e.y1+i*(e.y2-e.y1),t},lC=PU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RU=O,Yi=new RU({initialize:function(t,i){this.x=0,this.y=0,typeof t=="object"?(this.x=t.x||0,this.y=t.y||0):(i===void 0&&(i=t),this.x=t||0,this.y=i||0)},clone:function(){return new Yi(this.x,this.y)},copy:function(e){return this.x=e.x||0,this.y=e.y||0,this},setFromObject:function(e){return this.x=e.x||0,this.y=e.y||0,this},set:function(e,t){return t===void 0&&(t=e),this.x=e,this.y=t,this},setTo:function(e,t){return this.set(e,t)},setToPolar:function(e,t){return t==null&&(t=1),this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this},equals:function(e){return this.x===e.x&&this.y===e.y},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},length:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},lengthSq:function(){var e=this.x,t=this.y;return e*e+t*t},normalize:function(){var e=this.x,t=this.y,i=e*e+t*t;return i>0&&(i=1/Math.sqrt(i),this.x=e*i,this.y=t*i),this},normalizeRightHand:function(){var e=this.x;return this.x=this.y*-1,this.y=e,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lerp:function(e,t){t===void 0&&(t=0);var i=this.x,r=this.y;return this.x=i+t*(e.x-i),this.y=r+t*(e.y-r),this},transformMat3:function(e){var t=this.x,i=this.y,r=e.val;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this},transformMat4:function(e){var t=this.x,i=this.y,r=e.val;return this.x=r[0]*t+r[4]*i+r[12],this.y=r[1]*t+r[5]*i+r[13],this},reset:function(){return this.x=0,this.y=0,this}});Yi.ZERO=new Yi;Yi.RIGHT=new Yi(1,0);Yi.LEFT=new Yi(-1,0);Yi.UP=new Yi(0,-1);Yi.DOWN=new Yi(0,1);Yi.ONE=new Yi(1,1);var oe=Yi;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LU=O,FU=rB,IU=oC,OU=ba,DU=lC,iw=oe,BU=new LU({initialize:function(t,i,r,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),this.type=OU.LINE,this.x1=t,this.y1=i,this.x2=r,this.y2=n},getPoint:function(e,t){return FU(this,e,t)},getPoints:function(e,t,i){return IU(this,e,t,i)},getRandomPoint:function(e){return DU(this,e)},setTo:function(e,t,i,r){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),this.x1=e,this.y1=t,this.x2=i,this.y2=r,this},getPointA:function(e){return e===void 0&&(e=new iw),e.set(this.x1,this.y1),e},getPointB:function(e){return e===void 0&&(e=new iw),e.set(this.x2,this.y2),e},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(e){this.x1<=this.x2?this.x1=e:this.x2=e}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(e){this.x1>this.x2?this.x1=e:this.x2=e}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(e){this.y1<=this.y2?this.y1=e:this.y2=e}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(e){this.y1>this.y2?this.y1=e:this.y2=e}}}),qs=BU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NU=ce,GU=function(e,t){return t===void 0&&(t=new NU),t.x=e.x+Math.random()*e.width,t.y=e.y+Math.random()*e.height,t},hC=GU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kU=O,$U=Pa,zU=sC,VU=iB,UU=ba,td=qs,WU=hC,YU=new kU({initialize:function(t,i,r,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),this.type=UU.RECTANGLE,this.x=t,this.y=i,this.width=r,this.height=n},contains:function(e,t){return $U(this,e,t)},getPoint:function(e,t){return zU(this,e,t)},getPoints:function(e,t,i){return VU(this,e,t,i)},getRandomPoint:function(e){return WU(this,e)},setTo:function(e,t,i,r){return this.x=e,this.y=t,this.width=i,this.height=r,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(e,t){return t===void 0&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return t===void 0&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(e){return e===void 0&&(e=new td),e.setTo(this.x,this.y,this.right,this.y),e},getLineB:function(e){return e===void 0&&(e=new td),e.setTo(this.right,this.y,this.right,this.bottom),e},getLineC:function(e){return e===void 0&&(e=new td),e.setTo(this.right,this.bottom,this.x,this.bottom),e},getLineD:function(e){return e===void 0&&(e=new td),e.setTo(this.x,this.bottom,this.x,this.y),e},left:{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}},right:{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}},top:{get:function(){return this.y},set:function(e){e>=this.bottom?this.height=0:this.height=this.bottom-e,this.y=e}},bottom:{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}}),Ve=YU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HU=function(e,t,i,r){var n=Math.cos(r),a=Math.sin(r),s=e.x-t,o=e.y-i;return e.x=s*n-o*a+t,e.y=s*a+o*n+i,e},nB=HU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XU=Ve,KU=nB,Wn=oe,qU={prepareBoundsOutput:function(e,t){if(t===void 0&&(t=!1),this.rotation!==0&&KU(e,this.x,this.y,this.rotation),t&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(e.x,e.y,e)}return e},getCenter:function(e){return e===void 0&&(e=new Wn),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,e},getTopLeft:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopCenter:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopRight:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getLeftCenter:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getRightCenter:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getBottomLeft:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomCenter:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomRight:function(e,t){return e||(e=new Wn),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBounds:function(e){e===void 0&&(e=new XU);var t,i,r,n,a,s,o,l;if(this.parentContainer){var h=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(e),h.transformPoint(e.x,e.y,e),t=e.x,i=e.y,this.getTopRight(e),h.transformPoint(e.x,e.y,e),r=e.x,n=e.y,this.getBottomLeft(e),h.transformPoint(e.x,e.y,e),a=e.x,s=e.y,this.getBottomRight(e),h.transformPoint(e.x,e.y,e),o=e.x,l=e.y}else this.getTopLeft(e),t=e.x,i=e.y,this.getTopRight(e),r=e.x,n=e.y,this.getBottomLeft(e),a=e.x,s=e.y,this.getBottomRight(e),o=e.x,l=e.y;return e.x=Math.min(t,r,a,o),e.y=Math.min(i,n,s,l),e.width=Math.max(t,r,a,o)-e.x,e.height=Math.max(i,n,s,l)-e.y,e}},JU=qU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZU="blur";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QU="boot";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jU="contextlost";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eW="contextrestored";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tW="destroy";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iW="focus";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rW="hidden";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nW="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aW="postrender";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sW="poststep";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oW="prerender";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lW="prestep";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hW="ready";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uW="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fW="step";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cW="visible";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var At={BLUR:ZU,BOOT:QU,CONTEXT_LOST:jU,CONTEXT_RESTORED:eW,DESTROY:tW,FOCUS:iW,HIDDEN:rW,PAUSE:nW,POST_RENDER:aW,POST_STEP:sW,PRE_RENDER:oW,PRE_STEP:lW,READY:hW,RESUME:uW,STEP:fW,VISIBLE:cW};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dW=O,vW=At,pW=new dW({initialize:function(t,i){var r=t.sys.game.renderer;if(this.renderer=r,this.bitmapMask=i,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,r&&r.gl){var n=r.width,a=r.height,s=(n&n-1)===0&&(a&a-1)===0,o=r.gl,l=s?o.REPEAT:o.CLAMP_TO_EDGE,h=o.LINEAR;this.mainTexture=r.createTexture2D(0,h,h,l,l,o.RGBA,null,n,a),this.maskTexture=r.createTexture2D(0,h,h,l,l,o.RGBA,null,n,a),this.mainFramebuffer=r.createFramebuffer(n,a,this.mainTexture,!0),this.maskFramebuffer=r.createFramebuffer(n,a,this.maskTexture,!0),t.sys.game.events.on(vW.CONTEXT_RESTORED,function(u){var f=u.width,c=u.height,v=(f&f-1)===0&&(c&c-1)===0,p=u.gl,m=v?p.REPEAT:p.CLAMP_TO_EDGE,x=p.LINEAR;this.mainTexture=u.createTexture2D(0,x,x,m,m,p.RGBA,null,f,c),this.maskTexture=u.createTexture2D(0,x,x,m,m,p.RGBA,null,f,c),this.mainFramebuffer=u.createFramebuffer(f,c,this.mainTexture,!0),this.maskFramebuffer=u.createFramebuffer(f,c,this.maskTexture,!0)},this)}},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,i){e.pipelines.BitmapMaskPipeline.beginMask(this,t,i)},postRenderWebGL:function(e,t){e.pipelines.BitmapMaskPipeline.endMask(this,t)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var e=this.renderer;e&&e.gl&&(e.deleteTexture(this.mainTexture),e.deleteTexture(this.maskTexture),e.deleteFramebuffer(this.mainFramebuffer),e.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.renderer=null}}),aB=pW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mW=O,gW=new mW({initialize:function(t,i){this.geometryMask=i,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(e){return this.geometryMask=e,this},setInvertAlpha:function(e){return e===void 0&&(e=!0),this.invertAlpha=e,this},preRenderWebGL:function(e,t,i){var r=e.gl;e.flush(),e.maskStack.length===0&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),e.maskCount=0),e.currentCameraMask.mask!==this&&(e.currentMask.mask=this),e.maskStack.push({mask:this,camera:i}),this.applyStencil(e,i,!0),e.maskCount++},applyStencil:function(e,t,i){var r=e.gl,n=this.geometryMask,a=e.maskCount;r.colorMask(!1,!1,!1,!1),i?(r.stencilFunc(r.EQUAL,a,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,a+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),n.renderWebGL(e,n,0,t),e.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i?this.invertAlpha?r.stencilFunc(r.NOTEQUAL,a+1,255):r.stencilFunc(r.EQUAL,a+1,255):this.invertAlpha?r.stencilFunc(r.NOTEQUAL,a,255):r.stencilFunc(r.EQUAL,a,255)},postRenderWebGL:function(e){var t=e.gl;if(e.maskStack.pop(),e.maskCount--,e.maskStack.length===0)e.flush(),e.currentMask.mask=null,t.disable(t.STENCIL_TEST);else{e.flush();var i=e.maskStack[e.maskStack.length-1];i.mask.applyStencil(e,i.camera,!1),e.currentCameraMask.mask!==i.mask?(e.currentMask.mask=i.mask,e.currentMask.camera=i.camera):e.currentMask.mask=null}},preRenderCanvas:function(e,t,i){var r=this.geometryMask;e.currentContext.save(),r.renderCanvas(e,r,0,i,null,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}}),sB=gW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xW=aB,yW=sB,TW={mask:null,setMask:function(e){return this.mask=e,this},clearMask:function(e){return e===void 0&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(e){return e===void 0&&(this.texture||this.shader)&&(e=this),new xW(this.scene,e)},createGeometryMask:function(e){return e===void 0&&this.type==="Graphics"&&(e=this),new yW(this.scene,e)}},oB=TW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SW={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,t){return e===void 0&&(e=.5),t===void 0&&(t=e),this.originX=e,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.displayOriginX=e,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}},CW=SW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EW=et,_W=function(e){return e*EW.DEG_TO_RAD},kn=_W;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AW=function(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i},cc=AW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wW={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26},dc=wW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rw=kn,nw=cc,id=me,rd=dc,aw=oe,MW={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathTween:null,pathConfig:null,_prevDirection:rd.PLAYING_FORWARD,setPath:function(e,t){t===void 0&&(t=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=e,t&&this.startFollow(t),this},setRotateToPath:function(e,t){return t===void 0&&(t=0),this.rotateToPath=e,this.pathRotationOffset=t,this},isFollowing:function(){var e=this.pathTween;return e&&e.isPlaying()},startFollow:function(e,t){e===void 0&&(e={}),t===void 0&&(t=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof e=="number"&&(e={duration:e}),e.from=id(e,"from",0),e.to=id(e,"to",1);var r=nw(e,"positionOnPath",!1);this.rotateToPath=nw(e,"rotateToPath",!1),this.pathRotationOffset=id(e,"rotationOffset",0);var n=id(e,"startAt",t);if(n&&(e.onStart=function(s){var o=s.data[0];o.progress=n,o.elapsed=o.duration*n;var l=o.ease(o.progress);o.current=o.start+(o.end-o.start)*l,o.target[o.key]=o.current}),this.pathOffset||(this.pathOffset=new aw(this.x,this.y)),this.pathVector||(this.pathVector=new aw),this.pathTween=this.scene.sys.tweens.addCounter(e),this.path.getStartPoint(this.pathOffset),r&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=rd.PLAYING_FORWARD,this.rotateToPath){var a=this.path.getPoint(.1);this.rotation=Math.atan2(a.y-this.y,a.x-this.x)+rw(this.pathRotationOffset)}return this.pathConfig=e,this},pauseFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.pause(),this},resumeFollow:function(){var e=this.pathTween;return e&&e.isPaused()&&e.resume(),this},stopFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e){var t=e.data[0];if(t.state!==rd.PLAYING_FORWARD&&t.state!==rd.PLAYING_BACKWARD)return;var i=this.pathVector;this.path.getPoint(e.getValue(),i),i.add(this.pathOffset);var r=this.x,n=this.y;this.setPosition(i.x,i.y);var a=this.x-r,s=this.y-n;if(a===0&&s===0)return;if(t.state!==this._prevDirection){this._prevDirection=t.state;return}this.rotateToPath&&(this.rotation=Math.atan2(s,a)+rw(this.pathRotationOffset))}}},bW=MW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PW={defaultPipeline:null,pipeline:null,initPipeline:function(e){e===void 0&&(e="TextureTintPipeline");var t=this.scene.sys.game.renderer;return t&&t.gl&&t.hasPipeline(e)?(this.defaultPipeline=t.getPipeline(e),this.pipeline=this.defaultPipeline,!0):!1},setPipeline:function(e){var t=this.scene.sys.game.renderer;return t&&t.gl&&t.hasPipeline(e)&&(this.pipeline=t.getPipeline(e)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}},c0=PW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RW={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,t){return t===void 0&&(t=e),this.scrollFactorX=e,this.scrollFactorY=t,this}},lB=RW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LW={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}},FW=LW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sw=8,IW={texture:null,frame:null,isCropped:!1,setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!0),this.frame=this.texture.get(e),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~sw:this.renderFlags|=sw,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}},OW=IW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ow=8,DW={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,r){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,t,i,r,this.flipX,this.flipY);else{var n=e;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!0),this.frame=this.texture.get(e),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~ow:this.renderFlags|=ow,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}},BW=DW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $a=function(e){return(e>>16)+(e&65280)+((e&255)<<16)},NW={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(e,t,i,r){return e===void 0&&(e=16777215),t===void 0&&(t=e,i=e,r=e),this._tintTL=$a(e),this._tintTR=$a(t),this._tintBL=$a(i),this._tintBR=$a(r),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(e,t,i,r){return this.setTint(e,t,i,r),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(e){this._tintTL=$a(e),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(e){this._tintTR=$a(e),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(e){this._tintBL=$a(e),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(e){this._tintBR=$a(e),this._isTinted=!0}},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){return this._isTinted}}},GW=NW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kW=function(e){var t={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(t.textureKey=e.texture.key,t.frameKey=e.frame.name),t},hB=kW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $W=O,zW=et,VW=oe,UW=new $W({initialize:function(t,i,r,n,a,s){t===void 0&&(t=1),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=1),a===void 0&&(a=0),s===void 0&&(s=0),this.matrix=new Float32Array([t,i,r,n,a,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(e){this.matrix[0]=e}},b:{get:function(){return this.matrix[1]},set:function(e){this.matrix[1]=e}},c:{get:function(){return this.matrix[2]},set:function(e){this.matrix[2]=e}},d:{get:function(){return this.matrix[3]},set:function(e){this.matrix[3]=e}},e:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},f:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},tx:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},ty:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var e=this.matrix,t=e[0],i=e[1],r=e[2],n=e[3];return t||i?i>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):r||n?zW.TAU-(n>0?Math.acos(-r/this.scaleY):-Math.acos(r/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var e=this.matrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},translate:function(e,t){var i=this.matrix;return i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this},scale:function(e,t){var i=this.matrix;return i[0]*=e,i[1]*=e,i[2]*=t,i[3]*=t,this},rotate:function(e){var t=Math.sin(e),i=Math.cos(e),r=this.matrix,n=r[0],a=r[1],s=r[2],o=r[3];return r[0]=n*i+s*t,r[1]=a*i+o*t,r[2]=n*-t+s*i,r[3]=a*-t+o*i,this},multiply:function(e,t){var i=this.matrix,r=e.matrix,n=i[0],a=i[1],s=i[2],o=i[3],l=i[4],h=i[5],u=r[0],f=r[1],c=r[2],v=r[3],p=r[4],m=r[5],x=t===void 0?this:t;return x.a=u*n+f*s,x.b=u*a+f*o,x.c=c*n+v*s,x.d=c*a+v*o,x.e=p*n+m*s+l,x.f=p*a+m*o+h,x},multiplyWithOffset:function(e,t,i){var r=this.matrix,n=e.matrix,a=r[0],s=r[1],o=r[2],l=r[3],h=r[4],u=r[5],f=t*a+i*o+h,c=t*s+i*l+u,v=n[0],p=n[1],m=n[2],x=n[3],g=n[4],T=n[5];return r[0]=v*a+p*o,r[1]=v*s+p*l,r[2]=m*a+x*o,r[3]=m*s+x*l,r[4]=g*a+T*o+f,r[5]=g*s+T*l+c,this},transform:function(e,t,i,r,n,a){var s=this.matrix,o=s[0],l=s[1],h=s[2],u=s[3],f=s[4],c=s[5];return s[0]=e*o+t*h,s[1]=e*l+t*u,s[2]=i*o+r*h,s[3]=i*l+r*u,s[4]=n*o+a*h+f,s[5]=n*l+a*u+c,this},transformPoint:function(e,t,i){i===void 0&&(i={x:0,y:0});var r=this.matrix,n=r[0],a=r[1],s=r[2],o=r[3],l=r[4],h=r[5];return i.x=e*n+t*s+l,i.y=e*a+t*o+h,i},invert:function(){var e=this.matrix,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=t*n-i*r;return e[0]=n/o,e[1]=-i/o,e[2]=-r/o,e[3]=t/o,e[4]=(r*s-n*a)/o,e[5]=-(t*s-i*a)/o,this},copyFrom:function(e){var t=this.matrix;return t[0]=e.a,t[1]=e.b,t[2]=e.c,t[3]=e.d,t[4]=e.e,t[5]=e.f,this},copyFromArray:function(e){var t=this.matrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},copyToContext:function(e){var t=this.matrix;return e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e},setToContext:function(e){var t=this.matrix;return e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e},copyToArray:function(e){var t=this.matrix;return e===void 0?e=[t[0],t[1],t[2],t[3],t[4],t[5]]:(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]),e},setTransform:function(e,t,i,r,n,a){var s=this.matrix;return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s[4]=n,s[5]=a,this},decomposeMatrix:function(){var e=this.decomposedMatrix,t=this.matrix,i=t[0],r=t[1],n=t[2],a=t[3],s=i*a-r*n;if(e.translateX=t[4],e.translateY=t[5],i||r){var o=Math.sqrt(i*i+r*r);e.rotation=r>0?Math.acos(i/o):-Math.acos(i/o),e.scaleX=o,e.scaleY=s/o}else if(n||a){var l=Math.sqrt(n*n+a*a);e.rotation=Math.PI*.5-(a>0?Math.acos(-n/l):-Math.acos(n/l)),e.scaleX=s/l,e.scaleY=l}else e.rotation=0,e.scaleX=0,e.scaleY=0;return e},applyITRS:function(e,t,i,r,n){var a=this.matrix,s=Math.sin(i),o=Math.cos(i);return a[4]=e,a[5]=t,a[0]=o*r,a[1]=s*r,a[2]=-s*n,a[3]=o*n,this},applyInverse:function(e,t,i){i===void 0&&(i=new VW);var r=this.matrix,n=r[0],a=r[1],s=r[2],o=r[3],l=r[4],h=r[5],u=1/(n*o+s*-a);return i.x=o*u*e+-s*u*t+(h*s-l*o)*u,i.y=n*u*t+-a*u*e+(-h*n+l*a)*u,i},getX:function(e,t){return e*this.a+t*this.c+this.e},getY:function(e,t){return e*this.b+t*this.d+this.f},getCSSMatrix:function(){var e=this.matrix;return"matrix("+e[0]+","+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}}),hn=UW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WW=function(e,t,i){var r=i-t;return t+((e-t)%r+r)%r},Js=WW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YW=Js,HW=function(e){return YW(e,-Math.PI,Math.PI)},uC=HW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XW=Js,KW=function(e){return XW(e,-180,180)},fC=KW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lw=et,Um=hn,qW=uC,hw=fC,fl=4,JW={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,e===0?this.renderFlags&=~fl:this.renderFlags|=fl}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,e===0?this.renderFlags&=~fl:this.renderFlags|=fl}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,e===0?this.renderFlags&=~fl:this.renderFlags|=fl}},angle:{get:function(){return hw(this._rotation*lw.RAD_TO_DEG)},set:function(e){this.rotation=hw(e)*lw.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=qW(e)}},setPosition:function(e,t,i,r){return e===void 0&&(e=0),t===void 0&&(t=e),i===void 0&&(i=0),r===void 0&&(r=0),this.x=e,this.y=t,this.z=i,this.w=r,this},setRandomPosition:function(e,t,i,r){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.scene.sys.scale.width),r===void 0&&(r=this.scene.sys.scale.height),this.x=e+Math.random()*i,this.y=t+Math.random()*r,this},setRotation:function(e){return e===void 0&&(e=0),this.rotation=e,this},setAngle:function(e){return e===void 0&&(e=0),this.angle=e,this},setScale:function(e,t){return e===void 0&&(e=1),t===void 0&&(t=e),this.scaleX=e,this.scaleY=t,this},setX:function(e){return e===void 0&&(e=0),this.x=e,this},setY:function(e){return e===void 0&&(e=0),this.y=e,this},setZ:function(e){return e===void 0&&(e=0),this.z=e,this},setW:function(e){return e===void 0&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return e===void 0&&(e=new Um),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,t){e===void 0&&(e=new Um),t===void 0&&(t=new Um);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(e);for(e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)t.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),t.multiply(e,e),i=i.parentContainer;return e},getParentRotation:function(){for(var e=0,t=this.parentContainer;t;)e+=t.rotation,t=t.parentContainer;return e}},uB=JW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uw=1,ZW={_visible:!0,visible:{get:function(){return this._visible},set:function(e){e?(this._visible=!0,this.renderFlags|=uw):(this._visible=!1,this.renderFlags&=~uw)}},setVisible:function(e){return this.visible=e,this}},fB=ZW;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ke={Alpha:qD,Animation:jD,BlendMode:eB,ComputedSize:lU,Crop:uU,Depth:tB,Flip:dU,GetBounds:JU,Mask:oB,Origin:CW,PathFollower:bW,Pipeline:c0,ScrollFactor:lB,Size:FW,Texture:OW,TextureCrop:BW,Tint:GW,ToJSON:hB,Transform:uB,TransformMatrix:hn,Visible:fB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QW="changedata";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jW="changedata-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e8="removedata";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t8="setdata";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cB={CHANGE_DATA:QW,CHANGE_DATA_KEY:jW,REMOVE_DATA:e8,SET_DATA:t8};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var i8=O,za=cB,r8=new i8({initialize:function(t,i){this.parent=t,this.events=i,i||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(e){var t=this.list;if(Array.isArray(e)){for(var i=[],r=0;r<e.length;r++)i.push(t[e[r]]);return i}else return t[e]},getAll:function(){var e={};for(var t in this.list)this.list.hasOwnProperty(t)&&(e[t]=this.list[t]);return e},query:function(e){var t={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(e)&&(t[i]=this.list[i]);return t},set:function(e,t){if(this._frozen)return this;if(typeof e=="string")return this.setValue(e,t);for(var i in e)this.setValue(i,e[i]);return this},setValue:function(e,t){if(this._frozen)return this;if(this.has(e))this.values[e]=t;else{var i=this,r=this.list,n=this.events,a=this.parent;Object.defineProperty(this.values,e,{enumerable:!0,configurable:!0,get:function(){return r[e]},set:function(s){if(!i._frozen){var o=r[e];r[e]=s,n.emit(za.CHANGE_DATA,a,e,s,o),n.emit(za.CHANGE_DATA_KEY+e,a,s,o)}}}),r[e]=t,n.emit(za.SET_DATA,a,e,t)}return this},each:function(e,t){for(var i=[this.parent,null,void 0],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[1]=n,i[2]=this.list[n],e.apply(t,i);return this},merge:function(e,t){t===void 0&&(t=!0);for(var i in e)e.hasOwnProperty(i)&&(t||!t&&!this.has(i))&&this.setValue(i,e[i]);return this},remove:function(e){if(this._frozen)return this;if(Array.isArray(e))for(var t=0;t<e.length;t++)this.removeValue(e[t]);else return this.removeValue(e);return this},removeValue:function(e){if(this.has(e)){var t=this.list[e];delete this.list[e],delete this.values[e],this.events.emit(za.REMOVE_DATA,this.parent,e,t)}return this},pop:function(e){var t=void 0;return!this._frozen&&this.has(e)&&(t=this.list[e],delete this.list[e],delete this.values[e],this.events.emit(za.REMOVE_DATA,this.parent,e,t)),t},has:function(e){return this.list.hasOwnProperty(e)},setFreeze:function(e){return this._frozen=e,this},reset:function(){for(var e in this.list)delete this.list[e],delete this.values[e];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(za.CHANGE_DATA),this.events.off(za.SET_DATA),this.events.off(za.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(e){this._frozen=!!e}},count:{get:function(){var e=0;for(var t in this.list)this.list[t]!==void 0&&e++;return e}}}),vc=r8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n8="destroy";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a8="complete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s8="created";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o8="error";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l8="loop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h8="play";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u8="seeked";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f8="seeking";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c8="stop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d8="timeout";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var v8="unlocked";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pc={DESTROY:n8,VIDEO_COMPLETE:a8,VIDEO_CREATED:s8,VIDEO_ERROR:o8,VIDEO_LOOP:l8,VIDEO_PLAY:h8,VIDEO_SEEKED:u8,VIDEO_SEEKING:f8,VIDEO_STOP:c8,VIDEO_TIMEOUT:d8,VIDEO_UNLOCKED:v8};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p8=O,m8=hB,Wm=vc,fw=Me,g8=pc,cC=new p8({Extends:fw,initialize:function(t,i){fw.call(this),this.scene=t,this.type=i,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,t.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new Wm(this)),this},setData:function(e,t){return this.data||(this.data=new Wm(this)),this.data.set(e,t),this},getData:function(e){return this.data||(this.data=new Wm(this)),this.data.get(e)},setInteractive:function(e,t,i){return this.scene.sys.input.enable(this,e,t,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return m8(this)},willRender:function(e){return!(cC.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,i=[];t&&(i.unshift(t.getIndex(e)),e=t,t.parentContainer);)t=t.parentContainer;return i.unshift(this.scene.sys.displayList.getIndex(e)),i},destroy:function(e){if(e===void 0&&(e=!1),!(!this.scene||this.ignoreDestroy)){this.preDestroy&&this.preDestroy.call(this),this.emit(g8.DESTROY,this);var t=this.scene.sys;e||(t.displayList.remove(this),t.updateList.remove(this)),this.input&&(t.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),e||t.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});cC.RENDER_MASK=15;var qe=cC;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x8=xa,y8=Jo,T8=Xs,S8=O,cl=Ke,cw=qe,C8=Ve,E8=Pa,_8=new S8({Extends:cw,Mixins:[cl.Depth,cl.GetBounds,cl.Origin,cl.Transform,cl.ScrollFactor,cl.Visible],initialize:function(t,i,r,n,a){n===void 0&&(n=1),a===void 0&&(a=n),cw.call(this,t,"Zone"),this.setPosition(i,r),this.width=n,this.height=a,this.blendMode=x8.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t,i){i===void 0&&(i=!0),this.width=e,this.height=t,this.updateDisplayOrigin();var r=this.input;return i&&r&&!r.customHitArea&&(r.hitArea.width=e,r.hitArea.height=t),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},setCircleDropZone:function(e){return this.setDropZone(new y8(0,0,e),T8)},setRectangleDropZone:function(e,t){return this.setDropZone(new C8(0,0,e,t),E8)},setDropZone:function(e,t){return e===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(e,t,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}}),d0=_8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A8=WD,w8=tC,lo=Y,dw=W,M8=d0,or=new M8({sys:{queueDepthSort:dw,events:{once:dw}}},0,0,1,1),b8=function(e,t){t===void 0&&(t={});var i=lo(t,"width",-1),r=lo(t,"height",-1),n=lo(t,"cellWidth",1),a=lo(t,"cellHeight",n),s=lo(t,"position",w8.TOP_LEFT),o=lo(t,"x",0),l=lo(t,"y",0),h=0,u=0,f=i*n,c=r*a;or.setPosition(o,l),or.setSize(n,a);for(var v=0;v<e.length;v++)if(A8(e[v],or,s),i===-1)u+=a,or.y+=a,u===c&&(u=0,or.x+=n,or.y=l);else if(r===-1)h+=n,or.x+=n,h===f&&(h=0,or.x=o,or.y+=a);else if(h+=n,or.x+=n,h===f&&(h=0,u+=a,or.x=o,or.y+=a,u===c))break;return e},P8=b8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R8=Nn,L8=function(e,t,i,r,n){return R8(e,"alpha",t,i,r,n)},F8=L8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var I8=Nn,O8=function(e,t,i,r,n){return I8(e,"x",t,i,r,n)},D8=O8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vw=Nn,B8=function(e,t,i,r,n,a,s){return i==null&&(i=t),vw(e,"x",t,r,a,s),vw(e,"y",i,n,a,s)},N8=B8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var G8=Nn,k8=function(e,t,i,r,n){return G8(e,"y",t,i,r,n)},$8=k8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var z8=function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var n=i,a=(r-i)/e.length,s=0;s<e.length;s++)e[s].x=t.x+t.radius*Math.cos(n),e[s].y=t.y+t.radius*Math.sin(n),n+=a;return e},V8=z8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var U8=function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var n=i,a=(r-i)/e.length,s=t.width/2,o=t.height/2,l=0;l<e.length;l++)e[l].x=t.x+s*Math.cos(n),e[l].y=t.y+o*Math.sin(n),n+=a;return e},W8=U8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Y8=oC,H8=function(e,t){for(var i=Y8(t,e.length),r=0;r<e.length;r++){var n=e[r],a=i[r];n.x=a.x,n.y=a.y}return e},X8=H8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pw=f0,K8=ce,q8=function(e,t,i,r){if(r===void 0&&(r=[]),!t&&!i)return r;t?i=Math.round(pw(e)/t):t=pw(e)/i;for(var n=e.x,a=e.y,s=0,o=0;o<i;o++)switch(r.push(new K8(n,a)),s){case 0:n+=t,n>=e.right&&(s=1,a+=n-e.right,n=e.right);break;case 1:a+=t,a>=e.bottom&&(s=2,n-=a-e.bottom,a=e.bottom);break;case 2:n-=t,n<=e.left&&(s=3,a-=e.left-n,n=e.left);break;case 3:a-=t,a<=e.top&&(s=0,a=e.top);break}return r},dB=q8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J8=function(e,t){t===void 0&&(t=1);for(var i=null,r=0;r<t;r++)i=e.shift(),e.push(i);return i},vB=J8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Z8=function(e,t){t===void 0&&(t=1);for(var i=null,r=0;r<t;r++)i=e.pop(),e.unshift(i);return i},pB=Z8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q8=dB,j8=vB,eY=pB,tY=function(e,t,i){i===void 0&&(i=0);var r=Q8(t,!1,e.length);i>0?j8(r,i):i<0&&eY(r,Math.abs(i));for(var n=0;n<e.length;n++)e[n].x=r[n].x,e[n].y=r[n].y;return e},iY=tY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rY=function(e,t,i){t===void 0&&(t=1),i===void 0&&(i=[]);var r=Math.round(e.x1),n=Math.round(e.y1),a=Math.round(e.x2),s=Math.round(e.y2),o=Math.abs(a-r),l=Math.abs(s-n),h=r<a?1:-1,u=n<s?1:-1,f=o-l;i.push({x:r,y:n});for(var c=1;!(r===a&&n===s);){var v=f<<1;v>-l&&(f-=l,r+=h),v<o&&(f+=o,n+=u),c%t===0&&i.push({x:r,y:n}),c++}return i},mB=rY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ym=mB,nY=function(e,t,i){var r=Ym({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},i),n=Ym({x1:t.x2,y1:t.y2,x2:t.x3,y2:t.y3},i),a=Ym({x1:t.x3,y1:t.y3,x2:t.x1,y2:t.y1},i);r.pop(),n.pop(),a.pop(),r=r.concat(n,a);for(var s=r.length/e.length,o=0,l=0;l<e.length;l++){var h=e[l],u=r[Math.floor(o)];h.x=u.x,h.y=u.y,o+=s}return e},aY=nY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sY=function(e,t,i){for(var r=0;r<e.length;r++)e[r].anims.play(t,i);return e},oY=sY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lY=function(e,t,i,r,n,a){r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=1);var s,o=0,l=e.length;if(a===1)for(s=n;s<l;s++)e[s][t]=i+o*r,o++;else for(s=n;s>=0;s--)e[s][t]=i+o*r,o++;return e},di=lY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hY=nC,uY=function(e,t){for(var i=0;i<e.length;i++)hY(t,e[i]);return e},fY=uY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cY=ce,dY=function(e,t){t===void 0&&(t=new cY);var i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return t.x=e.x+r*Math.cos(i)*e.width/2,t.y=e.y+r*Math.sin(i)*e.height/2,t},dC=dY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vY=dC,pY=function(e,t){for(var i=0;i<e.length;i++)vY(t,e[i]);return e},mY=pY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gY=lC,xY=function(e,t){for(var i=0;i<e.length;i++)gY(t,e[i]);return e},yY=xY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TY=hC,SY=function(e,t){for(var i=0;i<e.length;i++)TY(t,e[i]);return e},CY=SY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EY=ce,_Y=function(e,t){t===void 0&&(t=new EY);var i=e.x2-e.x1,r=e.y2-e.y1,n=e.x3-e.x1,a=e.y3-e.y1,s=Math.random(),o=Math.random();return s+o>=1&&(s=1-s,o=1-o),t.x=e.x1+(i*s+n*o),t.y=e.y1+(r*s+a*o),t},vC=_Y;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AY=vC,wY=function(e,t){for(var i=0;i<e.length;i++)AY(t,e[i]);return e},MY=wY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bY=Nn,PY=function(e,t,i,r,n){return bY(e,"rotation",t,i,r,n)},RY=PY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LY=function(e,t,i,r,n){var a=r+Math.atan2(e.y-i,e.x-t);return e.x=t+n*Math.cos(a),e.y=i+n*Math.sin(a),e},pC=LY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FY=function(e,t,i,r){var n=e-i,a=t-r;return Math.sqrt(n*n+a*a)},Zs=FY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IY=pC,OY=Zs,DY=function(e,t,i){for(var r=t.x,n=t.y,a=0;a<e.length;a++){var s=e[a];IY(s,r,n,i,Math.max(1,OY(s.x,s.y,r,n)))}return e},BY=DY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NY=pC,GY=function(e,t,i,r){var n=t.x,a=t.y;if(r===0)return e;for(var s=0;s<e.length;s++)NY(e[s],n,a,i,r);return e},kY=GY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $Y=Nn,zY=function(e,t,i,r,n){return $Y(e,"scaleX",t,i,r,n)},VY=zY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mw=Nn,UY=function(e,t,i,r,n,a,s){return i==null&&(i=t),mw(e,"scaleX",t,r,a,s),mw(e,"scaleY",i,n,a,s)},WY=UY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YY=Nn,HY=function(e,t,i,r,n){return YY(e,"scaleY",t,i,r,n)},XY=HY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var KY=di,qY=function(e,t,i,r,n){return KY(e,"alpha",t,i,r,n)},JY=qY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZY=di,QY=function(e,t,i,r){return ZY(e,"blendMode",t,0,i,r)},jY=QY;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eH=di,tH=function(e,t,i,r,n){return eH(e,"depth",t,i,r,n)},iH=tH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rH=function(e,t,i){for(var r=0;r<e.length;r++)e[r].setInteractive(t,i);return e},nH=rH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gw=di,aH=function(e,t,i,r,n,a,s){return i==null&&(i=t),gw(e,"originX",t,r,a,s),gw(e,"originY",i,n,a,s)},sH=aH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oH=di,lH=function(e,t,i,r,n){return oH(e,"rotation",t,i,r,n)},hH=lH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xw=di,uH=function(e,t,i,r,n,a,s){return i==null&&(i=t),xw(e,"scaleX",t,r,a,s),xw(e,"scaleY",i,n,a,s)},fH=uH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cH=di,dH=function(e,t,i,r,n){return cH(e,"scaleX",t,i,r,n)},vH=dH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pH=di,mH=function(e,t,i,r,n){return pH(e,"scaleY",t,i,r,n)},gH=mH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yw=di,xH=function(e,t,i,r,n,a,s){return i==null&&(i=t),yw(e,"scrollFactorX",t,r,a,s),yw(e,"scrollFactorY",i,n,a,s)},yH=xH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TH=di,SH=function(e,t,i,r,n){return TH(e,"scrollFactorX",t,i,r,n)},CH=SH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EH=di,_H=function(e,t,i,r,n){return EH(e,"scrollFactorY",t,i,r,n)},AH=_H;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wH=function(e,t,i,r,n){for(var a=0;a<e.length;a++)e[a].setTint(t,i,r,n);return e},MH=wH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bH=di,PH=function(e,t,i,r){return bH(e,"visible",t,0,i,r)},RH=PH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LH=di,FH=function(e,t,i,r,n){return LH(e,"x",t,i,r,n)},IH=FH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tw=di,OH=function(e,t,i,r,n,a,s){return i==null&&(i=t),Tw(e,"x",t,r,a,s),Tw(e,"y",i,n,a,s)},DH=OH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BH=di,NH=function(e,t,i,r,n){return BH(e,"y",t,i,r,n)},GH=NH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kH=oe,$H=function(e,t,i,r,n){r===void 0&&(r=0),n===void 0&&(n=new kH);var a,s;if(e.length>1){var o,l,h,u;if(r===0){var f=e.length-1;for(a=e[f].x,s=e[f].y,o=f-1;o>=0;o--)u=e[o],l=u.x,h=u.y,u.x=a,u.y=s,a=l,s=h;e[f].x=t,e[f].y=i}else{for(a=e[0].x,s=e[0].y,o=1;o<e.length;o++)u=e[o],l=u.x,h=u.y,u.x=a,u.y=s,a=l,s=h;e[0].x=t,e[0].y=i}}else a=e[0].x,s=e[0].y,e[0].x=t,e[0].y=i;return n.x=a,n.y=s,n},zH=$H;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VH=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[i],e[i]=r}return e},v0=VH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var UH=v0,WH=function(e){return UH(e)},YH=WH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HH=function(e,t,i){return e=Math.max(0,Math.min(1,(e-t)/(i-t))),e*e*e*(e*(e*6-15)+10)},mC=HH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sw=mC,XH=function(e,t,i,r,n){n===void 0&&(n=!1);var a=Math.abs(r-i)/e.length,s;if(n)for(s=0;s<e.length;s++)e[s][t]+=Sw(s*a,i,r);else for(s=0;s<e.length;s++)e[s][t]=Sw(s*a,i,r);return e},KH=XH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qH=function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))},gC=qH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cw=gC,JH=function(e,t,i,r,n){n===void 0&&(n=!1);var a=Math.abs(r-i)/e.length,s;if(n)for(s=0;s<e.length;s++)e[s][t]+=Cw(s*a,i,r);else for(s=0;s<e.length;s++)e[s][t]=Cw(s*a,i,r);return e},ZH=JH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QH=function(e,t,i,r,n){n===void 0&&(n=!1);var a=Math.abs(r-i)/e.length,s;if(n)for(s=0;s<e.length;s++)e[s][t]+=s*a+i;else for(s=0;s<e.length;s++)e[s][t]=s*a+i;return e},jH=QH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eX=function(e){for(var t=0;t<e.length;t++)e[t].visible=!e[t].visible;return e},tX=eX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ew=Js,iX=function(e,t,i){i===void 0&&(i=0);for(var r=0;r<e.length;r++){var n=e[r];n.x=Ew(n.x,t.left-i,t.right+i),n.y=Ew(n.y,t.top-i,t.bottom+i)}return e},rX=iX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gB={Angle:Oz,Call:Bz,GetFirst:Gz,GetLast:$z,GridAlign:P8,IncAlpha:F8,IncX:D8,IncXY:N8,IncY:$8,PlaceOnCircle:V8,PlaceOnEllipse:W8,PlaceOnLine:X8,PlaceOnRectangle:iY,PlaceOnTriangle:aY,PlayAnimation:oY,PropertyValueInc:Nn,PropertyValueSet:di,RandomCircle:fY,RandomEllipse:mY,RandomLine:yY,RandomRectangle:CY,RandomTriangle:MY,Rotate:RY,RotateAround:BY,RotateAroundDistance:kY,ScaleX:VY,ScaleXY:WY,ScaleY:XY,SetAlpha:JY,SetBlendMode:jY,SetDepth:iH,SetHitArea:nH,SetOrigin:sH,SetRotation:hH,SetScale:fH,SetScaleX:vH,SetScaleY:gH,SetScrollFactor:yH,SetScrollFactorX:CH,SetScrollFactorY:AH,SetTint:MH,SetVisible:RH,SetX:IH,SetXY:DH,SetY:GH,ShiftPosition:zH,Shuffle:YH,SmootherStep:KH,SmoothStep:ZH,Spread:jH,ToggleVisible:tX,WrapInRectangle:rX};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nX=O,aX=new nX({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var i=0;i<t.length;i++)this.set(t[i][0],t[i][1])},set:function(e,t){return this.has(e)||this.size++,this.entries[e]=t,this},get:function(e){if(this.has(e))return this.entries[e]},getArray:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},has:function(e){return this.entries.hasOwnProperty(e)},delete:function(e){return this.has(e)&&(delete this.entries[e],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(e){delete this.entries[e]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},dump:function(){var e=this.entries;console.group("Map");for(var t in e)console.log(t,e[t]);console.groupEnd()},each:function(e){var t=this.entries;for(var i in t)if(e(i,t[i])===!1)break;return this},contains:function(e){var t=this.entries;for(var i in t)if(t[i]===e)return!0;return!1},merge:function(e,t){t===void 0&&(t=!1);var i=this.entries,r=e.entries;for(var n in r)i.hasOwnProperty(n)&&t?i[n]=r[n]:this.set(n,r[n]);return this}}),xC=aX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sX=function(e,t,i,r){t===void 0&&(t=0),i===void 0&&(i=" "),r===void 0&&(r=3),e=e.toString();var n=0;if(t+1>=e.length)switch(r){case 1:e=new Array(t+1-e.length).join(i)+e;break;case 3:var a=Math.ceil((n=t-e.length)/2),s=n-a;e=new Array(s+1).join(i)+e+new Array(a+1).join(i);break;default:e=e+new Array(t+1-e.length).join(i);break}return e},yC=sX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oX=aC,lX=O,hX=xC,_w=Me,du=u0,Aw=At,lr=me,ww=yC,uX=new lX({Extends:_w,initialize:function(t){_w.call(this),this.game=t,this.textureManager=null,this.globalTimeScale=1,this.anims=new hX,this.paused=!1,this.name="AnimationManager",t.events.once(Aw.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(Aw.DESTROY,this.destroy,this)},add:function(e,t){if(this.anims.has(e)){console.warn("Animation key exists: "+e);return}return t.key=e,this.anims.set(e,t),this.emit(du.ADD_ANIMATION,e,t),this},exists:function(e){return this.anims.has(e)},create:function(e){var t=e.key,i=!1;return t&&(i=this.get(t),i||(i=new oX(this,t,e),this.anims.set(t,i),this.emit(du.ADD_ANIMATION,t,i))),i},fromJSON:function(e,t){t===void 0&&(t=!1),t&&this.anims.clear(),typeof e=="string"&&(e=JSON.parse(e));var i=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var r=0;r<e.anims.length;r++)i.push(this.create(e.anims[r]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&e.type==="frame"&&i.push(this.create(e));return i},generateFrameNames:function(e,t){var i=lr(t,"prefix",""),r=lr(t,"start",0),n=lr(t,"end",0),a=lr(t,"suffix",""),s=lr(t,"zeroPad",0),o=lr(t,"outputArray",[]),l=lr(t,"frames",!1),h=this.textureManager.get(e);if(!h)return o;var u=r<n?1:-1;n+=u;var f,c;if(t)if(Array.isArray(l))for(f=0;f<l.length;f++)c=i+ww(l[f],s,"0",1)+a,h.has(c)&&o.push({key:e,frame:c});else for(f=r;f!==n;f+=u)c=i+ww(f,s,"0",1)+a,h.has(c)&&o.push({key:e,frame:c});else for(l=h.getFrameNames(),f=0;f<l.length;f++)o.push({key:e,frame:l[f]});return o},generateFrameNumbers:function(e,t){var i=lr(t,"start",0),r=lr(t,"end",-1),n=lr(t,"first",!1),a=lr(t,"outputArray",[]),s=lr(t,"frames",!1),o=this.textureManager.get(e);if(!o)return a;n&&o.has(n)&&a.push({key:e,frame:n});var l;if(Array.isArray(s))for(l=0;l<s.length;l++)o.has(s[l])&&a.push({key:e,frame:s[l]});else{r===-1&&(r=o.frameTotal);var h=i<r?1:-1;for(r+=h,l=i;l!==r;l+=h)o.has(l)&&a.push({key:e,frame:l})}return a},get:function(e){return this.anims.get(e)},load:function(e,t,i){var r=this.get(t);return r?r.load(e,i):console.warn("Missing animation: "+t),e},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(du.PAUSE_ALL)),this},play:function(e,t){Array.isArray(t)||(t=[t]);var i=this.get(e);if(i){for(var r=0;r<t.length;r++)t[r].anims.play(e);return this}},remove:function(e){var t=this.get(e);return t&&(this.emit(du.REMOVE_ANIMATION,e,t),this.anims.delete(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(du.RESUME_ALL)),this},staggerPlay:function(e,t,i){i===void 0&&(i=0),Array.isArray(t)||(t=[t]);var r=this.get(e);if(r){for(var n=0;n<t.length;n++)t[n].anims.delayedPlay(i*n,e);return this}},toJSON:function(e){if(e!==void 0&&e!=="")return this.anims.get(e).toJSON();var t={anims:[],globalTimeScale:this.globalTimeScale};return this.anims.each(function(i,r){t.anims.push(r.toJSON())}),t},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}}),xB=uX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fX={Animation:aC,AnimationFrame:QD,AnimationManager:xB,Events:u0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cX="add";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dX="remove";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yB={ADD:cX,REMOVE:dX};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vX=O,pX=xC,mX=Me,Mw=yB,gX=new vX({initialize:function(){this.entries=new pX,this.events=new mX},add:function(e,t){return this.entries.set(e,t),this.events.emit(Mw.ADD,this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit(Mw.REMOVE,this,e,t.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}}),TB=gX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qi=TB,xX=O,yX=At,TX=new xX({initialize:function(t){this.game=t,this.binary=new qi,this.bitmapFont=new qi,this.json=new qi,this.physics=new qi,this.shader=new qi,this.audio=new qi,this.video=new qi,this.text=new qi,this.html=new qi,this.obj=new qi,this.tilemap=new qi,this.xml=new qi,this.custom={},this.game.events.once(yX.DESTROY,this.destroy,this)},addCustom:function(e){return this.custom.hasOwnProperty(e)||(this.custom[e]=new qi),this.custom[e]},destroy:function(){for(var e=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<e.length;t++)this[e[t]].destroy(),this[e[t]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}}),SB=TX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SX={BaseCache:TB,CacheManager:SB,Events:yB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CX=O,kr=me,EX=new CX({initialize:function(t){this.camera=kr(t,"camera",null),this.left=kr(t,"left",null),this.right=kr(t,"right",null),this.up=kr(t,"up",null),this.down=kr(t,"down",null),this.zoomIn=kr(t,"zoomIn",null),this.zoomOut=kr(t,"zoomOut",null),this.zoomSpeed=kr(t,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var i=kr(t,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=kr(t,"speed.x",0),this.speedY=kr(t,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){e===void 0&&(e=1);var t=this.camera;this.up&&this.up.isDown?t.scrollY-=this.speedY*e|0:this.down&&this.down.isDown&&(t.scrollY+=this.speedY*e|0),this.left&&this.left.isDown?t.scrollX-=this.speedX*e|0:this.right&&this.right.isDown&&(t.scrollX+=this.speedX*e|0),this.zoomIn&&this.zoomIn.isDown?(t.zoom-=this.zoomSpeed,t.zoom<.1&&(t.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(t.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}}),_X=EX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AX=O,Ut=me,wX=new AX({initialize:function(t){this.camera=Ut(t,"camera",null),this.left=Ut(t,"left",null),this.right=Ut(t,"right",null),this.up=Ut(t,"up",null),this.down=Ut(t,"down",null),this.zoomIn=Ut(t,"zoomIn",null),this.zoomOut=Ut(t,"zoomOut",null),this.zoomSpeed=Ut(t,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var i=Ut(t,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=Ut(t,"acceleration.x",0),this.accelY=Ut(t,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=Ut(t,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=Ut(t,"drag.x",0),this.dragY=Ut(t,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var n=Ut(t,"maxSpeed",null);typeof n=="number"?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=Ut(t,"maxSpeed.x",0),this.maxSpeedY=Ut(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){e===void 0&&(e=1);var t=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(t.scrollX-=this._speedX*e|0),this._speedY!==0&&(t.scrollY-=this._speedY*e|0),this._zoom!==0&&(t.zoom+=this._zoom,t.zoom<.001&&(t.zoom=.001))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}}),MX=wX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bX={FixedKeyControl:_X,SmoothedKeyControl:MX};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PX="cameradestroy";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RX="camerafadeincomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LX="camerafadeinstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FX="camerafadeoutcomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IX="camerafadeoutstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OX="cameraflashcomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DX="cameraflashstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BX="camerapancomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NX="camerapanstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GX="postrender";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kX="prerender";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $X="camerashakecomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zX="camerashakestart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VX="camerazoomcomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var UX="camerazoomstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ra={DESTROY:PX,FADE_IN_COMPLETE:RX,FADE_IN_START:LX,FADE_OUT_COMPLETE:FX,FADE_OUT_START:IX,FLASH_COMPLETE:OX,FLASH_START:DX,PAN_COMPLETE:BX,PAN_START:NX,POST_RENDER:GX,PRE_RENDER:kX,SHAKE_COMPLETE:$X,SHAKE_START:zX,ZOOM_COMPLETE:VX,ZOOM_START:UX};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WX=function(e,t,i){return e<<16|t<<8|i},TC=WX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YX=function(e,t,i,r){return r<<24|e<<16|t<<8|i},CB=YX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bw=TC,HX=function(e,t,i,r){t===void 0&&(t=1),i===void 0&&(i=1);var n=Math.floor(e*6),a=e*6-n,s=Math.floor(i*(1-t)*255),o=Math.floor(i*(1-a*t)*255),l=Math.floor(i*(1-(1-a)*t)*255);i=Math.floor(i*=255);var h=i,u=i,f=i,c=n%6;return c===0?(u=l,f=s):c===1?(h=o,f=s):c===2?(h=s,f=l):c===3?(h=s,u=o):c===4?(h=l,u=s):c===5&&(u=s,f=o),r?r.setTo?r.setTo(h,u,f,r.alpha,!1):(r.r=h,r.g=u,r.b=f,r.color=bw(h,u,f),r):{r:h,g:u,b:f,color:bw(h,u,f)}},SC=HX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XX=function(e,t,i,r){r===void 0&&(r={h:0,s:0,v:0}),e/=255,t/=255,i/=255;var n=Math.min(e,t,i),a=Math.max(e,t,i),s=a-n,o=0,l=a===0?0:s/a,h=a;return a!==n&&(a===e?o=(t-i)/s+(t<i?6:0):a===t?o=(i-e)/s+2:a===i&&(o=(e-t)/s+4),o/=6),r.hasOwnProperty("_h")?(r._h=o,r._s=l,r._v=h):(r.h=o,r.s=l,r.v=h),r},EB=XX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var KX=O,qX=TC,JX=CB,nd=SC,Pw=EB,_B=new KX({initialize:function(t,i,r,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,i,r,n)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(e,t,i,r,n){return r===void 0&&(r=255),n===void 0&&(n=!0),this._locked=!0,this.red=e,this.green=t,this.blue=i,this.alpha=r,this._locked=!1,this.update(n)},setGLTo:function(e,t,i,r){return r===void 0&&(r=1),this._locked=!0,this.redGL=e,this.greenGL=t,this.blueGL=i,this.alphaGL=r,this._locked=!1,this.update(!0)},setFromRGB:function(e){return this._locked=!0,this.red=e.r,this.green=e.g,this.blue=e.b,e.hasOwnProperty("a")&&(this.alpha=e.a),this._locked=!1,this.update(!0)},setFromHSV:function(e,t,i){return nd(e,t,i,this)},update:function(e){if(e===void 0&&(e=!1),this._locked)return this;var t=this.r,i=this.g,r=this.b,n=this.a;return this._color=qX(t,i,r),this._color32=JX(t,i,r,n),this._rgba="rgba("+t+","+i+","+r+","+n/255+")",e&&Pw(t,i,r,this),this},updateHSV:function(){var e=this.r,t=this.g,i=this.b;return Pw(e,t,i,this),this},clone:function(){return new _B(this.r,this.g,this.b,this.a)},gray:function(e){return this.setTo(e,e,e)},random:function(e,t){e===void 0&&(e=0),t===void 0&&(t=255);var i=Math.floor(e+Math.random()*(t-e)),r=Math.floor(e+Math.random()*(t-e)),n=Math.floor(e+Math.random()*(t-e));return this.setTo(i,r,n)},randomGray:function(e,t){e===void 0&&(e=0),t===void 0&&(t=255);var i=Math.floor(e+Math.random()*(t-e));return this.setTo(i,i,i)},saturate:function(e){return this.s+=e/100,this},desaturate:function(e){return this.s-=e/100,this},lighten:function(e){return this.v+=e/100,this},darken:function(e){return this.v-=e/100,this},brighten:function(e){var t=this.r,i=this.g,r=this.b;return t=Math.max(0,Math.min(255,t-Math.round(255*-(e/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(e/100)))),r=Math.max(0,Math.min(255,r-Math.round(255*-(e/100)))),this.setTo(t,i,r)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(e){this.gl[0]=Math.min(Math.abs(e),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(e){this.gl[1]=Math.min(Math.abs(e),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(e){this.gl[2]=Math.min(Math.abs(e),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(e){this.gl[3]=Math.min(Math.abs(e),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(e){e=Math.floor(Math.abs(e)),this.r=Math.min(e,255),this.gl[0]=e/255,this.update(!0)}},green:{get:function(){return this.g},set:function(e){e=Math.floor(Math.abs(e)),this.g=Math.min(e,255),this.gl[1]=e/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(e){e=Math.floor(Math.abs(e)),this.b=Math.min(e,255),this.gl[2]=e/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(e){e=Math.floor(Math.abs(e)),this.a=Math.min(e,255),this.gl[3]=e/255,this.update()}},h:{get:function(){return this._h},set:function(e){this._h=e,nd(e,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(e){this._s=e,nd(this._h,e,this._v,this)}},v:{get:function(){return this._v},set:function(e){this._v=e,nd(this._h,this._s,e,this)}}}),un=_B;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZX=un,QX=function(e){var t=new ZX;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,o,l,h){return o+o+l+l+h+h});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(i){var r=parseInt(i[1],16),n=parseInt(i[2],16),a=parseInt(i[3],16);t.setTo(r,n,a)}return t},AB=QX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jX=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}},wB=jX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eK=un,tK=wB,iK=function(e){var t=tK(e);return new eK(t.r,t.g,t.b,t.a)},MB=iK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rK=un,nK=function(e){return new rK(e.r,e.g,e.b,e.a)},bB=nK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aK=un,sK=function(e){var t=new aK,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e.toLowerCase());if(i){var r=parseInt(i[1],10),n=parseInt(i[2],10),a=parseInt(i[3],10),s=i[4]!==void 0?parseFloat(i[4]):1;t.setTo(r,n,a,s*255)}return t},PB=sK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oK=AB,lK=MB,hK=bB,uK=PB,fK=function(e){var t=typeof e;switch(t){case"string":return e.substr(0,3).toLowerCase()==="rgb"?uK(e):oK(e);case"number":return lK(e);case"object":return hK(e)}},CC=fK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cK=O,Rw=Ke,dK=kn,Lw=Me,vK=Ra,Hm=Ve,pK=hn,Fw=CC,Xm=oe,mK=new cK({Extends:Lw,Mixins:[Rw.Alpha,Rw.Visible],initialize:function(t,i,r,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),Lw.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new Hm,this.dirty=!0,this._x=t,this._y=i,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=r,this._height=n,this._bounds=new Hm,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new pK,this.transparent=!0,this.backgroundColor=Fw("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new Xm(r/2,n/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(e,t){return e===void 0&&(e=.5),t===void 0&&(t=e),this.originX=e,this.originY=t,this},getScroll:function(e,t,i){i===void 0&&(i=new Xm);var r=this.width*.5,n=this.height*.5;return i.x=e-r,i.y=t-n,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(e){var t=this.width*.5;return this.midPoint.x=e,this.scrollX=e-t,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(e){var t=this.height*.5;return this.midPoint.y=e,this.scrollY=e-t,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(e,t){return this.centerOnX(e),this.centerOnY(t),this},centerToBounds:function(){if(this.useBounds){var e=this._bounds,t=this.width*.5,i=this.height*.5;this.midPoint.set(e.centerX,e.centerY),this.scrollX=e.centerX-t,this.scrollY=e.centerY-i}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(e){if(this.disableCull)return e;var t=this.matrix.matrix,i=t[0],r=t[1],n=t[2],a=t[3],s=i*a-r*n;if(!s)return e;var o=t[4],l=t[5],h=this.scrollX,u=this.scrollY,f=this.width,c=this.height,v=this.culledObjects,p=e.length;s=1/s,v.length=0;for(var m=0;m<p;++m){var x=e[m];if(!x.hasOwnProperty("width")||x.parentContainer){v.push(x);continue}var g=x.width,T=x.height,S=x.x-h*x.scrollFactorX-g*x.originX,E=x.y-u*x.scrollFactorY-T*x.originY,_=S*i+E*n+o,w=S*r+E*a+l,R=(S+g)*i+(E+T)*n+o,F=(S+g)*r+(E+T)*a+l,k=this.y,B=k+c,N=this.x,d=N+f;R>N&&_<d&&F>k&&w<B&&v.push(x)}return v},getWorldPoint:function(e,t,i){i===void 0&&(i=new Xm);var r=this.matrix.matrix,n=r[0],a=r[1],s=r[2],o=r[3],l=r[4],h=r[5],u=n*o-a*s;if(!u)return i.x=e,i.y=t,i;u=1/u;var f=o*u,c=-a*u,v=-s*u,p=n*u,m=(s*h-o*l)*u,x=(a*l-n*h)*u,g=Math.cos(this.rotation),T=Math.sin(this.rotation),S=this.zoom,E=this.resolution,_=this.scrollX,w=this.scrollY,R=e+(_*g-w*T)*S,F=t+(_*T+w*g)*S;return i.x=(R*f+F*v)*E+m,i.y=(R*c+F*p)*E+x,i},ignore:function(e){var t=this.id;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?this.ignore(r):r.isParent?this.ignore(r.getChildren()):r.cameraFilter|=t}return this},preRender:function(e){var t=this.width,i=this.height,r=t*.5,n=i*.5,a=this.zoom*e,s=this.matrix,o=t*this.originX,l=i*this.originY,h=this.scrollX,u=this.scrollY;this.useBounds&&(h=this.clampX(h),u=this.clampY(u)),this.roundPixels&&(o=Math.round(o),l=Math.round(l)),this.scrollX=h,this.scrollY=u;var f=h+r,c=u+n;this.midPoint.set(f,c);var v=t/a,p=i/a;this.worldView.setTo(f-v/2,c-p/2,v,p),s.applyITRS(this.x+o,this.y+l,this.rotation,a,a),s.translate(-o,-l)},clampX:function(e){var t=this._bounds,i=this.displayWidth,r=t.x+(i-this.width)/2,n=Math.max(r,r+t.width-i);return e<r?e=r:e>n&&(e=n),e},clampY:function(e){var t=this._bounds,i=this.displayHeight,r=t.y+(i-this.height)/2,n=Math.max(r,r+t.height-i);return e<r?e=r:e>n&&(e=n),e},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(e){return e===void 0&&(e=0),this.rotation=dK(e),this},setBackgroundColor:function(e){return e===void 0&&(e="rgba(0,0,0,0)"),this.backgroundColor=Fw(e),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(e,t,i,r,n){return n===void 0&&(n=!1),this._bounds.setTo(e,t,i,r),this.dirty=!0,this.useBounds=!0,n?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(e){e===void 0&&(e=new Hm);var t=this._bounds;return e.setTo(t.x,t.y,t.width,t.height),e},setName:function(e){return e===void 0&&(e=""),this.name=e,this},setPosition:function(e,t){return t===void 0&&(t=e),this.x=e,this.y=t,this},setRotation:function(e){return e===void 0&&(e=0),this.rotation=e,this},setRoundPixels:function(e){return this.roundPixels=e,this},setScene:function(e){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=e;var t=e.sys;this.sceneManager=t.game.scene,this.scaleManager=t.scale,this.cameraManager=t.cameras;var i=this.scaleManager.resolution;return this.resolution=i,this._cx=this._x*i,this._cy=this._y*i,this._cw=this._width*i,this._ch=this._height*i,this.updateSystem(),this},setScroll:function(e,t){return t===void 0&&(t=e),this.scrollX=e,this.scrollY=t,this},setSize:function(e,t){return t===void 0&&(t=e),this.width=e,this.height=t,this},setViewport:function(e,t,i,r){return this.x=e,this.y=t,this.width=i,this.height=r,this},setZoom:function(e){return e===void 0&&(e=1),e===0&&(e=.001),this.zoom=e,this},setMask:function(e,t){return t===void 0&&(t=!0),this.mask=e,this._maskCamera=t?this.cameraManager.default:this,this},clearMask:function(e){return e===void 0&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var e={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(e.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),e},update:function(){},updateSystem:function(){if(this.scaleManager){var e=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,t=this.sceneManager;e&&!this._customViewport?t.customViewports++:!e&&this._customViewport&&t.customViewports--,this.dirty=!0,this._customViewport=e}},destroy:function(){this.emit(vK.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(e){this._x=e,this._cx=e*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._cy=e*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(e){this._width=e,this._cw=e*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(e){this._height=e,this._ch=e*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(e){this._scrollX=e,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(e){this._scrollY=e,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(e){this._zoom=e,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}}),mc=mK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dn="",gK=function(){var e=function(n){for(var a=["i","webkitI","msI","mozI","oI"],s=0;s<a.length;s++){var o=a[s]+"mageSmoothingEnabled";if(o in n)return o}return null},t=function(n){return dn===""&&(dn=e(n)),dn&&(n[dn]=!0),n},i=function(n){return dn===""&&(dn=e(n)),dn&&(n[dn]=!1),n},r=function(n){return dn!==null?n[dn]:null};return{disable:i,enable:t,getPrefix:e,isEnabled:r}},EC=gK();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ho=Or,xK=EC,uo=[],Km=!1,yK=function(){var e=function(h,u,f,c,v){u===void 0&&(u=1),f===void 0&&(f=1),c===void 0&&(c=ho.CANVAS),v===void 0&&(v=!1);var p,m=r(c);return m===null?(m={parent:h,canvas:document.createElement("canvas"),type:c},c===ho.CANVAS&&uo.push(m),p=m.canvas):(m.parent=h,p=m.canvas),v&&(m.parent=p),p.width=u,p.height=f,Km&&c===ho.CANVAS&&xK.disable(p.getContext("2d")),p},t=function(h,u,f){return e(h,u,f,ho.CANVAS)},i=function(h,u,f){return e(h,u,f,ho.WEBGL)},r=function(h){if(h===void 0&&(h=ho.CANVAS),h===ho.WEBGL)return null;for(var u=0;u<uo.length;u++){var f=uo[u];if(!f.parent&&f.type===h)return f}return null},n=function(h){var u=h instanceof HTMLCanvasElement;uo.forEach(function(f){(u&&f.canvas===h||!u&&f.parent===h)&&(f.parent=null,f.canvas.width=1,f.canvas.height=1)})},a=function(){var h=0;return uo.forEach(function(u){u.parent&&h++}),h},s=function(){return uo.length-a()},o=function(){Km=!0},l=function(){Km=!1};return{create2D:t,create:e,createWebGL:i,disableSmoothing:o,enableSmoothing:l,first:r,free:s,pool:uo,remove:n,total:a}},Mi=yK();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TK=function(e,t,i){return e.x=t-e.width/2,e.y=i-e.height/2,e},_C=TK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SK=$t,CK=O,ad=Ra,EK=new CK({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,r,n,a,s,o){if(e===void 0&&(e=!0),t===void 0&&(t=1e3),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=!1),s===void 0&&(s=null),o===void 0&&(o=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=e,this.progress=0,this.red=i,this.green=r,this.blue=n,this.alpha=e?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=s,this._onUpdateScope=o;var l=e?ad.FADE_OUT_START:ad.FADE_IN_START;return this.camera.emit(l,this.camera,this,t,i,r,n),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=SK(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(e){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t._cx,t._cy,t._cw,t._ch),!0},postRenderWebGL:function(e,t){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,r=this.red/255,n=this.blue/255,a=this.green/255;return e.drawFillRect(i._cx,i._cy,i._cw,i._ch,t(r,a,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var e=this.direction?ad.FADE_OUT_COMPLETE:ad.FADE_IN_COMPLETE;this.camera.emit(e,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}}),_K=EK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AK=$t,wK=O,Iw=Ra,MK=new wK({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,r,n,a,s){return e===void 0&&(e=250),t===void 0&&(t=255),i===void 0&&(i=255),r===void 0&&(r=255),n===void 0&&(n=!1),a===void 0&&(a=null),s===void 0&&(s=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,this.red=t,this.green=i,this.blue=r,this.alpha=1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=s,this.camera.emit(Iw.FLASH_START,this.camera,this,e,t,i,r),this.camera)},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=AK(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(e){if(!this.isRunning)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t._cx,t._cy,t._cw,t._ch),!0},postRenderWebGL:function(e,t){if(!this.isRunning)return!1;var i=this.camera,r=this.red/255,n=this.blue/255,a=this.green/255;return e.drawFillRect(i._cx,i._cy,i._cw,i._ch,t(r,a,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Iw.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}}),bK=MK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PK=function(e,t){return t===void 0&&(t=1.70158),e*e*((t+1)*e-t)},RK=PK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LK=function(e,t){return t===void 0&&(t=1.70158),--e*e*((t+1)*e+t)+1},FK=LK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IK=function(e,t){t===void 0&&(t=1.70158);var i=t*1.525;return(e*=2)<1?.5*(e*e*((i+1)*e-i)):.5*((e-=2)*e*((i+1)*e+i)+2)},OK=IK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RB={In:RK,Out:FK,InOut:OK};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DK=function(e){return e=1-e,e<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)},BK=DK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NK=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},GK=NK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kK=function(e){var t=!1;return e<.5?(e=1-e*2,t=!0):e=e*2-1,e<1/2.75?e=7.5625*e*e:e<2/2.75?e=7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?e=7.5625*(e-=2.25/2.75)*e+.9375:e=7.5625*(e-=2.625/2.75)*e+.984375,t?(1-e)*.5:e*.5+.5},$K=kK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LB={In:BK,Out:GK,InOut:$K};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zK=function(e){return 1-Math.sqrt(1-e*e)},VK=zK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var UK=function(e){return Math.sqrt(1- --e*e)},WK=UK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YK=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},HK=YK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FB={In:VK,Out:WK,InOut:HK};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XK=function(e){return e*e*e},KK=XK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qK=function(e){return--e*e*e+1},JK=qK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZK=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},QK=ZK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IB={In:KK,Out:JK,InOut:QK};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jK=function(e,t,i){if(t===void 0&&(t=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return t<1?t=1:r=i*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i))},eq=jK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tq=function(e,t,i){if(t===void 0&&(t=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return t<1?t=1:r=i*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/i)+1},iq=tq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rq=function(e,t,i){if(t===void 0&&(t=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return t<1?t=1:r=i*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?-.5*(t*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)):t*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)*.5+1},nq=rq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OB={In:eq,Out:iq,InOut:nq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aq=function(e){return Math.pow(2,10*(e-1))-.001},sq=aq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oq=function(e){return 1-Math.pow(2,-10*e)},lq=oq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hq=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))},uq=hq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DB={In:sq,Out:lq,InOut:uq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fq=function(e){return e},cq=fq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BB=cq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dq=function(e){return e*e},vq=dq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pq=function(e){return e*(2-e)},mq=pq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gq=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},xq=gq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NB={In:vq,Out:mq,InOut:xq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yq=function(e){return e*e*e*e},Tq=yq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sq=function(e){return 1- --e*e*e*e},Cq=Sq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Eq=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},_q=Eq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GB={In:Tq,Out:Cq,InOut:_q};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Aq=function(e){return e*e*e*e*e},wq=Aq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mq=function(e){return--e*e*e*e*e+1},bq=Mq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pq=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},Rq=Pq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kB={In:wq,Out:bq,InOut:Rq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lq=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)},Fq=Lq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Iq=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)},Oq=Iq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dq=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))},Bq=Dq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $B={In:Fq,Out:Oq,InOut:Bq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nq=function(e,t){return t===void 0&&(t=1),e<=0?0:e>=1?1:((t*e|0)+1)*(1/t)},Gq=Nq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zB=Gq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sd=RB,od=LB,ld=FB,vu=IB,hd=OB,ud=DB,Ow=BB,pu=NB,mu=GB,gu=kB,fd=$B,kq=zB,AC={Power0:Ow,Power1:pu.Out,Power2:vu.Out,Power3:mu.Out,Power4:gu.Out,Linear:Ow,Quad:pu.Out,Cubic:vu.Out,Quart:mu.Out,Quint:gu.Out,Sine:fd.Out,Expo:ud.Out,Circ:ld.Out,Elastic:hd.Out,Back:sd.Out,Bounce:od.Out,Stepped:kq,"Quad.easeIn":pu.In,"Cubic.easeIn":vu.In,"Quart.easeIn":mu.In,"Quint.easeIn":gu.In,"Sine.easeIn":fd.In,"Expo.easeIn":ud.In,"Circ.easeIn":ld.In,"Elastic.easeIn":hd.In,"Back.easeIn":sd.In,"Bounce.easeIn":od.In,"Quad.easeOut":pu.Out,"Cubic.easeOut":vu.Out,"Quart.easeOut":mu.Out,"Quint.easeOut":gu.Out,"Sine.easeOut":fd.Out,"Expo.easeOut":ud.Out,"Circ.easeOut":ld.Out,"Elastic.easeOut":hd.Out,"Back.easeOut":sd.Out,"Bounce.easeOut":od.Out,"Quad.easeInOut":pu.InOut,"Cubic.easeInOut":vu.InOut,"Quart.easeInOut":mu.InOut,"Quint.easeInOut":gu.InOut,"Sine.easeInOut":fd.InOut,"Expo.easeInOut":ud.InOut,"Circ.easeInOut":ld.InOut,"Elastic.easeInOut":hd.InOut,"Back.easeInOut":sd.InOut,"Bounce.easeInOut":od.InOut};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $q=$t,zq=O,qm=AC,Dw=Ra,Jm=oe,Vq=new zq({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new Jm,this.current=new Jm,this.destination=new Jm,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,r,n,a,s){i===void 0&&(i=1e3),r===void 0&&(r=qm.Linear),n===void 0&&(n=!1),a===void 0&&(a=null),s===void 0&&(s=this.camera.scene);var o=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(o.scrollX,o.scrollY),this.destination.set(e,t),o.getScroll(e,t,this.current),typeof r=="string"&&qm.hasOwnProperty(r)?this.ease=qm[r]:typeof r=="function"&&(this.ease=r),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=s,this.camera.emit(Dw.PAN_START,this.camera,this,i,e,t)),o},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=$q(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var n=this.ease(i);r.getScroll(this.destination.x,this.destination.y,this.current);var a=this.source.x+(this.current.x-this.source.x)*n,s=this.source.y+(this.current.y-this.source.y)*n;r.setScroll(a,s),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,a,s)}else r.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,r.scrollX,r.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Dw.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}}),Uq=Vq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wq=$t,Yq=O,Bw=Ra,Hq=oe,Xq=new Yq({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new Hq,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,r,n){return e===void 0&&(e=100),t===void 0&&(t=.05),i===void 0&&(i=!1),r===void 0&&(r=null),n===void 0&&(n=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof t=="number"?this.intensity.set(t):this.intensity.set(t.x,t.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=n,this.camera.emit(Bw.SHAKE_START,this.camera,this,e,t),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,t){if(this.isRunning)if(this._elapsed+=t,this.progress=Wq(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,r=this.camera._cw,n=this.camera._ch,a=this.camera.zoom;this._offsetX=(Math.random()*i.x*r*2-i.x*r)*a,this._offsetY=(Math.random()*i.y*n*2-i.y*n)*a,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Bw.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}}),Kq=Xq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qq=$t,Jq=O,Zm=AC,Nw=Ra,Zq=new Jq({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,r,n,a){t===void 0&&(t=1e3),i===void 0&&(i=Zm.Linear),r===void 0&&(r=!1),n===void 0&&(n=null),a===void 0&&(a=this.camera.scene);var s=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.source=s.zoom,this.destination=e,typeof i=="string"&&Zm.hasOwnProperty(i)?this.ease=Zm[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=a,this.camera.emit(Nw.ZOOM_START,this.camera,this,t,e)),s},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=qq(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(Nw.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}}),Qq=Zq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VB={Fade:_K,Flash:bK,Pan:Uq,Shake:Kq,Zoom:Qq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jq=function(e,t,i){return(t-e)*i+e},p0=jq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qm=mc,Gw=Mi,kw=_C,$w=$t,eJ=O,zw=Ke,xu=VB,dl=p0,tJ=Ve,Vw=oe,iJ=new eJ({Extends:Qm,Mixins:[zw.Flip,zw.Tint],initialize:function(t,i,r,n){Qm.call(this,t,i,r,n),this.inputEnabled=!0,this.fadeEffect=new xu.Fade(this),this.flashEffect=new xu.Flash(this),this.shakeEffect=new xu.Shake(this),this.panEffect=new xu.Pan(this),this.zoomEffect=new xu.Zoom(this),this.lerp=new Vw(1,1),this.followOffset=new Vw,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(e){var t=this.scene.sys.game.renderer;return t.gl?(this.glTexture=t.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=t.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=Gw.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,e&&this.setPipeline(e),this},setPipeline:function(e){if(typeof e=="string"){var t=this.scene.sys.game.renderer;t.gl&&t.hasPipeline(e)&&(this.pipeline=t.getPipeline(e))}else this.pipeline=e;return this},clearRenderToTexture:function(){if(this.scene){var e=this.scene.sys.game.renderer;if(e)return e.gl?(this.framebuffer&&e.deleteFramebuffer(this.framebuffer),this.glTexture&&e.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(Gw.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this}},setDeadzone:function(e,t){if(e===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=e,this.deadzone.height=t):this.deadzone=new tJ(0,0,e,t),this._follow){var i=this.width/2,r=this.height/2,n=this._follow.x-this.followOffset.x,a=this._follow.y-this.followOffset.y;this.midPoint.set(n,a),this.scrollX=n-i,this.scrollY=a-r}kw(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(e,t,i,r,n,a){return this.fadeEffect.start(!1,e,t,i,r,!0,n,a)},fadeOut:function(e,t,i,r,n,a){return this.fadeEffect.start(!0,e,t,i,r,!0,n,a)},fadeFrom:function(e,t,i,r,n,a,s){return this.fadeEffect.start(!1,e,t,i,r,n,a,s)},fade:function(e,t,i,r,n,a,s){return this.fadeEffect.start(!0,e,t,i,r,n,a,s)},flash:function(e,t,i,r,n,a,s){return this.flashEffect.start(e,t,i,r,n,a,s)},shake:function(e,t,i,r,n){return this.shakeEffect.start(e,t,i,r,n)},pan:function(e,t,i,r,n,a,s){return this.panEffect.start(e,t,i,r,n,a,s)},zoomTo:function(e,t,i,r,n,a){return this.zoomEffect.start(e,t,i,r,n,a)},preRender:function(e){var t=this.width,i=this.height,r=t*.5,n=i*.5,a=this.zoom*e,s=this.matrix,o=t*this.originX,l=i*this.originY,h=this._follow,u=this.deadzone,f=this.scrollX,c=this.scrollY;if(u&&kw(u,this.midPoint.x,this.midPoint.y),h&&!this.panEffect.isRunning){var v=h.x-this.followOffset.x,p=h.y-this.followOffset.y;u?(v<u.x?f=dl(f,f-(u.x-v),this.lerp.x):v>u.right&&(f=dl(f,f+(v-u.right),this.lerp.x)),p<u.y?c=dl(c,c-(u.y-p),this.lerp.y):p>u.bottom&&(c=dl(c,c+(p-u.bottom),this.lerp.y))):(f=dl(f,v-o,this.lerp.x),c=dl(c,p-l,this.lerp.y))}this.useBounds&&(f=this.clampX(f),c=this.clampY(c)),this.roundPixels&&(o=Math.round(o),l=Math.round(l)),this.scrollX=f,this.scrollY=c;var m=f+r,x=c+n;this.midPoint.set(m,x);var g=t/a,T=i/a;this.worldView.setTo(m-g/2,x-T/2,g,T),s.applyITRS(this.x+o,this.y+l,this.rotation,a,a),s.translate(-o,-l),this.shakeEffect.preRender()},setLerp:function(e,t){return e===void 0&&(e=1),t===void 0&&(t=e),this.lerp.set(e,t),this},setFollowOffset:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.followOffset.set(e,t),this},startFollow:function(e,t,i,r,n,a){t===void 0&&(t=!1),i===void 0&&(i=1),r===void 0&&(r=i),n===void 0&&(n=0),a===void 0&&(a=n),this._follow=e,this.roundPixels=t,i=$w(i,0,1),r=$w(r,0,1),this.lerp.set(i,r),this.followOffset.set(n,a);var s=this.width/2,o=this.height/2,l=e.x-n,h=e.y-a;return this.midPoint.set(l,h),this.scrollX=l-s,this.scrollY=h-o,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(e,t){this.visible&&(this.panEffect.update(e,t),this.zoomEffect.update(e,t),this.shakeEffect.update(e,t),this.flashEffect.update(e,t),this.fadeEffect.update(e,t))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),Qm.prototype.destroy.call(this),this._follow=null,this.deadzone=null}}),UB=iJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gs={},Bn={},Dr={};Dr.register=function(e,t,i,r){r===void 0&&(r=!1),Gs[e]={plugin:t,mapping:i,custom:r}};Dr.registerCustom=function(e,t,i,r){Bn[e]={plugin:t,mapping:i,data:r}};Dr.hasCore=function(e){return Gs.hasOwnProperty(e)};Dr.hasCustom=function(e){return Bn.hasOwnProperty(e)};Dr.getCore=function(e){return Gs[e]};Dr.getCustom=function(e){return Bn[e]};Dr.getCustomClass=function(e){return Bn.hasOwnProperty(e)?Bn[e].plugin:null};Dr.remove=function(e){Gs.hasOwnProperty(e)&&delete Gs[e]};Dr.removeCustom=function(e){Bn.hasOwnProperty(e)&&delete Bn[e]};Dr.destroyCorePlugins=function(){for(var e in Gs)Gs.hasOwnProperty(e)&&delete Gs[e]};Dr.destroyCustomPlugins=function(){for(var e in Bn)Bn.hasOwnProperty(e)&&delete Bn[e]};var mt=Dr;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rJ="enterfullscreen";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nJ="fullscreenfailed";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aJ="fullscreenunsupported";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sJ="leavefullscreen";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oJ="orientationchange";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lJ="resize";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gc={ENTER_FULLSCREEN:rJ,FULLSCREEN_FAILED:nJ,FULLSCREEN_UNSUPPORTED:aJ,LEAVE_FULLSCREEN:sJ,ORIENTATION_CHANGE:oJ,RESIZE:lJ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hJ="boot";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uJ="create";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fJ="destroy";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cJ="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dJ="postupdate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vJ="preupdate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pJ="ready";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mJ="render";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gJ="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xJ="shutdown";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yJ="sleep";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TJ="start";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SJ="transitioncomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CJ="transitioninit";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EJ="transitionout";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _J="transitionstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AJ="transitionwake";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wJ="update";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var MJ="wake";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wt={BOOT:hJ,CREATE:uJ,DESTROY:fJ,PAUSE:cJ,POST_UPDATE:dJ,PRE_UPDATE:vJ,READY:pJ,RENDER:mJ,RESUME:gJ,SHUTDOWN:xJ,SLEEP:yJ,START:TJ,TRANSITION_COMPLETE:SJ,TRANSITION_INIT:CJ,TRANSITION_OUT:EJ,TRANSITION_START:_J,TRANSITION_WAKE:AJ,UPDATE:wJ,WAKE:MJ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uw=UB,bJ=O,Wt=Y,PJ=mt,RJ=Pa,LJ=gc,Va=wt,WB=new bJ({initialize:function(t){this.scene=t,this.systems=t.sys,this.roundPixels=t.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,t.sys.events.once(Va.BOOT,this.boot,this),t.sys.events.on(Va.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new Uw(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(LJ.RESIZE,this.onResize,this),this.systems.events.once(Va.DESTROY,this.destroy,this)},start:function(){if(!this.main){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0]}var t=this.systems.events;t.on(Va.UPDATE,this.update,this),t.once(Va.SHUTDOWN,this.shutdown,this)},add:function(e,t,i,r,n,a){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.scene.sys.scale.width),r===void 0&&(r=this.scene.sys.scale.height),n===void 0&&(n=!1),a===void 0&&(a="");var s=new Uw(e,t,i,r);return s.setName(a),s.setScene(this.scene),s.setRoundPixels(this.roundPixels),s.id=this.getNextID(),this.cameras.push(s),n&&(this.main=s),s},addExisting:function(e,t){t===void 0&&(t=!1);var i=this.cameras.indexOf(e);return i===-1?(e.id=this.getNextID(),e.setRoundPixels(this.roundPixels),this.cameras.push(e),t&&(this.main=e),e):null},getNextID:function(){for(var e=this.cameras,t=1,i=0;i<32;i++){for(var r=!1,n=0;n<e.length;n++){var a=e[n];if(a&&a.id===t){r=!0;continue}}if(r)t=t<<1;else return t}return 0},getTotal:function(e){e===void 0&&(e=!1);for(var t=0,i=this.cameras,r=0;r<i.length;r++){var n=i[r];(!e||e&&n.visible)&&t++}return t},fromJSON:function(e){Array.isArray(e)||(e=[e]);for(var t=this.scene.sys.scale.width,i=this.scene.sys.scale.height,r=0;r<e.length;r++){var n=e[r],a=Wt(n,"x",0),s=Wt(n,"y",0),o=Wt(n,"width",t),l=Wt(n,"height",i),h=this.add(a,s,o,l);h.name=Wt(n,"name",""),h.zoom=Wt(n,"zoom",1),h.rotation=Wt(n,"rotation",0),h.scrollX=Wt(n,"scrollX",0),h.scrollY=Wt(n,"scrollY",0),h.roundPixels=Wt(n,"roundPixels",!1),h.visible=Wt(n,"visible",!0);var u=Wt(n,"backgroundColor",!1);u&&h.setBackgroundColor(u);var f=Wt(n,"bounds",null);if(f){var c=Wt(f,"x",0),v=Wt(f,"y",0),p=Wt(f,"width",t),m=Wt(f,"height",i);h.setBounds(c,v,p,m)}}return this},getCamera:function(e){for(var t=this.cameras,i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null},getCamerasBelowPointer:function(e){for(var t=this.cameras,i=e.x,r=e.y,n=[],a=0;a<t.length;a++){var s=t[a];s.visible&&s.inputEnabled&&RJ(s,i,r)&&n.unshift(s)}return n},remove:function(e,t){t===void 0&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0,r=this.cameras,n=0;n<e.length;n++){var a=r.indexOf(e[n]);a!==-1&&(t&&r[a].destroy(),r.splice(a,1),i++)}return!this.main&&r[0]&&(this.main=r[0]),i},render:function(e,t,i){for(var r=this.scene,n=this.cameras,a=0;a<this.cameras.length;a++){var s=n[a];s.visible&&s.alpha>0&&(s.preRender(1),e.render(r,t,i,s))}},resetAll:function(){for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(e,t)},onResize:function(e,t,i,r,n,a){for(var s=0;s<this.cameras.length;s++){var o=this.cameras[s];o._x===0&&o._y===0&&o._width===n&&o._height===a&&o.setSize(t.width,t.height)}},resize:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(e,t)},shutdown:function(){this.main=void 0;for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();this.cameras=[];var t=this.systems.events;t.off(Va.UPDATE,this.update,this),t.off(Va.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(Va.START,this.start,this),this.scene=null,this.systems=null}});PJ.register("CameraManager",WB,"cameras");var FJ=WB;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IJ={Camera:UB,BaseCamera:mc,CameraManager:FJ,Effects:VB,Events:Ra};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OJ={Controls:bX,Scene2D:IJ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Se={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function DJ(){var e=navigator.userAgent;/Windows/.test(e)?Se.windows=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?Se.macOS=!0:/Android/.test(e)?Se.android=!0:/Linux/.test(e)?Se.linux=!0:/iP[ao]d|iPhone/i.test(e)?(Se.iOS=!0,navigator.appVersion.match(/OS (\d+)/),Se.iOSVersion=parseInt(RegExp.$1,10),Se.iPhone=e.toLowerCase().indexOf("iphone")!==-1,Se.iPad=e.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?Se.kindle=!0:/CrOS/.test(e)&&(Se.chromeOS=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(Se.android=!1,Se.iOS=!1,Se.macOS=!1,Se.windows=!0,Se.windowsPhone=!0);var t=/Silk/.test(e);return(Se.windows||Se.macOS||Se.linux&&!t||Se.chromeOS)&&(Se.desktop=!0),(Se.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(Se.desktop=!1),navigator.standalone&&(Se.webApp=!0),window.cordova!==void 0&&(Se.cordova=!0),typeof process<"u"&&process.versions&&process.versions.node&&(Se.node=!0),Se.node&&typeof process.versions=="object"&&(Se.nodeWebkit=!!process.versions["node-webkit"],Se.electron=!!process.versions.electron),window.ejecta!==void 0&&(Se.ejecta=!0),/Crosswalk/.test(e)&&(Se.crosswalk=!0),Se.pixelRatio=window.devicePixelRatio||1,Se}var m0=DJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jm=m0,ei={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function BJ(){var e=navigator.userAgent;return/Edge\/\d+/.test(e)?ei.edge=!0:/Chrome\/(\d+)/.test(e)&&!jm.windowsPhone?(ei.chrome=!0,ei.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(e)?(ei.firefox=!0,ei.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(e)&&jm.iOS?ei.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(e)?(ei.ie=!0,ei.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(e)?ei.opera=!0:/Safari/.test(e)&&!jm.windowsPhone?ei.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)&&(ei.ie=!0,ei.trident=!0,ei.tridentVersion=parseInt(RegExp.$1,10),ei.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(e)&&(ei.silk=!0),ei}var g0=BJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NJ=m0,fo=g0,cd=Mi,Lt={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function GJ(){var e=new ArrayBuffer(4),t=new Uint8Array(e),i=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function kJ(){Lt.canvas=!!window.CanvasRenderingContext2D;try{Lt.localStorage=!!localStorage.getItem}catch{Lt.localStorage=!1}Lt.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,Lt.fileSystem=!!window.requestFileSystem;var e=!1,t=function(){if(window.WebGLRenderingContext)try{var i=cd.createWebGL(this),r=i.getContext("webgl")||i.getContext("experimental-webgl"),n=cd.create2D(this),a=n.getContext("2d"),s=a.createImageData(1,1);return e=s.data instanceof Uint8ClampedArray,cd.remove(i),cd.remove(n),!!r}catch{return!1}return!1};return Lt.webGL=t(),Lt.worker=!!window.Worker,Lt.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,Lt.getUserMedia=Lt.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,fo.firefox&&fo.firefoxVersion<21&&(Lt.getUserMedia=!1),!NJ.iOS&&(fo.ie||fo.firefox||fo.chrome)&&(Lt.canvasBitBltShift=!0),(fo.safari||fo.mobileSafari)&&(Lt.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(Lt.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(Lt.littleEndian=GJ()),Lt.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&Lt.littleEndian!==null&&e,Lt}var wC=kJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ww=g0,co={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function $J(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(co.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(co.mspointer=!0),navigator.getGamepads&&(co.gamepads=!0),"onwheel"in window||Ww.ie&&"WheelEvent"in window?co.wheelEvent="wheel":"onmousewheel"in window?co.wheelEvent="mousewheel":Ww.firefox&&"MouseScrollEvent"in window&&(co.wheelEvent="DOMMouseScroll"),co}var zJ=$J();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eg=g0,$r={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function VJ(){$r.audioData=!!window.Audio,$r.webAudio=!!(window.AudioContext||window.webkitAudioContext);var e=document.createElement("audio"),t=!!e.canPlayType;try{if(t&&(e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&($r.ogg=!0),(e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||e.canPlayType("audio/opus;").replace(/^no$/,""))&&($r.opus=!0),e.canPlayType("audio/mpeg;").replace(/^no$/,"")&&($r.mp3=!0),e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&($r.wav=!0),(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;").replace(/^no$/,""))&&($r.m4a=!0),e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&($r.webm=!0),e.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(eg.edge)$r.dolby=!0;else if(eg.safari&&eg.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),r=parseInt(RegExp.$2,10);(i===10&&r>=11||i>10)&&($r.dolby=!0)}}}catch{}return $r}var UJ=VJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vo={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function WJ(){var e=document.createElement("video"),t=!!e.canPlayType;try{t&&(e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(vo.ogg=!0),e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(vo.h264=!0,vo.mp4=!0),e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(vo.webm=!0),e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(vo.vp9=!0),e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(vo.hls=!0))}catch{}return vo}var YJ=WJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var po={available:!1,cancel:"",keyboard:!1,request:""};function HJ(){var e,t="Fullscreen",i="FullScreen",r=["request"+t,"request"+i,"webkitRequest"+t,"webkitRequest"+i,"msRequest"+t,"msRequest"+i,"mozRequest"+i,"mozRequest"+t];for(e=0;e<r.length;e++)if(document.documentElement[r[e]]){po.available=!0,po.request=r[e];break}var n=["cancel"+i,"exit"+t,"webkitCancel"+i,"webkitExit"+t,"msCancel"+i,"msExit"+t,"mozCancel"+i,"mozExit"+t];if(po.available){for(e=0;e<n.length;e++)if(document[n[e]]){po.cancel=n[e];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(po.keyboard=!0),Object.defineProperty(po,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),po}var XJ=HJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nT=Mi,op={supportInverseAlpha:!1,supportNewBlendModes:!1};function KJ(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;return i.onload=function(){var r=new Image;r.onload=function(){var n=nT.create(r,6,1),a=n.getContext("2d");if(a.globalCompositeOperation="multiply",a.drawImage(i,0,0),a.drawImage(r,2,0),!a.getImageData(2,0,1,1))return!1;var s=a.getImageData(2,0,1,1).data;nT.remove(r),op.supportNewBlendModes=s[0]===255&&s[1]===0&&s[2]===0},r.src=e+"/wCKxvRF"+t},i.src=e+"AP804Oa6"+t,!1}function qJ(){var e=nT.create(this,2,1),t=e.getContext("2d");t.fillStyle="rgba(10, 20, 30, 0.5)",t.fillRect(0,0,1,1);var i=t.getImageData(0,0,1,1);if(i===null)return!1;t.putImageData(i,1,0);var r=t.getImageData(1,0,1,1);return r.data[0]===i.data[0]&&r.data[1]===i.data[1]&&r.data[2]===i.data[2]&&r.data[3]===i.data[3]}function JJ(){return document!==void 0&&(op.supportNewBlendModes=KJ(),op.supportInverseAlpha=qJ()),op}var YB=JJ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HB={os:m0,browser:g0,features:wC,input:zJ,audio:UJ,video:YJ,fullscreen:XJ,canvasFeatures:YB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZJ=function(e,t,i,r){return Math.atan2(r-t,i-e)},XB=ZJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QJ=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},jJ=QJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eZ=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)},tZ=eZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iZ=function(e,t,i,r){return Math.atan2(i-e,r-t)},rZ=iZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yu=et,nZ=function(e){return e>Math.PI&&(e-=yu.PI2),Math.abs(((e+yu.TAU)%yu.PI2-yu.PI2)%yu.PI2)},aZ=nZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sZ=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI},KB=sZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oZ=KB,lZ=function(e){return oZ(e+Math.PI)},hZ=lZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tg=et,uZ=function(e,t,i){return i===void 0&&(i=.05),e===t||(Math.abs(t-e)<=i||Math.abs(t-e)>=tg.PI2-i?e=t:(Math.abs(t-e)>Math.PI&&(t<e?t+=tg.PI2:t-=tg.PI2),t>e?e+=i:t<e&&(e-=i))),e},fZ=uZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cZ=function(e,t){var i=t-e;if(i===0)return 0;var r=Math.floor((i- -180)/360);return i-r*360},dZ=cZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vZ={Between:XB,BetweenPoints:jJ,BetweenPointsY:tZ,BetweenY:rZ,CounterClockwise:aZ,Normalize:KB,Reverse:hZ,RotateTo:fZ,ShortestBetween:dZ,Wrap:uC,WrapDegrees:fC};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pZ=function(e,t,i,r,n){return n===void 0&&(n=2),Math.sqrt(Math.pow(i-e,n)+Math.pow(r-t,n))},mZ=pZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gZ=function(e,t,i,r){var n=e-i,a=t-r;return n*n+a*a},qB=gZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xZ={Between:Zs,Power:mZ,Squared:qB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yZ={Back:RB,Bounce:LB,Circular:FB,Cubic:IB,Elastic:OB,Expo:DB,Linear:BB,Quadratic:NB,Quartic:GB,Quintic:kB,Sine:$B,Stepped:zB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TZ=function(e,t){return t===void 0&&(t=1e-4),Math.ceil(e-t)},SZ=TZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CZ=function(e,t,i){return i===void 0&&(i=1e-4),Math.abs(e-t)<i},MC=CZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EZ=function(e,t){return t===void 0&&(t=1e-4),Math.floor(e+t)},_Z=EZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AZ=function(e,t,i){return i===void 0&&(i=1e-4),e>t-i},JB=AZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wZ=function(e,t,i){return i===void 0&&(i=1e-4),e<t+i},ZB=wZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var MZ={Ceil:SZ,Equal:MC,Floor:_Z,GreaterThan:JB,LessThan:ZB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bZ=function(e){if(e===0)return 1;for(var t=e;--e;)t*=e;return t},QB=bZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ig=QB,PZ=function(e,t){return ig(e)/ig(t)/ig(e-t)},jB=PZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RZ=jB,LZ=function(e,t){for(var i=0,r=e.length-1,n=0;n<=r;n++)i+=Math.pow(1-t,r-n)*Math.pow(t,n)*e[n]*RZ(r,n);return i},FZ=LZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IZ=function(e,t,i,r,n){var a=(r-t)*.5,s=(n-i)*.5,o=e*e,l=e*o;return(2*i-2*r+a+s)*l+(-3*i+3*r-2*a-s)*o+a*e+i},bC=IZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dd=bC,OZ=function(e,t){var i=e.length-1,r=i*t,n=Math.floor(r);return e[0]===e[i]?(t<0&&(n=Math.floor(r=i*(1+t))),dd(r-n,e[(n-1+i)%i],e[n],e[(n+1)%i],e[(n+2)%i])):t<0?e[0]-(dd(-r,e[0],e[0],e[1],e[1])-e[0]):t>1?e[i]-(dd(r-i,e[i],e[i],e[i-1],e[i-1])-e[i]):dd(r-n,e[n?n-1:0],e[n],e[i<n+1?i:n+1],e[i<n+2?i:n+2])},DZ=OZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function BZ(e,t){var i=1-e;return i*i*i*t}function NZ(e,t){var i=1-e;return 3*i*i*e*t}function GZ(e,t){return 3*(1-e)*e*e*t}function kZ(e,t){return e*e*e*t}var $Z=function(e,t,i,r,n){return BZ(e,t)+NZ(e,i)+GZ(e,r)+kZ(e,n)},e3=$Z;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rg=p0,zZ=function(e,t){var i=e.length-1,r=i*t,n=Math.floor(r);return t<0?rg(e[0],e[1],r):t>1?rg(e[i],e[i-1],i-r):rg(e[n],e[n+1>i?i:n+1],r-n)},VZ=zZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function UZ(e,t){var i=1-e;return i*i*t}function WZ(e,t){return 2*(1-e)*e*t}function YZ(e,t){return e*e*t}var HZ=function(e,t,i,r){return UZ(e,t)+WZ(e,i)+YZ(e,r)},t3=HZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XZ=gC,KZ=function(e,t,i){return t+(i-t)*XZ(e,0,1)},i3=KZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qZ=mC,JZ=function(e,t,i){return t+(i-t)*qZ(e,0,1)},ZZ=JZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QZ={Bezier:FZ,CatmullRom:DZ,CubicBezier:e3,Linear:VZ,QuadraticBezier:t3,SmoothStep:i3,SmootherStep:ZZ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jZ=function(e){var t=Math.log(e)/.6931471805599453;return 1<<Math.ceil(t)},r3=jZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eQ=function(e,t){return e>0&&(e&e-1)===0&&t>0&&(t&t-1)===0},x0=eQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tQ=function(e){return e>0&&(e&e-1)===0},iQ=tQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rQ={GetNext:r3,IsSize:x0,IsValue:iQ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nQ=function(e,t,i,r){return i===void 0&&(i=0),t===0?e:(e-=i,e=t*Math.ceil(e/t),r?(i+e)/t:i+e)},n3=nQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aQ=function(e,t,i,r){return i===void 0&&(i=0),t===0?e:(e-=i,e=t*Math.floor(e/t),r?(i+e)/t:i+e)},xc=aQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sQ=function(e,t,i,r){return i===void 0&&(i=0),t===0?e:(e-=i,e=t*Math.round(e/t),r?(i+e)/t:i+e)},oQ=sQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lQ={Ceil:n3,Floor:xc,To:oQ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hQ=O,uQ=new hQ({initialize:function(t){t===void 0&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var e=2091639*this.s0+this.c*23283064365386963e-26;return this.c=e|0,this.s0=this.s1,this.s1=this.s2,this.s2=e-this.c,this.s2},hash:function(e){var t,i=this.n;e=e.toString();for(var r=0;r<e.length;r++)i+=e.charCodeAt(r),t=.02519603282416938*i,i=t>>>0,t-=i,t*=i,i=t>>>0,t-=i,i+=t*4294967296;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(e){typeof e=="string"?this.state(e):this.sow(e)},sow:function(e){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!e)for(var t=0;t<e.length&&e[t]!=null;t++){var i=e[t];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},between:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},realInRange:function(e,t){return this.frac()*(t-e)+e},normal:function(){return 1-2*this.frac()},uuid:function(){var e="",t="";for(t=e="";e++<36;t+=~e%5|e*3&4?(e^15?8^this.frac()*(e^20?16:4):4).toString(16):"-");return t},pick:function(e){return e[this.integerInRange(0,e.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(e){return e[~~(Math.pow(this.frac(),2)*(e.length-1)+.5)]},timestamp:function(e,t){return this.realInRange(e||9466848e5,t||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(e){return typeof e=="string"&&e.match(/^!rnd/)&&(e=e.split(","),this.c=parseFloat(e[1]),this.s0=parseFloat(e[2]),this.s1=parseFloat(e[3]),this.s2=parseFloat(e[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(e){for(var t=e.length-1,i=t;i>0;i--){var r=Math.floor(this.frac()*(i+1)),n=e[r];e[r]=e[i],e[i]=n}return e}}),fQ=uQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cQ=function(e){for(var t=0,i=0;i<e.length;i++)t+=+e[i];return t/e.length},dQ=cQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vQ=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},PC=vQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pQ=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=10);var r=Math.pow(i,-t);return Math.ceil(e*r)/r},mQ=pQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gQ=function(e,t){return Math.abs(e-t)},xQ=gQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yQ=function(e,t){return Math.random()*(t-e)+e},a3=yQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TQ=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=10);var r=Math.pow(i,-t);return Math.floor(e*r)/r},SQ=TQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CQ=function(e,t){return e/t/1e3},EQ=CQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _Q=function(e){return e==parseFloat(e)?!(e%2):void 0},AQ=_Q;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wQ=function(e){return e===parseFloat(e)?!(e%2):void 0},MQ=wQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bQ=function(e,t,i){return Math.min(e+t,i)},PQ=bQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RQ=function(e,t,i){return Math.max(e-t,i)},LQ=RQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FQ=function(e,t,i,r){i===void 0&&(i=t+1);var n=(e-t)/(i-t);return n>1?r!==void 0?(n=(r-e)/(r-i),n<0&&(n=0)):n=1:n<0&&(n=0),n},IQ=FQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OQ=et,DQ=function(e){return e*OQ.RAD_TO_DEG},RC=DQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BQ=function(e,t){t===void 0&&(t=1);var i=Math.random()*2*Math.PI;return e.x=Math.cos(i)*t,e.y=Math.sin(i)*t,e},NQ=BQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GQ=function(e,t){t===void 0&&(t=1);var i=Math.random()*2*Math.PI,r=Math.random()*2-1,n=Math.sqrt(1-r*r)*t;return e.x=Math.cos(i)*n,e.y=Math.sin(i)*n,e.z=r*t,e},s3=GQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kQ=function(e,t){return t===void 0&&(t=1),e.x=(Math.random()*2-1)*t,e.y=(Math.random()*2-1)*t,e.z=(Math.random()*2-1)*t,e.w=(Math.random()*2-1)*t,e},o3=kQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $Q=function(e,t){var i=e.x,r=e.y;return e.x=i*Math.cos(t)-r*Math.sin(t),e.y=i*Math.sin(t)+r*Math.cos(t),e},l3=$Q;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zQ=function(e){return e>0?Math.ceil(e):Math.floor(e)},h3=zQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VQ=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=10);var r=Math.pow(i,-t);return Math.round(e*r)/r},UQ=VQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WQ=function(e,t,i,r){t===void 0&&(t=1),i===void 0&&(i=1),r===void 0&&(r=1),r*=Math.PI/e;for(var n=[],a=[],s=0;s<e;s++)i-=t*r,t+=i*r,n[s]=i,a[s]=t;return{sin:a,cos:n,length:e}},YQ=WQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HQ=oe,XQ=function(e,t,i,r){r===void 0&&(r=new HQ);var n=0,a=0,s=t*i;return e>0&&e<=s&&(e>t-1?(a=Math.floor(e/t),n=e-a*t):n=e,r.set(n,a)),r},KQ=XQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qQ=oe,JQ=function(e,t,i,r,n,a,s,o){o===void 0&&(o=new qQ);var l=Math.sin(n),h=Math.cos(n),u=h*a,f=l*a,c=-l*s,v=h*s,p=1/(u*v+c*-f);return o.x=v*p*e+-c*p*t+(r*c-i*v)*p,o.y=u*p*t+-f*p*e+(-r*u+i*f)*p,o},u3=JQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZQ=function(e,t,i){return Math.abs(e-t)<=i},QQ=ZQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jQ=O,kt=new jQ({initialize:function(t,i,r){this.x=0,this.y=0,this.z=0,typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=i||0,this.z=r||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new kt(this.x,this.y,this.z)},crossVectors:function(e,t){var i=e.x,r=e.y,n=e.z,a=t.x,s=t.y,o=t.z;return this.x=r*o-n*s,this.y=n*a-i*o,this.z=i*s-r*a,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this},set:function(e,t,i){return typeof e=="object"?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,r=e.z-this.z||0;return Math.sqrt(t*t+i*i+r*r)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,r=e.z-this.z||0;return t*t+i*i+r*r},length:function(){var e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)},lengthSq:function(){var e=this.x,t=this.y,i=this.z;return e*e+t*t+i*i},normalize:function(){var e=this.x,t=this.y,i=this.z,r=e*e+t*t+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=e*r,this.y=t*r,this.z=i*r),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,a=e.y,s=e.z;return this.x=i*s-r*a,this.y=r*n-t*s,this.z=t*a-i*n,this},lerp:function(e,t){t===void 0&&(t=0);var i=this.x,r=this.y,n=this.z;return this.x=i+t*(e.x-i),this.y=r+t*(e.y-r),this.z=n+t*(e.z-n),this},transformMat3:function(e){var t=this.x,i=this.y,r=this.z,n=e.val;return this.x=t*n[0]+i*n[3]+r*n[6],this.y=t*n[1]+i*n[4]+r*n[7],this.z=t*n[2]+i*n[5]+r*n[8],this},transformMat4:function(e){var t=this.x,i=this.y,r=this.z,n=e.val;return this.x=n[0]*t+n[4]*i+n[8]*r+n[12],this.y=n[1]*t+n[5]*i+n[9]*r+n[13],this.z=n[2]*t+n[6]*i+n[10]*r+n[14],this},transformCoordinates:function(e){var t=this.x,i=this.y,r=this.z,n=e.val,a=t*n[0]+i*n[4]+r*n[8]+n[12],s=t*n[1]+i*n[5]+r*n[9]+n[13],o=t*n[2]+i*n[6]+r*n[10]+n[14],l=t*n[3]+i*n[7]+r*n[11]+n[15];return this.x=a/l,this.y=s/l,this.z=o/l,this},transformQuat:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,a=e.y,s=e.z,o=e.w,l=o*t+a*r-s*i,h=o*i+s*t-n*r,u=o*r+n*i-a*t,f=-n*t-a*i-s*r;return this.x=l*o+f*-n+h*-s-u*-a,this.y=h*o+f*-a+u*-n-l*-s,this.z=u*o+f*-s+l*-a-h*-n,this},project:function(e){var t=this.x,i=this.y,r=this.z,n=e.val,a=n[0],s=n[1],o=n[2],l=n[3],h=n[4],u=n[5],f=n[6],c=n[7],v=n[8],p=n[9],m=n[10],x=n[11],g=n[12],T=n[13],S=n[14],E=n[15],_=1/(t*l+i*c+r*x+E);return this.x=(t*a+i*h+r*v+g)*_,this.y=(t*s+i*u+r*p+T)*_,this.z=(t*o+i*f+r*m+S)*_,this},unproject:function(e,t){var i=e.x,r=e.y,n=e.z,a=e.w,s=this.x-i,o=a-this.y-1-r,l=this.z;return this.x=2*s/n-1,this.y=2*o/a-1,this.z=2*l-1,this.project(t)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});kt.ZERO=new kt;kt.RIGHT=new kt(1,0,0);kt.LEFT=new kt(-1,0,0);kt.UP=new kt(0,-1,0);kt.DOWN=new kt(0,1,0);kt.FORWARD=new kt(0,0,1);kt.BACK=new kt(0,0,-1);kt.ONE=new kt(1,1,1);var kh=kt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ej=O,fi=new ej({initialize:function(t,i,r,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=r||0,this.w=n||0)},clone:function(){return new fi(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this.w=e.w||0,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},set:function(e,t,i,r){return typeof e=="object"?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=r||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this.w+=e.w||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this.w-=e.w||0,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,i=this.z,r=this.w;return Math.sqrt(e*e+t*t+i*i+r*r)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,r=this.w;return e*e+t*t+i*i+r*r},normalize:function(){var e=this.x,t=this.y,i=this.z,r=this.w,n=e*e+t*t+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n,this.z=i*n,this.w=r*n),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){t===void 0&&(t=0);var i=this.x,r=this.y,n=this.z,a=this.w;return this.x=i+t*(e.x-i),this.y=r+t*(e.y-r),this.z=n+t*(e.z-n),this.w=a+t*(e.w-a),this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this.w*=e.w||1,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this.w/=e.w||1,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,r=e.z-this.z||0,n=e.w-this.w||0;return Math.sqrt(t*t+i*i+r*r+n*n)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,r=e.z-this.z||0,n=e.w-this.w||0;return t*t+i*i+r*r+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(e){var t=this.x,i=this.y,r=this.z,n=this.w,a=e.val;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*n,this},transformQuat:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,a=e.y,s=e.z,o=e.w,l=o*t+a*r-s*i,h=o*i+s*t-n*r,u=o*r+n*i-a*t,f=-n*t-a*i-s*r;return this.x=l*o+f*-n+h*-s-u*-a,this.y=h*o+f*-a+u*-n-l*-s,this.z=u*o+f*-s+l*-a-h*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});fi.prototype.sub=fi.prototype.subtract;fi.prototype.mul=fi.prototype.multiply;fi.prototype.div=fi.prototype.divide;fi.prototype.dist=fi.prototype.distance;fi.prototype.distSq=fi.prototype.distanceSq;fi.prototype.len=fi.prototype.length;fi.prototype.lenSq=fi.prototype.lengthSq;var y0=fi;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tj=O,f3=new tj({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new f3(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,i=e.val;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},fromMat4:function(e){var t=e.val,i=this.val;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},transpose:function(){var e=this.val,t=e[1],i=e[2],r=e[5];return e[1]=e[3],e[2]=e[6],e[3]=t,e[5]=e[7],e[6]=i,e[7]=r,this},invert:function(){var e=this.val,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8],u=h*a-s*l,f=-h*n+s*o,c=l*n-a*o,v=t*u+i*f+r*c;return v?(v=1/v,e[0]=u*v,e[1]=(-h*i+r*l)*v,e[2]=(s*i-r*a)*v,e[3]=f*v,e[4]=(h*t-r*o)*v,e[5]=(-s*t+r*n)*v,e[6]=c*v,e[7]=(-l*t+i*o)*v,e[8]=(a*t-i*n)*v,this):null},adjoint:function(){var e=this.val,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8];return e[0]=a*h-s*l,e[1]=r*l-i*h,e[2]=i*s-r*a,e[3]=s*o-n*h,e[4]=t*h-r*o,e[5]=r*n-t*s,e[6]=n*l-a*o,e[7]=i*o-t*l,e[8]=t*a-i*n,this},determinant:function(){var e=this.val,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8];return t*(h*a-s*l)+i*(-h*n+s*o)+r*(l*n-a*o)},multiply:function(e){var t=this.val,i=t[0],r=t[1],n=t[2],a=t[3],s=t[4],o=t[5],l=t[6],h=t[7],u=t[8],f=e.val,c=f[0],v=f[1],p=f[2],m=f[3],x=f[4],g=f[5],T=f[6],S=f[7],E=f[8];return t[0]=c*i+v*a+p*l,t[1]=c*r+v*s+p*h,t[2]=c*n+v*o+p*u,t[3]=m*i+x*a+g*l,t[4]=m*r+x*s+g*h,t[5]=m*n+x*o+g*u,t[6]=T*i+S*a+E*l,t[7]=T*r+S*s+E*h,t[8]=T*n+S*o+E*u,this},translate:function(e){var t=this.val,i=e.x,r=e.y;return t[6]=i*t[0]+r*t[3]+t[6],t[7]=i*t[1]+r*t[4]+t[7],t[8]=i*t[2]+r*t[5]+t[8],this},rotate:function(e){var t=this.val,i=t[0],r=t[1],n=t[2],a=t[3],s=t[4],o=t[5],l=Math.sin(e),h=Math.cos(e);return t[0]=h*i+l*a,t[1]=h*r+l*s,t[2]=h*n+l*o,t[3]=h*a-l*i,t[4]=h*s-l*r,t[5]=h*o-l*n,this},scale:function(e){var t=this.val,i=e.x,r=e.y;return t[0]=i*t[0],t[1]=i*t[1],t[2]=i*t[2],t[3]=r*t[3],t[4]=r*t[4],t[5]=r*t[5],this},fromQuat:function(e){var t=e.x,i=e.y,r=e.z,n=e.w,a=t+t,s=i+i,o=r+r,l=t*a,h=t*s,u=t*o,f=i*s,c=i*o,v=r*o,p=n*a,m=n*s,x=n*o,g=this.val;return g[0]=1-(f+v),g[3]=h+x,g[6]=u-m,g[1]=h-x,g[4]=1-(l+v),g[7]=c+p,g[2]=u+m,g[5]=c-p,g[8]=1-(l+f),this},normalFromMat4:function(e){var t=e.val,i=this.val,r=t[0],n=t[1],a=t[2],s=t[3],o=t[4],l=t[5],h=t[6],u=t[7],f=t[8],c=t[9],v=t[10],p=t[11],m=t[12],x=t[13],g=t[14],T=t[15],S=r*l-n*o,E=r*h-a*o,_=r*u-s*o,w=n*h-a*l,R=n*u-s*l,F=a*u-s*h,k=f*x-c*m,B=f*g-v*m,N=f*T-p*m,d=c*g-v*x,y=c*T-p*x,C=v*T-p*g,M=S*C-E*y+_*d+w*N-R*B+F*k;return M?(M=1/M,i[0]=(l*C-h*y+u*d)*M,i[1]=(h*N-o*C-u*B)*M,i[2]=(o*y-l*N+u*k)*M,i[3]=(a*y-n*C-s*d)*M,i[4]=(r*C-a*N+s*B)*M,i[5]=(n*N-r*y-s*k)*M,i[6]=(x*F-g*R+T*w)*M,i[7]=(g*_-m*F-T*E)*M,i[8]=(m*R-x*_+T*S)*M,this):null}}),c3=f3;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ij=O,vd=1e-6,T0=new ij({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new T0(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,i=e.val;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},zero:function(){var e=this.val;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=0,this},xyz:function(e,t,i){this.identity();var r=this.val;return r[12]=e,r[13]=t,r[14]=i,this},scaling:function(e,t,i){this.zero();var r=this.val;return r[0]=e,r[5]=t,r[10]=i,r[15]=1,this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},transpose:function(){var e=this.val,t=e[1],i=e[2],r=e[3],n=e[6],a=e[7],s=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=t,e[6]=e[9],e[7]=e[13],e[8]=i,e[9]=n,e[11]=e[14],e[12]=r,e[13]=a,e[14]=s,this},invert:function(){var e=this.val,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8],u=e[9],f=e[10],c=e[11],v=e[12],p=e[13],m=e[14],x=e[15],g=t*s-i*a,T=t*o-r*a,S=t*l-n*a,E=i*o-r*s,_=i*l-n*s,w=r*l-n*o,R=h*p-u*v,F=h*m-f*v,k=h*x-c*v,B=u*m-f*p,N=u*x-c*p,d=f*x-c*m,y=g*d-T*N+S*B+E*k-_*F+w*R;return y?(y=1/y,e[0]=(s*d-o*N+l*B)*y,e[1]=(r*N-i*d-n*B)*y,e[2]=(p*w-m*_+x*E)*y,e[3]=(f*_-u*w-c*E)*y,e[4]=(o*k-a*d-l*F)*y,e[5]=(t*d-r*k+n*F)*y,e[6]=(m*S-v*w-x*T)*y,e[7]=(h*w-f*S+c*T)*y,e[8]=(a*N-s*k+l*R)*y,e[9]=(i*k-t*N-n*R)*y,e[10]=(v*_-p*S+x*g)*y,e[11]=(u*S-h*_-c*g)*y,e[12]=(s*F-a*B-o*R)*y,e[13]=(t*B-i*F+r*R)*y,e[14]=(p*T-v*E-m*g)*y,e[15]=(h*E-u*T+f*g)*y,this):null},adjoint:function(){var e=this.val,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8],u=e[9],f=e[10],c=e[11],v=e[12],p=e[13],m=e[14],x=e[15];return e[0]=s*(f*x-c*m)-u*(o*x-l*m)+p*(o*c-l*f),e[1]=-(i*(f*x-c*m)-u*(r*x-n*m)+p*(r*c-n*f)),e[2]=i*(o*x-l*m)-s*(r*x-n*m)+p*(r*l-n*o),e[3]=-(i*(o*c-l*f)-s*(r*c-n*f)+u*(r*l-n*o)),e[4]=-(a*(f*x-c*m)-h*(o*x-l*m)+v*(o*c-l*f)),e[5]=t*(f*x-c*m)-h*(r*x-n*m)+v*(r*c-n*f),e[6]=-(t*(o*x-l*m)-a*(r*x-n*m)+v*(r*l-n*o)),e[7]=t*(o*c-l*f)-a*(r*c-n*f)+h*(r*l-n*o),e[8]=a*(u*x-c*p)-h*(s*x-l*p)+v*(s*c-l*u),e[9]=-(t*(u*x-c*p)-h*(i*x-n*p)+v*(i*c-n*u)),e[10]=t*(s*x-l*p)-a*(i*x-n*p)+v*(i*l-n*s),e[11]=-(t*(s*c-l*u)-a*(i*c-n*u)+h*(i*l-n*s)),e[12]=-(a*(u*m-f*p)-h*(s*m-o*p)+v*(s*f-o*u)),e[13]=t*(u*m-f*p)-h*(i*m-r*p)+v*(i*f-r*u),e[14]=-(t*(s*m-o*p)-a*(i*m-r*p)+v*(i*o-r*s)),e[15]=t*(s*f-o*u)-a*(i*f-r*u)+h*(i*o-r*s),this},determinant:function(){var e=this.val,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8],u=e[9],f=e[10],c=e[11],v=e[12],p=e[13],m=e[14],x=e[15],g=t*s-i*a,T=t*o-r*a,S=t*l-n*a,E=i*o-r*s,_=i*l-n*s,w=r*l-n*o,R=h*p-u*v,F=h*m-f*v,k=h*x-c*v,B=u*m-f*p,N=u*x-c*p,d=f*x-c*m;return g*d-T*N+S*B+E*k-_*F+w*R},multiply:function(e){var t=this.val,i=t[0],r=t[1],n=t[2],a=t[3],s=t[4],o=t[5],l=t[6],h=t[7],u=t[8],f=t[9],c=t[10],v=t[11],p=t[12],m=t[13],x=t[14],g=t[15],T=e.val,S=T[0],E=T[1],_=T[2],w=T[3];return t[0]=S*i+E*s+_*u+w*p,t[1]=S*r+E*o+_*f+w*m,t[2]=S*n+E*l+_*c+w*x,t[3]=S*a+E*h+_*v+w*g,S=T[4],E=T[5],_=T[6],w=T[7],t[4]=S*i+E*s+_*u+w*p,t[5]=S*r+E*o+_*f+w*m,t[6]=S*n+E*l+_*c+w*x,t[7]=S*a+E*h+_*v+w*g,S=T[8],E=T[9],_=T[10],w=T[11],t[8]=S*i+E*s+_*u+w*p,t[9]=S*r+E*o+_*f+w*m,t[10]=S*n+E*l+_*c+w*x,t[11]=S*a+E*h+_*v+w*g,S=T[12],E=T[13],_=T[14],w=T[15],t[12]=S*i+E*s+_*u+w*p,t[13]=S*r+E*o+_*f+w*m,t[14]=S*n+E*l+_*c+w*x,t[15]=S*a+E*h+_*v+w*g,this},multiplyLocal:function(e){var t=[],i=this.val,r=e.val;return t[0]=i[0]*r[0]+i[1]*r[4]+i[2]*r[8]+i[3]*r[12],t[1]=i[0]*r[1]+i[1]*r[5]+i[2]*r[9]+i[3]*r[13],t[2]=i[0]*r[2]+i[1]*r[6]+i[2]*r[10]+i[3]*r[14],t[3]=i[0]*r[3]+i[1]*r[7]+i[2]*r[11]+i[3]*r[15],t[4]=i[4]*r[0]+i[5]*r[4]+i[6]*r[8]+i[7]*r[12],t[5]=i[4]*r[1]+i[5]*r[5]+i[6]*r[9]+i[7]*r[13],t[6]=i[4]*r[2]+i[5]*r[6]+i[6]*r[10]+i[7]*r[14],t[7]=i[4]*r[3]+i[5]*r[7]+i[6]*r[11]+i[7]*r[15],t[8]=i[8]*r[0]+i[9]*r[4]+i[10]*r[8]+i[11]*r[12],t[9]=i[8]*r[1]+i[9]*r[5]+i[10]*r[9]+i[11]*r[13],t[10]=i[8]*r[2]+i[9]*r[6]+i[10]*r[10]+i[11]*r[14],t[11]=i[8]*r[3]+i[9]*r[7]+i[10]*r[11]+i[11]*r[15],t[12]=i[12]*r[0]+i[13]*r[4]+i[14]*r[8]+i[15]*r[12],t[13]=i[12]*r[1]+i[13]*r[5]+i[14]*r[9]+i[15]*r[13],t[14]=i[12]*r[2]+i[13]*r[6]+i[14]*r[10]+i[15]*r[14],t[15]=i[12]*r[3]+i[13]*r[7]+i[14]*r[11]+i[15]*r[15],this.fromArray(t)},translate:function(e){var t=e.x,i=e.y,r=e.z,n=this.val;return n[12]=n[0]*t+n[4]*i+n[8]*r+n[12],n[13]=n[1]*t+n[5]*i+n[9]*r+n[13],n[14]=n[2]*t+n[6]*i+n[10]*r+n[14],n[15]=n[3]*t+n[7]*i+n[11]*r+n[15],this},translateXYZ:function(e,t,i){var r=this.val;return r[12]=r[0]*e+r[4]*t+r[8]*i+r[12],r[13]=r[1]*e+r[5]*t+r[9]*i+r[13],r[14]=r[2]*e+r[6]*t+r[10]*i+r[14],r[15]=r[3]*e+r[7]*t+r[11]*i+r[15],this},scale:function(e){var t=e.x,i=e.y,r=e.z,n=this.val;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*i,n[5]=n[5]*i,n[6]=n[6]*i,n[7]=n[7]*i,n[8]=n[8]*r,n[9]=n[9]*r,n[10]=n[10]*r,n[11]=n[11]*r,this},scaleXYZ:function(e,t,i){var r=this.val;return r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*e,r[3]=r[3]*e,r[4]=r[4]*t,r[5]=r[5]*t,r[6]=r[6]*t,r[7]=r[7]*t,r[8]=r[8]*i,r[9]=r[9]*i,r[10]=r[10]*i,r[11]=r[11]*i,this},makeRotationAxis:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=1-i,a=e.x,s=e.y,o=e.z,l=n*a,h=n*s;return this.fromArray([l*a+i,l*s-r*o,l*o+r*s,0,l*s+r*o,h*s+i,h*o-r*a,0,l*o-r*s,h*o+r*a,n*o*o+i,0,0,0,0,1]),this},rotate:function(e,t){var i=this.val,r=t.x,n=t.y,a=t.z,s=Math.sqrt(r*r+n*n+a*a);if(Math.abs(s)<vd)return null;s=1/s,r*=s,n*=s,a*=s;var o=Math.sin(e),l=Math.cos(e),h=1-l,u=i[0],f=i[1],c=i[2],v=i[3],p=i[4],m=i[5],x=i[6],g=i[7],T=i[8],S=i[9],E=i[10],_=i[11],w=r*r*h+l,R=n*r*h+a*o,F=a*r*h-n*o,k=r*n*h-a*o,B=n*n*h+l,N=a*n*h+r*o,d=r*a*h+n*o,y=n*a*h-r*o,C=a*a*h+l;return i[0]=u*w+p*R+T*F,i[1]=f*w+m*R+S*F,i[2]=c*w+x*R+E*F,i[3]=v*w+g*R+_*F,i[4]=u*k+p*B+T*N,i[5]=f*k+m*B+S*N,i[6]=c*k+x*B+E*N,i[7]=v*k+g*B+_*N,i[8]=u*d+p*y+T*C,i[9]=f*d+m*y+S*C,i[10]=c*d+x*y+E*C,i[11]=v*d+g*y+_*C,this},rotateX:function(e){var t=this.val,i=Math.sin(e),r=Math.cos(e),n=t[4],a=t[5],s=t[6],o=t[7],l=t[8],h=t[9],u=t[10],f=t[11];return t[4]=n*r+l*i,t[5]=a*r+h*i,t[6]=s*r+u*i,t[7]=o*r+f*i,t[8]=l*r-n*i,t[9]=h*r-a*i,t[10]=u*r-s*i,t[11]=f*r-o*i,this},rotateY:function(e){var t=this.val,i=Math.sin(e),r=Math.cos(e),n=t[0],a=t[1],s=t[2],o=t[3],l=t[8],h=t[9],u=t[10],f=t[11];return t[0]=n*r-l*i,t[1]=a*r-h*i,t[2]=s*r-u*i,t[3]=o*r-f*i,t[8]=n*i+l*r,t[9]=a*i+h*r,t[10]=s*i+u*r,t[11]=o*i+f*r,this},rotateZ:function(e){var t=this.val,i=Math.sin(e),r=Math.cos(e),n=t[0],a=t[1],s=t[2],o=t[3],l=t[4],h=t[5],u=t[6],f=t[7];return t[0]=n*r+l*i,t[1]=a*r+h*i,t[2]=s*r+u*i,t[3]=o*r+f*i,t[4]=l*r-n*i,t[5]=h*r-a*i,t[6]=u*r-s*i,t[7]=f*r-o*i,this},fromRotationTranslation:function(e,t){var i=this.val,r=e.x,n=e.y,a=e.z,s=e.w,o=r+r,l=n+n,h=a+a,u=r*o,f=r*l,c=r*h,v=n*l,p=n*h,m=a*h,x=s*o,g=s*l,T=s*h;return i[0]=1-(v+m),i[1]=f+T,i[2]=c-g,i[3]=0,i[4]=f-T,i[5]=1-(u+m),i[6]=p+x,i[7]=0,i[8]=c+g,i[9]=p-x,i[10]=1-(u+v),i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},fromQuat:function(e){var t=this.val,i=e.x,r=e.y,n=e.z,a=e.w,s=i+i,o=r+r,l=n+n,h=i*s,u=i*o,f=i*l,c=r*o,v=r*l,p=n*l,m=a*s,x=a*o,g=a*l;return t[0]=1-(c+p),t[1]=u+g,t[2]=f-x,t[3]=0,t[4]=u-g,t[5]=1-(h+p),t[6]=v+m,t[7]=0,t[8]=f+x,t[9]=v-m,t[10]=1-(h+c),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},frustum:function(e,t,i,r,n,a){var s=this.val,o=1/(t-e),l=1/(r-i),h=1/(n-a);return s[0]=n*2*o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=n*2*l,s[6]=0,s[7]=0,s[8]=(t+e)*o,s[9]=(r+i)*l,s[10]=(a+n)*h,s[11]=-1,s[12]=0,s[13]=0,s[14]=a*n*2*h,s[15]=0,this},perspective:function(e,t,i,r){var n=this.val,a=1/Math.tan(e/2),s=1/(i-r);return n[0]=a/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+i)*s,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*r*i*s,n[15]=0,this},perspectiveLH:function(e,t,i,r){var n=this.val;return n[0]=2*i/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*i/t,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-r/(i-r),n[11]=1,n[12]=0,n[13]=0,n[14]=i*r/(i-r),n[15]=0,this},ortho:function(e,t,i,r,n,a){var s=this.val,o=e-t,l=i-r,h=n-a;return o=o===0?o:1/o,l=l===0?l:1/l,h=h===0?h:1/h,s[0]=-2*o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*h,s[11]=0,s[12]=(e+t)*o,s[13]=(r+i)*l,s[14]=(a+n)*h,s[15]=1,this},lookAt:function(e,t,i){var r=this.val,n=e.x,a=e.y,s=e.z,o=i.x,l=i.y,h=i.z,u=t.x,f=t.y,c=t.z;if(Math.abs(n-u)<vd&&Math.abs(a-f)<vd&&Math.abs(s-c)<vd)return this.identity();var v=n-u,p=a-f,m=s-c,x=1/Math.sqrt(v*v+p*p+m*m);v*=x,p*=x,m*=x;var g=l*m-h*p,T=h*v-o*m,S=o*p-l*v;x=Math.sqrt(g*g+T*T+S*S),x?(x=1/x,g*=x,T*=x,S*=x):(g=0,T=0,S=0);var E=p*S-m*T,_=m*g-v*S,w=v*T-p*g;return x=Math.sqrt(E*E+_*_+w*w),x?(x=1/x,E*=x,_*=x,w*=x):(E=0,_=0,w=0),r[0]=g,r[1]=E,r[2]=v,r[3]=0,r[4]=T,r[5]=_,r[6]=p,r[7]=0,r[8]=S,r[9]=w,r[10]=m,r[11]=0,r[12]=-(g*n+T*a+S*s),r[13]=-(E*n+_*a+w*s),r[14]=-(v*n+p*a+m*s),r[15]=1,this},yawPitchRoll:function(e,t,i){this.zero(),Tu.zero(),Su.zero();var r=this.val,n=Tu.val,a=Su.val,s=Math.sin(i),o=Math.cos(i);return r[10]=1,r[15]=1,r[0]=o,r[1]=s,r[4]=-s,r[5]=o,s=Math.sin(t),o=Math.cos(t),n[0]=1,n[15]=1,n[5]=o,n[10]=o,n[9]=-s,n[6]=s,s=Math.sin(e),o=Math.cos(e),a[5]=1,a[15]=1,a[0]=o,a[2]=-s,a[8]=s,a[10]=o,this.multiplyLocal(Tu),this.multiplyLocal(Su),this},setWorldMatrix:function(e,t,i,r,n){return this.yawPitchRoll(e.y,e.x,e.z),Tu.scaling(i.x,i.y,i.z),Su.xyz(t.x,t.y,t.z),this.multiplyLocal(Tu),this.multiplyLocal(Su),r!==void 0&&this.multiplyLocal(r),n!==void 0&&this.multiplyLocal(n),this}}),Tu=new T0,Su=new T0,LC=T0;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rj=O,FC=kh,nj=c3,Yw=1e-6,Hw=new Int8Array([1,2,0]),vl=new Float32Array([0,0,0]),aj=new FC(1,0,0),sj=new FC(0,1,0),Ua=new FC,Xw=new nj,oj=new rj({initialize:function(t,i,r,n){typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=i||0,this.z=r||0,this.w=n||0)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},set:function(e,t,i,r){return typeof e=="object"?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=r||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,i=this.z,r=this.w;return Math.sqrt(e*e+t*t+i*i+r*r)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,r=this.w;return e*e+t*t+i*i+r*r},normalize:function(){var e=this.x,t=this.y,i=this.z,r=this.w,n=e*e+t*t+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n,this.z=i*n,this.w=r*n),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){t===void 0&&(t=0);var i=this.x,r=this.y,n=this.z,a=this.w;return this.x=i+t*(e.x-i),this.y=r+t*(e.y-r),this.z=n+t*(e.z-n),this.w=a+t*(e.w-a),this},rotationTo:function(e,t){var i=e.x*t.x+e.y*t.y+e.z*t.z;return i<-.999999?(Ua.copy(aj).cross(e).length()<Yw&&Ua.copy(sj).cross(e),Ua.normalize(),this.setAxisAngle(Ua,Math.PI)):i>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(Ua.copy(e).cross(t),this.x=Ua.x,this.y=Ua.y,this.z=Ua.z,this.w=1+i,this.normalize())},setAxes:function(e,t,i){var r=Xw.val;return r[0]=t.x,r[3]=t.y,r[6]=t.z,r[1]=i.x,r[4]=i.y,r[7]=i.z,r[2]=-e.x,r[5]=-e.y,r[8]=-e.z,this.fromMat3(Xw).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(e,t){t=t*.5;var i=Math.sin(t);return this.x=i*e.x,this.y=i*e.y,this.z=i*e.z,this.w=Math.cos(t),this},multiply:function(e){var t=this.x,i=this.y,r=this.z,n=this.w,a=e.x,s=e.y,o=e.z,l=e.w;return this.x=t*l+n*a+i*o-r*s,this.y=i*l+n*s+r*a-t*o,this.z=r*l+n*o+t*s-i*a,this.w=n*l-t*a-i*s-r*o,this},slerp:function(e,t){var i=this.x,r=this.y,n=this.z,a=this.w,s=e.x,o=e.y,l=e.z,h=e.w,u=i*s+r*o+n*l+a*h;u<0&&(u=-u,s=-s,o=-o,l=-l,h=-h);var f=1-t,c=t;if(1-u>Yw){var v=Math.acos(u),p=Math.sin(v);f=Math.sin((1-t)*v)/p,c=Math.sin(t*v)/p}return this.x=f*i+c*s,this.y=f*r+c*o,this.z=f*n+c*l,this.w=f*a+c*h,this},invert:function(){var e=this.x,t=this.y,i=this.z,r=this.w,n=e*e+t*t+i*i+r*r,a=n?1/n:0;return this.x=-e*a,this.y=-t*a,this.z=-i*a,this.w=r*a,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(e){e*=.5;var t=this.x,i=this.y,r=this.z,n=this.w,a=Math.sin(e),s=Math.cos(e);return this.x=t*s+n*a,this.y=i*s+r*a,this.z=r*s-i*a,this.w=n*s-t*a,this},rotateY:function(e){e*=.5;var t=this.x,i=this.y,r=this.z,n=this.w,a=Math.sin(e),s=Math.cos(e);return this.x=t*s-r*a,this.y=i*s+n*a,this.z=r*s+t*a,this.w=n*s-i*a,this},rotateZ:function(e){e*=.5;var t=this.x,i=this.y,r=this.z,n=this.w,a=Math.sin(e),s=Math.cos(e);return this.x=t*s+i*a,this.y=i*s-t*a,this.z=r*s+n*a,this.w=n*s-r*a,this},calculateW:function(){var e=this.x,t=this.y,i=this.z;return this.w=-Math.sqrt(1-e*e-t*t-i*i),this},fromMat3:function(e){var t=e.val,i=t[0]+t[4]+t[8],r;if(i>0)r=Math.sqrt(i+1),this.w=.5*r,r=.5/r,this.x=(t[7]-t[5])*r,this.y=(t[2]-t[6])*r,this.z=(t[3]-t[1])*r;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[n*3+n]&&(n=2);var a=Hw[n],s=Hw[a];r=Math.sqrt(t[n*3+n]-t[a*3+a]-t[s*3+s]+1),vl[n]=.5*r,r=.5/r,vl[a]=(t[a*3+n]+t[n*3+a])*r,vl[s]=(t[s*3+n]+t[n*3+s])*r,this.x=vl[0],this.y=vl[1],this.z=vl[2],this.w=(t[s*3+a]-t[a*3+s])*r}return this}}),d3=oj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lj=kh,hj=LC,uj=d3,Kw=new hj,qw=new uj,fj=new lj,cj=function(e,t,i){return qw.setAxisAngle(t,i),Kw.fromRotationTranslation(qw,fj.set(0,0,0)),e.transformMat4(Kw)},v3=cj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dj=et,vj=pt,aT={Angle:vZ,Distance:xZ,Easing:yZ,Fuzzy:MZ,Interpolation:QZ,Pow2:rQ,Snap:lQ,RandomDataGenerator:fQ,Average:dQ,Bernstein:jB,Between:PC,CatmullRom:bC,CeilTo:mQ,Clamp:$t,DegToRad:kn,Difference:xQ,Factorial:QB,FloatBetween:a3,FloorTo:SQ,FromPercent:fc,GetSpeed:EQ,IsEven:AQ,IsEvenStrict:MQ,Linear:p0,MaxAdd:PQ,MinSub:LQ,Percent:IQ,RadToDeg:RC,RandomXY:NQ,RandomXYZ:s3,RandomXYZW:o3,Rotate:l3,RotateAround:nB,RotateAroundDistance:pC,RoundAwayFromZero:h3,RoundTo:UQ,SinCosTableGenerator:YQ,SmootherStep:mC,SmoothStep:gC,ToXY:KQ,TransformXY:u3,Within:QQ,Wrap:Js,Vector2:oe,Vector3:kh,Vector4:y0,Matrix3:c3,Matrix4:LC,Quaternion:d3,RotateVec3:v3};aT=vj(!1,aT,dj);var IC=aT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OC={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};OC.DefaultScene.push("CameraManager3D");OC.Global.push("facebook");var DC=OC;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pj=O,ng=Or,mj=HB,Jw=Y,$=me,gj=Te,Zw=IC,Qw=W,xj=DC,yj=CC,Tj=new pj({initialize:function(t){t===void 0&&(t={});var i=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],r="#ffffff";this.width=$(t,"width",1024),this.height=$(t,"height",768),this.zoom=$(t,"zoom",1),this.resolution=$(t,"resolution",1),this.parent=$(t,"parent",void 0),this.scaleMode=$(t,"scaleMode",0),this.expandParent=$(t,"expandParent",!0),this.autoRound=$(t,"autoRound",!1),this.autoCenter=$(t,"autoCenter",0),this.resizeInterval=$(t,"resizeInterval",500),this.fullscreenTarget=$(t,"fullscreenTarget",null),this.minWidth=$(t,"minWidth",0),this.maxWidth=$(t,"maxWidth",0),this.minHeight=$(t,"minHeight",0),this.maxHeight=$(t,"maxHeight",0);var n=$(t,"scale",null);n&&(this.width=$(n,"width",this.width),this.height=$(n,"height",this.height),this.zoom=$(n,"zoom",this.zoom),this.resolution=$(n,"resolution",this.resolution),this.parent=$(n,"parent",this.parent),this.scaleMode=$(n,"mode",this.scaleMode),this.expandParent=$(n,"expandParent",this.expandParent),this.autoRound=$(n,"autoRound",this.autoRound),this.autoCenter=$(n,"autoCenter",this.autoCenter),this.resizeInterval=$(n,"resizeInterval",this.resizeInterval),this.fullscreenTarget=$(n,"fullscreenTarget",this.fullscreenTarget),this.minWidth=$(n,"min.width",this.minWidth),this.maxWidth=$(n,"max.width",this.maxWidth),this.minHeight=$(n,"min.height",this.minHeight),this.maxHeight=$(n,"max.height",this.maxHeight)),this.renderType=$(t,"type",ng.AUTO),this.canvas=$(t,"canvas",null),this.context=$(t,"context",null),this.canvasStyle=$(t,"canvasStyle",null),this.customEnvironment=$(t,"customEnvironment",!1),this.sceneConfig=$(t,"scene",null),this.seed=$(t,"seed",[(Date.now()*Math.random()).toString()]),Zw.RND=new Zw.RandomDataGenerator(this.seed),this.gameTitle=$(t,"title",""),this.gameURL=$(t,"url","https://phaser.io"),this.gameVersion=$(t,"version",""),this.autoFocus=$(t,"autoFocus",!0),this.domCreateContainer=$(t,"dom.createContainer",!1),this.domBehindCanvas=$(t,"dom.behindCanvas",!1),this.inputKeyboard=$(t,"input.keyboard",!0),this.inputKeyboardEventTarget=$(t,"input.keyboard.target",window),this.inputKeyboardCapture=$(t,"input.keyboard.capture",[]),this.inputMouse=$(t,"input.mouse",!0),this.inputMouseEventTarget=$(t,"input.mouse.target",null),this.inputMouseCapture=$(t,"input.mouse.capture",!0),this.inputTouch=$(t,"input.touch",mj.input.touch),this.inputTouchEventTarget=$(t,"input.touch.target",null),this.inputTouchCapture=$(t,"input.touch.capture",!0),this.inputActivePointers=$(t,"input.activePointers",1),this.inputSmoothFactor=$(t,"input.smoothFactor",0),this.inputWindowEvents=$(t,"input.windowEvents",!0),this.inputGamepad=$(t,"input.gamepad",!1),this.inputGamepadEventTarget=$(t,"input.gamepad.target",window),this.disableContextMenu=$(t,"disableContextMenu",!1),this.audio=$(t,"audio"),this.hideBanner=$(t,"banner",null)===!1,this.hidePhaser=$(t,"banner.hidePhaser",!1),this.bannerTextColor=$(t,"banner.text",r),this.bannerBackgroundColor=$(t,"banner.background",i),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=$(t,"fps",null);var a=$(t,"render",t);this.antialias=$(a,"antialias",!0),this.antialiasGL=$(a,"antialiasGL",!0),this.mipmapFilter=$(a,"mipmapFilter","LINEAR"),this.desynchronized=$(a,"desynchronized",!1),this.roundPixels=$(a,"roundPixels",!1),this.pixelArt=$(a,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=$(a,"transparent",!1),this.clearBeforeRender=$(a,"clearBeforeRender",!0),this.premultipliedAlpha=$(a,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=$(a,"failIfMajorPerformanceCaveat",!1),this.powerPreference=$(a,"powerPreference","default"),this.batchSize=$(a,"batchSize",2e3),this.maxLights=$(a,"maxLights",10);var s=$(t,"backgroundColor",0);this.backgroundColor=yj(s),s===0&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=$(t,"callbacks.preBoot",Qw),this.postBoot=$(t,"callbacks.postBoot",Qw),this.physics=$(t,"physics",{}),this.defaultPhysicsSystem=$(this.physics,"default",!1),this.loaderBaseURL=$(t,"loader.baseURL",""),this.loaderPath=$(t,"loader.path",""),this.loaderMaxParallelDownloads=$(t,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=$(t,"loader.crossOrigin",void 0),this.loaderResponseType=$(t,"loader.responseType",""),this.loaderAsync=$(t,"loader.async",!0),this.loaderUser=$(t,"loader.user",""),this.loaderPassword=$(t,"loader.password",""),this.loaderTimeout=$(t,"loader.timeout",0),this.installGlobalPlugins=[],this.installScenePlugins=[];var o=$(t,"plugins",null),l=xj.DefaultScene;o&&(Array.isArray(o)?this.defaultPlugins=o:gj(o)&&(this.installGlobalPlugins=Jw(o,"global",[]),this.installScenePlugins=Jw(o,"scene",[]),Array.isArray(o.default)?l=o.default:Array.isArray(o.defaultMerge)&&(l=l.concat(o.defaultMerge)))),this.defaultPlugins=l;var h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=$(t,"images.default",h+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=$(t,"images.missing",h+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=ng.WEBGL:window.FORCE_CANVAS&&(this.renderType=ng.CANVAS))}}),p3=Tj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sj={setCrisp:function(e){var t=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return t.forEach(function(i){e.style["image-rendering"]=i}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}},m3=Sj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ag=Mi,Cj=un,Wa=Y,Ej=function(e,t){var i=Wa(t,"callback"),r=Wa(t,"type","image/png"),n=Wa(t,"encoder",.92),a=Math.abs(Math.round(Wa(t,"x",0))),s=Math.abs(Math.round(Wa(t,"y",0))),o=Wa(t,"width",e.width),l=Wa(t,"height",e.height),h=Wa(t,"getPixel",!1);if(h){var u=e.getContext("2d"),f=u.getImageData(a,s,1,1),c=f.data;i.call(null,new Cj(c[0],c[1],c[2],c[3]/255))}else if(a!==0||s!==0||o!==e.width||l!==e.height){var v=ag.createWebGL(this,o,l),p=v.getContext("2d");p.drawImage(e,a,s,o,l,0,0,o,l);var m=new Image;m.onerror=function(){i.call(null),ag.remove(v)},m.onload=function(){i.call(null,m),ag.remove(v)},m.src=v.toDataURL(r,n)}else{var x=new Image;x.onerror=function(){i.call(null)},x.onload=function(){i.call(null,x)},x.src=e.toDataURL(r,n)}},g3=Ej;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Re=xa,_j=YB,Aj=function(){var e=[],t=_j.supportNewBlendModes,i="source-over";return e[Re.NORMAL]=i,e[Re.ADD]="lighter",e[Re.MULTIPLY]=t?"multiply":i,e[Re.SCREEN]=t?"screen":i,e[Re.OVERLAY]=t?"overlay":i,e[Re.DARKEN]=t?"darken":i,e[Re.LIGHTEN]=t?"lighten":i,e[Re.COLOR_DODGE]=t?"color-dodge":i,e[Re.COLOR_BURN]=t?"color-burn":i,e[Re.HARD_LIGHT]=t?"hard-light":i,e[Re.SOFT_LIGHT]=t?"soft-light":i,e[Re.DIFFERENCE]=t?"difference":i,e[Re.EXCLUSION]=t?"exclusion":i,e[Re.HUE]=t?"hue":i,e[Re.SATURATION]=t?"saturation":i,e[Re.COLOR]=t?"color":i,e[Re.LUMINOSITY]=t?"luminosity":i,e[Re.ERASE]="destination-out",e[Re.SOURCE_IN]="source-in",e[Re.SOURCE_OUT]="source-out",e[Re.SOURCE_ATOP]="source-atop",e[Re.DESTINATION_OVER]="destination-over",e[Re.DESTINATION_IN]="destination-in",e[Re.DESTINATION_OUT]="destination-out",e[Re.DESTINATION_ATOP]="destination-atop",e[Re.LIGHTER]="lighter",e[Re.COPY]="copy",e[Re.XOR]="xor",e},x3=Aj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jw=g3,eM=Ra,wj=O,Mj=Or,bj=x3,Pj=gc,pd=hn,Rj=new wj({initialize:function(t){this.game=t,this.type=Mj.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:t.config.clearBeforeRender,backgroundColor:t.config.backgroundColor,resolution:t.config.resolution,antialias:t.config.antialias,roundPixels:t.config.roundPixels},this.gameCanvas=t.canvas;var i={alpha:t.config.transparent,desynchronized:t.config.desynchronized};this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d",i),this.currentContext=this.gameContext,this.antialias=t.config.antialias,this.blendModes=bj(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new pd,this._tempMatrix2=new pd,this._tempMatrix3=new pd,this._tempMatrix4=new pd,this.init()},init:function(){this.game.scale.on(Pj.RESIZE,this.onResize,this);var e=this.game.scale.baseSize;this.resize(e.width,e.height)},onResize:function(e,t){(t.width!==this.width||t.height!==this.height)&&this.resize(t.width,t.height)},resize:function(e,t){this.width=e,this.height=t},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(e){return this.currentContext.globalCompositeOperation=e,this},setContext:function(e){return this.currentContext=e||this.gameContext,this},setAlpha:function(e){return this.currentContext.globalAlpha=e,this},preRender:function(){var e=this.gameContext,t=this.config,i=this.width,r=this.height;e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),t.clearBeforeRender&&e.clearRect(0,0,i,r),t.transparent||(e.fillStyle=t.backgroundColor.rgba,e.fillRect(0,0,i,r)),e.save(),this.drawCount=0},render:function(e,t,i,r){var n=t.list,a=n.length,s=r._cx,o=r._cy,l=r._cw,h=r._ch,u=r.renderToTexture?r.context:e.sys.context;u.save(),this.game.scene.customViewports&&(u.beginPath(),u.rect(s,o,l,h),u.clip()),this.currentContext=u;var f=r.mask;f&&f.preRenderCanvas(this,null,r._maskCamera),r.transparent||(u.fillStyle=r.backgroundColor.rgba,u.fillRect(s,o,l,h)),u.globalAlpha=r.alpha,u.globalCompositeOperation="source-over",this.drawCount+=n.length,r.renderToTexture&&r.emit(eM.PRE_RENDER,r),r.matrix.copyToContext(u);for(var c=0;c<a;c++){var v=n[c];v.willRender(r)&&(v.mask&&v.mask.preRenderCanvas(this,v,r),v.renderCanvas(this,v,i,r),v.mask&&v.mask.postRenderCanvas(this,v,r))}u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.globalAlpha=1,r.flashEffect.postRenderCanvas(u),r.fadeEffect.postRenderCanvas(u),r.dirty=!1,f&&f.postRenderCanvas(this),u.restore(),r.renderToTexture&&(r.emit(eM.POST_RENDER,r),e.sys.context.drawImage(r.canvas,s,o))},postRender:function(){var e=this.gameContext;e.restore();var t=this.snapshotState;t.callback&&(jw(this.gameCanvas,t),t.callback=null)},snapshotCanvas:function(e,t,i,r,n,a,s,o,l){i===void 0&&(i=!1),this.snapshotArea(r,n,a,s,t,o,l);var h=this.snapshotState;return h.getPixel=i,jw(this.canvas,h),h.callback=null,this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,e,t,i)},snapshotArea:function(e,t,i,r,n,a,s){var o=this.snapshotState;return o.callback=n,o.type=a,o.encoder=s,o.getPixel=!1,o.x=e,o.y=t,o.width=Math.min(i,this.gameCanvas.width),o.height=Math.min(r,this.gameCanvas.height),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(e,t,i,r){var n=i.alpha*e.alpha;if(n!==0){var a=this.currentContext,s=this._tempMatrix1,o=this._tempMatrix2,l=this._tempMatrix3,h=t.canvasData,u=h.x,f=h.y,c=t.cutWidth,v=t.cutHeight,p=t.customPivot,m=t.source.resolution,x=e.displayOriginX,g=e.displayOriginY,T=-x+t.x,S=-g+t.y;if(e.isCropped){var E=e._crop;(E.flipX!==e.flipX||E.flipY!==e.flipY)&&t.updateCropUVs(E,e.flipX,e.flipY),c=E.cw,v=E.ch,u=E.cx,f=E.cy,T=-x+E.x,S=-g+E.y,e.flipX&&(T>=0?T=-(T+c):T<0&&(T=Math.abs(T)-c)),e.flipY&&(S>=0?S=-(S+v):S<0&&(S=Math.abs(S)-v))}var _=1,w=1;e.flipX&&(p||(T+=-t.realWidth+x*2),_=-1),e.flipY&&(p||(S+=-t.realHeight+g*2),w=-1),o.applyITRS(e.x,e.y,e.rotation,e.scaleX*_,e.scaleY*w),s.copyFrom(i.matrix),r?(s.multiplyWithOffset(r,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),o.e=e.x,o.f=e.y,s.multiply(o,l)):(o.e-=i.scrollX*e.scrollFactorX,o.f-=i.scrollY*e.scrollFactorY,s.multiply(o,l)),a.save(),l.setToContext(a),a.globalCompositeOperation=this.blendModes[e.blendMode],a.globalAlpha=n,a.imageSmoothingEnabled=!(!this.antialias||t.source.scaleMode),a.drawImage(t.source.image,u,f,c,v,T,S,c/m,v/m),a.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}}),y3=Rj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lj=function(e,t){if(!(t>=e.length)){for(var i=e.length-1,r=e[t],n=t;n<i;n++)e[n]=e[n+1];return e.length=i,r}},$h=Lj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fj="addtexture";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ij="onerror";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Oj="onload";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dj="ready";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Bj="removetexture";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S0={ADD:Fj,ERROR:Ij,LOAD:Oj,READY:Dj,REMOVE:Bj};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Be={getTintFromFloats:function(e,t,i,r){var n=(e*255|0)&255,a=(t*255|0)&255,s=(i*255|0)&255,o=(r*255|0)&255;return(o<<24|n<<16|a<<8|s)>>>0},getTintAppendFloatAlpha:function(e,t){var i=(t*255|0)&255;return(i<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,t){var i=(e>>16|0)&255,r=(e>>8|0)&255,n=(e|0)&255,a=(t*255|0)&255;return(a<<24|n<<16|r<<8|i)>>>0},getFloatsFromUintRGB:function(e){var t=(e>>16|0)&255,i=(e>>8|0)&255,r=(e|0)&255;return[t/255,i/255,r/255]},getComponentCount:function(e,t){for(var i=0,r=0;r<e.length;++r){var n=e[r];n.type===t.FLOAT?i+=n.size:i+=1}return i}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sg=Mi,Nj=un,zr=Y,Gj=function(e,t){var i=e.getContext("experimental-webgl"),r=zr(t,"callback"),n=zr(t,"type","image/png"),a=zr(t,"encoder",.92),s=zr(t,"x",0),o=zr(t,"y",0),l=zr(t,"getPixel",!1),h=zr(t,"isFramebuffer",!1),u=h?zr(t,"bufferWidth",1):i.drawingBufferWidth,f=h?zr(t,"bufferHeight",1):i.drawingBufferHeight;if(l){var c=new Uint8Array(4),v=h?o:f-o;i.readPixels(s,v,1,1,i.RGBA,i.UNSIGNED_BYTE,c),r.call(null,new Nj(c[0],c[1],c[2],c[3]/255))}else{var p=zr(t,"width",u),m=zr(t,"height",f),x=p*m*4,g=new Uint8Array(x);i.readPixels(s,f-o-m,p,m,i.RGBA,i.UNSIGNED_BYTE,g);for(var T=sg.createWebGL(this,p,m),S=T.getContext("2d"),E=S.getImageData(0,0,p,m),_=E.data,w=0;w<m;w++)for(var R=0;R<p;R++){var F=((m-w)*p+R)*4,k=h?x-(w*p+(p-R))*4:(w*p+R)*4;_[k+0]=g[F+0],_[k+1]=g[F+1],_[k+2]=g[F+2],_[k+3]=g[F+3]}S.putImageData(E,0,0);var B=new Image;B.onerror=function(){r.call(null),sg.remove(T)},B.onload=function(){r.call(null,B),sg.remove(T)},B.src=T.toDataURL(n,a)}},T3=Gj,kj=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`),$j=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zj=O,tM=Be,Vj=new zj({initialize:function(t){this.name="WebGLPipeline",this.game=t.game,this.view=t.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=t.gl,this.vertexCount=0,this.vertexCapacity=t.vertexCapacity,this.renderer=t.renderer,this.vertexData=t.vertices?t.vertices:new ArrayBuffer(t.vertexCapacity*t.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(t.vertices?t.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(t.vertShader,t.fragShader),this.attributes=t.attributes,this.vertexSize=t.vertexSize,this.topology=t.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=tM.getComponentCount(t.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(e,t,i,r,n){return this.attributes.push({name:e,size:t,type:this.renderer.glFormats[i],normalized:r,offset:n}),this.vertexComponentCount=tM.getComponentCount(this.attributes,this.gl),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(e,t,i){return this.width=e*i,this.height=t*i,this.resolution=i,this},bind:function(){var e=this.gl,t=this.vertexBuffer,i=this.attributes,r=this.program,n=this.renderer,a=this.vertexSize;n.setProgram(r),n.setVertexBuffer(t);for(var s=0;s<i.length;++s){var o=i[s],l=e.getAttribLocation(r,o.name);l>=0?(e.enableVertexAttribArray(l),e.vertexAttribPointer(l,o.size,o.type,o.normalized,a,o.offset)):l!==-1&&e.disableVertexAttribArray(l)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var e=this.gl,t=this.vertexCount,i=this.topology,r=this.vertexSize;if(t===0){this.flushLocked=!1;return}return e.bufferSubData(e.ARRAY_BUFFER,0,this.bytes.subarray(0,t*r)),e.drawArrays(i,0,t),this.vertexCount=0,this.flushLocked=!1,this},destroy:function(){var e=this.gl;return e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(e,t){return this.renderer.setFloat1(this.program,e,t),this},setFloat2:function(e,t,i){return this.renderer.setFloat2(this.program,e,t,i),this},setFloat3:function(e,t,i,r){return this.renderer.setFloat3(this.program,e,t,i,r),this},setFloat4:function(e,t,i,r,n){return this.renderer.setFloat4(this.program,e,t,i,r,n),this},setFloat1v:function(e,t){return this.renderer.setFloat1v(this.program,e,t),this},setFloat2v:function(e,t){return this.renderer.setFloat2v(this.program,e,t),this},setFloat3v:function(e,t){return this.renderer.setFloat3v(this.program,e,t),this},setFloat4v:function(e,t){return this.renderer.setFloat4v(this.program,e,t),this},setInt1:function(e,t){return this.renderer.setInt1(this.program,e,t),this},setInt2:function(e,t,i){return this.renderer.setInt2(this.program,e,t,i),this},setInt3:function(e,t,i,r){return this.renderer.setInt3(this.program,e,t,i,r),this},setInt4:function(e,t,i,r,n){return this.renderer.setInt4(this.program,e,t,i,r,n),this},setMatrix2:function(e,t,i){return this.renderer.setMatrix2(this.program,e,t,i),this},setMatrix3:function(e,t,i){return this.renderer.setMatrix3(this.program,e,t,i),this},setMatrix4:function(e,t,i){return this.renderer.setMatrix4(this.program,e,t,i),this}}),BC=Vj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uj=O,Wj=kj,Yj=$j,md=BC,Hj=new Uj({Extends:md,initialize:function(t){md.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:t.topology?t.topology:t.renderer.gl.TRIANGLES,vertShader:t.vertShader?t.vertShader:Yj,fragShader:t.fragShader?t.fragShader:Wj,vertexCapacity:t.vertexCapacity?t.vertexCapacity:3,vertexSize:t.vertexSize?t.vertexSize:Float32Array.BYTES_PER_ELEMENT*2,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){md.prototype.onBind.call(this);var e=this.renderer,t=this.program;return this.resolutionDirty&&(e.setFloat2(t,"uResolution",this.width,this.height),e.setInt1(t,"uMainSampler",0),e.setInt1(t,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(e,t,i){return md.prototype.resize.call(this,e,t,i),this.resolutionDirty=!0,this},beginMask:function(e,t,i){var r=this.renderer,n=this.gl,a=e.bitmapMask;a&&n&&(r.flush(),e.prevFramebuffer=r.currentFramebuffer,r.setFramebuffer(e.mainFramebuffer),n.disable(n.STENCIL_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.currentCameraMask.mask!==e&&(r.currentMask.mask=e,r.currentMask.camera=i))},endMask:function(e,t){var i=this.gl,r=this.renderer,n=e.bitmapMask;if(n&&i){r.flush(),r.setFramebuffer(e.maskFramebuffer),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),r.setBlendMode(0,!0),n.renderWebGL(r,n,0,t),r.flush(),r.setFramebuffer(e.prevFramebuffer);var a=r.getCurrentStencilMask();a?(i.enable(i.STENCIL_TEST),a.mask.applyStencil(r,a.camera,!0)):r.currentMask.mask=null,r.setPipeline(this),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,e.maskTexture),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.mainTexture),i.uniform1i(i.getUniformLocation(this.program,"uInvertMaskAlpha"),e.invertAlpha),i.drawArrays(this.topology,0,3)}}}),S3=Hj,Xj=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join(`
`);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zo=NC;function NC(e,t,i){i=i||2;var r=t&&t.length,n=r?t[0]*i:e.length,a=C3(e,0,n,i,!0),s=[];if(!a||a.next===a.prev)return s;var o,l,h,u,f,c,v;if(r&&(a=Qj(e,t,a,i)),e.length>80*i){o=h=e[0],l=u=e[1];for(var p=i;p<n;p+=i)f=e[p],c=e[p+1],f<o&&(o=f),c<l&&(l=c),f>h&&(h=f),c>u&&(u=c);v=Math.max(h-o,u-l),v=v!==0?1/v:0}return Jf(a,s,i,o,l,v),s}function C3(e,t,i,r,n){var a,s;if(n===lT(e,t,i,r)>0)for(a=t;a<i;a+=r)s=iM(a,e[a],e[a+1],s);else for(a=i-r;a>=t;a-=r)s=iM(a,e[a],e[a+1],s);return s&&Oo(s,s.next)&&(Qf(s),s=s.next),s}function qf(e,t){if(!e)return e;t||(t=e);var i=e,r;do if(r=!1,!i.steiner&&(Oo(i,i.next)||Xt(i.prev,i,i.next)===0)){if(Qf(i),i=t=i.prev,i===i.next)break;r=!0}else i=i.next;while(r||i!==t);return t}function Jf(e,t,i,r,n,a,s){if(e){!s&&a&&iee(e,r,n,a);for(var o=e,l,h;e.prev!==e.next;){if(l=e.prev,h=e.next,a?qj(e,r,n,a):Kj(e)){t.push(l.i/i),t.push(e.i/i),t.push(h.i/i),Qf(e),e=h.next,o=h.next;continue}if(e=h,e===o){s?s===1?(e=Jj(e,t,i),Jf(e,t,i,r,n,a,2)):s===2&&Zj(e,t,i,r,n,a):Jf(qf(e),t,i,r,n,a,1);break}}}}function Kj(e){var t=e.prev,i=e,r=e.next;if(Xt(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(ch(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Xt(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function qj(e,t,i,r){var n=e.prev,a=e,s=e.next;if(Xt(n,a,s)>=0)return!1;for(var o=n.x<a.x?n.x<s.x?n.x:s.x:a.x<s.x?a.x:s.x,l=n.y<a.y?n.y<s.y?n.y:s.y:a.y<s.y?a.y:s.y,h=n.x>a.x?n.x>s.x?n.x:s.x:a.x>s.x?a.x:s.x,u=n.y>a.y?n.y>s.y?n.y:s.y:a.y>s.y?a.y:s.y,f=sT(o,l,t,i,r),c=sT(h,u,t,i,r),v=e.prevZ,p=e.nextZ;v&&v.z>=f&&p&&p.z<=c;){if(v!==e.prev&&v!==e.next&&ch(n.x,n.y,a.x,a.y,s.x,s.y,v.x,v.y)&&Xt(v.prev,v,v.next)>=0||(v=v.prevZ,p!==e.prev&&p!==e.next&&ch(n.x,n.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Xt(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;v&&v.z>=f;){if(v!==e.prev&&v!==e.next&&ch(n.x,n.y,a.x,a.y,s.x,s.y,v.x,v.y)&&Xt(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;p&&p.z<=c;){if(p!==e.prev&&p!==e.next&&ch(n.x,n.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Jj(e,t,i){var r=e;do{var n=r.prev,a=r.next.next;!Oo(n,a)&&E3(n,r,r.next,a)&&Zf(n,a)&&Zf(a,n)&&(t.push(n.i/i),t.push(r.i/i),t.push(a.i/i),Qf(r),Qf(r.next),r=e=a),r=r.next}while(r!==e);return r}function Zj(e,t,i,r,n,a){var s=e;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&aee(s,o)){var l=_3(s,o);s=qf(s,s.next),l=qf(l,l.next),Jf(s,t,i,r,n,a),Jf(l,t,i,r,n,a);return}o=o.next}s=s.next}while(s!==e)}function Qj(e,t,i,r){var n=[],a,s,o,l,h;for(a=0,s=t.length;a<s;a++)o=t[a]*r,l=a<s-1?t[a+1]*r:e.length,h=C3(e,o,l,r,!1),h===h.next&&(h.steiner=!0),n.push(nee(h));for(n.sort(jj),a=0;a<n.length;a++)eee(n[a],i),i=qf(i,i.next);return i}function jj(e,t){return e.x-t.x}function eee(e,t){if(t=tee(e,t),t){var i=_3(t,e);qf(i,i.next)}}function tee(e,t){var i=t,r=e.x,n=e.y,a=-1/0,s;do{if(n<=i.y&&n>=i.next.y&&i.next.y!==i.y){var o=i.x+(n-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=r&&o>a){if(a=o,o===r){if(n===i.y)return i;if(n===i.next.y)return i.next}s=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!s)return null;if(r===a)return s.prev;var l=s,h=s.x,u=s.y,f=1/0,c;for(i=s.next;i!==l;)r>=i.x&&i.x>=h&&r!==i.x&&ch(n<u?r:a,n,h,u,n<u?a:r,n,i.x,i.y)&&(c=Math.abs(n-i.y)/(r-i.x),(c<f||c===f&&i.x>s.x)&&Zf(i,e)&&(s=i,f=c)),i=i.next;return s}function iee(e,t,i,r){var n=e;do n.z===null&&(n.z=sT(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,ree(n)}function ree(e){var t,i,r,n,a,s,o,l,h=1;do{for(i=e,e=null,a=null,s=0;i;){for(s++,r=i,o=0,t=0;t<h&&(o++,r=r.nextZ,!!r);t++);for(l=h;o>0||l>0&&r;)o!==0&&(l===0||!r||i.z<=r.z)?(n=i,i=i.nextZ,o--):(n=r,r=r.nextZ,l--),a?a.nextZ=n:e=n,n.prevZ=a,a=n;i=r}a.nextZ=null,h*=2}while(s>1);return e}function sT(e,t,i,r,n){return e=32767*(e-i)*n,t=32767*(t-r)*n,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function nee(e){var t=e,i=e;do t.x<i.x&&(i=t),t=t.next;while(t!==e);return i}function ch(e,t,i,r,n,a,s,o){return(n-s)*(t-o)-(e-s)*(a-o)>=0&&(e-s)*(r-o)-(i-s)*(t-o)>=0&&(i-s)*(a-o)-(n-s)*(r-o)>=0}function aee(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!see(e,t)&&Zf(e,t)&&Zf(t,e)&&oee(e,t)}function Xt(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Oo(e,t){return e.x===t.x&&e.y===t.y}function E3(e,t,i,r){return Oo(e,t)&&Oo(i,r)||Oo(e,r)&&Oo(i,t)?!0:Xt(e,t,i)>0!=Xt(e,t,r)>0&&Xt(i,r,e)>0!=Xt(i,r,t)>0}function see(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&E3(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function Zf(e,t){return Xt(e.prev,e,e.next)<0?Xt(e,t,e.next)>=0&&Xt(e,e.prev,t)>=0:Xt(e,t,e.prev)<0||Xt(e,e.next,t)<0}function oee(e,t){var i=e,r=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;while(i!==e);return r}function _3(e,t){var i=new oT(e.i,e.x,e.y),r=new oT(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function iM(e,t,i,r){var n=new oT(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Qf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function oT(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}NC.deviation=function(e,t,i,r){var n=t&&t.length,a=n?t[0]*i:e.length,s=Math.abs(lT(e,0,a,i));if(n)for(var o=0,l=t.length;o<l;o++){var h=t[o]*i,u=o<l-1?t[o+1]*i:e.length;s-=Math.abs(lT(e,h,u,i))}var f=0;for(o=0;o<r.length;o+=3){var c=r[o]*i,v=r[o+1]*i,p=r[o+2]*i;f+=Math.abs((e[c]-e[p])*(e[v+1]-e[c+1])-(e[c]-e[v])*(e[p+1]-e[c+1]))}return s===0&&f===0?0:Math.abs((f-s)/s)};function lT(e,t,i,r){for(var n=0,a=t,s=i-r;a<i;a+=r)n+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return n}NC.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var a=0;a<e[n].length;a++)for(var s=0;s<t;s++)i.vertices.push(e[n][a][s]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lee={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var e=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(e,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(e,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(e,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var e=this.modelMatrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(e,t,i){var r=this.modelMatrix;return r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*e,r[3]=r[3]*e,r[4]=r[4]*t,r[5]=r[5]*t,r[6]=r[6]*t,r[7]=r[7]*t,r[8]=r[8]*i,r[9]=r[9]*i,r[10]=r[10]*i,r[11]=r[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(e,t,i){var r=this.modelMatrix;return r[12]=r[0]*e+r[4]*t+r[8]*i+r[12],r[13]=r[1]*e+r[5]*t+r[9]*i+r[13],r[14]=r[2]*e+r[6]*t+r[10]*i+r[14],r[15]=r[3]*e+r[7]*t+r[11]*i+r[15],this.modelMatrixDirty=!0,this},modelRotateX:function(e){var t=this.modelMatrix,i=Math.sin(e),r=Math.cos(e),n=t[4],a=t[5],s=t[6],o=t[7],l=t[8],h=t[9],u=t[10],f=t[11];return t[4]=n*r+l*i,t[5]=a*r+h*i,t[6]=s*r+u*i,t[7]=o*r+f*i,t[8]=l*r-n*i,t[9]=h*r-a*i,t[10]=u*r-s*i,t[11]=f*r-o*i,this.modelMatrixDirty=!0,this},modelRotateY:function(e){var t=this.modelMatrix,i=Math.sin(e),r=Math.cos(e),n=t[0],a=t[1],s=t[2],o=t[3],l=t[8],h=t[9],u=t[10],f=t[11];return t[0]=n*r-l*i,t[1]=a*r-h*i,t[2]=s*r-u*i,t[3]=o*r-f*i,t[8]=n*i+l*r,t[9]=a*i+h*r,t[10]=s*i+u*r,t[11]=o*i+f*r,this.modelMatrixDirty=!0,this},modelRotateZ:function(e){var t=this.modelMatrix,i=Math.sin(e),r=Math.cos(e),n=t[0],a=t[1],s=t[2],o=t[3],l=t[4],h=t[5],u=t[6],f=t[7];return t[0]=n*r+l*i,t[1]=a*r+h*i,t[2]=s*r+u*i,t[3]=o*r+f*i,t[4]=l*r-n*i,t[5]=h*r-a*i,t[6]=u*r-s*i,t[7]=f*r-o*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var e=this.viewMatrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(e,t,i){var r=this.viewMatrix;return r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*e,r[3]=r[3]*e,r[4]=r[4]*t,r[5]=r[5]*t,r[6]=r[6]*t,r[7]=r[7]*t,r[8]=r[8]*i,r[9]=r[9]*i,r[10]=r[10]*i,r[11]=r[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(e,t,i){var r=this.viewMatrix;return r[12]=r[0]*e+r[4]*t+r[8]*i+r[12],r[13]=r[1]*e+r[5]*t+r[9]*i+r[13],r[14]=r[2]*e+r[6]*t+r[10]*i+r[14],r[15]=r[3]*e+r[7]*t+r[11]*i+r[15],this.viewMatrixDirty=!0,this},viewRotateX:function(e){var t=this.viewMatrix,i=Math.sin(e),r=Math.cos(e),n=t[4],a=t[5],s=t[6],o=t[7],l=t[8],h=t[9],u=t[10],f=t[11];return t[4]=n*r+l*i,t[5]=a*r+h*i,t[6]=s*r+u*i,t[7]=o*r+f*i,t[8]=l*r-n*i,t[9]=h*r-a*i,t[10]=u*r-s*i,t[11]=f*r-o*i,this.viewMatrixDirty=!0,this},viewRotateY:function(e){var t=this.viewMatrix,i=Math.sin(e),r=Math.cos(e),n=t[0],a=t[1],s=t[2],o=t[3],l=t[8],h=t[9],u=t[10],f=t[11];return t[0]=n*r-l*i,t[1]=a*r-h*i,t[2]=s*r-u*i,t[3]=o*r-f*i,t[8]=n*i+l*r,t[9]=a*i+h*r,t[10]=s*i+u*r,t[11]=o*i+f*r,this.viewMatrixDirty=!0,this},viewRotateZ:function(e){var t=this.viewMatrix,i=Math.sin(e),r=Math.cos(e),n=t[0],a=t[1],s=t[2],o=t[3],l=t[4],h=t[5],u=t[6],f=t[7];return t[0]=n*r+l*i,t[1]=a*r+h*i,t[2]=s*r+u*i,t[3]=o*r+f*i,t[4]=l*r-n*i,t[5]=h*r-a*i,t[6]=u*r-s*i,t[7]=f*r-o*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(e){var t=this.viewMatrix;return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=0,t[4]=e[2],t[5]=e[3],t[6]=0,t[7]=0,t[8]=e[4],t[9]=e[5],t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(e){var t=this.viewMatrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var e=this.projectionMatrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(e,t,i,r,n,a){var s=this.projectionMatrix,o=1/(e-t),l=1/(i-r),h=1/(n-a);return s[0]=-2*o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*h,s[11]=0,s[12]=(e+t)*o,s[13]=(r+i)*l,s[14]=(a+n)*h,s[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(e,t,i,r){var n=this.projectionMatrix,a=1/Math.tan(e/2),s=1/(i-r);return n[0]=a/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+i)*s,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*r*i*s,n[15]=0,this.projectionMatrixDirty=!0,this}},A3=lee,hee=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`),uee=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join(`
`);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fee=O,cee=Zo,Cu=Y,dee=A3,vee=hee,pee=uee,gd=hn,pl=Be,xd=BC,mee=new fee({Extends:xd,Mixins:[dee],initialize:function(t){var i=t.renderer.config;xd.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:Cu(t,"topology",t.renderer.gl.TRIANGLES),vertShader:Cu(t,"vertShader",pee),fragShader:Cu(t,"fragShader",vee),vertexCapacity:Cu(t,"vertexCapacity",6*i.batchSize),vertexSize:Cu(t,"vertexSize",Float32Array.BYTES_PER_ELEMENT*5+Uint8Array.BYTES_PER_ELEMENT*4),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*2},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*4},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:Float32Array.BYTES_PER_ELEMENT*5}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=i.batchSize,this.batches=[],this._tempMatrix1=new gd,this._tempMatrix2=new gd,this._tempMatrix3=new gd,this._tempMatrix4=new gd,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return xd.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(e,t,i){return xd.prototype.resize.call(this,e,t,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(e,t){return e===void 0&&(e=this.renderer.blankTexture.glTexture),t===void 0&&(t=0),this.requireTextureBatch(e,t)&&this.pushBatch(e,t),this},requireTextureBatch:function(e,t){var i=this.batches,r=i.length;if(r>0){var n=t>0?i[r-1].textures[t-1]:i[r-1].texture;return n!==e}return!0},pushBatch:function(e,t){if(t===0)this.batches.push({first:this.vertexCount,texture:e,textures:[]});else{var i=[];i[t-1]=e,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var e=this.gl,t=this.vertexCount,i=this.topology,r=this.vertexSize,n=this.renderer,a=this.batches,s=a.length,o=0,l=null,h,u,f;if(s===0||t===0)return this.flushLocked=!1,this;e.bufferSubData(e.ARRAY_BUFFER,0,this.bytes.subarray(0,t*r));for(var c=0;c<s-1;c++){if(l=a[c],h=a[c+1],l.textures.length>0){for(u=0;u<l.textures.length;++u)f=l.textures[u],f&&n.setTexture2D(f,1+u,!1);e.activeTexture(e.TEXTURE0)}o=h.first-l.first,!(l.texture===null||o<=0)&&(n.setTexture2D(l.texture,0,!1),e.drawArrays(i,l.first,o))}if(l=a[s-1],l.textures.length>0){for(u=0;u<l.textures.length;++u)f=l.textures[u],f&&n.setTexture2D(f,1+u,!1);e.activeTexture(e.TEXTURE0)}return o=t-l.first,l.texture&&o>0&&(n.setTexture2D(l.texture,0,!1),e.drawArrays(i,l.first,o)),this.vertexCount=0,a.length=0,this.flushLocked=!1,this},batchSprite:function(e,t,i){this.renderer.setPipeline(this);var r=this._tempMatrix1,n=this._tempMatrix2,a=this._tempMatrix3,s=e.frame,o=s.glTexture,l=s.u0,h=s.v0,u=s.u1,f=s.v1,c=s.x,v=s.y,p=s.cutWidth,m=s.cutHeight,x=s.customPivot,g=e.displayOriginX,T=e.displayOriginY,S=-g+c,E=-T+v;if(e.isCropped){var _=e._crop;(_.flipX!==e.flipX||_.flipY!==e.flipY)&&s.updateCropUVs(_,e.flipX,e.flipY),l=_.u0,h=_.v0,u=_.u1,f=_.v1,p=_.width,m=_.height,c=_.x,v=_.y,S=-g+c,E=-T+v}var w=1,R=1;e.flipX&&(x||(S+=-s.realWidth+g*2),w=-1),(e.flipY||s.source.isGLTexture&&!o.flipY)&&(x||(E+=-s.realHeight+T*2),R=-1),n.applyITRS(e.x,e.y,e.rotation,e.scaleX*w,e.scaleY*R),r.copyFrom(t.matrix),i?(r.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),n.e=e.x,n.f=e.y,r.multiply(n,a)):(n.e-=t.scrollX*e.scrollFactorX,n.f-=t.scrollY*e.scrollFactorY,r.multiply(n,a));var F=S+p,k=E+m,B=a.getX(S,E),N=a.getY(S,E),d=a.getX(S,k),y=a.getY(S,k),C=a.getX(F,k),M=a.getY(F,k),A=a.getX(F,E),L=a.getY(F,E),P=pl.getTintAppendFloatAlpha(e._tintTL,t.alpha*e._alphaTL),b=pl.getTintAppendFloatAlpha(e._tintTR,t.alpha*e._alphaTR),I=pl.getTintAppendFloatAlpha(e._tintBL,t.alpha*e._alphaBL),D=pl.getTintAppendFloatAlpha(e._tintBR,t.alpha*e._alphaBR);t.roundPixels&&(B=Math.round(B),N=Math.round(N),d=Math.round(d),y=Math.round(y),C=Math.round(C),M=Math.round(M),A=Math.round(A),L=Math.round(L)),this.setTexture2D(o,0);var G=e._isTinted&&e.tintFill;this.batchQuad(B,N,d,y,C,M,A,L,l,h,u,f,P,b,I,D,G,o,0)},batchQuad:function(e,t,i,r,n,a,s,o,l,h,u,f,c,v,p,m,x,g,T){var S=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),S=!0,this.setTexture2D(g,T));var E=this.vertexViewF32,_=this.vertexViewU32,w=this.vertexCount*this.vertexComponentCount-1;return E[++w]=e,E[++w]=t,E[++w]=l,E[++w]=h,E[++w]=x,_[++w]=c,E[++w]=i,E[++w]=r,E[++w]=l,E[++w]=f,E[++w]=x,_[++w]=p,E[++w]=n,E[++w]=a,E[++w]=u,E[++w]=f,E[++w]=x,_[++w]=m,E[++w]=e,E[++w]=t,E[++w]=l,E[++w]=h,E[++w]=x,_[++w]=c,E[++w]=n,E[++w]=a,E[++w]=u,E[++w]=f,E[++w]=x,_[++w]=m,E[++w]=s,E[++w]=o,E[++w]=u,E[++w]=h,E[++w]=x,_[++w]=v,this.vertexCount+=6,S},batchTri:function(e,t,i,r,n,a,s,o,l,h,u,f,c,v,p,m){var x=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(p,m),x=!0);var g=this.vertexViewF32,T=this.vertexViewU32,S=this.vertexCount*this.vertexComponentCount-1;return g[++S]=e,g[++S]=t,g[++S]=s,g[++S]=o,g[++S]=v,T[++S]=u,g[++S]=i,g[++S]=r,g[++S]=s,g[++S]=h,g[++S]=v,T[++S]=f,g[++S]=n,g[++S]=a,g[++S]=l,g[++S]=h,g[++S]=v,T[++S]=c,this.vertexCount+=3,x},batchTexture:function(e,t,i,r,n,a,s,o,l,h,u,f,c,v,p,m,x,g,T,S,E,_,w,R,F,k,B,N,d,y,C){this.renderer.setPipeline(this,e);var M=this._tempMatrix1,A=this._tempMatrix2,L=this._tempMatrix3,P=g/i+B,b=T/r+N,I=(g+S)/i+B,D=(T+E)/r+N,G=s,H=o,V=-m,X=-x;if(e.isCropped){var K=e._crop;G=K.width,H=K.height,s=K.width,o=K.height,g=K.x,T=K.y;var te=g,se=T;f&&(te=S-K.x-K.width),c&&!t.isRenderTexture&&(se=E-K.y-K.height),P=te/i+B,b=se/r+N,I=(te+K.width)/i+B,D=(se+K.height)/r+N,V=-m+g,X=-x+T}c=c^(!C&&t.isRenderTexture?1:0),f&&(G*=-1,V+=s),c&&(H*=-1,X+=o);var ve=V+G,ie=X+H;A.applyITRS(n,a,u,l,h),M.copyFrom(d.matrix),y?(M.multiplyWithOffset(y,-d.scrollX*v,-d.scrollY*p),A.e=n,A.f=a,M.multiply(A,L)):(A.e-=d.scrollX*v,A.f-=d.scrollY*p,M.multiply(A,L));var ne=L.getX(V,X),ge=L.getY(V,X),it=L.getX(V,ie),Pe=L.getY(V,ie),zt=L.getX(ve,ie),xt=L.getY(ve,ie),Rt=L.getX(ve,X),xi=L.getY(ve,X);d.roundPixels&&(ne=Math.round(ne),ge=Math.round(ge),it=Math.round(it),Pe=Math.round(Pe),zt=Math.round(zt),xt=Math.round(xt),Rt=Math.round(Rt),xi=Math.round(xi)),this.setTexture2D(t,0),this.batchQuad(ne,ge,it,Pe,zt,xt,Rt,xi,P,b,I,D,_,w,R,F,k,t,0)},batchTextureFrame:function(e,t,i,r,n,a,s){this.renderer.setPipeline(this);var o=this._tempMatrix1.copyFrom(a),l=this._tempMatrix2,h=t+e.width,u=i+e.height;s?o.multiply(s,l):l=o;var f=l.getX(t,i),c=l.getY(t,i),v=l.getX(t,u),p=l.getY(t,u),m=l.getX(h,u),x=l.getY(h,u),g=l.getX(h,i),T=l.getY(h,i);this.setTexture2D(e.glTexture,0),r=pl.getTintAppendFloatAlpha(r,n),this.batchQuad(f,c,v,p,m,x,g,T,e.u0,e.v0,e.u1,e.v1,r,r,r,r,0,e.glTexture,0)},drawFillRect:function(e,t,i,r,n,a){var s=e+i,o=t+r;this.setTexture2D();var l=pl.getTintAppendFloatAlphaAndSwap(n,a);this.batchQuad(e,t,e,o,s,o,s,t,0,0,1,1,l,l,l,l,2)},batchFillRect:function(e,t,i,r,n,a){this.renderer.setPipeline(this);var s=this._tempMatrix3;a&&a.multiply(n,s);var o=e+i,l=t+r,h=s.getX(e,t),u=s.getY(e,t),f=s.getX(e,l),c=s.getY(e,l),v=s.getX(o,l),p=s.getY(o,l),m=s.getX(o,t),x=s.getY(o,t),g=this.currentFrame,T=g.u0,S=g.v0,E=g.u1,_=g.v1;this.batchQuad(h,u,f,c,v,p,m,x,T,S,E,_,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(e,t,i,r,n,a,s,o){this.renderer.setPipeline(this);var l=this._tempMatrix3;o&&o.multiply(s,l);var h=l.getX(e,t),u=l.getY(e,t),f=l.getX(i,r),c=l.getY(i,r),v=l.getX(n,a),p=l.getY(n,a),m=this.currentFrame,x=m.u0,g=m.v0,T=m.u1,S=m.v1;this.batchTri(h,u,f,c,v,p,x,g,T,S,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(e,t,i,r,n,a,s,o,l){var h=this.tempTriangle;h[0].x=e,h[0].y=t,h[0].width=s,h[1].x=i,h[1].y=r,h[1].width=s,h[2].x=n,h[2].y=a,h[2].width=s,h[3].x=e,h[3].y=t,h[3].width=s,this.batchStrokePath(h,s,!1,o,l)},batchFillPath:function(e,t,i){this.renderer.setPipeline(this);var r=this._tempMatrix3;i&&i.multiply(t,r);for(var n=e.length,a=this.polygonCache,s,o,l=this.fillTint.TL,h=this.fillTint.TR,u=this.fillTint.BL,f=this.tintEffect,c=0;c<n;++c)o=e[c],a.push(o.x,o.y);s=cee(a),n=s.length;for(var v=this.currentFrame,p=0;p<n;p+=3){var m=s[p+0]*2,x=s[p+1]*2,g=s[p+2]*2,T=a[m+0],S=a[m+1],E=a[x+0],_=a[x+1],w=a[g+0],R=a[g+1],F=r.getX(T,S),k=r.getY(T,S),B=r.getX(E,_),N=r.getY(E,_),d=r.getX(w,R),y=r.getY(w,R),C=v.u0,M=v.v0,A=v.u1,L=v.v1;this.batchTri(F,k,B,N,d,y,C,M,A,L,l,h,u,f)}a.length=0},batchStrokePath:function(e,t,i,r,n){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var a=e.length-1,s=0;s<a;s++){var o=e[s],l=e[s+1];this.batchLine(o.x,o.y,l.x,l.y,o.width/2,l.width/2,t,s,!i&&s===a-1,r,n)}},batchLine:function(e,t,i,r,n,a,s,o,l,h,u){this.renderer.setPipeline(this);var f=this._tempMatrix3;u&&u.multiply(h,f);var c=i-e,v=r-t,p=Math.sqrt(c*c+v*v),m=n*(r-t)/p,x=n*(e-i)/p,g=a*(r-t)/p,T=a*(e-i)/p,S=i-g,E=r-T,_=e-m,w=t-x,R=i+g,F=r+T,k=e+m,B=t+x,N=f.getX(S,E),d=f.getY(S,E),y=f.getX(_,w),C=f.getY(_,w),M=f.getX(R,F),A=f.getY(R,F),L=f.getX(k,B),P=f.getY(k,B),b=this.strokeTint,I=this.tintEffect,D=b.TL,G=b.TR,H=b.BL,V=b.BR,X=this.currentFrame,K=X.u0,te=X.v0,se=X.u1,ve=X.v1;if(this.batchQuad(L,P,y,C,N,d,M,A,K,te,se,ve,D,G,H,V,I),!(s<=2)){var ie=this.prevQuad,ne=this.firstQuad;o>0&&ie[4]?this.batchQuad(L,P,y,C,ie[0],ie[1],ie[2],ie[3],K,te,se,ve,D,G,H,V,I):(ne[0]=L,ne[1]=P,ne[2]=y,ne[3]=C,ne[4]=1),l&&ne[4]?this.batchQuad(N,d,M,A,ne[0],ne[1],ne[2],ne[3],K,te,se,ve,D,G,H,V,I):(ie[0]=N,ie[1]=d,ie[2]=M,ie[3]=A,ie[4]=1)}}}),GC=mee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gee=O,xee=Xj,yd=GC,pf=10,w3=new gee({Extends:yd,initialize:function(t){pf=t.maxLights,t.fragShader=xee.replace("%LIGHT_COUNT%",pf.toString()),yd.call(this,t),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(e){yd.prototype.onBind.call(this);var t=this.renderer,i=this.program;return this.mvpUpdate(),t.setInt1(i,"uNormSampler",1),t.setFloat2(i,"uResolution",this.width,this.height),e&&this.setNormalMap(e),this},onRender:function(e,t){this.active=!1;var i=e.sys.lights;if(!i||i.lights.length<=0||!i.active)return this;var r=i.cull(t),n=Math.min(r.length,pf);if(n===0)return this;this.active=!0;var a=this.renderer,s=this.program,o=t.matrix,l={x:0,y:0},h=a.height,u;for(u=0;u<pf;++u)a.setFloat1(s,"uLights["+u+"].radius",0);for(a.setFloat4(s,"uCamera",t.x,t.y,t.rotation,t.zoom),a.setFloat3(s,"uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),u=0;u<n;++u){var f=r[u],c="uLights["+u+"].";o.transformPoint(f.x,f.y,l),a.setFloat2(s,c+"position",l.x-t.scrollX*f.scrollFactorX*t.zoom,h-(l.y-t.scrollY*f.scrollFactorY*t.zoom)),a.setFloat3(s,c+"color",f.r,f.g,f.b),a.setFloat1(s,c+"intensity",f.intensity),a.setFloat1(s,c+"radius",f.radius)}return this.currentNormalMapRotation=null,this},batchTexture:function(e,t,i,r,n,a,s,o,l,h,u,f,c,v,p,m,x,g,T,S,E,_,w,R,F,k,B,N,d,y){if(this.active){this.renderer.setPipeline(this);var C;if(e.displayTexture?C=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?C=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(Array.isArray(e.tileset)?C=e.tileset[0].image.dataSource[0]:C=e.tileset.image.dataSource[0]),!C){console.warn("Normal map missing or invalid");return}this.setTexture2D(C.glTexture,1),this.setNormalMapRotation(u);var M=this._tempMatrix1,A=this._tempMatrix2,L=this._tempMatrix3,P=g/i+B,b=T/r+N,I=(g+S)/i+B,D=(T+E)/r+N,G=s,H=o,V=-m,X=-x;if(e.isCropped){var K=e._crop;G=K.width,H=K.height,s=K.width,o=K.height,g=K.x,T=K.y;var te=g,se=T;f&&(te=S-K.x-K.width),c&&!t.isRenderTexture&&(se=E-K.y-K.height),P=te/i+B,b=se/r+N,I=(te+K.width)/i+B,D=(se+K.height)/r+N,V=-m+g,X=-x+T}c=c^(t.isRenderTexture?1:0),f&&(G*=-1,V+=s),c&&(H*=-1,X+=o);var ve=V+G,ie=X+H;A.applyITRS(n,a,u,l,h),M.copyFrom(d.matrix),y?(M.multiplyWithOffset(y,-d.scrollX*v,-d.scrollY*p),A.e=n,A.f=a,M.multiply(A,L)):(A.e-=d.scrollX*v,A.f-=d.scrollY*p,M.multiply(A,L));var ne=L.getX(V,X),ge=L.getY(V,X),it=L.getX(V,ie),Pe=L.getY(V,ie),zt=L.getX(ve,ie),xt=L.getY(ve,ie),Rt=L.getX(ve,X),xi=L.getY(ve,X);d.roundPixels&&(ne=Math.round(ne),ge=Math.round(ge),it=Math.round(it),Pe=Math.round(Pe),zt=Math.round(zt),xt=Math.round(xt),Rt=Math.round(Rt),xi=Math.round(xi)),this.setTexture2D(t,0),this.batchQuad(ne,ge,it,Pe,zt,xt,Rt,xi,P,b,I,D,_,w,R,F,k,t,0)}},setNormalMap:function(e){if(!(!this.active||!e)){var t;e.texture&&(t=e.texture.dataSource[e.frame.sourceIndex]),t||(t=this.defaultNormalMap),this.setTexture2D(t.glTexture,1),this.renderer.setPipeline(e.defaultPipeline)}},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||this.batches.length===0){this.batches.length>0&&this.flush();var t=this.inverseRotationMatrix;if(e){var i=-e,r=Math.cos(i),n=Math.sin(i);t[1]=n,t[3]=-n,t[0]=t[4]=r}else t[0]=t[4]=1,t[1]=t[3]=0;this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,t),this.currentNormalMapRotation=e}},batchSprite:function(e,t,i){if(this.active){var r=e.texture.dataSource[e.frame.sourceIndex];r&&(this.renderer.setPipeline(this),this.setTexture2D(r.glTexture,1),this.setNormalMapRotation(e.rotation),yd.prototype.batchSprite.call(this,e,t,i))}}});w3.LIGHT_COUNT=pf;var M3=w3;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yee=mc,rM=Ra,Tee=O,ml=Or,nM=At,Td=x0,aM=W,See=gc,Cee=$h,Eee=S0,Sd=hn,Eu=Be,sM=T3,_ee=S3,Aee=M3,wee=GC,Mee=new Tee({initialize:function(t){var i=t.config,r={alpha:i.transparent,desynchronized:i.desynchronized,depth:!1,antialias:i.antialiasGL,premultipliedAlpha:i.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:i.failIfMajorPerformanceCaveat,powerPreference:i.powerPreference};this.config={clearBeforeRender:i.clearBeforeRender,antialias:i.antialias,backgroundColor:i.backgroundColor,contextCreation:r,resolution:i.resolution,roundPixels:i.roundPixels,maxTextures:i.maxTextures,maxTextureSize:i.maxTextureSize,batchSize:i.batchSize,maxLights:i.maxLights,mipmapFilter:i.mipmapFilter},this.game=t,this.type=ml.WEBGL,this.width=0,this.height=0,this.canvas=t.canvas,this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=aM,this.contextRestoredHandler=aM,this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new yee(0,0,0,0),this._tempMatrix1=new Sd,this._tempMatrix2=new Sd,this._tempMatrix3=new Sd,this._tempMatrix4=new Sd,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.mipmapFilter=null,this.init(this.config)},init:function(e){var t,i=this.game,r=this.canvas,n=e.backgroundColor;if(i.config.context?t=i.config.context:t=r.getContext("webgl",e.contextCreation)||r.getContext("experimental-webgl",e.contextCreation),!t||t.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=t;var a=this;this.contextLostHandler=function(f){a.contextLost=!0,a.game.events.emit(nM.CONTEXT_LOST,a),f.preventDefault()},this.contextRestoredHandler=function(){a.contextLost=!1,a.init(a.config),a.game.events.emit(nM.CONTEXT_RESTORED,a)},r.addEventListener("webglcontextlost",this.contextLostHandler,!1),r.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),i.context=t;for(var s=0;s<=27;s++)this.blendModes.push({func:[t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});this.blendModes[1].func=[t.ONE,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[t.ZERO,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=t.BYTE,this.glFormats[1]=t.SHORT,this.glFormats[2]=t.UNSIGNED_BYTE,this.glFormats[3]=t.UNSIGNED_SHORT,this.glFormats[4]=t.FLOAT,this.glFuncMap={mat2:{func:t.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:t.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:t.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:t.uniform1f,length:1},"1fv":{func:t.uniform1fv,length:1},"1i":{func:t.uniform1i,length:1},"1iv":{func:t.uniform1iv,length:1},"2f":{func:t.uniform2f,length:2},"2fv":{func:t.uniform2fv,length:1},"2i":{func:t.uniform2i,length:2},"2iv":{func:t.uniform2iv,length:1},"3f":{func:t.uniform3f,length:3},"3fv":{func:t.uniform3fv,length:1},"3i":{func:t.uniform3i,length:3},"3iv":{func:t.uniform3iv,length:1},"4f":{func:t.uniform4f,length:4},"4fv":{func:t.uniform4fv,length:1},"4i":{func:t.uniform4i,length:4},"4iv":{func:t.uniform4iv,length:1}};var o=t.getSupportedExtensions();e.maxTextures||(e.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE));var l="WEBGL_compressed_texture_",h="WEBKIT_"+l;this.compression.ETC1=t.getExtension(l+"etc1")||t.getExtension(h+"etc1"),this.compression.PVRTC=t.getExtension(l+"pvrtc")||t.getExtension(h+"pvrtc"),this.compression.S3TC=t.getExtension(l+"s3tc")||t.getExtension(h+"s3tc"),this.supportedExtensions=o,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(n.redGL,n.greenGL,n.blueGL,n.alphaGL),this.mipmapFilter=t[e.mipmapFilter];for(var u=0;u<this.currentTextures.length;++u)this.currentTextures[u]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new wee({game:i,renderer:this})),this.addPipeline("BitmapMaskPipeline",new _ee({game:i,renderer:this})),this.addPipeline("Light2D",new Aee({game:i,renderer:this,maxLights:e.maxLights})),this.setBlendMode(ml.BlendModes.NORMAL),i.textures.once(Eee.READY,this.boot,this),this},boot:function(){for(var e in this.pipelines)this.pipelines[e].boot();var t=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=t,this.blankTexture=t;var i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on(See.RESIZE,this.onResize,this);var r=this.game.scale.baseSize;this.resize(r.width,r.height,this.game.scale.resolution)},onResize:function(e,t,i,r){(t.width!==this.width||t.height!==this.height||r!==this.resolution)&&this.resize(t.width,t.height,r)},resize:function(e,t,i){var r=this.gl,n=this.pipelines;this.width=e,this.height=t,this.resolution=i,r.viewport(0,0,e,t);for(var a in n)n[a].resize(e,t,i);return this.drawingBufferHeight=r.drawingBufferHeight,r.scissor(0,r.drawingBufferHeight-t,e,t),this.defaultCamera.setSize(e,t),this},hasExtension:function(e){return this.supportedExtensions?this.supportedExtensions.indexOf(e):!1},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(e){return e in this.pipelines},getPipeline:function(e){return this.hasPipeline(e)?this.pipelines[e]:null},removePipeline:function(e){return delete this.pipelines[e],this},addPipeline:function(e,t){return this.hasPipeline(e)?console.warn("Pipeline exists: "+e):this.pipelines[e]=t,t.name=e,this.pipelines[e].resize(this.width,this.height,this.config.resolution),t},pushScissor:function(e,t,i,r,n){n===void 0&&(n=this.drawingBufferHeight);var a=this.scissorStack,s=[e,t,i,r];return a.push(s),this.setScissor(e,t,i,r,n),this.currentScissor=s,s},setScissor:function(e,t,i,r,n){n===void 0&&(n=this.drawingBufferHeight);var a=this.gl,s=this.currentScissor,o=i>0&&r>0;if(s&&o){var l=s[0],h=s[1],u=s[2],f=s[3];o=l!==e||h!==t||u!==i||f!==r}o&&(this.flush(),a.scissor(e,n-t-r,i,r))},popScissor:function(){var e=this.scissorStack;e.pop();var t=e[e.length-1];t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},setPipeline:function(e,t){return(this.currentPipeline!==e||this.currentPipeline.vertexBuffer!==this.currentVertexBuffer||this.currentPipeline.program!==this.currentProgram)&&(this.flush(),this.currentPipeline=e,this.currentPipeline.bind()),this.currentPipeline.onBind(t),this.currentPipeline},hasActiveStencilMask:function(){var e=this.currentMask.mask,t=this.currentCameraMask.mask;return e&&e.isStencil||t&&t.isStencil},rebindPipeline:function(e){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),this.hasActiveStencilMask()?t.clear(t.DEPTH_BUFFER_BIT):(t.disable(t.STENCIL_TEST),t.clear(t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)),t.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=e,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(e,t){t===void 0&&(t=!1);var i=this.gl,r=this.blendModes[e];return t||e!==ml.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e?(this.flush(),i.enable(i.BLEND),i.blendEquation(r.equation),r.func.length>2?i.blendFuncSeparate(r.func[0],r.func[1],r.func[2],r.func[3]):i.blendFunc(r.func[0],r.func[1]),this.currentBlendMode=e,!0):!1},addBlendMode:function(e,t){var i=this.blendModes.push({func:e,equation:t});return i-1},updateBlendMode:function(e,t,i){return this.blendModes[e]&&(this.blendModes[e].func=t,i&&(this.blendModes[e].equation=i)),this},removeBlendMode:function(e){return e>17&&this.blendModes[e]&&this.blendModes.splice(e,1),this},setBlankTexture:function(e){e===void 0&&(e=!1),(e||this.currentActiveTextureUnit!==0||!this.currentTextures[0])&&this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(e,t,i){i===void 0&&(i=!0);var r=this.gl;return e!==this.currentTextures[t]&&(i&&this.flush(),this.currentActiveTextureUnit!==t&&(r.activeTexture(r.TEXTURE0+t),this.currentActiveTextureUnit=t),r.bindTexture(r.TEXTURE_2D,e),this.currentTextures[t]=e),this},setFramebuffer:function(e,t){t===void 0&&(t=!1);var i=this.gl,r=this.width,n=this.height;return e!==this.currentFramebuffer&&(e&&e.renderTexture?(r=e.renderTexture.width,n=e.renderTexture.height):this.flush(),i.bindFramebuffer(i.FRAMEBUFFER,e),i.viewport(0,0,r,n),t&&(e?(this.drawingBufferHeight=n,this.pushScissor(0,0,r,n)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=e),this},setProgram:function(e){var t=this.gl;return e!==this.currentProgram&&(this.flush(),t.useProgram(e),this.currentProgram=e),this},setVertexBuffer:function(e){var t=this.gl;return e!==this.currentVertexBuffer&&(this.flush(),t.bindBuffer(t.ARRAY_BUFFER,e),this.currentVertexBuffer=e),this},setIndexBuffer:function(e){var t=this.gl;return e!==this.currentIndexBuffer&&(this.flush(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.currentIndexBuffer=e),this},createTextureFromSource:function(e,t,i,r){var n=this.gl,a=n.NEAREST,s=n.NEAREST,o=n.CLAMP_TO_EDGE,l=null;t=e?e.width:t,i=e?e.height:i;var h=Td(t,i);return h&&(o=n.REPEAT),r===ml.ScaleModes.LINEAR&&this.config.antialias&&(a=h?this.mipmapFilter:n.LINEAR,s=n.LINEAR),!e&&typeof t=="number"&&typeof i=="number"?l=this.createTexture2D(0,a,s,o,o,n.RGBA,null,t,i):l=this.createTexture2D(0,a,s,o,o,n.RGBA,e),l},createTexture2D:function(e,t,i,r,n,a,s,o,l,h,u,f){h=h??!0,u===void 0&&(u=!1),f===void 0&&(f=!1);var c=this.gl,v=c.createTexture();return this.setTexture2D(v,0),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,t),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,i),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,n),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,r),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,f),s==null?c.texImage2D(c.TEXTURE_2D,e,a,o,l,0,a,c.UNSIGNED_BYTE,null):(u||(o=s.width,l=s.height),c.texImage2D(c.TEXTURE_2D,e,a,a,c.UNSIGNED_BYTE,s)),Td(o,l)&&c.generateMipmap(c.TEXTURE_2D),this.setTexture2D(null,0),v.isAlphaPremultiplied=h,v.isRenderTexture=!1,v.width=o,v.height=l,this.nativeTextures.push(v),v},createFramebuffer:function(e,t,i,r){var n=this.gl,a=n.createFramebuffer(),s=0;if(this.setFramebuffer(a),r){var o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0),s=n.checkFramebufferStatus(n.FRAMEBUFFER),s!==n.FRAMEBUFFER_COMPLETE){var l={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer incomplete. Framebuffer status: "+l[s])}return a.renderTexture=i,this.setFramebuffer(null),a},createProgram:function(e,t){var i=this.gl,r=i.createProgram(),n=i.createShader(i.VERTEX_SHADER),a=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(n,e),i.shaderSource(a,t),i.compileShader(n),i.compileShader(a),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(`Failed to compile Vertex Shader:
`+i.getShaderInfoLog(n));if(!i.getShaderParameter(a,i.COMPILE_STATUS))throw new Error(`Failed to compile Fragment Shader:
`+i.getShaderInfoLog(a));if(i.attachShader(r,n),i.attachShader(r,a),i.linkProgram(r),!i.getProgramParameter(r,i.LINK_STATUS))throw new Error(`Failed to link program:
`+i.getProgramInfoLog(r));return r},createVertexBuffer:function(e,t){var i=this.gl,r=i.createBuffer();return this.setVertexBuffer(r),i.bufferData(i.ARRAY_BUFFER,e,t),this.setVertexBuffer(null),r},createIndexBuffer:function(e,t){var i=this.gl,r=i.createBuffer();return this.setIndexBuffer(r),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e,t),this.setIndexBuffer(null),r},deleteTexture:function(e){var t=this.nativeTextures.indexOf(e);return t!==-1&&Cee(this.nativeTextures,t),this.gl.deleteTexture(e),this.currentTextures[0]===e&&!this.game.pendingDestroy&&this.setBlankTexture(!0),this},deleteFramebuffer:function(e){return this.gl.deleteFramebuffer(e),this},deleteProgram:function(e){return this.gl.deleteProgram(e),this},deleteBuffer:function(e){return this.gl.deleteBuffer(e),this},preRenderCamera:function(e){var t=e._cx,i=e._cy,r=e._cw,n=e._ch,a=this.pipelines.TextureTintPipeline,s=e.backgroundColor;if(e.renderToTexture){this.flush(),this.pushScissor(t,i,r,-n),this.setFramebuffer(e.framebuffer);var o=this.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),a.projOrtho(t,r+t,i,n+i,-1e3,1e3),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),s.alphaGL>0&&a.drawFillRect(t,i,r+t,n+i,Eu.getTintFromFloats(s.redGL,s.greenGL,s.blueGL,1),s.alphaGL),e.emit(rM.PRE_RENDER,e)}else this.pushScissor(t,i,r,n),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),s.alphaGL>0&&a.drawFillRect(t,i,r,n,Eu.getTintFromFloats(s.redGL,s.greenGL,s.blueGL,1),s.alphaGL)},getCurrentStencilMask:function(){var e=null,t=this.maskStack,i=this.currentCameraMask;return t.length>0?e=t[t.length-1]:i.mask&&i.mask.isStencil&&(e=i),e},postRenderCamera:function(e){var t=this.pipelines.TextureTintPipeline;if(e.flashEffect.postRenderWebGL(t,Eu.getTintFromFloats),e.fadeEffect.postRenderWebGL(t,Eu.getTintFromFloats),e.dirty=!1,this.popScissor(),e.renderToTexture){t.flush(),this.setFramebuffer(null),e.emit(rM.POST_RENDER,e),t.projOrtho(0,t.width,t.height,0,-1e3,1e3);var i=Eu.getTintAppendFloatAlpha,r=e.pipeline?e.pipeline:t;r.batchTexture(e,e.glTexture,e.width,e.height,e.x,e.y,e.width,e.height,e.zoom,e.zoom,e.rotation,e.flipX,!e.flipY,1,1,0,0,0,0,e.width,e.height,i(e._tintTL,e._alphaTL),i(e._tintTR,e._alphaTR),i(e._tintBL,e._alphaBL),i(e._tintBR,e._alphaBR),e._isTinted&&e.tintFill,0,0,this.defaultCamera,null),this.setBlankTexture(!0)}e.mask&&(this.currentCameraMask.mask=null,e.mask.postRenderWebGL(this,e._maskCamera))},preRender:function(){if(!this.contextLost){var e=this.gl,t=this.pipelines;if(e.bindFramebuffer(e.FRAMEBUFFER,null),this.config.clearBeforeRender){var i=this.config.backgroundColor;e.clearColor(i.redGL,i.greenGL,i.blueGL,i.alphaGL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}e.enable(e.SCISSOR_TEST);for(var r in t)t[r].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&e.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(e,t,i,r){if(!this.contextLost){var n=t.list,a=n.length,s=this.pipelines;for(var o in s)s[o].onRender(e,r);if(this.preRenderCamera(r),a===0){this.setBlendMode(ml.BlendModes.NORMAL),this.postRenderCamera(r);return}this.currentType="";for(var l=this.currentMask,h=0;h<a;h++){var u=n[h];if(u.willRender(r)){u.blendMode!==this.currentBlendMode&&this.setBlendMode(u.blendMode);var f=u.mask;l=this.currentMask,l.mask&&l.mask!==f&&l.mask.postRenderWebGL(this,l.camera),f&&l.mask!==f&&f.preRenderWebGL(this,u,r);var c=u.type;c!==this.currentType&&(this.newType=!0,this.currentType=c),this.nextTypeMatch=h<a-1?n[h+1].type===this.currentType:!1,u.renderWebGL(this,u,i,r),this.newType=!1}}l=this.currentMask,l.mask&&l.mask.postRenderWebGL(this,l.camera),this.setBlendMode(ml.BlendModes.NORMAL),this.postRenderCamera(r)}},postRender:function(){if(!this.contextLost){this.flush();var e=this.snapshotState;e.callback&&(sM(this.canvas,e),e.callback=null);var t=this.pipelines;for(var i in t)t[i].onPostRender()}},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,e,t,i)},snapshotArea:function(e,t,i,r,n,a,s){var o=this.snapshotState;return o.callback=n,o.type=a,o.encoder=s,o.getPixel=!1,o.x=e,o.y=t,o.width=Math.min(i,this.gl.drawingBufferWidth),o.height=Math.min(r,this.gl.drawingBufferHeight),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(e,t,i,r,n,a,s,o,l,h,u){n===void 0&&(n=!1),a===void 0&&(a=0),s===void 0&&(s=0),o===void 0&&(o=t),l===void 0&&(l=i);var f=this.currentFramebuffer;this.snapshotArea(a,s,o,l,r,h,u);var c=this.snapshotState;return c.getPixel=n,c.isFramebuffer=!0,c.bufferWidth=t,c.bufferHeight=i,this.setFramebuffer(e),sM(this.canvas,c),this.setFramebuffer(f),c.callback=null,c.isFramebuffer=!1,this},canvasToTexture:function(e,t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=!1),t?this.updateCanvasTexture(e,t,r):this.createCanvasTexture(e,i,r)},createCanvasTexture:function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=this.gl,n=r.NEAREST,a=r.NEAREST,s=e.width,o=e.height,l=r.CLAMP_TO_EDGE,h=Td(s,o);return!t&&h&&(l=r.REPEAT),this.config.antialias&&(n=h?this.mipmapFilter:r.LINEAR,a=r.LINEAR),this.createTexture2D(0,n,a,l,l,r.RGBA,e,s,o,!0,!1,i)},updateCanvasTexture:function(e,t,i){i===void 0&&(i=!1);var r=this.gl,n=e.width,a=e.height;return n>0&&a>0&&(this.setTexture2D(t,0),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=n,t.height=a,this.setTexture2D(null,0)),t},createVideoTexture:function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=this.gl,n=r.NEAREST,a=r.NEAREST,s=e.videoWidth,o=e.videoHeight,l=r.CLAMP_TO_EDGE,h=Td(s,o);return!t&&h&&(l=r.REPEAT),this.config.antialias&&(n=h?this.mipmapFilter:r.LINEAR,a=r.LINEAR),this.createTexture2D(0,n,a,l,l,r.RGBA,e,s,o,!0,!0,i)},updateVideoTexture:function(e,t,i){i===void 0&&(i=!1);var r=this.gl,n=e.videoWidth,a=e.videoHeight;return n>0&&a>0&&(this.setTexture2D(t,0),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=n,t.height=a,this.setTexture2D(null,0)),t},setTextureFilter:function(e,t){var i=this.gl,r=[i.LINEAR,i.NEAREST][t];return this.setTexture2D(e,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,r),this.setTexture2D(null,0),this},setFloat1:function(e,t,i){return this.setProgram(e),this.gl.uniform1f(this.gl.getUniformLocation(e,t),i),this},setFloat2:function(e,t,i,r){return this.setProgram(e),this.gl.uniform2f(this.gl.getUniformLocation(e,t),i,r),this},setFloat3:function(e,t,i,r,n){return this.setProgram(e),this.gl.uniform3f(this.gl.getUniformLocation(e,t),i,r,n),this},setFloat4:function(e,t,i,r,n,a){return this.setProgram(e),this.gl.uniform4f(this.gl.getUniformLocation(e,t),i,r,n,a),this},setFloat1v:function(e,t,i){return this.setProgram(e),this.gl.uniform1fv(this.gl.getUniformLocation(e,t),i),this},setFloat2v:function(e,t,i){return this.setProgram(e),this.gl.uniform2fv(this.gl.getUniformLocation(e,t),i),this},setFloat3v:function(e,t,i){return this.setProgram(e),this.gl.uniform3fv(this.gl.getUniformLocation(e,t),i),this},setFloat4v:function(e,t,i){return this.setProgram(e),this.gl.uniform4fv(this.gl.getUniformLocation(e,t),i),this},setInt1:function(e,t,i){return this.setProgram(e),this.gl.uniform1i(this.gl.getUniformLocation(e,t),i),this},setInt2:function(e,t,i,r){return this.setProgram(e),this.gl.uniform2i(this.gl.getUniformLocation(e,t),i,r),this},setInt3:function(e,t,i,r,n){return this.setProgram(e),this.gl.uniform3i(this.gl.getUniformLocation(e,t),i,r,n),this},setInt4:function(e,t,i,r,n,a){return this.setProgram(e),this.gl.uniform4i(this.gl.getUniformLocation(e,t),i,r,n,a),this},setMatrix2:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(e,t),i,r),this},setMatrix3:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(e,t),i,r),this},setMatrix4:function(e,t,i,r){return this.setProgram(e),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(e,t),i,r),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var e=0;e<this.nativeTextures.length;e++)this.gl.deleteTexture(this.nativeTextures[e]);this.nativeTextures=[];for(var t in this.pipelines)this.pipelines[t].destroy(),delete this.pipelines[t];this.defaultCamera.destroy(),this.currentMask=null,this.currentCameraMask=null,this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.game=null,this.gl=null,this.canvas=null,this.maskStack=[],this.contextLost=!0,this.extensions={}}}),b3=Mee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bee=m3,oM=Mi,Ya=Or,lM=wC,Pee=function(e){var t=e.config;if((t.customEnvironment||t.canvas)&&t.renderType===Ya.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!t.customEnvironment&&!t.canvas&&t.renderType!==Ya.HEADLESS)if(t.renderType===Ya.CANVAS||t.renderType!==Ya.CANVAS&&!lM.webGL)if(lM.canvas)t.renderType=Ya.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else t.renderType=Ya.WEBGL;t.antialias||oM.disableSmoothing();var i=e.scale.baseSize,r=i.width,n=i.height;if(t.canvas?(e.canvas=t.canvas,e.canvas.width=r,e.canvas.height=n):e.canvas=oM.create(e,r,n,t.renderType),t.canvasStyle&&(e.canvas.style=t.canvasStyle),t.antialias||bee.setCrisp(e.canvas),t.renderType!==Ya.HEADLESS){var a,s;a=y3,s=b3,t.renderType===Ya.WEBGL?e.renderer=new s(e):(e.renderer=new a(e),e.context=e.renderer.gameContext)}},P3=Pee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cd=Or,Ree=function(e){var t=e.config;if(!t.hideBanner){var i="WebGL";t.renderType===Cd.CANVAS?i="Canvas":t.renderType===Cd.HEADLESS&&(i="Headless");var r=t.audio,n=e.device.audio,a;if(n.webAudio&&!(r&&r.disableWebAudio)?a="Web Audio":r&&r.noAudio||!n.webAudio&&!n.audioData?a="No Audio":a="HTML5 Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+Cd.VERSION+" / https://phaser.io");else{var s="",o=[s];if(Array.isArray(t.bannerBackgroundColor)){var l;t.bannerBackgroundColor.forEach(function(u){s=s.concat("%c "),o.push("background: "+u),l=u}),o[o.length-1]="color: "+t.bannerTextColor+"; background: "+l}else s=s.concat("%c "),o.push("color: "+t.bannerTextColor+"; background: "+t.bannerBackgroundColor);o.push("background: #fff"),t.gameTitle&&(s=s.concat(t.gameTitle),t.gameVersion&&(s=s.concat(" v"+t.gameVersion)),t.hidePhaser||(s=s.concat(" / ")));var h="-FB";t.hidePhaser||(s=s.concat("Phaser v"+Cd.VERSION+h+" ("+i+" | "+a+")")),s=s.concat(" %c "+t.gameURL),o[0]=s,console.log.apply(console,o)}}},R3=Ree;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lee=O,hM=W,Fee=new Lee({initialize:function(){this.isRunning=!1,this.callback=hM,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var t=this;this.step=function i(){var r=window.performance.now();t.lastTime=t.tick,t.tick=r,t.callback(r),t.timeOutID=window.requestAnimationFrame(i)},this.stepTimeout=function i(){var r=Date.now(),n=Math.min(Math.max(t.target*2+t.tick-r,0),t.target);t.lastTime=t.tick,t.tick=r,t.callback(r),t.timeOutID=window.setTimeout(i,n)}},start:function(e,t,i){this.isRunning||(this.callback=e,this.isSetTimeOut=t,this.target=i,this.isRunning=!0,this.timeOutID=t?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=hM}}),L3=Fee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Iee=O,_u=me,uM=W,Oee=L3,Dee=new Iee({initialize:function(t,i){this.game=t,this.raf=new Oee,this.started=!1,this.running=!1,this.minFps=_u(i,"min",5),this.targetFps=_u(i,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=uM,this.forceSetTimeOut=_u(i,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=_u(i,"deltaHistory",10),this.panicMax=_u(i,"panicMax",120),this.rawDelta=0,this.now=0},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=Math.min(this._target,this.deltaHistory[t]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var e=window.performance.now();this.now=e;var t=e-this.lastTime;t<0&&(t=0),this.rawDelta=t;var i=this.deltaIndex,r=this.deltaHistory,n=this.deltaSmoothingMax,a=t;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=r[i],a=Math.min(a,this._min)),r[i]=a,this.deltaIndex++,this.deltaIndex>n&&(this.deltaIndex=0);for(var s=0,o=0;o<n;o++)s+=r[o];s/=n,this.delta=s,this.time+=this.rawDelta,e>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0),this.framesThisSecond++;var l=s/this._target;this.callback(e,s,l),this.lastTime=e,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){this.running?this.sleep():e&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step()},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=uM,this.raf=null,this.game=null}}),F3=Dee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ed=At,Bee=function(e){var t,i=e.events;if(document.hidden!==void 0)t="visibilitychange";else{var r=["webkit","moz","ms"];r.forEach(function(a){document[a+"Hidden"]!==void 0&&(document.hidden=function(){return document[a+"Hidden"]},t=a+"visibilitychange")})}var n=function(a){document.hidden||a.type==="pause"?i.emit(Ed.HIDDEN):i.emit(Ed.VISIBLE)};t&&document.addEventListener(t,n,!1),window.onblur=function(){i.emit(Ed.BLUR)},window.onfocus=function(){i.emit(Ed.FOCUS)},window.focus&&e.config.autoFocus&&window.focus()},I3=Bee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nee={Config:p3,CreateRenderer:P3,DebugHeader:R3,Events:At,TimeStep:F3,VisibilityHandler:I3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var O3={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gee=O3,kee=Mi,Yn=me,$ee=function(e){var t=Yn(e,"data",[]),i=Yn(e,"canvas",null),r=Yn(e,"palette",Gee),n=Yn(e,"pixelWidth",1),a=Yn(e,"pixelHeight",n),s=Yn(e,"resizeCanvas",!0),o=Yn(e,"clearCanvas",!0),l=Yn(e,"preRender",null),h=Yn(e,"postRender",null),u=Math.floor(Math.abs(t[0].length*n)),f=Math.floor(Math.abs(t.length*a));i||(i=kee.create2D(this,u,f),s=!1,o=!1),s&&(i.width=u,i.height=f);var c=i.getContext("2d");o&&c.clearRect(0,0,u,f),l&&l(i,c);for(var v=0;v<t.length;v++)for(var p=t[v],m=0;m<p.length;m++){var x=p[m];x!=="."&&x!==" "&&(c.fillStyle=r[x],c.fillRect(m*n,v*a,n,a))}return h&&h(i,c),i},D3=$ee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zee={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vee={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uee={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wee={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yee={ARNE16:O3,C64:zee,CGA:Vee,JMP:Uee,MSX:Wee};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hee={GenerateTexture:D3,Palettes:Yee};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xee=Ve,fM=et,Kee=function(e,t){if(t===void 0&&(t=new Xee),e.length===0)return t;for(var i=Number.MAX_VALUE,r=Number.MAX_VALUE,n=fM.MIN_SAFE_INTEGER,a=fM.MIN_SAFE_INTEGER,s,o,l,h=0;h<e.length;h++)s=e[h],Array.isArray(s)?(o=s[0],l=s[1]):(o=s.x,l=s.y),i=Math.min(i,o),r=Math.min(r,l),n=Math.max(n,o),a=Math.max(a,l);return t.x=i,t.y=r,t.width=n-i,t.height=a-r,t},kC=Kee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qee=O,Jee=kC,Zee=Ve,gl=oe,Qee=new qee({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new gl,this._tmpVec2B=new gl},draw:function(e,t){return t===void 0&&(t=32),e.strokePoints(this.getPoints(t))},getBounds:function(e,t){e||(e=new Zee),t===void 0&&(t=16);var i=this.getLength();t>i&&(t=i/2);var r=Math.max(1,Math.round(i/t));return Jee(this.getSpacedPoints(r),e)},getDistancePoints:function(e){var t=this.getLength(),i=Math.max(1,t/e);return this.getSpacedPoints(i)},getEndPoint:function(e){return e===void 0&&(e=new gl),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],i,r=this.getPoint(0,this._tmpVec2A),n=0;t.push(0);for(var a=1;a<=e;a++)i=this.getPoint(a/e,this._tmpVec2B),n+=i.distance(r),t.push(n),r.copy(i);return this.cacheArcLengths=t,t},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e,t,i){i===void 0&&(i=[]),e||(t?e=this.getLength()/t:e=this.defaultDivisions);for(var r=0;r<=e;r++)i.push(this.getPoint(r/e));return i},getRandomPoint:function(e){return e===void 0&&(e=new gl),this.getPoint(Math.random(),e)},getSpacedPoints:function(e){e===void 0&&(e=this.defaultDivisions);for(var t=[],i=0;i<=e;i++){var r=this.getUtoTmapping(i/e,null,e);t.push(this.getPoint(r))}return t},getStartPoint:function(e){return e===void 0&&(e=new gl),this.getPointAt(0,e)},getTangent:function(e,t){t===void 0&&(t=new gl);var i=1e-4,r=e-i,n=e+i;return r<0&&(r=0),n>1&&(n=1),this.getPoint(r,this._tmpVec2A),this.getPoint(n,t),t.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,t){var i=this.getUtoTmapping(e);return this.getTangent(i,t)},getTFromDistance:function(e,t){return e<=0?0:this.getUtoTmapping(0,e,t)},getUtoTmapping:function(e,t,i){var r=this.getLengths(i),n=0,a=r.length,s;t?s=Math.min(t,r[a-1]):s=e*r[a-1];for(var o=0,l=a-1,h;o<=l;)if(n=Math.floor(o+(l-o)/2),h=r[n]-s,h<0)o=n+1;else if(h>0)l=n-1;else{l=n;break}if(n=l,r[n]===s)return n/(a-1);var u=r[n],f=r[n+1],c=f-u,v=(s-u)/c;return(n+v)/(a-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}}),zh=Qee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jee=O,cM=e3,dM=zh,Fn=oe,hT=new jee({Extends:dM,initialize:function(t,i,r,n){dM.call(this,"CubicBezierCurve"),Array.isArray(t)&&(n=new Fn(t[6],t[7]),r=new Fn(t[4],t[5]),i=new Fn(t[2],t[3]),t=new Fn(t[0],t[1])),this.p0=t,this.p1=i,this.p2=r,this.p3=n},getStartPoint:function(e){return e===void 0&&(e=new Fn),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){t===void 0&&(t=new Fn);var i=this.p0,r=this.p1,n=this.p2,a=this.p3;return t.set(cM(e,i.x,r.x,n.x,a.x),cM(e,i.y,r.y,n.y,a.y))},draw:function(e,t){t===void 0&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++)e.lineTo(i[r].x,i[r].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});hT.fromJSON=function(e){var t=e.points,i=new Fn(t[0],t[1]),r=new Fn(t[2],t[3]),n=new Fn(t[4],t[5]),a=new Fn(t[6],t[7]);return new hT(i,r,n,a)};var B3=hT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ete=O,vM=zh,xl=kn,Ha=me,yl=RC,og=oe,uT=new ete({Extends:vM,initialize:function(t,i,r,n,a,s,o,l){if(typeof t=="object"){var h=t;t=Ha(h,"x",0),i=Ha(h,"y",0),r=Ha(h,"xRadius",0),n=Ha(h,"yRadius",r),a=Ha(h,"startAngle",0),s=Ha(h,"endAngle",360),o=Ha(h,"clockwise",!1),l=Ha(h,"rotation",0)}else n===void 0&&(n=r),a===void 0&&(a=0),s===void 0&&(s=360),o===void 0&&(o=!1),l===void 0&&(l=0);vM.call(this,"EllipseCurve"),this.p0=new og(t,i),this._xRadius=r,this._yRadius=n,this._startAngle=xl(a),this._endAngle=xl(s),this._clockwise=o,this._rotation=xl(l)},getStartPoint:function(e){return e===void 0&&(e=new og),this.getPoint(0,e)},getResolution:function(e){return e*2},getPoint:function(e,t){t===void 0&&(t=new og);for(var i=Math.PI*2,r=this._endAngle-this._startAngle,n=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(n?r=0:r=i),this._clockwise&&!n&&(r===i?r=-i:r=r-i);var a=this._startAngle+e*r,s=this.p0.x+this._xRadius*Math.cos(a),o=this.p0.y+this._yRadius*Math.sin(a);if(this._rotation!==0){var l=Math.cos(this._rotation),h=Math.sin(this._rotation),u=s-this.p0.x,f=o-this.p0.y;s=u*l-f*h+this.p0.x,o=u*h+f*l+this.p0.y}return t.set(s,o)},setXRadius:function(e){return this.xRadius=e,this},setYRadius:function(e){return this.yRadius=e,this},setWidth:function(e){return this.xRadius=e*2,this},setHeight:function(e){return this.yRadius=e*2,this},setStartAngle:function(e){return this.startAngle=e,this},setEndAngle:function(e){return this.endAngle=e,this},setClockwise:function(e){return this.clockwise=e,this},setRotation:function(e){return this.rotation=e,this},x:{get:function(){return this.p0.x},set:function(e){this.p0.x=e}},y:{get:function(){return this.p0.y},set:function(e){this.p0.y=e}},xRadius:{get:function(){return this._xRadius},set:function(e){this._xRadius=e}},yRadius:{get:function(){return this._yRadius},set:function(e){this._yRadius=e}},startAngle:{get:function(){return yl(this._startAngle)},set:function(e){this._startAngle=xl(e)}},endAngle:{get:function(){return yl(this._endAngle)},set:function(e){this._endAngle=xl(e)}},clockwise:{get:function(){return this._clockwise},set:function(e){this._clockwise=e}},angle:{get:function(){return yl(this._rotation)},set:function(e){this._rotation=xl(e)}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:yl(this._startAngle),endAngle:yl(this._endAngle),clockwise:this._clockwise,rotation:yl(this._rotation)}}});uT.fromJSON=function(e){return new uT(e)};var N3=uT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tte=O,ite=mt,Tl=wt,ks=new tte({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once(Tl.BOOT,this.boot,this),t.sys.events.on(Tl.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(Tl.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(Tl.SHUTDOWN,this.shutdown,this)},existing:function(e){return(e.renderCanvas||e.renderWebGL)&&this.displayList.add(e),e.preUpdate&&this.updateList.add(e),e},shutdown:function(){this.systems.events.off(Tl.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(Tl.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});ks.register=function(e,t){ks.prototype.hasOwnProperty(e)||(ks.prototype[e]=t)};ks.remove=function(e){ks.prototype.hasOwnProperty(e)&&delete ks.prototype[e]};ite.register("GameObjectFactory",ks,"add");var de=ks;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rte=O,pM=zh,nte=kC,ate=Ve,Do=oe,ste=new Do,fT=new rte({Extends:pM,initialize:function(t,i){pM.call(this,"LineCurve"),Array.isArray(t)&&(i=new Do(t[2],t[3]),t=new Do(t[0],t[1])),this.p0=t,this.p1=i,this.arcLengthDivisions=1},getBounds:function(e){return e===void 0&&(e=new ate),nte([this.p0,this.p1],e)},getStartPoint:function(e){return e===void 0&&(e=new Do),e.copy(this.p0)},getResolution:function(e){return e===void 0&&(e=1),e},getPoint:function(e,t){return t===void 0&&(t=new Do),e===1?t.copy(this.p1):(t.copy(this.p1).subtract(this.p0).scale(e).add(this.p0),t)},getPointAt:function(e,t){return this.getPoint(e,t)},getTangent:function(){var e=ste.copy(this.p1).subtract(this.p0);return e.normalize()},draw:function(e){return e.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});fT.fromJSON=function(e){var t=e.points,i=new Do(t[0],t[1]),r=new Do(t[2],t[3]);return new fT(i,r)};var G3=fT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ote=O,mM=oe,lte=new ote({initialize:function(t,i){this.active=!1,this.p0=new mM(t,i)},getPoint:function(e,t){return t===void 0&&(t=new mM),t.copy(this.p0)},getPointAt:function(e,t){return this.getPoint(e,t)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}}),hte=lte;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ute=O,gM=zh,xM=t3,Ms=oe,cT=new ute({Extends:gM,initialize:function(t,i,r){gM.call(this,"QuadraticBezier"),Array.isArray(t)&&(r=new Ms(t[4],t[5]),i=new Ms(t[2],t[3]),t=new Ms(t[0],t[1])),this.p0=t,this.p1=i,this.p2=r},getStartPoint:function(e){return e===void 0&&(e=new Ms),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){t===void 0&&(t=new Ms);var i=this.p0,r=this.p1,n=this.p2;return t.set(xM(e,i.x,r.x,n.x),xM(e,i.y,r.y,n.y))},draw:function(e,t){t===void 0&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++)e.lineTo(i[r].x,i[r].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});cT.fromJSON=function(e){var t=e.points,i=new Ms(t[0],t[1]),r=new Ms(t[2],t[3]),n=new Ms(t[4],t[5]);return new cT(i,r,n)};var k3=cT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yM=bC,fte=O,TM=zh,_d=oe,dT=new fte({Extends:TM,initialize:function(t){t===void 0&&(t=[]),TM.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(e){for(var t=0;t<e.length;t++){var i=new _d;typeof e[t]=="number"?(i.x=e[t],i.y=e[t+1],t++):Array.isArray(e[t])?(i.x=e[t][0],i.y=e[t][1]):(i.x=e[t].x,i.y=e[t].y),this.points.push(i)}return this},addPoint:function(e,t){var i=new _d(e,t);return this.points.push(i),i},getStartPoint:function(e){return e===void 0&&(e=new _d),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,t){t===void 0&&(t=new _d);var i=this.points,r=(i.length-1)*e,n=Math.floor(r),a=r-n,s=i[n===0?n:n-1],o=i[n],l=i[n>i.length-2?i.length-1:n+1],h=i[n>i.length-3?i.length-1:n+2];return t.set(yM(a,s.x,o.x,l.x,h.x),yM(a,s.y,o.y,l.y,h.y))},toJSON:function(){for(var e=[],t=0;t<this.points.length;t++)e.push(this.points[t].x),e.push(this.points[t].y);return{type:this.type,points:e}}});dT.fromJSON=function(e){return new dT(e.points)};var $3=dT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cte=O,SM=B3,CM=N3,dte=de,lg=G3,EM=hte,_M=k3,AM=Ve,wM=$3,ti=oe,MM=et,z3=new cte({initialize:function(t,i){t===void 0&&(t=0),i===void 0&&(i=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new ti,this._tmpVec2A=new ti,this._tmpVec2B=new ti,typeof t=="object"?this.fromJSON(t):this.startPoint.set(t,i)},add:function(e){return this.curves.push(e),this},circleTo:function(e,t,i){return t===void 0&&(t=!1),this.ellipseTo(e,e,0,360,t,i)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new lg(t,e)),this},cubicBezierTo:function(e,t,i,r,n,a){var s=this.getEndPoint(),o,l,h;return e instanceof ti?(o=e,l=t,h=i):(o=new ti(i,r),l=new ti(n,a),h=new ti(e,t)),this.add(new SM(s,o,l,h))},quadraticBezierTo:function(e,t,i,r){var n=this.getEndPoint(),a,s;return e instanceof ti?(a=e,s=t):(a=new ti(i,r),s=new ti(e,t)),this.add(new _M(n,a,s))},draw:function(e,t){for(var i=0;i<this.curves.length;i++){var r=this.curves[i];r.active&&r.draw(e,t)}return e},ellipseTo:function(e,t,i,r,n,a){var s=new CM(0,0,e,t,i,r,n,a),o=this.getEndPoint(this._tmpVec2A),l=s.getStartPoint(this._tmpVec2B);return o.subtract(l),s.x=o.x,s.y=o.y,this.add(s)},fromJSON:function(e){this.curves=[],this.cacheLengths=[],this.startPoint.set(e.x,e.y),this.autoClose=e.autoClose;for(var t=0;t<e.curves.length;t++){var i=e.curves[t];switch(i.type){case"LineCurve":this.add(lg.fromJSON(i));break;case"EllipseCurve":this.add(CM.fromJSON(i));break;case"SplineCurve":this.add(wM.fromJSON(i));break;case"CubicBezierCurve":this.add(SM.fromJSON(i));break;case"QuadraticBezierCurve":this.add(_M.fromJSON(i));break}}return this},getBounds:function(e,t){e===void 0&&(e=new AM),t===void 0&&(t=16),e.x=Number.MAX_VALUE,e.y=Number.MAX_VALUE;for(var i=new AM,r=MM.MIN_SAFE_INTEGER,n=MM.MIN_SAFE_INTEGER,a=0;a<this.curves.length;a++){var s=this.curves[a];s.active&&(s.getBounds(i,t),e.x=Math.min(e.x,i.x),e.y=Math.min(e.y,i.y),r=Math.max(r,i.right),n=Math.max(n,i.bottom))}return e.right=r,e.bottom=n,e},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0;i<this.curves.length;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getEndPoint:function(e){return e===void 0&&(e=new ti),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,e):e.copy(this.startPoint),e},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},getPoint:function(e,t){t===void 0&&(t=new ti);for(var i=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=i){var a=r[n]-i,s=this.curves[n],o=s.getLength(),l=o===0?0:1-a/o;return s.getPointAt(l,t)}n++}return null},getPoints:function(e){e===void 0&&(e=12);for(var t=[],i,r=0;r<this.curves.length;r++){var n=this.curves[r];if(n.active)for(var a=n.getResolution(e),s=n.getPoints(a),o=0;o<s.length;o++){var l=s[o];i&&i.equals(l)||(t.push(l),i=l)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},getRandomPoint:function(e){return e===void 0&&(e=new ti),this.getPoint(Math.random(),e)},getSpacedPoints:function(e){e===void 0&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getStartPoint:function(e){return e===void 0&&(e=new ti),e.copy(this.startPoint)},lineTo:function(e,t){e instanceof ti?this._tmpVec2B.copy(e):this._tmpVec2B.set(e,t);var i=this.getEndPoint(this._tmpVec2A);return this.add(new lg([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(e){return e.unshift(this.getEndPoint()),this.add(new wM(e))},moveTo:function(e,t){return e instanceof ti?this.add(new EM(e.x,e.y)):this.add(new EM(e,t))},toJSON:function(){for(var e=[],t=0;t<this.curves.length;t++)e.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:e}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});dte.register("path",function(e,t){return new z3(e,t)});var vte=z3;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pte={Path:vte,CubicBezier:B3,Curve:zh,Ellipse:N3,Line:G3,QuadraticBezier:k3,Spline:$3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mte=O,hg=vc,gte=mt,Sl=wt,V3=new mte({Extends:hg,initialize:function(t){hg.call(this,t,t.sys.events),this.scene=t,this.systems=t.sys,t.sys.events.once(Sl.BOOT,this.boot,this),t.sys.events.on(Sl.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(Sl.DESTROY,this.destroy,this)},start:function(){this.events.once(Sl.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(Sl.SHUTDOWN,this.shutdown,this)},destroy:function(){hg.prototype.destroy.call(this),this.events.off(Sl.START,this.start,this),this.scene=null,this.systems=null}});gte.register("DataManagerPlugin",V3,"data");var xte=V3;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yte={DataManager:vc,DataManagerPlugin:xte,Events:cB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tte={BottomCenter:OD,BottomLeft:DD,BottomRight:BD,Center:GD,LeftCenter:kD,QuickSet:WD,RightCenter:$D,TopCenter:zD,TopLeft:VD,TopRight:UD};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ste=ya,Cte=Dh,Ete=Bh,_te=wa,Ate=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Ete(e,Cte(t)+i),_te(e,Ste(t)+r),e},wte=Ate;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mte=ya,bte=Sa,Pte=Ca,Rte=wa,Lte=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Pte(e,bte(t)-i),Rte(e,Mte(t)+r),e},Fte=Lte;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ite=ya,Ote=Ea,Dte=_a,Bte=wa,Nte=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Dte(e,Ote(t)+i),Bte(e,Ite(t)+r),e},Gte=Nte;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kte=ya,$te=Sa,zte=Ta,Vte=_a,Ute=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Vte(e,$te(t)-i),zte(e,kte(t)+r),e},Wte=Ute;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yte=Gh,Hte=Sa,Xte=Nh,Kte=_a,qte=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Kte(e,Hte(t)-i),Xte(e,Yte(t)+r),e},Jte=qte;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zte=Sa,Qte=Aa,jte=_a,eie=wa,tie=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),jte(e,Zte(t)-i),eie(e,Qte(t)-r),e},iie=tie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rie=ya,nie=Ea,aie=Ta,sie=Ca,oie=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),sie(e,nie(t)+i),aie(e,rie(t)+r),e},lie=oie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hie=Gh,uie=Ea,fie=Nh,cie=Ca,die=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),cie(e,uie(t)+i),fie(e,hie(t)+r),e},vie=die;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pie=Ea,mie=Aa,gie=Ca,xie=wa,yie=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),gie(e,pie(t)+i),xie(e,mie(t)-r),e},Tie=yie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sie=Dh,Cie=Aa,Eie=Ta,_ie=Bh,Aie=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),_ie(e,Sie(t)+i),Eie(e,Cie(t)-r),e},wie=Aie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mie=Sa,bie=Aa,Pie=Ta,Rie=Ca,Lie=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Rie(e,Mie(t)-i),Pie(e,bie(t)-r),e},Fie=Lie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Iie=Ea,Oie=Aa,Die=Ta,Bie=_a,Nie=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Bie(e,Iie(t)+i),Die(e,Oie(t)-r),e},Gie=Nie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kie={BottomCenter:wte,BottomLeft:Fte,BottomRight:Gte,LeftBottom:Wte,LeftCenter:Jte,LeftTop:iie,RightBottom:lie,RightCenter:vie,RightTop:Tie,TopCenter:wie,TopLeft:Fie,TopRight:Gie};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $ie=tC,zie=pt,vT={In:Tte,To:kie};vT=zie(!1,vT,$ie);var Vie=vT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uie=O,Wie=new Uie({initialize:function(t,i,r,n){(!i||i==="")&&(i=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!r||r==="")&&(r=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","void main () {","gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=t,this.fragmentSrc=i,this.vertexSrc=r,this.uniforms=n}}),U3=Wie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yie=function(e){return e.width*e.originX},Hie=Yie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xie=function(e){return e.height*e.originY},Kie=Xie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qie={CenterOn:ND,GetBottom:ya,GetCenterX:Dh,GetCenterY:Gh,GetLeft:Sa,GetOffsetX:Hie,GetOffsetY:Kie,GetRight:Ea,GetTop:Aa,SetBottom:Ta,SetCenterX:Bh,SetCenterY:Nh,SetLeft:Ca,SetRight:_a,SetTop:wa};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Jie=function(e,t){return t===void 0&&(t="none"),e.style.msTouchAction=t,e.style["ms-touch-action"]=t,e.style["touch-action"]=t,e},Zie=Jie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qie=function(e,t){t===void 0&&(t="none");var i=["-webkit-","-khtml-","-moz-","-ms-",""];return i.forEach(function(r){e.style[r+"user-select"]=t}),e.style["-webkit-touch-callout"]=t,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e},jie=Qie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ere={CanvasInterpolation:m3,CanvasPool:Mi,Smoothing:EC,TouchAction:Zie,UserSelect:jie};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tre=function(e){var t={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(t.a=e>>>24),t},ire=tre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rre=function(e){var t=e.toString(16);return t.length===1?"0"+t:t},W3=rre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nre=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e},Y3=nre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var are=un,ug=Y3,sre=function(e,t,i){var r=i,n=i,a=i;if(t!==0){var s=i<.5?i*(1+t):i+t-i*t,o=2*i-s;r=ug(o,s,e+1/3),n=ug(o,s,e),a=ug(o,s,e-1/3)}var l=new are;return l.setGLTo(r,n,a,1)},ore=sre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lre=SC,hre=function(e,t){e===void 0&&(e=1),t===void 0&&(t=1);for(var i=[],r=0;r<=359;r++)i.push(lre(r/359,e,t));return i},ure=hre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fg=p0,$C=function(e,t,i,r,n,a,s,o){s===void 0&&(s=100),o===void 0&&(o=0);var l=o/s;return{r:fg(e,r,l),g:fg(t,n,l),b:fg(i,a,l)}},fre=function(e,t,i,r){return i===void 0&&(i=100),r===void 0&&(r=0),$C(e.r,e.g,e.b,t.r,t.g,t.b,i,r)},cre=function(e,t,i,r,n,a){return n===void 0&&(n=100),a===void 0&&(a=0),$C(e.r,e.g,e.b,t,i,r,n,a)},dre={RGBWithRGB:$C,ColorWithRGB:cre,ColorWithColor:fre};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cg=PC,vre=un,pre=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=255),new vre(cg(e,t),cg(e,t),cg(e,t))},mre=pre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ad=W3,gre=function(e,t,i,r,n){return r===void 0&&(r=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1):"0x"+Ad(r)+Ad(e)+Ad(t)+Ad(i)},xre=gre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mt=un;Mt.ColorToRGBA=ire;Mt.ComponentToHex=W3;Mt.GetColor=TC;Mt.GetColor32=CB;Mt.HexStringToColor=AB;Mt.HSLToColor=ore;Mt.HSVColorWheel=ure;Mt.HSVToRGB=SC;Mt.HueToComponent=Y3;Mt.IntegerToColor=MB;Mt.IntegerToRGB=wB;Mt.Interpolate=dre;Mt.ObjectToColor=bB;Mt.RandomRGB=mre;Mt.RGBStringToColor=PB;Mt.RGBToHSV=EB;Mt.RGBToString=xre;Mt.ValueToColor=CC;var H3=Mt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yre={BitmapMask:aB,GeometryMask:sB};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tre={Align:Vie,BaseShader:U3,Bounds:qie,Canvas:ere,Color:H3,Masks:yre};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sre=function(e,t){var i;if(t)typeof t=="string"?i=document.getElementById(t):typeof t=="object"&&t.nodeType===1&&(i=t);else if(e.parentElement)return e;return i||(i=document.body),i.appendChild(e),e},C0=Sre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cre=m0,Ere=function(e){if(document.readyState==="complete"||document.readyState==="interactive"){e();return}var t=function(){document.removeEventListener("deviceready",t,!0),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0),e()};document.body?Cre.cordova?document.addEventListener("deviceready",t,!1):(document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)):window.setTimeout(t,20)},X3=Ere;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var K3={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var q3={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J3={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Z3={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _re={CENTER:K3,ORIENTATION:q3,SCALE_MODE:J3,ZOOM:Z3},zC=_re;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xa=zC,Are=function(e,t){var i=window.screen,r=i?i.orientation||i.mozOrientation||i.msOrientation:!1;if(r&&typeof r.type=="string")return r.type;if(typeof r=="string")return r;if(i)return i.height>i.width?Xa.ORIENTATION.PORTRAIT:Xa.ORIENTATION.LANDSCAPE;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?Xa.ORIENTATION.PORTRAIT:Xa.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return Xa.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return Xa.ORIENTATION.LANDSCAPE}return t>e?Xa.ORIENTATION.PORTRAIT:Xa.ORIENTATION.LANDSCAPE},Q3=Are;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wre=function(e){var t;return e!==""&&(typeof e=="string"?t=document.getElementById(e):e&&e.nodeType===1&&(t=e)),t||(t=document.body),t},j3=wre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mre=function(e){var t="";try{if(window.DOMParser){var i=new DOMParser;t=i.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.loadXML(e)}catch{t=null}return!t||!t.documentElement||t.getElementsByTagName("parsererror").length?null:t},eN=Mre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bre=function(e){e.parentNode&&e.parentNode.removeChild(e)},VC=bre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pre={AddToDOM:C0,DOMContentLoaded:X3,GetScreenOrientation:Q3,GetTarget:j3,ParseXML:eN,RemoveFromDOM:VC,RequestAnimationFrame:L3},Rre=Pre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lre=O,bM=Me,Fre=mt,tN=new Lre({Extends:bM,initialize:function(){bM.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});Fre.register("EventEmitter",tN,"events");var Ire=tN;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ore={EventEmitter:Ire};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dre=C0,Bre=function(e){var t=e.config;if(!(!t.parent||!t.domCreateContainer)){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+e.scale.width+"px;","height: "+e.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),e.domContainer=i,Dre(i,t.parent)}},Nre=Bre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gre={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8},UC=Gre;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kre="boot";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $re="destroy";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zre="dragend";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vre="dragenter";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ure="drag";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wre="dragleave";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yre="dragover";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hre="dragstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xre="drop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Kre="gameout";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qre="gameover";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Jre="gameobjectdown";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zre="dragend";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qre="dragenter";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jre="drag";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ene="dragleave";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tne="dragover";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ine="dragstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rne="drop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nne="gameobjectmove";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ane="gameobjectout";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sne="gameobjectover";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var one="pointerdown";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lne="pointermove";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hne="pointerout";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var une="pointerover";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fne="pointerup";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cne="wheel";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dne="gameobjectup";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vne="gameobjectwheel";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pne="boot";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mne="process";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gne="update";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xne="pointerdown";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yne="pointerdownoutside";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tne="pointermove";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sne="pointerout";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cne="pointerover";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ene="pointerup";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _ne="pointerupoutside";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ane="wheel";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wne="pointerlockchange";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mne="preupdate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bne="shutdown";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pne="start";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Rne="update";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var La={BOOT:kre,DESTROY:$re,DRAG_END:zre,DRAG_ENTER:Vre,DRAG:Ure,DRAG_LEAVE:Wre,DRAG_OVER:Yre,DRAG_START:Hre,DROP:Xre,GAME_OUT:Kre,GAME_OVER:qre,GAMEOBJECT_DOWN:Jre,GAMEOBJECT_DRAG_END:Zre,GAMEOBJECT_DRAG_ENTER:Qre,GAMEOBJECT_DRAG:jre,GAMEOBJECT_DRAG_LEAVE:ene,GAMEOBJECT_DRAG_OVER:tne,GAMEOBJECT_DRAG_START:ine,GAMEOBJECT_DROP:rne,GAMEOBJECT_MOVE:nne,GAMEOBJECT_OUT:ane,GAMEOBJECT_OVER:sne,GAMEOBJECT_POINTER_DOWN:one,GAMEOBJECT_POINTER_MOVE:lne,GAMEOBJECT_POINTER_OUT:hne,GAMEOBJECT_POINTER_OVER:une,GAMEOBJECT_POINTER_UP:fne,GAMEOBJECT_POINTER_WHEEL:cne,GAMEOBJECT_UP:dne,GAMEOBJECT_WHEEL:vne,MANAGER_BOOT:pne,MANAGER_PROCESS:mne,MANAGER_UPDATE:gne,POINTER_DOWN:xne,POINTER_DOWN_OUTSIDE:yne,POINTER_MOVE:Tne,POINTER_OUT:Sne,POINTER_OVER:Cne,POINTER_UP:Ene,POINTER_UP_OUTSIDE:_ne,POINTER_WHEEL:Ane,POINTERLOCK_CHANGE:wne,PRE_UPDATE:Mne,SHUTDOWN:bne,START:Pne,UPDATE:Rne};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PM=$h,Lne=function(e,t,i,r){r===void 0&&(r=e);var n;if(!Array.isArray(t))return n=e.indexOf(t),n!==-1?(PM(e,n),i&&i.call(r,t),t):null;for(var a=t.length-1;a>=0;){var s=t[a];n=e.indexOf(s),n!==-1?(PM(e,n),i&&i.call(r,s)):t.pop(),a--}return t},E0=Lne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fne={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175},_0=Fne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ine=E0,One=O,RM=At,dg=La,LM=_0,FM=O,Dne=new One({initialize:function(t){this.manager=t,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=FM,this.onKeyUp=FM,t.events.once(dg.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputKeyboard,this.target=e.inputKeyboardEventTarget,this.addCapture(e.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(RM.POST_STEP,this.postUpdate,this)},startListeners:function(){var e=this;this.onKeyDown=function(i){if(!(i.defaultPrevented||!e.enabled||!e.manager)){e.queue.push(i),e.manager.useQueue||e.manager.events.emit(dg.MANAGER_PROCESS);var r=i.altKey||i.ctrlKey||i.shiftKey||i.metaKey;e.preventDefault&&!r&&e.captures.indexOf(i.keyCode)>-1&&i.preventDefault()}},this.onKeyUp=function(i){if(!(i.defaultPrevented||!e.enabled||!e.manager)){e.queue.push(i),e.manager.useQueue||e.manager.events.emit(dg.MANAGER_PROCESS);var r=i.altKey||i.ctrlKey||i.shiftKey||i.metaKey;e.preventDefault&&!r&&e.captures.indexOf(i.keyCode)>-1&&i.preventDefault()}};var t=this.target;t&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var e=this.target;e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(e){typeof e=="string"&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var r=e[i];typeof r=="string"&&(r=LM[r.trim().toUpperCase()]),t.indexOf(r)===-1&&t.push(r)}this.preventDefault=t.length>0},removeCapture:function(e){typeof e=="string"&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var r=e[i];typeof r=="string"&&(r=LM[r.toUpperCase()]),Ine(t,r)}this.preventDefault=t.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(RM.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}}),iN=Dne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Bne=O,wd=wC,Nne=La,Hn=O,Gne=new Bne({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=Hn,this.onMouseDown=Hn,this.onMouseUp=Hn,this.onMouseDownWindow=Hn,this.onMouseUpWindow=Hn,this.onMouseOver=Hn,this.onMouseOut=Hn,this.onMouseWheel=Hn,this.pointerLockChange=Hn,t.events.once(Nne.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.capture=e.inputMouseCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(wd.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){wd.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this,t=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseMove(s),e.capture&&s.preventDefault())},this.onMouseDown=function(s){i&&window.focus(),!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseDown(s),e.capture&&s.target===t&&s.preventDefault())},this.onMouseDownWindow=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&s.target!==t&&e.manager.onMouseDown(s)},this.onMouseUp=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseUp(s),e.capture&&s.target===t&&s.preventDefault())},this.onMouseUpWindow=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&s.target!==t&&e.manager.onMouseUp(s)},this.onMouseOver=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(s)},this.onMouseOut=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(s)},this.onMouseWheel=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onMouseWheel(s)};var r=this.target;if(r){var n={passive:!0},a={passive:!1};r.addEventListener("mousemove",this.onMouseMove,this.capture?a:n),r.addEventListener("mousedown",this.onMouseDown,this.capture?a:n),r.addEventListener("mouseup",this.onMouseUp,this.capture?a:n),r.addEventListener("mouseover",this.onMouseOver,this.capture?a:n),r.addEventListener("mouseout",this.onMouseOut,this.capture?a:n),r.addEventListener("wheel",this.onMouseWheel,this.capture?a:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("mousedown",this.onMouseDownWindow,a),window.addEventListener("mouseup",this.onMouseUpWindow,a)),wd.pointerLock&&(this.pointerLockChange=function(s){var o=e.target;e.locked=document.pointerLockElement===o||document.mozPointerLockElement===o||document.webkitPointerLockElement===o,e.manager.onPointerLockChange(s)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDownWindow),window.removeEventListener("mouseup",this.onMouseUpWindow)),wd.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}}),rN=Gne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vg=XB,kne=O,IM=Zs,OM=MC,Md=i3,bd=oe,$ne=new kne({initialize:function(t,i){this.manager=t,this.id=i,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new bd,this.prevPosition=new bd,this.midPoint=new bd(-1,-1),this.velocity=new bd,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=i===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(e){var t=this.x,i=this.y;e.resolution!==1&&(t+=e._x,i+=e._y);var r=e.getWorldPoint(t,i);return this.worldX=r.x,this.worldY=r.y,this},positionToCamera:function(e,t){return e.getWorldPoint(this.x,this.y,t)},updateMotion:function(){var e=this.position.x,t=this.position.y,i=this.midPoint.x,r=this.midPoint.y;if(!(e===i&&t===r)){var n=Md(this.motionFactor,i,e),a=Md(this.motionFactor,r,t);OM(n,e,.1)&&(n=e),OM(a,t,.1)&&(a=t),this.midPoint.set(n,a);var s=e-n,o=t-a;this.velocity.set(s,o),this.angle=vg(n,a,e,t),this.distance=Math.sqrt(s*s+o*o)}},up:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),e.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp),this.isDown=!1,this.wasTouch=!1},down:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),e.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e.timeStamp),this.isDown=!0,this.wasTouch=!1},move:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.locked&&(this.movementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.movementY=e.movementY||e.mozMovementY||e.webkitMovementY||0),this.moveTime=e.timeStamp,this.wasTouch=!1},wheel:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ,this.wasTouch=!1},touchstart:function(e,t){e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.active=!0,this.buttons=1,this.event=t,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(e,t){this.event=t,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.moveTime=t.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?IM(this.downX,this.downY,this.x,this.y):IM(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?vg(this.downX,this.downY,this.x,this.y):vg(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(e,t){e===void 0&&(e=10),t===void 0&&(t=[]);for(var i=this.prevPosition.x,r=this.prevPosition.y,n=this.position.x,a=this.position.y,s=0;s<e;s++){var o=1/e*s;t[s]={x:Md(o,i,n),y:Md(o,r,a)}}return t},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},time:{get:function(){return this.event?this.event.timeStamp:0}}}),nN=$ne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zne=O,Vne=La,Xn=W,Une=new zne({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=Xn,this.onTouchStartWindow=Xn,this.onTouchMove=Xn,this.onTouchEnd=Xn,this.onTouchEndWindow=Xn,this.onTouchCancel=Xn,this.onTouchCancelWindow=Xn,this.onTouchOver=Xn,this.onTouchOut=Xn,t.events.once(Vne.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputTouch,this.target=e.inputTouchEventTarget,this.capture=e.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},startListeners:function(){var e=this,t=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(s){i&&window.focus(),!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchStart(s),e.capture&&s.cancelable&&s.target===t&&s.preventDefault())},this.onTouchStartWindow=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&s.target!==t&&e.manager.onTouchStart(s)},this.onTouchMove=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchMove(s),e.capture&&s.cancelable&&s.preventDefault())},this.onTouchEnd=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchEnd(s),e.capture&&s.cancelable&&s.target===t&&s.preventDefault())},this.onTouchEndWindow=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&s.target!==t&&e.manager.onTouchEnd(s)},this.onTouchCancel=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchCancel(s),e.capture&&s.preventDefault())},this.onTouchCancelWindow=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onTouchCancel(s)},this.onTouchOver=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(s)},this.onTouchOut=function(s){!s.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(s)};var r=this.target;if(r){var n={passive:!0},a={passive:!1};r.addEventListener("touchstart",this.onTouchStart,this.capture?a:n),r.addEventListener("touchmove",this.onTouchMove,this.capture?a:n),r.addEventListener("touchend",this.onTouchEnd,this.capture?a:n),r.addEventListener("touchcancel",this.onTouchCancel,this.capture?a:n),r.addEventListener("touchover",this.onTouchOver,this.capture?a:n),r.addEventListener("touchout",this.onTouchOut,this.capture?a:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,a),window.addEventListener("touchend",this.onTouchEndWindow,a),window.addEventListener("touchcancel",this.onTouchCancelWindow,a)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("touchcancel",this.onTouchCancel),e.removeEventListener("touchover",this.onTouchOver),e.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}}),aN=Une;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wne=O,Ka=UC,Yne=Me,Au=La,Pd=At,Hne=iN,Xne=rN,DM=nN,Kne=aN,BM=hn,qne=u3,Jne=new Wne({initialize:function(t,i){this.game=t,this.scaleManager,this.canvas,this.config=i,this.enabled=!0,this.events=new Yne,this.isOver=!0,this.defaultCursor="",this.keyboard=i.inputKeyboard?new Hne(this):null,this.mouse=i.inputMouse?new Xne(this):null,this.touch=i.inputTouch?new Kne(this):null,this.pointers=[],this.pointersTotal=i.inputActivePointers,i.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var r=0;r<=this.pointersTotal;r++){var n=new DM(this,r);n.smoothFactor=i.inputSmoothFactor,this.pointers.push(n)}this.mousePointer=i.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new BM,this._tempMatrix2=new BM,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],t.events.once(Pd.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(Au.MANAGER_BOOT),this.game.events.on(Pd.PRE_RENDER,this.preRender,this),this.game.events.once(Pd.DESTROY,this.destroy,this)},setCanvasOver:function(e){this.isOver=!0,this.events.emit(Au.GAME_OVER,e)},setCanvasOut:function(e){this.isOver=!1,this.events.emit(Au.GAME_OUT,e)},preRender:function(){var e=this.game.loop.now,t=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=e,this.events.emit(Au.MANAGER_UPDATE);for(var r=0;r<i.length;r++){var n=i[r];if(n.sys.input&&n.sys.input.updatePoll(e,t)&&this.globalTopOnly)return}},setDefaultCursor:function(e){this.defaultCursor=e,this.canvas.style.cursor!==e&&(this.canvas.style.cursor=e)},setCursor:function(e){e.cursor&&(this.canvas.style.cursor=e.cursor)},resetCursor:function(e){e.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(e){e===void 0&&(e=1);var t=[];this.pointersTotal+e>10&&(e=10-this.pointersTotal);for(var i=0;i<e;i++){var r=this.pointers.length,n=new DM(this,r);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,t.push(n)}return t},updateInputPlugins:function(e,t){var i=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var r=0;r<i.length;r++){var n=i[r];if(n.sys.input){var a=n.sys.input.update(e,t);if(a&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(e){for(var t=this.pointers,i=[],r=0;r<e.changedTouches.length;r++)for(var n=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(!s.active){s.touchstart(n,e),this.activePointer=s,i.push(s);break}}this.updateInputPlugins(Ka.TOUCH_START,i)},onTouchMove:function(e){for(var t=this.pointers,i=[],r=0;r<e.changedTouches.length;r++)for(var n=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(s.active&&s.identifier===n.identifier){s.touchmove(n,e),this.activePointer=s,i.push(s);break}}this.updateInputPlugins(Ka.TOUCH_MOVE,i)},onTouchEnd:function(e){for(var t=this.pointers,i=[],r=0;r<e.changedTouches.length;r++)for(var n=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(s.active&&s.identifier===n.identifier){s.touchend(n,e),i.push(s);break}}this.updateInputPlugins(Ka.TOUCH_END,i)},onTouchCancel:function(e){for(var t=this.pointers,i=[],r=0;r<e.changedTouches.length;r++)for(var n=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(s.active&&s.identifier===n.identifier){s.touchcancel(n,e),i.push(s);break}}this.updateInputPlugins(Ka.TOUCH_CANCEL,i)},onMouseDown:function(e){this.mousePointer.down(e),this.mousePointer.updateMotion(),this.updateInputPlugins(Ka.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(e){this.mousePointer.move(e),this.mousePointer.updateMotion(),this.updateInputPlugins(Ka.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(e){this.mousePointer.up(e),this.mousePointer.updateMotion(),this.updateInputPlugins(Ka.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(e){this.mousePointer.wheel(e),this.updateInputPlugins(Ka.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(e){var t=this.mouse.locked;this.mousePointer.locked=t,this.events.emit(Au.POINTERLOCK_CHANGE,e,t)},inputCandidate:function(e,t){var i=e.input;if(!i||!i.enabled||!i.alwaysEnabled&&!e.willRender(t))return!1;var r=!0,n=e.parentContainer;if(n)do{if(!n.willRender(t)){r=!1;break}n=n.parentContainer}while(n);return r},hitTest:function(e,t,i,r){r===void 0&&(r=this._tempHitTest);var n=this._tempPoint,a=i.scrollX,s=i.scrollY;r.length=0;var o=e.x,l=e.y;i.resolution!==1&&(o+=i._x,l+=i._y),i.getWorldPoint(o,l,n),e.worldX=n.x,e.worldY=n.y;for(var h={x:0,y:0},u=this._tempMatrix,f=this._tempMatrix2,c=0;c<t.length;c++){var v=t[c];if(this.inputCandidate(v,i)){var p=n.x+a*v.scrollFactorX-a,m=n.y+s*v.scrollFactorY-s;v.parentContainer?(v.getWorldTransformMatrix(u,f),u.applyInverse(p,m,h)):qne(p,m,v.x,v.y,v.rotation,v.scaleX,v.scaleY,h),this.pointWithinHitArea(v,h.x,h.y)&&r.push(v)}}return r},pointWithinHitArea:function(e,t,i){t+=e.displayOriginX,i+=e.displayOriginY;var r=e.input;return r&&r.hitAreaCallback(r.hitArea,t,i,e)?(r.localX=t,r.localY=i,!0):!1},pointWithinInteractiveObject:function(e,t,i){return e.hitArea?(t+=e.gameObject.displayOriginX,i+=e.gameObject.displayOriginY,e.localX=t,e.localY=i,e.hitAreaCallback(e.hitArea,t,i,e)):!1},transformPointer:function(e,t,i,r){var n=e.position,a=e.prevPosition;a.x=n.x,a.y=n.y;var s=this.scaleManager.transformX(t),o=this.scaleManager.transformY(i),l=e.smoothFactor;!r||l===0?(n.x=s,n.y=o):(n.x=s*l+a.x*(1-l),n.y=o*l+a.y*(1-l))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(Pd.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var e=0;e<this.pointers.length;e++)this.pointers[e].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}}),sN=Jne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Rd={},Zne={install:function(e){for(var t in Rd)e[t]=Rd[t]},register:function(e,t){Rd[e]=t},destroy:function(){Rd={}}},Ce=Zne;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qne=O,jne=mt,Cl=wt,$s=new Qne({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once(Cl.BOOT,this.boot,this),t.sys.events.on(Cl.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(Cl.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(Cl.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(Cl.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(Cl.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});$s.register=function(e,t){$s.prototype.hasOwnProperty(e)||($s.prototype[e]=t)};$s.remove=function(e){$s.prototype.hasOwnProperty(e)&&delete $s.prototype[e]};jne.register("GameObjectCreator",$s,"make");var at=$s;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eae=O,NM=At,GM=Me,tae=Ce,kM=at,$M=de,qa=Y,Ji=mt,zM=E0,iae=new eae({Extends:GM,initialize:function(t){GM.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted?this.boot():t.events.once(NM.BOOT,this.boot,this)},boot:function(){var e,t,i,r,n,a,s,o=this.game.config,l=o.installGlobalPlugins;for(l=l.concat(this._pendingGlobal),e=0;e<l.length;e++)t=l[e],i=qa(t,"key",null),r=qa(t,"plugin",null),n=qa(t,"start",!1),a=qa(t,"mapping",null),s=qa(t,"data",null),i&&(r?this.install(i,r,n,a,s):console.warn("Missing `plugin` for key: "+i));for(l=o.installScenePlugins,l=l.concat(this._pendingScene),e=0;e<l.length;e++)t=l[e],i=qa(t,"key",null),r=qa(t,"plugin",null),a=qa(t,"mapping",null),i&&(r?this.installScenePlugin(i,r,a):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(NM.DESTROY,this.destroy,this)},addToScene:function(e,t,i){var r,n,a,s=this.game,o=e.scene,l=e.settings.map,h=e.settings.isBooted;for(r=0;r<t.length;r++)n=t[r],s[n]?(e[n]=s[n],l.hasOwnProperty(n)&&(o[l[n]]=e[n])):n==="game"&&l.hasOwnProperty(n)&&(o[l[n]]=s);for(var u=0;u<i.length;u++)for(a=i[u],r=0;r<a.length;r++)if(n=a[r],!!Ji.hasCore(n)){var f=Ji.getCore(n),c=new f.plugin(o,this);e[f.mapping]=c,f.custom?o[f.mapping]=c:l.hasOwnProperty(f.mapping)&&(o[l[f.mapping]]=c),h&&c.boot()}for(a=this.plugins,r=0;r<a.length;r++){var v=a[r];v.mapping&&(o[v.mapping]=v.plugin)}},getDefaultScenePlugins:function(){var e=this.game.config.defaultPlugins;return e=e.concat(this.scenePlugins),e},installScenePlugin:function(e,t,i,r,n){if(n===void 0&&(n=!1),typeof t!="function"){console.warn("Invalid Scene Plugin: "+e);return}if(!Ji.hasCore(e))Ji.register(e,t,i,!0),this.scenePlugins.push(e);else if(!n&&Ji.hasCore(e)){console.warn("Scene Plugin key in use: "+e);return}if(r){var a=new t(r,this);r.sys[e]=a,i&&i!==""&&(r[i]=a),a.boot()}},install:function(e,t,i,r,n){if(i===void 0&&(i=!1),r===void 0&&(r=null),n===void 0&&(n=null),typeof t!="function")return console.warn("Invalid Plugin: "+e),null;if(Ji.hasCustom(e))return console.warn("Plugin key in use: "+e),null;if(r!==null&&(i=!0),!this.game.isBooted)this._pendingGlobal.push({key:e,plugin:t,start:i,mapping:r,data:n});else if(Ji.registerCustom(e,t,r,n),i)return this.start(e);return null},getIndex:function(e){for(var t=this.plugins,i=0;i<t.length;i++){var r=t[i];if(r.key===e)return i}return-1},getEntry:function(e){var t=this.getIndex(e);if(t!==-1)return this.plugins[t]},isActive:function(e){var t=this.getEntry(e);return t&&t.active},start:function(e,t){t===void 0&&(t=e);var i=this.getEntry(t);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(e,t)),i?i.plugin:null},createEntry:function(e,t){var i=Ji.getCustom(e);if(i){var r=new i.plugin(this);i={key:t,plugin:r,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),r.init(i.data),r.start()}return i},stop:function(e){var t=this.getEntry(e);return t&&t.active&&(t.active=!1,t.plugin.stop()),this},get:function(e,t){t===void 0&&(t=!0);var i=this.getEntry(e);if(i)return i.plugin;var r=this.getClass(e);return r&&t?(i=this.createEntry(e,e),i?i.plugin:null):r||null},getClass:function(e){return Ji.getCustomClass(e)},removeGlobalPlugin:function(e){var t=this.getEntry(e);t&&zM(this.plugins,t),Ji.removeCustom(e)},removeScenePlugin:function(e){zM(this.scenePlugins,e),Ji.remove(e)},registerGameObject:function(e,t,i){return t&&$M.register(e,t),i&&kM.register(e,i),this},removeGameObject:function(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!0),t&&$M.remove(e),i&&kM.remove(e),this},registerFileType:function(e,t,i){tae.register(e,t),i&&i.sys.load&&(i.sys.load[e]=t)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();Ji.destroyCustomPlugins(),this.game.noReturn&&Ji.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}}),oN=iae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rae=function(e){if(!e)return window.innerHeight;var t=Math.abs(window.orientation),i={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),i.w=t===90?r.offsetHeight:window.innerWidth,i.h=t===90?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,Math.abs(window.orientation)!==90?i.h:i.w},nae=rae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var El=$t,aae=O,vn=xc,sae=oe,nn=new aae({initialize:function(t,i,r,n){t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=0),n===void 0&&(n=null),this._width=t,this._height=i,this._parent=n,this.aspectMode=r,this.aspectRatio=i===0?1:t/i,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new sae},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.snapTo.set(e,t),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.minWidth=El(e,0,this.maxWidth),this.minHeight=El(t,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,t){return e===void 0&&(e=Number.MAX_VALUE),t===void 0&&(t=e),this.maxWidth=El(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=El(t,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,t){switch(e===void 0&&(e=0),t===void 0&&(t=e),this.aspectMode){case nn.NONE:this._width=this.getNewWidth(vn(e,this.snapTo.x)),this._height=this.getNewHeight(vn(t,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case nn.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(vn(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case nn.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(vn(t,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case nn.FIT:this.constrain(e,t,!0);break;case nn.ENVELOP:this.constrain(e,t,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,t){return this._width=this.getNewWidth(vn(e,this.snapTo.x)),this._height=this.getNewHeight(vn(t,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,t){return t===void 0&&(t=!0),e=El(e,this.minWidth,this.maxWidth),t&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,t){return t===void 0&&(t=!0),e=El(e,this.minHeight,this.maxHeight),t&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,t,i){e===void 0&&(e=0),t===void 0&&(t=e),i===void 0&&(i=!0),e=this.getNewWidth(e),t=this.getNewHeight(t);var r=this.snapTo,n=t===0?1:e/t;return i&&this.aspectRatio>n||!i&&this.aspectRatio<n?(e=vn(e,r.x),t=e/this.aspectRatio,r.y>0&&(t=vn(t,r.y),e=t*this.aspectRatio)):(i&&this.aspectRatio<n||!i&&this.aspectRatio>n)&&(t=vn(t,r.y),e=t*this.aspectRatio,r.x>0&&(e=vn(e,r.x),t=e*(1/this.aspectRatio))),this._width=e,this._height=t,this},fitTo:function(e,t){return this.constrain(e,t,!0)},envelop:function(e,t){return this.constrain(e,t,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});nn.NONE=0;nn.WIDTH_CONTROLS_HEIGHT=1;nn.HEIGHT_CONTROLS_WIDTH=2;nn.FIT=3;nn.ENVELOP=4;var lN=nn;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Li=zC,oae=O,VM=Me,mo=gc,lae=At,hae=nae,UM=j3,WM=Q3,Ld=W,uae=Ve,Fd=lN,YM=xc,fae=oe,cae=new oae({Extends:VM,initialize:function(t){VM.call(this),this.game=t,this.canvas,this.canvasBounds=new uae,this.parent=null,this.parentIsWindow=!1,this.parentSize=new Fd,this.gameSize=new Fd,this.baseSize=new Fd,this.displaySize=new Fd,this.scaleMode=Li.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this._resetZoom=!1,this.displayScale=new fae(1,1),this.autoRound=!1,this.autoCenter=Li.CENTER.NO_CENTER,this.orientation=Li.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this._requestedFullscreenChange=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:Ld,windowResize:Ld,fullScreenChange:Ld,fullScreenError:Ld}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var e=this.game;this.canvas=e.canvas,this.fullscreen=e.device.fullscreen,this.scaleMode!==Li.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===Li.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),e.events.on(lae.PRE_STEP,this.step,this),this.startListeners()},parseConfig:function(e){this.getParent(e),this.getParentBounds();var t=e.width,i=e.height,r=e.scaleMode,n=e.resolution,a=e.zoom,s=e.autoRound;if(typeof t=="string"){var o=this.parentSize.width;o===0&&(o=window.innerWidth);var l=parseInt(t,10)/100;t=Math.floor(o*l)}if(typeof i=="string"){var h=this.parentSize.height;h===0&&(h=window.innerHeight);var u=parseInt(i,10)/100;i=Math.floor(h*u)}this.resolution=1,this.scaleMode=r,this.autoRound=s,this.autoCenter=e.autoCenter,this.resizeInterval=e.resizeInterval,s&&(t=Math.floor(t),i=Math.floor(i)),this.gameSize.setSize(t,i),a===Li.ZOOM.MAX_ZOOM&&(a=this.getMaxZoom()),this.zoom=a,a!==1&&(this._resetZoom=!0),this.baseSize.setSize(t*n,i*n),s&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),e.minWidth>0&&this.displaySize.setMin(e.minWidth*a,e.minHeight*a),e.maxWidth>0&&this.displaySize.setMax(e.maxWidth*a,e.maxHeight*a),this.displaySize.setSize(t,i),this.orientation=WM(t,i)},getParent:function(e){var t=e.parent;if(t!==null){if(this.parent=UM(t),this.parentIsWindow=this.parent===document.body,e.expandParent&&e.scaleMode!==Li.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||i.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),!this.parentIsWindow&&i.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}e.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=UM(e.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var e=this.parentSize,t=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(t.height=hae(!0));var i=this.resolution,r=t.width*i,n=t.height*i;return e.width!==r||e.height!==n?(e.setSize(r,n),!0):!1},lockOrientation:function(e){var t=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return t?t(e):!1},setParentSize:function(e,t){return this.parentSize.setSize(e,t),this.refresh()},setGameSize:function(e,t){var i=this.autoRound,r=this.resolution;i&&(e=Math.floor(e),t=Math.floor(t));var n=this.width,a=this.height;return this.gameSize.resize(e,t),this.baseSize.resize(e*r,t*r),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e,t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(n,a)},resize:function(e,t){var i=this.zoom,r=this.resolution,n=this.autoRound;n&&(e=Math.floor(e),t=Math.floor(t));var a=this.width,s=this.height;this.gameSize.resize(e,t),this.baseSize.resize(e*r,t*r),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e*i*r,t*i*r),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var o=this.canvas.style,l=e*i,h=t*i;return n&&(l=Math.floor(l),h=Math.floor(h)),(l!==e||h!==t)&&(o.width=l+"px",o.height=h+"px"),this.refresh(a,s)},setZoom:function(e){return this.zoom=e,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(e,t){e===void 0&&(e=this.width),t===void 0&&(t=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var r=this.canvas.style,n=i.style;n.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",n.marginLeft=r.marginLeft,n.marginTop=r.marginTop}return this.emit(mo.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution,e,t),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var e=WM(this.width,this.height);e!==this.orientation&&(this.orientation=e,this.emit(mo.ORIENTATION_CHANGE,e))}},updateScale:function(){var e=this.canvas.style,t=this.gameSize.width,i=this.gameSize.height,r,n,a=this.zoom,s=this.autoRound,o=1;this.scaleMode===Li.SCALE_MODE.NONE?(this.displaySize.setSize(t*a*o,i*a*o),r=this.displaySize.width/o,n=this.displaySize.height/o,s&&(r=Math.floor(r),n=Math.floor(n)),this._resetZoom&&(e.width=r+"px",e.height=n+"px",this._resetZoom=!1)):this.scaleMode===Li.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width*o,this.displaySize.height*o),r=this.displaySize.width/o,n=this.displaySize.height/o,s&&(r=Math.floor(r),n=Math.floor(n)),this.canvas.width=r,this.canvas.height=n):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),r=this.displaySize.width/o,n=this.displaySize.height/o,s&&(r=Math.floor(r),n=Math.floor(n)),e.width=r+"px",e.height=n+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var e=YM(this.parentSize.width,this.gameSize.width,0,!0),t=YM(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(e,t),1)},updateCenter:function(){var e=this.autoCenter;if(e!==Li.CENTER.NO_CENTER){var t=this.canvas,i=t.style,r=t.getBoundingClientRect(),n=r.width,a=r.height,s=Math.floor((this.parentSize.width-n)/2),o=Math.floor((this.parentSize.height-a)/2);e===Li.CENTER.CENTER_HORIZONTALLY?o=0:e===Li.CENTER.CENTER_VERTICALLY&&(s=0),i.marginLeft=s+"px",i.marginTop=o+"px"}},updateBounds:function(){var e=this.canvasBounds,t=this.canvas.getBoundingClientRect();e.x=t.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),e.y=t.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),e.width=t.width,e.height=t.height},transformX:function(e){return(e-this.canvasBounds.left)*this.displayScale.x},transformY:function(e){return(e-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(e){e===void 0&&(e={navigationUI:"hide"});var t=this.fullscreen;if(!t.available){this.emit(mo.FULLSCREEN_UNSUPPORTED);return}if(!t.active){var i=this.getFullscreenTarget();this._requestedFullscreenChange=!0;var r;t.keyboard?r=i[t.request](Element.ALLOW_KEYBOARD_INPUT):r=i[t.request](e),r?r.then(this.fullscreenSuccessHandler.bind(this)).catch(this.fullscreenErrorHandler.bind(this)):t.active?this.fullscreenSuccessHandler():this.fullscreenErrorHandler()}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(mo.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(e){this.removeFullscreenTarget(),this.emit(mo.FULLSCREEN_FAILED,e)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var e=document.createElement("div");e.style.margin="0",e.style.padding="0",e.style.width="100%",e.style.height="100%",this.fullscreenTarget=e,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var t=this.canvas.parentNode;t.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var e=this.fullscreenTarget;if(e&&e.parentNode){var t=e.parentNode;t.insertBefore(this.canvas,e),t.removeChild(e)}}},stopFullscreen:function(){var e=this.fullscreen;if(!e.available)return this.emit(mo.FULLSCREEN_UNSUPPORTED),!1;e.active&&(this._requestedFullscreenChange=!0,document[e.cancel]()),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(mo.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(e){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(e)},startListeners:function(){var e=this,t=this.listeners;if(t.orientationChange=function(){e._checkOrientation=!0,e.dirty=!0},t.windowResize=function(){e.dirty=!0},window.addEventListener("orientationchange",t.orientationChange,!1),window.addEventListener("resize",t.windowResize,!1),this.fullscreen.available){t.fullScreenChange=function(r){return e.onFullScreenChange(r)},t.fullScreenError=function(r){return e.onFullScreenError(r)};var i=["webkit","moz",""];i.forEach(function(r){document.addEventListener(r+"fullscreenchange",t.fullScreenChange,!1),document.addEventListener(r+"fullscreenerror",t.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.addEventListener("MSFullscreenError",t.fullScreenError,!1)}},onFullScreenChange:function(){this._requestedFullscreenChange||this.stopFullscreen(),this._requestedFullscreenChange=!1},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(e,t){this.parent&&(this._lastCheck+=t,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var e=this.listeners;window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1);var t=["webkit","moz",""];t.forEach(function(i){document.removeEventListener(i+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(i+"fullscreenerror",e.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===Li.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===Li.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}}),hN=cae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dae={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9},A0=dae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vae="addfile";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pae="complete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mae="filecomplete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gae="filecomplete-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xae="loaderror";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yae="load";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tae="fileprogress";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sae="postprocess";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cae="progress";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Eae="start";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vh={ADD:vae,COMPLETE:pae,FILE_COMPLETE:mae,FILE_KEY_COMPLETE:gae,FILE_LOAD_ERROR:xae,FILE_LOAD:yae,FILE_PROGRESS:Tae,POST_PROCESS:Sae,PROGRESS:Cae,START:Eae};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _ae=function(e){return e&&e[0].toUpperCase()+e.slice(1)},WC=_ae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Aae=Y,HM=WC,wae=function(e){var t=e.game.config.defaultPhysicsSystem,i=Aae(e.settings,"physics",!1);if(!(!t&&!i)){var r=[];if(t&&r.push(HM(t+"Physics")),i)for(var n in i)n=HM(n.concat("Physics")),r.indexOf(n)===-1&&r.push(n);return r}},Mae=wae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bae=Y,Pae=function(e){var t=e.plugins.getDefaultScenePlugins(),i=bae(e.settings,"plugins",!1);return Array.isArray(i)?i:t||[]},Rae=Pae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lae=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i]=e[i].slice(0):t[i]=e[i];return t},Qo=Lae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fae=Qo,Iae=function(e,t){var i=Fae(e);for(var r in t)i.hasOwnProperty(r)||(i[r]=t[r]);return i},Uh=Iae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YC={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};YC.cameras3d="cameras3d";YC.facebook="facebook";var Oae=YC;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dae=A0,Vr=me,Bae=Uh,Nae=Oae,Gae={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:Dae.PENDING,key:Vr(e,"key",""),active:Vr(e,"active",!1),visible:Vr(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:Vr(e,"pack",!1),cameras:Vr(e,"cameras",null),map:Vr(e,"map",Bae(Nae,Vr(e,"mapAdd",{}))),physics:Vr(e,"physics",{}),loader:Vr(e,"loader",{}),plugins:Vr(e,"plugins",!1),input:Vr(e,"input",{})}}},uN=Gae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kae=O,Ur=A0,XM=DC,Ft=wt,$ae=Mae,zae=Rae,KM=W,Vae=uN,Uae=new kae({initialize:function(t,i){this.scene=t,this.game,this.renderer,this.facebook,this.config=i,this.settings=Vae.create(i),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=KM},init:function(e){this.settings.status=Ur.INIT,this.sceneUpdate=KM,this.game=e,this.renderer=e.renderer,this.canvas=e.canvas,this.context=e.context;var t=e.plugins;this.plugins=t,t.addToScene(this,XM.Global,[XM.CoreScene,zae(this),$ae(this)]),this.events.emit(Ft.BOOT,this),this.settings.isBooted=!0},install:function(e){Array.isArray(e)||(e=[e]),this.plugins.installLocal(this,e)},step:function(e,t){this.events.emit(Ft.PRE_UPDATE,e,t),this.events.emit(Ft.UPDATE,e,t),this.sceneUpdate.call(this.scene,e,t),this.events.emit(Ft.POST_UPDATE,e,t)},render:function(e){var t=this.displayList;t.depthSort(),this.cameras.render(e,t),this.events.emit(Ft.RENDER,e)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(e){return this.settings.active&&(this.settings.status=Ur.PAUSED,this.settings.active=!1,this.events.emit(Ft.PAUSE,this,e)),this},resume:function(e){return this.settings.active||(this.settings.status=Ur.RUNNING,this.settings.active=!0,this.events.emit(Ft.RESUME,this,e)),this},sleep:function(e){return this.settings.status=Ur.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(Ft.SLEEP,this,e),this},wake:function(e){var t=this.settings;return t.status=Ur.RUNNING,t.active=!0,t.visible=!0,this.events.emit(Ft.WAKE,this,e),t.isTransition&&this.events.emit(Ft.TRANSITION_WAKE,t.transitionFrom,t.transitionDuration),this},isSleeping:function(){return this.settings.status===Ur.SLEEPING},isActive:function(){return this.settings.status===Ur.RUNNING},isPaused:function(){return this.settings.status===Ur.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(e){return this.settings.visible=e,this},setActive:function(e,t){return e?this.resume(t):this.pause(t)},start:function(e){e&&(this.settings.data=e),this.settings.status=Ur.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(Ft.START,this),this.events.emit(Ft.READY,this,e)},shutdown:function(e){this.events.off(Ft.TRANSITION_INIT),this.events.off(Ft.TRANSITION_START),this.events.off(Ft.TRANSITION_COMPLETE),this.events.off(Ft.TRANSITION_OUT),this.settings.status=Ur.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(Ft.SHUTDOWN,this,e)},destroy:function(){this.settings.status=Ur.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(Ft.DESTROY,this),this.events.removeAllListeners();for(var e=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],t=0;t<e.length;t++)this[e[t]]=null}}),HC=Uae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wae=O,Yae=HC,Hae=new Wae({initialize:function(t){this.sys=new Yae(this,t),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.impact,this.matter,this.facebook,this.scale,this.plugins},update:function(){}}),fN=Hae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xae=O,hr=A0,pg=wt,Kae=At,qae=me,qM=Vh,Jae=W,wu=fN,Zae=HC,Qae=new Xae({initialize:function(t,i){if(this.game=t,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)this._pending.push({key:"default",scene:i[r],autoStart:r===0,data:{}})}t.events.once(Kae.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var e,t,i,r;for(e=0;e<this._pending.length;e++){t=this._pending[e],i=t.key,r=t.scene;var n;r instanceof wu?n=this.createSceneFromInstance(i,r):typeof r=="object"?n=this.createSceneFromObject(i,r):typeof r=="function"&&(n=this.createSceneFromFunction(i,r)),i=n.sys.settings.key,this.keys[i]=n,this.scenes.push(n),this._data[i]&&(n.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(t.autoStart=!0)),(t.autoStart||n.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e=this._pending.length,t=this._queue.length;if(!(e===0&&t===0)){var i,r;if(e){for(i=0;i<e;i++)r=this._pending[i],this.add(r.key,r.scene,r.autoStart,r.data);for(i=0;i<this._start.length;i++)r=this._start[i],this.start(r);this._start.length=0,this._pending.length=0;return}for(i=0;i<this._queue.length;i++)r=this._queue[i],this[r.op](r.keyA,r.keyB);this._queue.length=0}},add:function(e,t,i,r){if(i===void 0&&(i=!1),r===void 0&&(r={}),this.isProcessing||!this.isBooted)return this._pending.push({key:e,scene:t,autoStart:i,data:r}),this.isBooted||(this._data[e]={data:r}),null;e=this.getKey(e,t);var n;return t instanceof wu?n=this.createSceneFromInstance(e,t):typeof t=="object"?(t.key=e,n=this.createSceneFromObject(e,t)):typeof t=="function"&&(n=this.createSceneFromFunction(e,t)),n.sys.settings.data=r,e=n.sys.settings.key,this.keys[e]=n,this.scenes.push(n),(i||n.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),n},remove:function(e){if(this.isProcessing)this._queue.push({op:"remove",keyA:e,keyB:null});else{var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var i=this.scenes.indexOf(t),r=t.sys.settings.key;i>-1&&(delete this.keys[r],this.scenes.splice(i,1),this._start.indexOf(r)>-1&&(i=this._start.indexOf(r),this._start.splice(i,1)),t.sys.destroy())}return this},bootScene:function(e){var t=e.sys,i=t.settings;e.init&&(e.init.call(e,i.data),i.status=hr.INIT,i.isTransition&&t.events.emit(pg.TRANSITION_INIT,i.transitionFrom,i.transitionDuration));var r;t.load&&(r=t.load,r.reset()),r&&e.preload?(e.preload.call(e),r.list.size===0?this.create(e):(i.status=hr.LOADING,r.once(qM.COMPLETE,this.loadComplete,this),r.start())):this.create(e)},loadComplete:function(e){var t=e.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(t)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var r=this.scenes[i].sys;r.settings.status>hr.START&&r.settings.status<=hr.RUNNING&&r.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var i=this.scenes[t].sys;i.settings.visible&&i.settings.status>=hr.LOADING&&i.settings.status<hr.SLEEPING&&i.render(e)}this.isProcessing=!1},create:function(e){var t=e.sys,i=t.settings;e.create&&(i.status=hr.CREATING,e.create.call(e,i.data),i.status===hr.DESTROYED)||(i.isTransition&&t.events.emit(pg.TRANSITION_START,i.transitionFrom,i.transitionDuration),e.update&&(t.sceneUpdate=e.update),i.status=hr.RUNNING,t.events.emit(pg.CREATE,e))},createSceneFromFunction:function(e,t){var i=new t;if(i instanceof wu){var r=i.sys.settings.key;if(r!==""&&(e=r),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return this.createSceneFromInstance(e,i)}else return i.sys=new Zae(i),i.sys.settings.key=e,i.sys.init(this.game),i},createSceneFromInstance:function(e,t){var i=t.sys.settings.key;return i!==""?e=i:t.sys.settings.key=e,t.sys.init(this.game),t},createSceneFromObject:function(e,t){var i=new wu(t),r=i.sys.settings.key;r!==""?e=r:i.sys.settings.key=e,i.sys.init(this.game);for(var n=["init","preload","create","update","render"],a=0;a<n.length;a++){var s=qae(t,n[a],null);s&&(i[n[a]]=s)}if(t.hasOwnProperty("extend")){for(var o in t.extend)if(t.extend.hasOwnProperty(o)){var l=t.extend[o];o==="data"&&i.hasOwnProperty("data")&&typeof l=="object"?i.data.merge(l):o!=="sys"&&(i[o]=l)}}return i},getKey:function(e,t){if(e||(e="default"),typeof t=="function")return e;if(t instanceof wu?e=t.sys.settings.key:typeof t=="object"&&t.hasOwnProperty("key")&&(e=t.key),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return e},getScenes:function(e,t){e===void 0&&(e=!0),t===void 0&&(t=!1);for(var i=[],r=this.scenes,n=0;n<r.length;n++){var a=r[n];a&&(!e||e&&a.sys.isActive())&&i.push(a)}return t?i.reverse():i},getScene:function(e){if(typeof e=="string"){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isPaused:function(e){var t=this.getScene(e);return t?t.sys.isPaused():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var i=this.getScene(e);return i&&i.sys.pause(t),this},resume:function(e,t){var i=this.getScene(e);return i&&i.sys.resume(t),this},sleep:function(e,t){var i=this.getScene(e);return i&&!i.sys.isTransitioning()&&i.sys.sleep(t),this},wake:function(e,t){var i=this.getScene(e);return i&&i.sys.wake(t),this},run:function(e,t){var i=this.getScene(e);if(!i){for(var r=0;r<this._pending.length;r++)if(this._pending[r].key===e){this.queueOp("start",e,t);break}return this}i.sys.isSleeping()?i.sys.wake(t):i.sys.isPaused()?i.sys.resume(t):this.start(e,t)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var i=this.getScene(e);if(i){if(i.sys.isActive()||i.sys.isPaused())i.sys.shutdown(),i.sys.start(t);else{i.sys.start(t);var r;if(i.sys.load&&(r=i.sys.load),r&&i.sys.settings.hasOwnProperty("pack")&&(r.reset(),r.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=hr.LOADING,r.once(qM.COMPLETE,this.payloadComplete,this),r.start(),this}this.bootScene(i)}return this},stop:function(e,t){var i=this.getScene(e);return i&&!i.sys.isTransitioning()&&i.sys.shutdown(t),this},switch:function(e,t){var i=this.getScene(e),r=this.getScene(t);return i&&r&&i!==r&&(this.sleep(e),this.isSleeping(t)?this.wake(t):this.start(t)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t!==-1&&t<this.scenes.length){var i=this.getScene(e);this.scenes.splice(t,1),this.scenes.push(i)}}return this},sendToBack:function(e){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t!==-1&&t>0){var i=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(i)}}return this},moveDown:function(e){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t>0){var i=t-1,r=this.getScene(e),n=this.getAt(i);this.scenes[t]=n,this.scenes[i]=r}}return this},moveUp:function(e){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t<this.scenes.length-1){var i=t+1,r=this.getScene(e),n=this.getAt(i);this.scenes[t]=n,this.scenes[i]=r}}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:e,keyB:t});else{var i=this.getIndex(e),r=this.getIndex(t);if(i!==-1&&r!==-1){var n=this.getAt(r);this.scenes.splice(r,1),this.scenes.splice(i+1,0,n)}}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:e,keyB:t});else{var i=this.getIndex(e),r=this.getIndex(t);if(i!==-1&&r!==-1){var n=this.getAt(r);this.scenes.splice(r,1),i===0?this.scenes.unshift(n):this.scenes.splice(i,0,n)}}return this},queueOp:function(e,t,i){return this._queue.push({op:e,keyA:t,keyB:i}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:e,keyB:t});else{var i=this.getIndex(e),r=this.getIndex(t);if(i!==r&&i!==-1&&r!==-1){var n=this.getAt(i);this.scenes[i]=this.scenes[r],this.scenes[r]=n}}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var r=this.scenes[i].sys,n=r.settings.visible&&(r.settings.status===hr.RUNNING||r.settings.status===hr.PAUSED)?"[*] ":"[-] ";n+=r.settings.key+" ("+t[r.settings.status]+")",e.push(n)}console.log(e.join(`
`))},destroy:function(){for(var e=0;e<this.scenes.length;e++){var t=this.scenes[e].sys;t.destroy()}this.update=Jae,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}}),cN=Qae;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jae=O,_l=$t,ese=pt,dN=new jae({initialize:function(t,i,r,n,a,s,o){this.texture=t,this.name=i,this.source=t.source[r],this.sourceIndex=r,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(s,o,n,a)},setSize:function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=0),this.cutX=i,this.cutY=r,this.cutWidth=e,this.cutHeight=t,this.width=e,this.height=t,this.halfWidth=Math.floor(e*.5),this.halfHeight=Math.floor(t*.5),this.centerX=Math.floor(e/2),this.centerY=Math.floor(t/2);var n=this.data,a=n.cut;a.x=i,a.y=r,a.w=e,a.h=t,a.r=i+e,a.b=r+t,n.sourceSize.w=e,n.sourceSize.h=t,n.spriteSourceSize.w=e,n.spriteSourceSize.h=t,n.radius=.5*Math.sqrt(e*e+t*t);var s=n.drawImage;return s.x=i,s.y=r,s.width=e,s.height=t,this.updateUVs()},setTrim:function(e,t,i,r,n,a){var s=this.data,o=s.spriteSourceSize;return s.trim=!0,s.sourceSize.w=e,s.sourceSize.h=t,o.x=i,o.y=r,o.w=n,o.h=a,o.r=i+n,o.b=r+a,this.x=i,this.y=r,this.width=n,this.height=a,this.halfWidth=n*.5,this.halfHeight=a*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(a/2),this.updateUVs()},setCropUVs:function(e,t,i,r,n,a,s){var o=this.cutX,l=this.cutY,h=this.cutWidth,u=this.cutHeight,f=this.realWidth,c=this.realHeight;t=_l(t,0,f),i=_l(i,0,c),r=_l(r,0,f-t),n=_l(n,0,c-i);var v=o+t,p=l+i,m=r,x=n,g=this.data;if(g.trim){var T=g.spriteSourceSize;r=_l(r,0,h-t),n=_l(n,0,u-i);var S=t+r,E=i+n,_=!(T.r<t||T.b<i||T.x>S||T.y>E);if(_){var w=Math.max(T.x,t),R=Math.max(T.y,i),F=Math.min(T.r,S)-w,k=Math.min(T.b,E)-R;m=F,x=k,a?v=o+(h-(w-T.x)-F):v=o+(w-T.x),s?p=l+(u-(R-T.y)-k):p=l+(R-T.y),t=w,i=R,r=F,n=k}else v=0,p=0,m=0,x=0}else a&&(v=o+(h-t-r)),s&&(p=l+(u-i-n));var B=this.source.width,N=this.source.height;return e.u0=Math.max(0,v/B),e.v0=Math.max(0,p/N),e.u1=Math.min(1,(v+m)/B),e.v1=Math.min(1,(p+x)/N),e.x=t,e.y=i,e.cx=v,e.cy=p,e.cw=m,e.ch=x,e.width=r,e.height=n,e.flipX=a,e.flipY=s,e},updateCropUVs:function(e,t,i){return this.setCropUVs(e,e.x,e.y,e.width,e.height,t,i)},updateUVs:function(){var e=this.cutX,t=this.cutY,i=this.cutWidth,r=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=r;var a=this.source.width,s=this.source.height;return this.u0=e/a,this.v0=t/s,this.u1=(e+i)/a,this.v1=(t+r)/s,this},updateUVsInverted:function(){var e=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/e,this.v0=this.cutY/t,this.u1=this.cutX/e,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var e=new dN(this.texture,this.name,this.sourceIndex);return e.cutX=this.cutX,e.cutY=this.cutY,e.cutWidth=this.cutWidth,e.cutHeight=this.cutHeight,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e.halfWidth=this.halfWidth,e.halfHeight=this.halfHeight,e.centerX=this.centerX,e.centerY=this.centerY,e.rotated=this.rotated,e.data=ese(!0,e.data,this.data),e.updateUVs(),e},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}}),yc=dN;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tse=Mi,ise=O,rse=x0,nse=eC,ase=new ise({initialize:function(t,i,r,n,a){a===void 0&&(a=!1);var s=t.manager.game;this.renderer=s.renderer,this.texture=t,this.source=i,this.image=i,this.compressionAlgorithm=null,this.resolution=1,this.width=r||i.naturalWidth||i.videoWidth||i.width||0,this.height=n||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=nse.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&i instanceof WebGLTexture,this.isPowerOf2=rse(this.width,this.height),this.glTexture=null,this.flipY=a,this.init(s)},init:function(e){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=this.renderer.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer.gl;e&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):e&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&tse.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}}),vN=ase;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sse=O,ose=yc,JM=vN,mg="Texture.frame missing: ",lse=new sse({initialize:function(t,i,r,n,a){Array.isArray(r)||(r=[r]),this.manager=t,this.key=i,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var s=0;s<r.length;s++)this.source.push(new JM(this,r[s],n,a))},add:function(e,t,i,r,n,a){if(this.has(e))return null;var s=new ose(this,e,t,i,r,n,a);return this.frames[e]=s,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,s},remove:function(e){if(this.has(e)){var t=this.get(e);return t.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames[e]},get:function(e){e||(e=this.firstFrame);var t=this.frames[e];return t||(console.warn(mg+e),t=this.frames[this.firstFrame]),t},getTextureSourceIndex:function(e){for(var t=0;t<this.source.length;t++)if(this.source[t]===e)return t;return-1},getFramesFromTextureSource:function(e,t){t===void 0&&(t=!1);var i=[];for(var r in this.frames)if(!(r==="__BASE"&&!t)){var n=this.frames[r];n.sourceIndex===e&&i.push(n)}return i},getFrameNames:function(e){e===void 0&&(e=!1);var t=Object.keys(this.frames);if(!e){var i=t.indexOf("__BASE");i!==-1&&t.splice(i,1)}return t},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var t=this.frames[e];return t?t.source.image:(console.warn(mg+e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var t=this.frames[e],i;return t?i=t.sourceIndex:(console.warn(mg+e),i=this.frames.__BASE.sourceIndex),this.dataSource[i].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=this.source[t];this.dataSource.push(new JM(this,e[t],i.width,i.height))}},setFilter:function(e){var t;for(t=0;t<this.source.length;t++)this.source[t].setFilter(e);for(t=0;t<this.dataSource.length;t++)this.dataSource[t].setFilter(e)},destroy:function(){var e;for(e=0;e<this.source.length;e++)this.source[e].destroy();for(e=0;e<this.dataSource.length;e++)this.dataSource[e].destroy();for(var t in this.frames){var i=this.frames[t];i.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}}),XC=lse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hse=O,Ja=$t,ZM=un,use=Or,fse=x0,gg=XC,cse=new hse({Extends:gg,initialize:function(t,i,r,n,a){gg.call(this,t,i,r,n,a),this.add("__BASE",0,0,0,n,a),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=n,this.height=a,this.imageData=this.context.getImageData(0,0,n,a),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===use.WEBGL&&this.refresh(),this},draw:function(e,t,i){return this.context.drawImage(i,e,t),this.update()},drawFrame:function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=0);var n=this.manager.getFrame(e,t);if(n){var a=n.canvasData,s=n.cutWidth,o=n.cutHeight,l=n.source.resolution;return this.context.drawImage(n.source.image,a.x,a.y,s,o,i,r,s/l,o/l),this.update()}else return this},setPixel:function(e,t,i,r,n,a){a===void 0&&(a=255),e=Math.abs(Math.floor(e)),t=Math.abs(Math.floor(t));var s=this.getIndex(e,t);if(s>-1){var o=this.context.getImageData(e,t,1,1);o.data[0]=i,o.data[1]=r,o.data[2]=n,o.data[3]=a,this.context.putImageData(o,e,t)}return this},putData:function(e,t,i,r,n,a,s){return r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=e.width),s===void 0&&(s=e.height),this.context.putImageData(e,t,i,r,n,a,s),this},getData:function(e,t,i,r){e=Ja(Math.floor(e),0,this.width-1),t=Ja(Math.floor(t),0,this.height-1),i=Ja(i,1,this.width-e),r=Ja(r,1,this.height-t);var n=this.context.getImageData(e,t,i,r);return n},getPixel:function(e,t,i){i||(i=new ZM);var r=this.getIndex(e,t);if(r>-1){var n=this.data,a=n[r+0],s=n[r+1],o=n[r+2],l=n[r+3];i.setTo(a,s,o,l)}return i},getPixels:function(e,t,i,r){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.width),r===void 0&&(r=i),e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t));for(var n=Ja(e,0,this.width),a=Ja(e+i,0,this.width),s=Ja(t,0,this.height),o=Ja(t+r,0,this.height),l=new ZM,h=[],u=s;u<o;u++){for(var f=[],c=n;c<a;c++)l=this.getPixel(c,u,l),f.push({x:c,y:u,color:l.color,alpha:l.alphaGL});h.push(f)}return h},getIndex:function(e,t){return e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t)),e<this.width&&t<this.height?(e+t*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(e,t,i,r){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.width),r===void 0&&(r=this.height),this.context.clearRect(e,t,i,r),this.update()},setSize:function(e,t){return t===void 0&&(t=e),(e!==this.width||t!==this.height)&&(this.canvas.width=e,this.canvas.height=t,this._source.width=e,this._source.height=t,this._source.isPowerOf2=fse(e,t),this.frames.__BASE.setSize(e,t,0,0),this.refresh()),this},destroy:function(){gg.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}}),pN=cse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dse=function(e,t,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height);for(var n=i.getElementsByTagName("SubTexture"),a,s=0;s<n.length;s++){var o=n[s].attributes,l=o.name.value,h=parseInt(o.x.value,10),u=parseInt(o.y.value,10),f=parseInt(o.width.value,10),c=parseInt(o.height.value,10);if(a=e.add(l,t,h,u,f,c),o.frameX){var v=Math.abs(parseInt(o.frameX.value,10)),p=Math.abs(parseInt(o.frameY.value,10)),m=parseInt(o.frameWidth.value,10),x=parseInt(o.frameHeight.value,10);a.setTrim(f,c,v,p,m,x)}}return e},vse=dse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pse=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e},mse=pse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gse=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e},xse=gse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yse=Qo,Tse=function(e,t,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height);for(var n=Array.isArray(i.textures)?i.textures[t].frames:i.frames,a,s=0;s<n.length;s++){var o=n[s];a=e.add(o.filename,t,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&a.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(a.rotated=!0,a.updateUVsInverted()),o.anchor&&(a.customPivot=!0,a.pivotX=o.anchor.x,a.pivotY=o.anchor.y),a.customData=yse(o)}for(var l in i)l!=="frames"&&(Array.isArray(i[l])?e.customData[l]=i[l].slice(0):e.customData[l]=i[l]);return e},Sse=Tse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cse=Qo,Ese=function(e,t,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height);var n=i.frames,a;for(var s in n){var o=n[s];a=e.add(s,t,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&a.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(a.rotated=!0,a.updateUVsInverted()),a.customData=Cse(o)}for(var l in i)l!=="frames"&&(Array.isArray(i[l])?e.customData[l]=i[l].slice(0):e.customData[l]=i[l]);return e},_se=Ese;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Al=Y,Ase=function(e,t,i,r,n,a,s){var o=Al(s,"frameWidth",null),l=Al(s,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var h=e.source[t];e.add("__BASE",t,0,0,h.width,h.height);var u=Al(s,"startFrame",0),f=Al(s,"endFrame",-1),c=Al(s,"margin",0),v=Al(s,"spacing",0),p=Math.floor((n-c+v)/(o+v)),m=Math.floor((a-c+v)/(l+v)),x=p*m;x===0&&console.warn("SpriteSheet frame dimensions will result in zero frames."),(u>x||u<-x)&&(u=0),u<0&&(u=x+u),f!==-1&&(x=u+(f+1));for(var g=c,T=c,S=0,E=0,_=0;_<x;_++){S=0,E=0;var w=g+o,R=T+l;w>n&&(S=w-n),R>a&&(E=R-a),e.add(_,t,i+g,r+T,o-S,l-E),g+=o+v,g+o>n&&(g=c,T+=l+v)}return e},wse=Ase;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wl=Y,Mse=function(e,t,i){var r=wl(i,"frameWidth",null),n=wl(i,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var a=e.source[0];e.add("__BASE",0,0,0,a.width,a.height),wl(i,"startFrame",0),wl(i,"endFrame",-1);for(var s=wl(i,"margin",0),o=wl(i,"spacing",0),l=t.cutX,h=t.cutY,u=t.cutWidth,f=t.cutHeight,c=t.realWidth,v=t.realHeight,p=Math.floor((c-s+o)/(r+o)),m=Math.floor((v-s+o)/(n+o)),x=t.x,g=r-x,T=r-(c-u-x),S=t.y,E=n-S,_=n-(v-f-S),w,R=s,F=s,k=0,B=t.sourceIndex,N=0;N<m;N++){for(var d=N===0,y=N===m-1,C=0;C<p;C++){var M=C===0,A=C===p-1;if(w=e.add(k,B,l+R,h+F,r,n),M||d||A||y){var L=M?x:0,P=d?S:0,b=0,I=0;M&&(b+=r-g),A&&(b+=r-T),d&&(I+=n-E),y&&(I+=n-_);var D=r-b,G=n-I;w.cutWidth=D,w.cutHeight=G,w.setTrim(r,n,L,P,D,G)}R+=o,M?R+=g:A?R+=T:R+=r,k++}R=s,F+=o,d?F+=E:y?F+=_:F+=n}return e},bse=Mse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mN=0,QM=function(e,t,i,r){var n=mN-r.y-r.height;e.add(i,t,r.x,n,r.width,r.height)},Pse=function(e,t,i){var r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height),mN=r.height;for(var n=i.split(`
`),a=/^[ ]*(- )*(\w+)+[: ]+(.*)/,s="",o="",l={x:0,y:0,width:0,height:0},h=0;h<n.length;h++){var u=n[h].match(a);if(u){var f=u[1]==="- ",c=u[2],v=u[3];if(f&&(o!==s&&(QM(e,t,o,l),s=o),l={x:0,y:0,width:0,height:0}),c==="name"){o=v;continue}switch(c){case"x":case"y":case"width":case"height":l[c]=parseInt(v,10);break}}}return o!==s&&QM(e,t,o,l),e},Rse=Pse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gN={AtlasXML:vse,Canvas:mse,Image:xse,JSONArray:Sse,JSONHash:_se,SpriteSheet:wse,SpriteSheetFromAtlas:bse,UnityYAML:Rse};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ml=Mi,jM=pN,Lse=O,Fse=un,Ise=Or,eb=Me,yt=S0,tb=At,Ose=D3,ib=me,Wr=gN,rb=XC,Dse=new Lse({Extends:eb,initialize:function(t){eb.call(this),this.game=t,this.name="TextureManager",this.list={},this._tempCanvas=Ml.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,t.events.once(tb.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(yt.LOAD,this.updatePending,this),this.on(yt.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(tb.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(yt.LOAD),this.off(yt.ERROR),this.emit(yt.READY))},checkKey:function(e){return this.exists(e)?(console.error("Texture key already in use: "+e),!1):!0},remove:function(e){if(typeof e=="string")if(this.exists(e))e=this.get(e);else return console.warn("No texture found matching key: "+e),this;return this.list.hasOwnProperty(e.key)&&(e.destroy(),this.emit(yt.REMOVE,e.key)),this},removeKey:function(e){return this.list.hasOwnProperty(e)&&delete this.list[e],this},addBase64:function(e,t){if(this.checkKey(e)){var i=this,r=new Image;r.onerror=function(){i.emit(yt.ERROR,e)},r.onload=function(){var n=i.create(e,r);Wr.Image(n,0),i.emit(yt.ADD,e,n),i.emit(yt.LOAD,e,n)},r.src=t}return this},getBase64:function(e,t,i,r){i===void 0&&(i="image/png"),r===void 0&&(r=.92);var n="",a=this.getFrame(e,t);if(a&&(a.source.isRenderTexture||a.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(a){var s=a.canvasData,o=Ml.create2D(this,s.width,s.height),l=o.getContext("2d");l.drawImage(a.source.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height),n=o.toDataURL(i,r),Ml.remove(o)}return n},addImage:function(e,t,i){var r=null;return this.checkKey(e)&&(r=this.create(e,t),Wr.Image(r,0),i&&r.setDataSource(i),this.emit(yt.ADD,e,r)),r},addGLTexture:function(e,t,i,r){var n=null;return this.checkKey(e)&&(n=this.create(e,t,i,r),n.add("__BASE",0,0,0,i,r),this.emit(yt.ADD,e,n)),n},addRenderTexture:function(e,t){var i=null;return this.checkKey(e)&&(i=this.create(e,t),i.add("__BASE",0,0,0,t.width,t.height),this.emit(yt.ADD,e,i)),i},generate:function(e,t){if(this.checkKey(e)){var i=Ml.create(this,1,1);return t.canvas=i,Ose(t),this.addCanvas(e,i)}else return null},createCanvas:function(e,t,i){if(t===void 0&&(t=256),i===void 0&&(i=256),this.checkKey(e)){var r=Ml.create(this,t,i,Ise.CANVAS,!0);return this.addCanvas(e,r)}return null},addCanvas:function(e,t,i){i===void 0&&(i=!1);var r=null;return i?r=new jM(this,e,t,t.width,t.height):this.checkKey(e)&&(r=new jM(this,e,t,t.width,t.height),this.list[e]=r,this.emit(yt.ADD,e,r)),r},addAtlas:function(e,t,i,r){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(e,t,i,r):this.addAtlasJSONHash(e,t,i,r)},addAtlasJSONArray:function(e,t,i,r){var n=null;if(this.checkKey(e)){if(n=this.create(e,t),Array.isArray(i))for(var a=i.length===1,s=0;s<n.source.length;s++){var o=a?i[0]:i[s];Wr.JSONArray(n,s,o)}else Wr.JSONArray(n,0,i);r&&n.setDataSource(r),this.emit(yt.ADD,e,n)}return n},addAtlasJSONHash:function(e,t,i,r){var n=null;if(this.checkKey(e)){if(n=this.create(e,t),Array.isArray(i))for(var a=0;a<i.length;a++)Wr.JSONHash(n,a,i[a]);else Wr.JSONHash(n,0,i);r&&n.setDataSource(r),this.emit(yt.ADD,e,n)}return n},addAtlasXML:function(e,t,i,r){var n=null;return this.checkKey(e)&&(n=this.create(e,t),Wr.AtlasXML(n,0,i),r&&n.setDataSource(r),this.emit(yt.ADD,e,n)),n},addUnityAtlas:function(e,t,i,r){var n=null;return this.checkKey(e)&&(n=this.create(e,t),Wr.UnityYAML(n,0,i),r&&n.setDataSource(r),this.emit(yt.ADD,e,n)),n},addSpriteSheet:function(e,t,i){var r=null;if(this.checkKey(e)){r=this.create(e,t);var n=r.source[0].width,a=r.source[0].height;Wr.SpriteSheet(r,0,0,0,n,a,i),this.emit(yt.ADD,e,r)}return r},addSpriteSheetFromAtlas:function(e,t){if(!this.checkKey(e))return null;var i=ib(t,"atlas",null),r=ib(t,"frame",null);if(!(!i||!r)){var n=this.get(i),a=n.get(r);if(a){var s=this.create(e,a.source.image);return a.trimmed?Wr.SpriteSheetFromAtlas(s,a,t):Wr.SpriteSheet(s,0,a.cutX,a.cutY,a.cutWidth,a.cutHeight,t),this.emit(yt.ADD,e,s),s}}},create:function(e,t,i,r){var n=null;return this.checkKey(e)&&(n=new rb(this,e,t,i,r),this.list[e]=n),n},exists:function(e){return this.list.hasOwnProperty(e)},get:function(e){return e===void 0&&(e="__DEFAULT"),this.list[e]?this.list[e]:e instanceof rb?e:this.list.__MISSING},cloneFrame:function(e,t){if(this.list[e])return this.list[e].get(t).clone()},getFrame:function(e,t){if(this.list[e])return this.list[e].get(t)},getTextureKeys:function(){var e=[];for(var t in this.list)t!=="__DEFAULT"&&t!=="__MISSING"&&e.push(t);return e},getPixel:function(e,t,i,r){var n=this.getFrame(i,r);if(n){e-=n.x,t-=n.y;var a=n.data.cut;if(e+=a.x,t+=a.y,e>=a.x&&e<a.r&&t>=a.y&&t<a.b){var s=this._tempContext;s.clearRect(0,0,1,1),s.drawImage(n.source.image,e,t,1,1,0,0,1,1);var o=s.getImageData(0,0,1,1);return new Fse(o.data[0],o.data[1],o.data[2],o.data[3])}}return null},getPixelAlpha:function(e,t,i,r){var n=this.getFrame(i,r);if(n){e-=n.x,t-=n.y;var a=n.data.cut;if(e+=a.x,t+=a.y,e>=a.x&&e<a.r&&t>=a.y&&t<a.b){var s=this._tempContext;s.clearRect(0,0,1,1),s.drawImage(n.source.image,e,t,1,1,0,0,1,1);var o=s.getImageData(0,0,1,1);return o.data[3]}}return null},setTexture:function(e,t,i){return this.list[t]&&(e.texture=this.list[t],e.frame=e.texture.get(i)),e},renameTexture:function(e,t){var i=this.get(e);return i&&e!==t?(i.key=t,this.list[t]=i,delete this.list[e],!0):!1},each:function(e,t){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[0]=this.list[n],e.apply(t,i)},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.game=null,Ml.remove(this._tempCanvas)}}),xN=Dse;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Bse="complete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nse="decoded";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gse="decodedall";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kse="destroy";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $se="detune";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zse="detune";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vse="mute";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Use="rate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wse="volume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yse="loop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hse="looped";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xse="mute";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Kse="pauseall";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qse="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Jse="play";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zse="rate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qse="resumeall";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jse="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eoe="seek";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var toe="stopall";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ioe="stop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var roe="unlocked";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var noe="volume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qs={COMPLETE:Bse,DECODED:Nse,DECODED_ALL:Gse,DESTROY:kse,DETUNE:$se,GLOBAL_DETUNE:zse,GLOBAL_MUTE:Vse,GLOBAL_RATE:Use,GLOBAL_VOLUME:Wse,LOOP:Yse,LOOPED:Hse,MUTE:Xse,PAUSE_ALL:Kse,PAUSE:qse,PLAY:Jse,RATE:Zse,RESUME_ALL:Qse,RESUME:jse,SEEK:eoe,STOP_ALL:toe,STOP:ioe,UNLOCKED:roe,VOLUME:noe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xg,nb;function w0(){if(nb)return xg;nb=1;var e=O,t=Qo,i=Me,r=Qs,n=At,a=W,s=new e({Extends:i,initialize:function(l){i.call(this),this.game=l,this.jsonCache=l.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,l.events.on(n.BLUR,function(){this.pauseOnBlur&&this.onBlur()},this),l.events.on(n.FOCUS,function(){this.pauseOnBlur&&this.onFocus()},this),l.events.on(n.PRE_STEP,this.update,this),l.events.once(n.DESTROY,this.destroy,this)},add:a,addAudioSprite:function(o,l){l===void 0&&(l={});var h=this.add(o,l);h.spritemap=this.jsonCache.get(o).spritemap;for(var u in h.spritemap)if(h.spritemap.hasOwnProperty(u)){var f=t(l),c=h.spritemap[u];f.loop=c.hasOwnProperty("loop")?c.loop:!1,h.addMarker({name:u,start:c.start,duration:c.end-c.start,config:f})}return h},play:function(o,l){var h=this.add(o);return h.once(r.COMPLETE,h.destroy,h),l?l.name?(h.addMarker(l),h.play(l.name)):h.play(l):h.play()},playAudioSprite:function(o,l,h){var u=this.addAudioSprite(o);return u.once(r.COMPLETE,u.destroy,u),u.play(l,h)},remove:function(o){var l=this.sounds.indexOf(o);return l!==-1?(o.destroy(),this.sounds.splice(l,1),!0):!1},removeByKey:function(o){for(var l=0,h=this.sounds.length-1;h>=0;h--){var u=this.sounds[h];u.key===o&&(u.destroy(),this.sounds.splice(h,1),l++)}return l},pauseAll:function(){this.forEachActiveSound(function(o){o.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(o){o.resume()}),this.emit(r.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(o){o.stop()}),this.emit(r.STOP_ALL,this)},unlock:a,onBlur:a,onFocus:a,update:function(o,l){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var h=this.sounds.length-1;h>=0;h--)this.sounds[h].pendingRemove&&this.sounds.splice(h,1);this.sounds.forEach(function(u){u.update(o,l)})},destroy:function(){this.removeAllListeners(),this.forEachActiveSound(function(o){o.destroy()}),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(o,l){var h=this;this.sounds.forEach(function(u,f){u&&!u.pendingRemove&&o.call(l||h,u,f,h.sounds)})},setRate:function(o){return this.rate=o,this},rate:{get:function(){return this._rate},set:function(o){this._rate=o,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_RATE,this,o)}},setDetune:function(o){return this.detune=o,this},detune:{get:function(){return this._detune},set:function(o){this._detune=o,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,o)}}});return xg=s,xg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yg,ab;function M0(){if(ab)return yg;ab=1;var e=O,t=Me,i=Qs,r=pt,n=W,a=new e({Extends:t,initialize:function(o,l,h){t.call(this),this.manager=o,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=r(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var o=this.markers[s];return o?(this.markers[s]=null,o):null},play:function(s,o){if(s===void 0&&(s=""),typeof s=="object"&&(o=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,o),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,o=this.currentConfig.detune+this.manager.detune,l=Math.pow(s,o);this.totalRate=this.currentConfig.rate*this.manager.rate*l},destroy:function(){this.pendingRemove||(this.emit(i.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});return yg=a,yg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tg,sb;function yN(){if(sb)return Tg;sb=1;var e=M0(),t=O,i=Qs,r=new t({Extends:e,initialize:function(a,s,o){if(o===void 0&&(o={}),this.tags=a.game.cache.audio.get(s),!this.tags){console.warn("Audio cache entry missing: "+s);return}this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,a,s,o)},play:function(n,a){return this.manager.isLocked(this,"play",[n,a])||!e.prototype.play.call(this,n,a)||!this.pickAndPlayAudioTag()?!1:(this.emit(i.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(i.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(i.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(i.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,a=this.currentConfig.delay,s=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=s,this.audio.currentTime=s,this.applyConfig(),a===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+a*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var a=this.tags[n];if(a.dataset.used==="false")return a.dataset.used="true",this.audio=a,!0}if(!this.manager.override)return!1;var s=[];this.manager.forEachActiveSound(function(l){l.key===this.key&&l.audio&&s.push(l)},this),s.sort(function(l,h){return l.loop===h.loop?h.seek/h.duration-l.seek/l.duration:l.loop?1:-1});var o=s[0];return this.audio=o.audio,o.reset(),o.audio=null,o.startTime=0,o.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(a){console.warn(a)})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n,a){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,o=s+this.duration,l=this.audio.currentTime;if(this.currentConfig.loop)l>=o-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,l-o),l=this.audio.currentTime):l<s&&(this.audio.currentTime+=s,l=this.audio.currentTime),l<this.previousTime&&this.emit(i.LOOPED,this);else if(l>=o){this.reset(),this.stopAndReleaseAudioTag(),this.emit(i.COMPLETE,this);return}this.previousTime=l}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=this.currentConfig.volume*this.manager.volume)},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(i.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(i.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,i.RATE,n)&&(this.calculateRate(),this.emit(i.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,i.DETUNE,n)&&(this.calculateRate(),this.emit(i.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(i.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(i.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this}});return Tg=r,Tg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sg,ob;function TN(){if(ob)return Sg;ob=1;var e=w0(),t=O,i=Qs,r=yN(),n=new t({Extends:e,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,s)},add:function(a,s){var o=new r(this,a,s);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(h,u){for(var f=0;f<u.length;f++)if(u[f].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var s=!1,o=function(){s=!0},l=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",l);var h=[];if(a.game.cache.audio.entries.each(function(f,c){for(var v=0;v<c.length;v++){var p=c[v];p.dataset.locked==="true"&&h.push(p)}return!0}),h.length!==0){var u=h[h.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,h.forEach(function(f){f.dataset.locked="false"}),a.unlocked=!0},h.forEach(function(f){f.load()})}};this.once(i.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",l,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,s,o){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:s,value:o}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(i.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(i.GLOBAL_VOLUME,this,a)}}});return Sg=n,Sg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cg,lb;function SN(){if(lb)return Cg;lb=1;var e=M0(),t=O,i=Me,r=pt,n=new t({Extends:i,initialize:function(s,o,l){l===void 0&&(l={}),i.call(this),this.manager=s,this.key=o,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},l),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(a){return!1},updateMarker:function(a){return!1},removeMarker:function(a){return null},play:function(a,s){return!1},pause:function(){return!1},resume:function(){return!1},stop:function(){return!1},destroy:function(){this.manager.remove(this),e.prototype.destroy.call(this)}});return Cg=n,Cg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Eg,hb;function CN(){if(hb)return Eg;hb=1;var e=w0(),t=O,i=Me,r=SN(),n=W,a=new t({Extends:i,initialize:function(o){i.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,o){var l=new r(this,s,o);return this.sounds.push(l),l},addAudioSprite:function(s,o){var l=this.add(s,o);return l.spritemap={},l},play:function(s,o){return!1},playAudioSprite:function(s,o,l){return!1},remove:function(s){return e.prototype.remove.call(this,s)},removeByKey:function(s){return e.prototype.removeByKey.call(this,s)},pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,forEachActiveSound:function(s,o){e.prototype.forEachActiveSound.call(this,s,o)},destroy:function(){e.prototype.destroy.call(this)}});return Eg=a,Eg}/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ub="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mf=new Uint8Array(256);for(var Id=0;Id<ub.length;Id++)mf[ub.charCodeAt(Id)]=Id;var aoe=function(e){e=e.substr(e.indexOf(",")+1);var t=e.length,i=t*.75,r=0,n,a,s,o;e[t-1]==="="&&(i--,e[t-2]==="="&&i--);for(var l=new ArrayBuffer(i),h=new Uint8Array(l),u=0;u<t;u+=4)n=mf[e.charCodeAt(u)],a=mf[e.charCodeAt(u+1)],s=mf[e.charCodeAt(u+2)],o=mf[e.charCodeAt(u+3)],h[r++]=n<<2|a>>4,h[r++]=(a&15)<<4|s>>2,h[r++]=(s&3)<<6|o&63;return l},EN=aoe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _g,fb;function _N(){if(fb)return _g;fb=1;var e=M0(),t=O,i=Qs,r=new t({Extends:e,initialize:function(a,s,o){if(o===void 0&&(o={}),this.audioBuffer=a.game.cache.audio.get(s),!this.audioBuffer){console.warn("Audio cache entry missing: "+s);return}this.source=null,this.loopSource=null,this.muteNode=a.context.createGain(),this.volumeNode=a.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(a.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,a,s,o)},play:function(n,a){return e.prototype.play.call(this,n,a)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(i.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(i.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(i.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(i.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,a=this.currentConfig.delay,s=this.manager.context.currentTime+a,o=(this.currentMarker?this.currentMarker.start:0)+n,l=this.duration-n;this.playTime=s-n,this.startTime=s,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,s),Math.max(0,o),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),a=this.currentMarker?this.currentMarker.start:0,s=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,a),Math.max(0,s))},createBufferSource:function(){var n=this,a=this.manager.context.createBufferSource();return a.buffer=this.audioBuffer,a.connect(this.muteNode),a.onended=function(s){s.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},a},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(n,a){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(i.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(i.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,a=0;a<this.rateUpdates.length;a++){var s=0;a<this.rateUpdates.length-1?s=this.rateUpdates[a+1].time:s=this.manager.context.currentTime-this.playTime,n+=(s-this.rateUpdates[a].time)*this.rateUpdates[a].rate}return n},getLoopTime:function(){for(var n=0,a=0;a<this.rateUpdates.length-1;a++)n+=(this.rateUpdates[a+1].time-this.rateUpdates[a].time)*this.rateUpdates[a].rate;var s=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+s.time+(this.duration-n)/s.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(i.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(i.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(i.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(i.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(i.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(i.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this}});return _g=r,_g}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ag,cb;function AN(){if(cb)return Ag;cb=1;var e=EN,t=w0(),i=O,r=Qs,n=_N(),a=new i({Extends:t,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),t.call(this,o),this.locked&&this.unlock()},createAudioContext:function(s){var o=s.config.audio;return o&&o.context?(o.context.resume(),o.context):new AudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,o){var l=new n(this,s,o);return this.sounds.push(l),l},decodeAudio:function(s,o){var l;Array.isArray(s)?l=s:l=[{key:s,data:o}];for(var h=this.game.cache.audio,u=l.length,f=0;f<l.length;f++){var c=l[f],v=c.key,p=c.data;typeof p=="string"&&(p=e(p));var m=(function(g,T){h.add(g,T),this.emit(r.DECODED,g),u--,u===0&&this.emit(r.DECODED_ALL)}).bind(this,v),x=(function(g,T){console.error("Error decoding audio: "+g+" - ",T?T.message:""),u--,u===0&&this.emit(r.DECODED_ALL)}).bind(this,v);this.context.decodeAudioData(p,m,x)}},unlock:function(){var s=this,o=document.body,l=function h(){s.context&&s.context.resume().then(function(){o.removeEventListener("touchstart",h),o.removeEventListener("touchend",h),o.removeEventListener("click",h),o.removeEventListener("keydown",h),s.unlocked=!0},function(){o.removeEventListener("touchstart",h),o.removeEventListener("touchend",h),o.removeEventListener("click",h),o.removeEventListener("keydown",h)})};o&&(o.addEventListener("touchstart",l,!1),o.addEventListener("touchend",l,!1),o.addEventListener("click",l,!1),o.addEventListener("keydown",l,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}t.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(r.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(r.GLOBAL_VOLUME,this,s)}}});return Ag=a,Ag}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wg,db;function wN(){if(db)return wg;db=1;var e=TN(),t=CN(),i=AN(),r={create:function(n){var a=n.config.audio,s=n.device.audio;return a&&a.noAudio||!s.webAudio&&!s.audioData?new t(n):s.webAudio&&!(a&&a.disableWebAudio)?new i(n):new e(n)}};return wg=r,wg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mg,vb;function soe(){if(vb)return Mg;vb=1;var e=function(t,i,r){return{instance:i,placementID:t,shown:!1,video:r}};return Mg=e,Mg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bg,pb;function ooe(){if(pb)return bg;pb=1;var e=function(t){return{score:t.getScore(),scoreFormatted:t.getFormattedScore(),timestamp:t.getTimestamp(),rank:t.getRank(),data:t.getExtraData(),playerName:t.getPlayer().getName(),playerPhotoURL:t.getPlayer().getPhoto(),playerID:t.getPlayer().getID()}};return bg=e,bg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pg,mb;function loe(){if(mb)return Pg;mb=1;var e=O,t=Me,i=ooe(),r=new e({Extends:t,initialize:function(a,s){t.call(this),this.plugin=a,this.ref=s,this.name=s.getName(),this.contextID=s.getContextID(),this.entryCount=0,this.playerScore=null,this.scores=[],this.getEntryCount()},getEntryCount:function(){var n=this;return this.ref.getEntryCountAsync().then(function(a){n.entryCount=a,n.emit("getentrycount",a,n.name)}).catch(function(a){console.warn(a)}),this},setScore:function(n,a){a===void 0&&(a=""),typeof a=="object"&&(a=JSON.stringify(a));var s=this;return this.ref.setScoreAsync(n,a).then(function(o){if(o){var l=i(o);s.playerScore=l,s.emit("setscore",l,s.name)}else s.emit("setscore",null,s.name)}).catch(function(o){console.warn(o)}),this},getPlayerScore:function(){var n=this;return this.ref.getPlayerEntryAsync().then(function(a){if(a){var s=i(a);n.playerScore=s,n.emit("getplayerscore",s,n.name)}else n.emit("getplayerscore",null,n.name)}).catch(function(a){console.warn(a)}),this},getScores:function(n,a){n===void 0&&(n=10),a===void 0&&(a=0);var s=this;return this.ref.getEntriesAsync(n,a).then(function(o){s.scores=[],o.forEach(function(l){s.scores.push(i(l))}),s.emit("getscores",s.scores,s.name)}).catch(function(o){console.warn(o)}),this},getConnectedScores:function(){var n=this;return this.ref.getConnectedPlayerEntriesAsync().then(function(a){n.scores=[],a.forEach(function(s){n.scores.push(i(s))}),n.emit("getconnectedscores",n.scores,n.name)}).catch(function(a){console.warn(a)}),this}});return Pg=r,Pg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rg,gb;function hoe(){if(gb)return Rg;gb=1;var e=Y,t=function(i){return{title:e(i,"title",""),productID:e(i,"productID",""),description:e(i,"description",""),imageURI:e(i,"imageURI",""),price:e(i,"price",""),priceCurrencyCode:e(i,"priceCurrencyCode","")}};return Rg=t,Rg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lg,xb;function uoe(){if(xb)return Lg;xb=1;var e=Y,t=function(i){return{developerPayload:e(i,"developerPayload",""),paymentID:e(i,"paymentID",""),productID:e(i,"productID",""),purchaseTime:e(i,"purchaseTime",""),purchaseToken:e(i,"purchaseToken",""),signedRequest:e(i,"signedRequest","")}};return Lg=t,Lg}var Fg,yb;function MN(){if(yb)return Fg;yb=1;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=soe(),t=O,i=vc,r=Me,n=loe(),a=hoe(),s=uoe(),o=new t({Extends:r,initialize:function(h){r.call(this),this.game=h,this.data=new i(this),this.on("setdata",this.setDataHandler,this),this.on("changedata",this.changeDataHandler,this),this.hasLoaded=!1,this.dataLocked=!1,this.supportedAPIs=[],this.entryPoint="",this.entryPointData=null,this.contextID=null,this.contextType=null,this.locale=null,this.platform=null,this.version=null,this.playerID=null,this.playerName=null,this.playerPhotoURL=null,this.playerCanSubscribeBot=!1,this.paymentsReady=!1,this.catalog=[],this.purchases=[],this.leaderboards={},this.ads=[]},setDataHandler:function(l,h,u){if(!this.dataLocked){var f={};f[h]=u;var c=this;FBInstant.player.setDataAsync(f).then(function(){c.emit("savedata",f)})}},changeDataHandler:function(l,h,u){if(!this.dataLocked){var f={};f[h]=u;var c=this;FBInstant.player.setDataAsync(f).then(function(){c.emit("savedata",f)})}},showLoadProgress:function(l){return l.load.on("progress",function(h){this.hasLoaded||FBInstant.setLoadingProgress(h*100)},this),l.load.on("complete",function(){this.hasLoaded||(this.hasLoaded=!0,FBInstant.startGameAsync().then(this.gameStartedHandler.bind(this)))},this),this},gameStarted:function(){this.hasLoaded?this.gameStartedHandler():(this.hasLoaded=!0,FBInstant.startGameAsync().then(this.gameStartedHandler.bind(this)))},gameStartedHandler:function(){var l=FBInstant.getSupportedAPIs(),h={},u=function(c){return c[1].toUpperCase()};l.forEach(function(c){c=c.replace(/\../g,u),h[c]=!0}),this.supportedAPIs=h,this.getID(),this.getType(),this.getLocale(),this.getPlatform(),this.getSDKVersion(),this.getPlayerID(),this.getPlayerName(),this.getPlayerPhotoURL();var f=this;FBInstant.onPause(function(){f.emit("pause")}),FBInstant.getEntryPointAsync().then(function(c){f.entryPoint=c,f.entryPointData=FBInstant.getEntryPointData(),f.emit("startgame")}).catch(function(c){console.warn(c)}),this.supportedAPIs.paymentsPurchaseAsync&&FBInstant.payments.onReady(function(){f.paymentsReady=!0}).catch(function(c){console.warn(c)})},checkAPI:function(l){return!!this.supportedAPIs[l]},getID:function(){return!this.contextID&&this.supportedAPIs.contextGetID&&(this.contextID=FBInstant.context.getID()),this.contextID},getType:function(){return!this.contextType&&this.supportedAPIs.contextGetType&&(this.contextType=FBInstant.context.getType()),this.contextType},getLocale:function(){return!this.locale&&this.supportedAPIs.getLocale&&(this.locale=FBInstant.getLocale()),this.locale},getPlatform:function(){return!this.platform&&this.supportedAPIs.getPlatform&&(this.platform=FBInstant.getPlatform()),this.platform},getSDKVersion:function(){return!this.version&&this.supportedAPIs.getSDKVersion&&(this.version=FBInstant.getSDKVersion()),this.version},getPlayerID:function(){return!this.playerID&&this.supportedAPIs.playerGetID&&(this.playerID=FBInstant.player.getID()),this.playerID},getPlayerName:function(){return!this.playerName&&this.supportedAPIs.playerGetName&&(this.playerName=FBInstant.player.getName()),this.playerName},getPlayerPhotoURL:function(){return!this.playerPhotoURL&&this.supportedAPIs.playerGetPhoto&&(this.playerPhotoURL=FBInstant.player.getPhoto()),this.playerPhotoURL},loadPlayerPhoto:function(l,h){return this.playerPhotoURL&&(l.load.setCORS("anonymous"),l.load.image(h,this.playerPhotoURL),l.load.once("filecomplete-image-"+h,function(){this.emit("photocomplete",h)},this),l.load.start()),this},canSubscribeBot:function(){if(this.supportedAPIs.playerCanSubscribeBotAsync){var l=this;FBInstant.player.canSubscribeBotAsync().then(function(){l.playerCanSubscribeBot=!0,l.emit("cansubscribebot")}).catch(function(h){l.emit("cansubscribebotfail",h)})}else this.emit("cansubscribebotfail");return this},subscribeBot:function(){if(this.playerCanSubscribeBot){var l=this;FBInstant.player.subscribeBotAsync().then(function(){l.emit("subscribebot")}).catch(function(h){l.emit("subscribebotfail",h)})}else this.emit("subscribebotfail");return this},getData:function(l){if(!this.checkAPI("playerGetDataAsync"))return this;Array.isArray(l)||(l=[l]);var h=this;return FBInstant.player.getDataAsync(l).then(function(u){h.dataLocked=!0;for(var f in u)h.data.set(f,u[f]);h.dataLocked=!1,h.emit("getdata",u)}),this},saveData:function(l){if(!this.checkAPI("playerSetDataAsync"))return this;var h=this;return FBInstant.player.setDataAsync(l).then(function(){h.emit("savedata",l)}).catch(function(u){h.emit("savedatafail",u)}),this},flushData:function(){if(!this.checkAPI("playerFlushDataAsync"))return this;var l=this;return FBInstant.player.flushDataAsync().then(function(){l.emit("flushdata")}).catch(function(h){l.emit("flushdatafail",h)}),this},getStats:function(l){if(!this.checkAPI("playerGetStatsAsync"))return this;var h=this;return FBInstant.player.getStatsAsync(l).then(function(u){h.emit("getstats",u)}).catch(function(u){h.emit("getstatsfail",u)}),this},saveStats:function(l){if(!this.checkAPI("playerSetStatsAsync"))return this;var h={};for(var u in l)typeof l[u]=="number"&&(h[u]=l[u]);var f=this;return FBInstant.player.setStatsAsync(h).then(function(){f.emit("savestats",h)}).catch(function(c){f.emit("savestatsfail",c)}),this},incStats:function(l){if(!this.checkAPI("playerIncrementStatsAsync"))return this;var h={};for(var u in l)typeof l[u]=="number"&&(h[u]=l[u]);var f=this;return FBInstant.player.incrementStatsAsync(h).then(function(c){f.emit("incstats",c)}).catch(function(c){f.emit("incstatsfail",c)}),this},saveSession:function(l){if(!this.checkAPI("setSessionData"))return this;var h=JSON.stringify(l);return h.length<=1e3?FBInstant.setSessionData(l):console.warn("Session data too long. Max 1000 chars."),this},openShare:function(l,h,u,f){return this._share("SHARE",l,h,u,f)},openInvite:function(l,h,u,f){return this._share("INVITE",l,h,u,f)},openRequest:function(l,h,u,f){return this._share("REQUEST",l,h,u,f)},openChallenge:function(l,h,u,f){return this._share("CHALLENGE",l,h,u,f)},_share:function(l,h,u,f,c){if(!this.checkAPI("shareAsync"))return this;if(c===void 0&&(c={}),u)var v=this.game.textures.getBase64(u,f);var p={intent:l,image:v,text:h,data:c},m=this;return FBInstant.shareAsync(p).then(function(){m.emit("resume")}),this},isSizeBetween:function(l,h){return this.checkAPI("contextIsSizeBetween")?FBInstant.context.isSizeBetween(l,h):this},switchContext:function(l){if(!this.checkAPI("contextSwitchAsync"))return this;if(l!==this.contextID){var h=this;FBInstant.context.switchAsync(l).then(function(){h.contextID=FBInstant.context.getID(),h.emit("switch",h.contextID)}).catch(function(u){h.emit("switchfail",u)})}return this},chooseContext:function(l){if(!this.checkAPI("contextChooseAsync"))return this;var h=this;return FBInstant.context.chooseAsync(l).then(function(){h.contextID=FBInstant.context.getID(),h.emit("choose",h.contextID)}).catch(function(u){h.emit("choosefail",u)}),this},createContext:function(l){if(!this.checkAPI("contextCreateAsync"))return this;var h=this;return FBInstant.context.createAsync(l).then(function(){h.contextID=FBInstant.context.getID(),h.emit("create",h.contextID)}).catch(function(u){h.emit("createfail",u)}),this},getPlayers:function(){if(!this.checkAPI("playerGetConnectedPlayersAsync"))return this;var l=this;return FBInstant.player.getConnectedPlayersAsync().then(function(h){l.emit("players",h)}).catch(function(h){l.emit("playersfail",h)}),this},getCatalog:function(){if(!this.paymentsReady)return this;var l=this,h=this.catalog;return FBInstant.payments.getCatalogAsync().then(function(u){h=[],u.forEach(function(f){h.push(a(f))}),l.emit("getcatalog",h)}).catch(function(u){l.emit("getcatalogfail",u)}),this},getProduct:function(l){for(var h=0;h<this.catalog.length;h++)if(this.catalog[h].productID===l)return this.catalog[h];return null},purchase:function(l,h){if(!this.paymentsReady)return this;var u={productID:l};h&&(u.developerPayload=h);var f=this;return FBInstant.payments.purchaseAsync(u).then(function(c){var v=s(c);f.emit("purchase",v)}).catch(function(c){f.emit("purchasefail",c)}),this},getPurchases:function(){if(!this.paymentsReady)return this;var l=this,h=this.purchases;return FBInstant.payments.getPurchasesAsync().then(function(u){h=[],u.forEach(function(f){h.push(s(f))}),l.emit("getpurchases",h)}).catch(function(u){l.emit("getpurchasesfail",u)}),this},consumePurchase:function(l){if(!this.paymentsReady)return this;var h=this;return FBInstant.payments.consumePurchaseAsync(l).then(function(){h.emit("consumepurchase",l)}).catch(function(u){h.emit("consumepurchasefail",u)}),this},update:function(l,h,u,f,c,v){return this._update("CUSTOM",l,h,u,f,c,v)},updateLeaderboard:function(l,h,u,f,c,v){return this._update("LEADERBOARD",l,h,u,f,c,v)},_update:function(l,h,u,f,c,v,p){if(!this.checkAPI("shareAsync"))return this;if(h===void 0&&(h=""),typeof u=="string"&&(u={default:u}),p===void 0&&(p={}),f)var m=this.game.textures.getBase64(f,c);var x={action:l,cta:h,image:m,text:u,template:v,data:p,strategy:"IMMEDIATE",notification:"NO_PUSH"},g=this;return FBInstant.updateAsync(x).then(function(){g.emit("update")}).catch(function(T){g.emit("updatefail",T)}),this},switchGame:function(l,h){if(!this.checkAPI("switchGameAsync"))return this;if(h){var u=JSON.stringify(h);if(u.length>1e3)return console.warn("Switch Game data too long. Max 1000 chars."),this}var f=this;return FBInstant.switchGameAsync(l,h).then(function(){f.emit("switchgame",l)}).catch(function(c){f.emit("switchgamefail",c)}),this},createShortcut:function(){var l=this;return FBInstant.canCreateShortcutAsync().then(function(h){h&&FBInstant.createShortcutAsync().then(function(){l.emit("shortcutcreated")}).catch(function(u){l.emit("shortcutfailed",u)})}),this},quit:function(){FBInstant.quit()},log:function(l,h,u){return this.checkAPI("logEvent")?(u===void 0&&(u={}),l.length>=2&&l.length<=40&&FBInstant.logEvent(l,parseFloat(h),u),this):this},preloadAds:function(l){if(!this.checkAPI("getInterstitialAdAsync"))return this;Array.isArray(l)||(l=[l]);var h,u=this,f=0;for(h=0;h<this.ads.length;h++)this.ads[h].shown||f++;if(f+l.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(h=0;h<l.length;h++){var c=l[h],v;FBInstant.getInterstitialAdAsync(c).then(function(p){return v=p,p.loadAsync()}).then(function(){var p=e(c,v,!1);u.ads.push(p),u.emit("adloaded",p)}).catch(function(p){p.code==="ADS_NO_FILL"?u.emit("adsnofill",c):p.code==="ADS_FREQUENT_LOAD"?u.emit("adsfrequentload",c):console.warn(p)})}return this},preloadVideoAds:function(l){if(!this.checkAPI("getRewardedVideoAsync"))return this;Array.isArray(l)||(l=[l]);var h,u=this,f=0;for(h=0;h<this.ads.length;h++)this.ads[h].shown||f++;if(f+l.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(h=0;h<l.length;h++){var c=l[h],v;FBInstant.getRewardedVideoAsync(c).then(function(p){return v=p,p.loadAsync()}).then(function(){var p=e(c,v,!0);u.ads.push(p),u.emit("adloaded",p)}).catch(function(p){p.code==="ADS_NO_FILL"?u.emit("adsnofill",c):p.code==="ADS_FREQUENT_LOAD"?u.emit("adsfrequentload",c):console.warn(p)})}return this},showAd:function(l){for(var h=this,u=0;u<this.ads.length;u++){var f=this.ads[u];f.placementID===l&&!f.shown&&f.instance.showAsync().then(function(){f.shown=!0,h.emit("adfinished",f)}).catch(function(c){c.code==="ADS_NOT_LOADED"?h.emit("adsnotloaded",f):c.code==="RATE_LIMITED"&&h.emit("adratelimited",f),h.emit("adshowerror",c,f)})}return this},showVideo:function(l){for(var h=this,u=0;u<this.ads.length;u++){var f=this.ads[u];f.placementID===l&&f.video&&!f.shown&&f.instance.showAsync().then(function(){f.shown=!0,h.emit("adfinished",f)}).catch(function(c){c.code==="ADS_NOT_LOADED"?h.emit("adsnotloaded",f):c.code==="RATE_LIMITED"&&h.emit("adratelimited",f),h.emit("adshowerror",c,f)})}return this},matchPlayer:function(l,h){if(l===void 0&&(l=null),h===void 0&&(h=!1),!this.checkAPI("matchPlayerAsync"))return this;var u=this;return FBInstant.matchPlayerAsync(l,h).then(function(){u.getID(),u.getType(),u.emit("matchplayer",u.contextID,u.contextType)}),this},getLeaderboard:function(l){if(!this.checkAPI("getLeaderboardAsync"))return this;var h=this;return FBInstant.getLeaderboardAsync(l).then(function(u){var f=new n(h,u);h.leaderboards[l]=f,h.emit("getleaderboard",f)}).catch(function(u){console.warn(u)}),this},destroy:function(){FBInstant.quit(),this.data.destroy(),this.removeAllListeners(),this.catalog=[],this.purchases=[],this.leaderboards=[],this.ads=[],this.game=null}});return Fg=o,Fg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var foe=C0,coe=xB,doe=SB,voe=Mi,poe=O,moe=p3,goe=Nre,xoe=P3,yoe=vc,Toe=R3,Soe=HB,Coe=X3,Eoe=Me,Tt=At,_oe=sN,Aoe=mt,woe=oN,Moe=hN,boe=cN,Poe=S0,Roe=xN,Loe=F3,Foe=I3,Ioe=wN(),Ooe=MN(),Doe=new poe({initialize:function(t){this.config=new moe(t),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new Eoe,this.anims=new coe(this),this.textures=new Roe(this),this.cache=new doe(this),this.registry=new yoe(this),this.input=new _oe(this,this.config),this.scene=new boe(this,this.config.sceneConfig),this.device=Soe,this.scale=new Moe(this,this.config),this.sound=null,this.sound=Ioe.create(this),this.loop=new Loe(this,this.config.fps),this.plugins=new woe(this,this.config),this.facebook=new Ooe(this),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,Coe(this.boot.bind(this))},boot:function(){if(!Aoe.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),xoe(this),goe(this),Toe(this),foe(this.canvas,this.config.parent),this.textures.once(Poe.READY,this.texturesReady,this),this.events.emit(Tt.BOOT)},texturesReady:function(){this.events.emit(Tt.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),Foe(this);var e=this.events;e.on(Tt.HIDDEN,this.onHidden,this),e.on(Tt.VISIBLE,this.onVisible,this),e.on(Tt.BLUR,this.onBlur,this),e.on(Tt.FOCUS,this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(Tt.PRE_STEP,e,t),i.emit(Tt.STEP,e,t),this.scene.update(e,t),i.emit(Tt.POST_STEP,e,t);var r=this.renderer;r.preRender(),i.emit(Tt.PRE_RENDER,r,e,t),this.scene.render(r),r.postRender(),i.emit(Tt.POST_RENDER,r,e,t)},headlessStep:function(e,t){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(Tt.PRE_STEP,e,t),i.emit(Tt.STEP,e,t),this.scene.update(e,t),i.emit(Tt.POST_STEP,e,t),i.emit(Tt.PRE_RENDER),i.emit(Tt.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(Tt.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(Tt.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(e,t){t===void 0&&(t=!1),this.pendingDestroy=!0,this.removeCanvas=e,this.noReturn=t},runDestroy:function(){this.events.emit(Tt.DESTROY),this.events.removeAllListeners(),this.scene.destroy(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(voe.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}}),Boe=Doe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Noe=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var t=e[0].length,i=1;i<e.length;i++)if(e[i].length!==t)return!1;return!0},KC=Noe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Goe=yC,koe=KC,$oe=function(e){var t="";if(!koe(e))return t;for(var i=0;i<e.length;i++){for(var r=0;r<e[i].length;r++){var n=e[i][r].toString();n!=="undefined"?t+=Goe(n,2):t+="?",r<e[i].length-1&&(t+=" |")}if(i<e.length-1){t+=`
`;for(var a=0;a<e[i].length;a++)t+="---",a<e[i].length-1&&(t+="+");t+=`
`}}return t},zoe=$oe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Voe=function(e){return e.reverse()},Uoe=Voe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Woe=function(e){for(var t=0;t<e.length;t++)e[t].reverse();return e},Yoe=Woe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hoe=function(e){for(var t=e.length,i=e[0].length,r=new Array(i),n=0;n<i;n++){r[n]=new Array(t);for(var a=t-1;a>-1;a--)r[n][a]=e[a][n]}return r},bN=Hoe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xoe=KC,Tb=bN,Koe=function(e,t){if(t===void 0&&(t=90),!Xoe(e))return null;if(typeof t!="string"&&(t=(t%360+360)%360),t===90||t===-270||t==="rotateLeft")e=Tb(e),e.reverse();else if(t===-90||t===270||t==="rotateRight")e.reverse(),e=Tb(e);else if(Math.abs(t)===180||t==="rotate180"){for(var i=0;i<e.length;i++)e[i].reverse();e.reverse()}return e},b0=Koe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qoe=b0,Joe=function(e){return qoe(e,180)},Zoe=Joe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qoe=b0,joe=function(e){return Qoe(e,90)},ele=joe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tle=b0,ile=function(e){return tle(e,-90)},rle=ile;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nle={CheckMatrix:KC,MatrixToString:zoe,ReverseColumns:Uoe,ReverseRows:Yoe,Rotate180:Zoe,RotateLeft:ele,RotateMatrix:b0,RotateRight:rle,TransposeMatrix:bN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ale=function(e,t,i,r,n){if(n===void 0&&(n=e),i>0){var a=i-e.length;if(a<=0)return null}if(!Array.isArray(t))return e.indexOf(t)===-1?(e.push(t),r&&r.call(n,t),t):null;for(var s=t.length-1;s>=0;)e.indexOf(t[s])!==-1&&t.splice(s,1),s--;if(s=t.length,s===0)return null;i>0&&s>a&&(t.splice(a),s=a);for(var o=0;o<s;o++){var l=t[o];e.push(l),r&&r.call(n,l)}return t},sle=ale;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ole=function(e,t,i,r,n,a){if(i===void 0&&(i=0),a===void 0&&(a=e),r>0){var s=r-e.length;if(s<=0)return null}if(!Array.isArray(t))return e.indexOf(t)===-1?(e.splice(i,0,t),n&&n.call(a,t),t):null;for(var o=t.length-1;o>=0;)e.indexOf(t[o])!==-1&&t.pop(),o--;if(o=t.length,o===0)return null;r>0&&o>s&&(t.splice(s),o=s);for(var l=o-1;l>=0;l--){var h=t[l];e.splice(i,0,h),n&&n.call(a,h)}return t},lle=ole;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hle=function(e,t){var i=e.indexOf(t);return i!==-1&&i<e.length&&(e.splice(i,1),e.push(t)),t},ule=hle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fle=function(e,t,i,r){var n=e.length;if(t<0||t>n||t>=i||i>n||t+i>n){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0},jo=fle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cle=jo,dle=function(e,t,i,r,n){r===void 0&&(r=0),n===void 0&&(n=e.length);var a=0;if(cle(e,r,n))for(var s=r;s<n;s++){var o=e[s];o[t]===i&&a++}return a},vle=dle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ple=function(e,t,i){var r,n=[null];for(r=3;r<arguments.length;r++)n.push(arguments[r]);for(r=0;r<e.length;r++)n[0]=e[r],t.apply(i,n);return e},mle=ple;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gle=jo,xle=function(e,t,i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=e.length),gle(e,r,n)){var a,s=[null];for(a=5;a<arguments.length;a++)s.push(arguments[a]);for(a=r;a<n;a++)s[0]=e[a],t.apply(i,s)}return e},yle=xle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tle=jo,Sle=function(e,t,i,r,n){r===void 0&&(r=0),n===void 0&&(n=e.length);var a=[];if(Tle(e,r,n))for(var s=r;s<n;s++){var o=e[s];(!t||t&&i===void 0&&o.hasOwnProperty(t)||t&&i!==void 0&&o[t]===i)&&a.push(o)}return a},Cle=Sle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ele=jo,_le=function(e,t,i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=e.length),Ele(e,r,n))for(var a=r;a<n;a++){var s=e[a];if(!t||t&&i===void 0&&s.hasOwnProperty(t)||t&&i!==void 0&&s[t]===i)return s}return null},Ale=_le;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wle=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=e.length);var r=t+Math.floor(Math.random()*i);return e[r]===void 0?null:e[r]},qC=wle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mle=function(e,t){var i=e.indexOf(t);if(i>0){var r=e[i-1],n=e.indexOf(r);e[i]=r,e[n]=t}return e},ble=Mle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ple=function(e,t,i){var r=e.indexOf(t);if(r===-1||i<0||i>=e.length)throw new Error("Supplied index out of bounds");return r!==i&&(e.splice(r,1),e.splice(i,0,t)),t},Rle=Ple;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lle=function(e,t){var i=e.indexOf(t);if(i!==-1&&i<e.length-1){var r=e[i+1],n=e.indexOf(r);e[i]=r,e[n]=t}return e},Fle=Lle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ile=function(e,t,i,r){for(var n=[],a=e;a<=t;a++)if(i||r){var s=i?i+a.toString():a.toString();r&&(s=s.concat(r)),n.push(s)}else n.push(a);return n},Ole=Ile;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dle=h3,Ble=function(e,t,i){e===void 0&&(e=0),t===void 0&&(t=null),i===void 0&&(i=1),t===null&&(t=e,e=0);for(var r=[],n=Math.max(Dle((t-e)/(i||1)),0),a=0;a<n;a++)r.push(e),e+=i;return r},Nle=Ble;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function Mu(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function Gle(e,t){return e<t?-1:e>t?1:0}var PN=function(e,t,i,r,n){for(i===void 0&&(i=0),r===void 0&&(r=e.length-1),n===void 0&&(n=Gle);r>i;){if(r-i>600){var a=r-i+1,s=t-i+1,o=Math.log(a),l=.5*Math.exp(2*o/3),h=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1),u=Math.max(i,Math.floor(t-s*l/a+h)),f=Math.min(r,Math.floor(t+(a-s)*l/a+h));PN(e,t,u,f,n)}var c=e[t],v=i,p=r;for(Mu(e,i,t),n(e[r],c)>0&&Mu(e,i,r);v<p;){for(Mu(e,v,p),v++,p--;n(e[v],c)<0;)v++;for(;n(e[p],c)>0;)p--}n(e[i],c)===0?Mu(e,i,p):(p++,Mu(e,p,r)),p<=t&&(i=p+1),t<=p&&(r=p-1)}},RN=PN;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bl=me,Sb=v0,kle=function(e,t,i){for(var r=[],n=0;n<e.length;n++)for(var a=0;a<t.length;a++)for(var s=0;s<i;s++)r.push({a:e[n],b:t[a]});return r},$le=function(e,t,i){var r=bl(i,"max",0),n=bl(i,"qty",1),a=bl(i,"random",!1),s=bl(i,"randomB",!1),o=bl(i,"repeat",0),l=bl(i,"yoyo",!1),h=[];if(s&&Sb(t),o===-1)if(r===0)o=0;else{var u=e.length*t.length*n;l&&(u*=2),o=Math.ceil(r/u)}for(var f=0;f<=o;f++){var c=kle(e,t,n);a&&Sb(c),h=h.concat(c),l&&(c.reverse(),h=h.concat(c))}return r&&h.splice(r),h},LN=$le;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zle=$h,Vle=function(e,t,i,r){if(r===void 0&&(r=e),t<0||t>e.length-1)throw new Error("Index out of bounds");var n=zle(e,t);return i&&i.call(r,n),n},Ule=Vle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wle=jo,Yle=function(e,t,i,r,n){if(t===void 0&&(t=0),i===void 0&&(i=e.length),n===void 0&&(n=e),Wle(e,t,i)){var a=i-t,s=e.splice(t,a);if(r)for(var o=0;o<s.length;o++){var l=s[o];r.call(n,l)}return s}else return[]},Hle=Yle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xle=$h,Kle=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=e.length);var r=t+Math.floor(Math.random()*i);return Xle(e,r)},qle=Kle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Jle=function(e,t,i){var r=e.indexOf(t),n=e.indexOf(i);return r!==-1&&n===-1?(e[r]=i,!0):!1},Zle=Jle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qle=function(e,t){var i=e.indexOf(t);return i!==-1&&i>0&&(e.splice(i,1),e.unshift(t)),t},jle=Qle;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ehe=jo,the=function(e,t,i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=e.length),ehe(e,r,n))for(var a=r;a<n;a++){var s=e[a];s.hasOwnProperty(t)&&(s[t]=i)}return e},ihe=the,FN={exports:{}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */(function(e){//! stable.js 0.1.6, https://github.com/Two-Screen/stable
//!  2017 Angry Bytes and contributors. MIT licensed.
(function(){var t=function(n,a){return i(n.slice(),a)};t.inplace=function(n,a){var s=i(n,a);return s!==n&&r(s,null,n.length,n),n};function i(n,a){typeof a!="function"&&(a=function(u,f){return String(u).localeCompare(f)});var s=n.length;if(s<=1)return n;for(var o=new Array(s),l=1;l<s;l*=2){r(n,a,l,o);var h=n;n=o,o=h}return n}var r=function(n,a,s,o){var l=n.length,h=0,u=s*2,f,c,v,p,m;for(f=0;f<l;f+=u)for(c=f+s,v=c+s,c>l&&(c=l),v>l&&(v=l),p=f,m=c;;)if(p<c&&m<v)a(n[p],n[m])<=0?o[h++]=n[p++]:o[h++]=n[m++];else if(p<c)o[h++]=n[p++];else if(m<v)o[h++]=n[m++];else break};e.exports=t})()})(FN);var P0=FN.exports;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rhe=function(e,t,i){if(t!==i){var r=e.indexOf(t),n=e.indexOf(i);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return e[r]=i,e[n]=t,e}},nhe=rhe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var JC={Matrix:nle,Add:sle,AddAt:lle,BringToTop:ule,CountAllMatching:vle,Each:mle,EachInRange:yle,FindClosestInSorted:ZD,GetAll:Cle,GetFirst:Ale,GetRandom:qC,MoveDown:ble,MoveTo:Rle,MoveUp:Fle,NumberArray:Ole,NumberArrayStep:Nle,QuickSelect:RN,Range:LN,Remove:E0,RemoveAt:Ule,RemoveBetween:Hle,RemoveRandomElement:qle,Replace:Zle,RotateLeft:vB,RotateRight:pB,SafeRange:jo,SendToBack:jle,SetAll:ihe,Shuffle:v0,SpliceOne:$h,StableSort:P0,Swap:nhe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var We=JC,ahe=O,Cb=W,she=P0,ohe=new ahe({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=Cb,this.removeCallback=Cb,this._sortKey=""},add:function(e,t){return t?We.Add(this.list,e):We.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,t,i){return i?We.AddAt(this.list,e,t):We.AddAt(this.list,e,t,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e?(t===void 0&&(t=function(i,r){return i[e]-r[e]}),she.inplace(this.list,t),this):this},getByName:function(e){return We.GetFirst(this.list,"name",e)},getRandom:function(e,t){return We.GetRandom(this.list,e,t)},getFirst:function(e,t,i,r){return We.GetFirst(this.list,e,t,i,r)},getAll:function(e,t,i,r){return We.GetAll(this.list,e,t,i,r)},count:function(e,t){return We.CountAllMatching(this.list,e,t)},swap:function(e,t){We.Swap(this.list,e,t)},moveTo:function(e,t){return We.MoveTo(this.list,e,t)},remove:function(e,t){return t?We.Remove(this.list,e):We.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,t){return t?We.RemoveAt(this.list,e):We.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,t,i){return i?We.RemoveBetween(this.list,e,t):We.RemoveBetween(this.list,e,t,this.removeCallback,this)},removeAll:function(e){for(var t=this.list.length;t--;)this.remove(this.list[t],e);return this},bringToTop:function(e){return We.BringToTop(this.list,e)},sendToBack:function(e){return We.SendToBack(this.list,e)},moveUp:function(e){return We.MoveUp(this.list,e),e},moveDown:function(e){return We.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return We.Shuffle(this.list),this},replace:function(e,t){return We.Replace(this.list,e,t)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,r){return We.SetAll(this.list,e,t,i,r),this},each:function(e,t){for(var i=[null],r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<this.list.length;r++)i[0]=this.list[r],e.apply(t,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}}),R0=ohe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lhe=O,Eb=R0,hhe=mt,Pl=wt,uhe=P0,IN=new lhe({Extends:Eb,initialize:function(t){Eb.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,t.sys.events.once(Pl.BOOT,this.boot,this),t.sys.events.on(Pl.START,this.start,this)},boot:function(){this.systems.events.once(Pl.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(Pl.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(uhe.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},shutdown:function(){for(var e=this.list.length;e--;)this.list[e].destroy(!0);this.list.length=0,this.systems.events.off(Pl.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(Pl.START,this.start,this),this.scene=null,this.systems=null}});hhe.register("DisplayList",IN,"displayList");var fhe=IN;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var che="add";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dhe="remove";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vhe={PROCESS_QUEUE_ADD:che,PROCESS_QUEUE_REMOVE:dhe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var phe=O,_b=Me,Ab=vhe,mhe=new phe({Extends:_b,initialize:function(){_b.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(e){return this._pending.push(e),this._toProcess++,e},remove:function(e){return this._destroy.push(e),this._toProcess++,e},removeAll:function(){for(var e=this._active,t=this._destroy,i=e.length;i--;)t.push(e[i]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var e=this._destroy,t=this._active,i,r;for(i=0;i<e.length;i++){r=e[i];var n=t.indexOf(r);n!==-1&&(t.splice(n,1),this.emit(Ab.REMOVE,r))}for(e.length=0,e=this._pending,i=0;i<e.length;i++)r=e[i],this._active.push(r),this.emit(Ab.ADD,r);return e.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}}),ZC=mhe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ghe=O,wb=ZC,xhe=mt,pn=wt,ON=new ghe({Extends:wb,initialize:function(t){wb.call(this),this.scene=t,this.systems=t.sys,t.sys.events.once(pn.BOOT,this.boot,this),t.sys.events.on(pn.START,this.start,this)},boot:function(){this.systems.events.once(pn.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(pn.PRE_UPDATE,this.update,this),e.on(pn.UPDATE,this.sceneUpdate,this),e.once(pn.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,t){for(var i=this._active,r=i.length,n=0;n<r;n++){var a=i[n];a.active&&a.preUpdate.call(a,e,t)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var t=this.systems.events;t.off(pn.PRE_UPDATE,this.preUpdate,this),t.off(pn.UPDATE,this.sceneUpdate,this),t.off(pn.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(pn.START,this.start,this),this.scene=null,this.systems=null}});xhe.register("UpdateList",ON,"updateList");var yhe=ON;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ig=IC,The=me,She=function(e,t,i){var r=The(e,t,null);if(r===null)return i;if(Array.isArray(r))return Ig.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return Ig.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return Ig.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(t);return r},tt=She;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Che=xa,ht=tt,Ehe=function(e,t,i){t.x=ht(i,"x",0),t.y=ht(i,"y",0),t.depth=ht(i,"depth",0),t.flipX=ht(i,"flipX",!1),t.flipY=ht(i,"flipY",!1);var r=ht(i,"scale",null);typeof r=="number"?t.setScale(r):r!==null&&(t.scaleX=ht(r,"x",1),t.scaleY=ht(r,"y",1));var n=ht(i,"scrollFactor",null);typeof n=="number"?t.setScrollFactor(n):n!==null&&(t.scrollFactorX=ht(n,"x",1),t.scrollFactorY=ht(n,"y",1)),t.rotation=ht(i,"rotation",0);var a=ht(i,"angle",null);a!==null&&(t.angle=a),t.alpha=ht(i,"alpha",1);var s=ht(i,"origin",null);if(typeof s=="number")t.setOrigin(s);else if(s!==null){var o=ht(s,"x",.5),l=ht(s,"y",.5);t.setOrigin(o,l)}t.blendMode=ht(i,"blendMode",Che.NORMAL),t.visible=ht(i,"visible",!0);var h=ht(i,"add",!0);return h&&e.sys.displayList.add(t),t.preUpdate&&e.sys.updateList.add(t),t},bi=Ehe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Kn=tt,_he=function(e,t){var i=Kn(t,"anims",null);if(i===null)return e;if(typeof i=="string")e.anims.play(i);else if(typeof i=="object"){var r=e.anims,n=Kn(i,"key",void 0),a=Kn(i,"startFrame",void 0),s=Kn(i,"delay",0),o=Kn(i,"repeat",0),l=Kn(i,"repeatDelay",0),h=Kn(i,"yoyo",!1),u=Kn(i,"play",!1),f=Kn(i,"delayedPlay",0);r.setDelay(s),r.setRepeat(o),r.setRepeatDelay(l),r.setYoyo(h),u?r.play(n,a):f>0?r.delayedPlay(f,n,a):r.load(n)}return e},QC=_he;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ahe=function(e,t,i){if(i===void 0)return i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],maxWidth:0,scaleX:0,scaleY:0},i;var r=e.text,n=r.length,a=e.maxWidth,s=e.wordWrapCharCode,o=Number.MAX_VALUE,l=Number.MAX_VALUE,h=0,u=0,f=e.fontData.chars,c=e.fontData.lineHeight,v=e.letterSpacing,p=0,m=0,x=0,g=null,T=0,S=0,E=e.fontSize/e.fontData.size,_=E*e.scaleX,w=E*e.scaleY,R=null,F=0,k=[],B=Number.MAX_VALUE,N=0,d=0,y=0,C,M=[],A=null;if(a>0&&i.maxWidth!==a){for(C=0;C<n;C++){if(x=r.charCodeAt(C),x===10){A!==null&&(M.push({word:A.word,i:A.i,x:A.x*_,y:A.y*w,w:A.w*_,h:A.h*w,cr:!0}),A=null),p=0,m+=c,R=null;continue}if(g=f[x],!!g){if(R!==null)var L=g.kerning[F];x===s?A!==null&&(M.push({word:A.word,i:A.i,x:A.x*_,y:A.y*w,w:A.w*_,h:A.h*w,cr:!1}),A=null):(A===null&&(A={word:"",i:C,x:p,y:m,w:0,h:c,cr:!1}),A.word=A.word.concat(r[C]),A.w+=g.xOffset+g.xAdvance+(L!==void 0?L:0)),p+=g.xAdvance+v,R=g,F=x}}A!==null&&M.push({word:A.word,i:A.i,x:A.x*_,y:A.y*w,w:A.w*_,h:A.h*w,cr:!1}),p=0,m=0,R=null,F=0;var P,b=0,I=[];for(C=0;C<M.length;C++){var D=M[C],G=D.x,H=D.x+D.w;if(P){var V=G-(P.x+P.w);b=G-(V+P.w),P=null}var X=G-b,K=H-b;X>a||K>a?(I.push(D.i-1),D.cr?(I.push(D.i+D.word.length),b=0,P=null):P=D):D.cr&&(I.push(D.i+D.word.length),b=0,P=null)}var te=function(Pe,zt,xt){return Pe.substr(0,zt)+xt+Pe.substr(zt+1)};for(C=I.length-1;C>=0;C--)r=te(r,I[C],`
`);i.maxWidth=a,i.wrappedText=r,n=r.length,M=[],A=null}for(C=0;C<n;C++){if(x=r.charCodeAt(C),x===10){A!==null&&(M.push({word:A.word,i:A.i,x:A.x*_,y:A.y*w,w:A.w*_,h:A.h*w}),A=null),p=0,m+=c,R=null,k[d]=y,y>N&&(N=y),y<B&&(B=y),d++,y=0;continue}if(g=f[x],!!g){if(T=p,S=m,R!==null){var se=g.kerning[F];T+=se!==void 0?se:0}o>T&&(o=T),l>S&&(l=S);var ve=T+g.xAdvance,ie=S+c;h<ve&&(h=ve),u<ie&&(u=ie),x===s?A!==null&&(M.push({word:A.word,i:A.i,x:A.x*_,y:A.y*w,w:A.w*_,h:A.h*w}),A=null):(A===null&&(A={word:"",i:C,x:p,y:m,w:0,h:c}),A.word=A.word.concat(r[C]),A.w+=g.xOffset+g.xAdvance+(se!==void 0?se:0)),p+=g.xAdvance+v,R=g,F=x,y=ve*E}}A!==null&&M.push({word:A.word,i:A.i,x:A.x*_,y:A.y*w,w:A.w*_,h:A.h*w}),k[d]=y,y>N&&(N=y),y<B&&(B=y);var ne=i.local,ge=i.global,it=i.lines;return ne.x=o*E,ne.y=l*E,ne.width=h*E,ne.height=u*E,ge.x=e.x-e.displayOriginX+o*_,ge.y=e.y-e.displayOriginY+l*w,ge.width=h*_,ge.height=u*w,it.shortest=B,it.longest=N,it.lengths=k,t&&(ne.x=Math.round(ne.x),ne.y=Math.round(ne.y),ne.width=Math.round(ne.width),ne.height=Math.round(ne.height),ge.x=Math.round(ge.x),ge.y=Math.round(ge.y),ge.width=Math.round(ge.width),ge.height=Math.round(ge.height),it.shortest=Math.round(B),it.longest=Math.round(N)),i.words=M,i.lines.height=c,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i},whe=Ahe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function Zi(e,t){return parseInt(e.getAttribute(t),10)}var Mhe=function(e,t,i,r){t===void 0&&(t=0),i===void 0&&(i=0);var n={},a=e.getElementsByTagName("info")[0],s=e.getElementsByTagName("common")[0];n.font=a.getAttribute("face"),n.size=Zi(a,"size"),n.lineHeight=Zi(s,"lineHeight")+i,n.chars={};var o=e.getElementsByTagName("char"),l=r!==void 0&&r.trimmed;if(l)var h=r.height,u=r.width;for(var f=0;f<o.length;f++){var c=o[f],v=Zi(c,"id"),p=Zi(c,"x"),m=Zi(c,"y"),x=Zi(c,"width"),g=Zi(c,"height");l&&(p<u&&(u=p),m<h&&(h=m)),n.chars[v]={x:p,y:m,width:x,height:g,centerX:Math.floor(x/2),centerY:Math.floor(g/2),xOffset:Zi(c,"xoffset"),yOffset:Zi(c,"yoffset"),xAdvance:Zi(c,"xadvance")+t,data:{},kerning:{}}}if(l&&h!==0&&u!==0)for(var T in n.chars){var S=n.chars[T];S.x-=r.x,S.y-=r.y}var E=e.getElementsByTagName("kerning");for(f=0;f<E.length;f++){var _=E[f],w=Zi(_,"first"),R=Zi(_,"second"),F=Zi(_,"amount");n.chars[R].kerning[w]=F}return n},jC=Mhe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bhe=jC,Phe=function(e,t,i,r,n,a,s){var o=e.sys.textures.getFrame(i,r),l=e.sys.cache.xml.get(n);if(o&&l){var h=bhe(l,a,s,o);return e.sys.cache.bitmapFont.add(t,{data:h,texture:i,frame:r}),!0}else return!1},Rhe=Phe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Og,Mb;function Lhe(){if(Mb)return Og;Mb=1;var e=Be,t=function(i,r,n,a,s){var o=r._text,l=o.length;if(l!==0){var h=this.pipeline;i.setPipeline(h,r);var u=h._tempMatrix1,f=h._tempMatrix2,c=h._tempMatrix3;f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),u.copyFrom(a.matrix),s?(u.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y,u.multiply(f,c)):(f.e-=a.scrollX*r.scrollFactorX,f.f-=a.scrollY*r.scrollFactorY,u.multiply(f,c));var v=r.frame,p=v.glTexture,m=v.cutX,x=v.cutY,g=p.width,T=p.height,S=r._isTinted&&r.tintFill,E=e.getTintAppendFloatAlpha(r._tintTL,a.alpha*r._alphaTL),_=e.getTintAppendFloatAlpha(r._tintTR,a.alpha*r._alphaTR),w=e.getTintAppendFloatAlpha(r._tintBL,a.alpha*r._alphaBL),R=e.getTintAppendFloatAlpha(r._tintBR,a.alpha*r._alphaBR);h.setTexture2D(p,0);var F=0,k=0,B=0,N=0,d=r._letterSpacing,y,C=0,M=0,A=0,L=0,P,b=r.fontData,I=b.chars,D=b.lineHeight,G=r._fontSize/b.size,H=r._align,V=0,X=0,K=r.getTextBounds(!1);r.maxWidth>0&&(o=K.wrappedText,l=o.length);var te=r._bounds.lines;H===1?X=(te.longest-te.lengths[0])/2:H===2&&(X=te.longest-te.lengths[0]);for(var se=a.roundPixels,ve=0;ve<l;ve++){if(B=o.charCodeAt(ve),B===10){V++,H===1?X=(te.longest-te.lengths[V])/2:H===2&&(X=te.longest-te.lengths[V]),F=0,k+=D,P=null;continue}if(y=I[B],!!y){C=m+y.x,M=x+y.y,A=y.width,L=y.height;var ie=y.xOffset+F,ne=y.yOffset+k;if(P!==null){var ge=y.kerning[N];ie+=ge!==void 0?ge:0}if(F+=y.xAdvance+d,P=y,N=B,!(A===0||L===0||B===32)){ie*=G,ne*=G,ie-=r.displayOriginX,ne-=r.displayOriginY,ie+=X;var it=C/g,Pe=M/T,zt=(C+A)/g,xt=(M+L)/T,Rt=ie+A*G,xi=ne+L*G,Vt=c.getX(ie,ne),jh=c.getY(ie,ne),eu=c.getX(ie,xi),tu=c.getY(ie,xi),iu=c.getX(Rt,xi),Na=c.getY(Rt,xi),Ga=c.getX(Rt,ne),so=c.getY(Rt,ne);se&&(Vt=Math.round(Vt),jh=Math.round(jh),eu=Math.round(eu),tu=Math.round(tu),iu=Math.round(iu),Na=Math.round(Na),Ga=Math.round(Ga),so=Math.round(so)),h.batchQuad(Vt,jh,eu,tu,iu,Na,Ga,so,it,Pe,zt,xt,E,_,w,R,S,p,0)}}}}};return Og=t,Og}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fhe=function(e,t,i,r,n){var a=r.alpha*i.alpha;if(a<=0)return!1;var s=e._tempMatrix1.copyFromArray(r.matrix.matrix),o=e._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),l=e._tempMatrix3;return n?(s.multiplyWithOffset(n,-r.scrollX*i.scrollFactorX,-r.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,s.multiply(o,l)):(o.e-=r.scrollX*i.scrollFactorX,o.f-=r.scrollY*i.scrollFactorY,s.multiply(o,l)),t.globalCompositeOperation=e.blendModes[i.blendMode],t.globalAlpha=a,t.save(),l.setToContext(t),t.imageSmoothingEnabled=!(!e.antialias||i.frame&&i.frame.source.scaleMode),!0},Pi=Fhe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dg,bb;function Ihe(){if(bb)return Dg;bb=1;var e=Pi,t=function(i,r,n,a,s){var o=r._text,l=o.length,h=i.currentContext;if(!(l===0||!e(i,h,r,a,s))){var u=r.frame,f=r.fontData.chars,c=r.fontData.lineHeight,v=r._letterSpacing,p=0,m=0,x=0,g=null,T=0,S=0,E=0,_=0,w=0,R=0,F=null,k=0,B=r.frame.source.image,N=u.cutX,d=u.cutY,y=r._fontSize/r.fontData.size,C=r._align,M=0,A=0,L=r.getTextBounds(!1);r.maxWidth>0&&(o=L.wrappedText,l=o.length);var P=r._bounds.lines;C===1?A=(P.longest-P.lengths[0])/2:C===2&&(A=P.longest-P.lengths[0]),h.translate(-r.displayOriginX,-r.displayOriginY);for(var b=a.roundPixels,I=0;I<l;I++){if(x=o.charCodeAt(I),x===10){M++,C===1?A=(P.longest-P.lengths[M])/2:C===2&&(A=P.longest-P.lengths[M]),p=0,m+=c,F=null;continue}if(g=f[x],!!g){if(T=N+g.x,S=d+g.y,E=g.width,_=g.height,w=g.xOffset+p,R=g.yOffset+m,F!==null){var D=g.kerning[k];w+=D!==void 0?D:0}w*=y,R*=y,w+=A,p+=g.xAdvance+v,F=g,k=x,!(E===0||_===0||x===32)&&(b&&(w=Math.round(w),R=Math.round(R)),h.save(),h.translate(w,R),h.scale(y,y),h.drawImage(B,T,S,E,_,0,0,E,_),h.restore())}}h.restore()}};return Dg=t,Dg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DN=W,BN=W;DN=Lhe();BN=Ihe();var Ohe={renderWebGL:DN,renderCanvas:BN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dhe=O,ur=Ke,Pb=qe,Bg=whe,Bhe=Rhe,Nhe=jC,Ghe=Ohe,ua=new Dhe({Extends:Pb,Mixins:[ur.Alpha,ur.BlendMode,ur.Depth,ur.Mask,ur.Origin,ur.Pipeline,ur.ScrollFactor,ur.Texture,ur.Tint,ur.Transform,ur.Visible,Ghe],initialize:function(t,i,r,n,a,s,o){a===void 0&&(a=""),o===void 0&&(o=0),Pb.call(this,t,"BitmapText"),this.font=n;var l=this.scene.sys.cache.bitmapFont.get(n);this.fontData=l.data,this._text="",this._fontSize=s||this.fontData.size,this._letterSpacing=0,this._align=o,this._bounds=Bg(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.setTexture(l.texture,l.frame),this.setPosition(i,r),this.setOrigin(0,0),this.initPipeline(),this.setText(a)},setLeftAlign:function(){return this._align=ua.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=ua.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=ua.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(e){return this._fontSize=e,this._dirty=!0,this},setLetterSpacing:function(e){return e===void 0&&(e=0),this._letterSpacing=e,this._dirty=!0,this},setText:function(e){return!e&&e!==0&&(e=""),Array.isArray(e)&&(e=e.join(`
`)),e!==this.text&&(this._text=e.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(e){var t=this._bounds;return(this._dirty||this.scaleX!==t.scaleX||this.scaleY!==t.scaleY)&&(Bg(this,e,t),this._dirty=!1,this.updateDisplayOrigin()),t},setFont:function(e,t,i){if(t===void 0&&(t=this._fontSize),i===void 0&&(i=this._align),e!==this.font){var r=this.scene.sys.cache.bitmapFont.get(e);r&&(this.font=e,this.fontData=r.data,this._fontSize=t,this._align=i,this.setTexture(r.texture,r.frame),Bg(this,!1,this._bounds))}return this},setMaxWidth:function(e,t){return this._maxWidth=e,this._dirty=!0,t!==void 0&&(this.wordWrapCharCode=t),this},align:{set:function(e){this._align=e,this._dirty=!0},get:function(){return this._align}},text:{set:function(e){this.setText(e)},get:function(){return this._text}},fontSize:{set:function(e){this._fontSize=e,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(e){this._letterSpacing=e,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(e){this._maxWidth=e,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var e=ur.ToJSON(this),t={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return e.data=t,e}});ua.ALIGN_LEFT=0;ua.ALIGN_CENTER=1;ua.ALIGN_RIGHT=2;ua.ParseFromAtlas=Bhe;ua.ParseXMLBitmapFont=Nhe;var L0=ua;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ng,Rb;function khe(){if(Rb)return Ng;Rb=1;var e=Be,t=function(i,r,n,a,s){var o=r.getRenderList();if(o.length!==0){var l=this.pipeline;i.setPipeline(l,r);var h=a.scrollX*r.scrollFactorX,u=a.scrollY*r.scrollFactorY,f=l._tempMatrix1;f.copyFrom(a.matrix),s&&(f.multiplyWithOffset(s,-h,-u),h=0,u=0);for(var c=r.x-h,v=r.y-u,p=-1,m=!1,x=a.alpha*r.alpha,g=a.roundPixels,T=0;T<o.length;T++){var S=o[T],E=S.frame,_=S.alpha*x;if(_!==0){var w=E.width,R=E.height,F=c+S.x+E.x,k=v+S.y+E.y;S.flipX&&(w*=-1,F+=E.width),S.flipY&&(R*=-1,k+=E.height);var B=F+w,N=k+R,d=f.getX(F,k),y=f.getY(F,k),C=f.getX(B,N),M=f.getY(B,N),A=e.getTintAppendFloatAlpha(S.tint,_);E.sourceIndex!==p&&(l.setTexture2D(E.glTexture,0),p=E.sourceIndex),g&&(d=Math.round(d),y=Math.round(y),C=Math.round(C),M=Math.round(M)),l.batchQuad(d,y,d,M,C,M,C,y,E.u0,E.v0,E.u1,E.v1,A,A,A,A,m,E.glTexture,0)&&(p=-1)}}}};return Ng=t,Ng}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gg,Lb;function $he(){if(Lb)return Gg;Lb=1;var e=function(t,i,r,n,a){var s=i.getRenderList();if(s.length!==0){var o=t.currentContext,l=n.alpha*i.alpha;if(l!==0){o.globalCompositeOperation=t.blendModes[i.blendMode],o.imageSmoothingEnabled=!(!t.antialias||i.frame.source.scaleMode);var h=i.x-n.scrollX*i.scrollFactorX,u=i.y-n.scrollY*i.scrollFactorY;o.save(),a&&a.copyToContext(o);for(var f=n.roundPixels,c=0;c<s.length;c++){var v=s[c],p=v.flipX||v.flipY,m=v.frame,x=m.canvasData,g=m.x,T=m.y,S=1,E=1,_=v.alpha*l;_!==0&&(o.globalAlpha=_,p?(v.flipX&&(S=-1,g-=x.width),v.flipY&&(E=-1,T-=x.height),o.save(),o.translate(v.x+h,v.y+u),o.scale(S,E),o.drawImage(m.source.image,x.x,x.y,x.width,x.height,g,T,x.width,x.height),o.restore()):(f&&(g=Math.round(g),T=Math.round(T)),o.drawImage(m.source.image,x.x,x.y,x.width,x.height,g+v.x+h,T+v.y+u,x.width,x.height)))}o.restore()}}};return Gg=e,Gg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NN=W,GN=W;NN=khe();GN=$he();var zhe={renderWebGL:NN,renderCanvas:GN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vhe=O,Uhe=yc,Whe=new Vhe({initialize:function(t,i,r,n,a){this.parent=t,this.x=i,this.y=r,this.frame=n,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(e){return e===void 0?this.frame=this.parent.frame:e instanceof Uhe&&e.texture===this.parent.texture?this.frame=e:this.frame=this.parent.texture.get(e),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(e,t,i){return this.x=e,this.y=t,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(e,t){return this.x=e,this.y=t,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},setVisible:function(e){return this.visible=e,this},setAlpha:function(e){return this.alpha=e,this},setTint:function(e){return this.tint=e,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(e){this.parent.dirty|=this._visible!==e,this._visible=e}},alpha:{get:function(){return this._alpha},set:function(e){this.parent.dirty|=this._alpha>0!=e>0,this._alpha=e}}}),Yhe=Whe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hhe=zhe,Xhe=Yhe,Khe=O,mn=Ke,qhe=yc,Fb=qe,Jhe=R0,Zhe=new Khe({Extends:Fb,Mixins:[mn.Alpha,mn.BlendMode,mn.Depth,mn.Mask,mn.Pipeline,mn.ScrollFactor,mn.Size,mn.Texture,mn.Transform,mn.Visible,Hhe],initialize:function(t,i,r,n,a){Fb.call(this,t,"Blitter"),this.setTexture(n,a),this.setPosition(i,r),this.initPipeline(),this.children=new Jhe,this.renderList=[],this.dirty=!1},create:function(e,t,i,r,n){r===void 0&&(r=!0),n===void 0&&(n=this.children.length),i===void 0?i=this.frame:i instanceof qhe||(i=this.texture.get(i));var a=new Xhe(this,e,t,i,r);return this.children.addAt(a,n,!1),this.dirty=!0,a},createFromCallback:function(e,t,i,r){for(var n=this.createMultiple(t,i,r),a=0;a<n.length;a++){var s=n[a];e.call(this,s,a)}return n},createMultiple:function(e,t,i){t===void 0&&(t=this.frame.name),i===void 0&&(i=!0),Array.isArray(t)||(t=[t]);var r=[],n=this;return t.forEach(function(a){for(var s=0;s<e;s++)r.push(n.create(0,0,a,i))}),r},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}}),eE=Zhe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kg,Ib;function Qhe(){if(Ib)return kg;Ib=1;var e=function(t,i,r,n,a){var s=i.list;if(s.length!==0){var o=i.localTransform;a?(o.loadIdentity(),o.multiply(a),o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.scaleX,i.scaleY)):o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var l=i.blendMode!==-1;l||t.setBlendMode(0);for(var h=i.alphaTopLeft,u=i.alphaTopRight,f=i.alphaBottomLeft,c=i.alphaBottomRight,v=i.scrollFactorX,p=i.scrollFactorY,m=s,x=s.length,g=0;g<x;g++){var T=s[g];if(T.willRender(n)){var S,E,_,w;if(T.alphaTopLeft!==void 0)S=T.alphaTopLeft,E=T.alphaTopRight,_=T.alphaBottomLeft,w=T.alphaBottomRight;else{var R=T.alpha;S=R,E=R,_=R,w=R}var F=T.scrollFactorX,k=T.scrollFactorY;!l&&T.blendMode!==t.currentBlendMode&&t.setBlendMode(T.blendMode);var B=T.mask;B&&B.preRenderWebGL(t,T,n);var N=T.type;N!==t.currentType&&(t.newType=!0,t.currentType=N),t.nextTypeMatch=g<x-1?m[g+1].type===t.currentType:!1,T.setScrollFactor(F*v,k*p),T.setAlpha(S*h,E*u,_*f,w*c),T.renderWebGL(t,T,r,n,o),T.setAlpha(S,E,_,w),T.setScrollFactor(F,k),B&&B.postRenderWebGL(t,n),t.newType=!1}}}};return kg=e,kg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $g,Ob;function jhe(){if(Ob)return $g;Ob=1;var e=function(t,i,r,n,a){var s=i.list;if(s.length!==0){var o=i.localTransform;a?(o.loadIdentity(),o.multiply(a),o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.scaleX,i.scaleY)):o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var l=i.blendMode!==-1;l||t.setBlendMode(0);for(var h=i._alpha,u=i.scrollFactorX,f=i.scrollFactorY,c=0;c<s.length;c++){var v=s[c];if(v.willRender(n)){var p=v.alpha,m=v.scrollFactorX,x=v.scrollFactorY;!l&&v.blendMode!==t.currentBlendMode&&t.setBlendMode(v.blendMode),v.setScrollFactor(m*u,x*f),v.setAlpha(p*h),v.renderCanvas(t,v,r,n,o),v.setAlpha(p),v.setScrollFactor(m,x)}}}};return $g=e,$g}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kN=W,$N=W;kN=Qhe();$N=jhe();var eue={renderWebGL:kN,renderCanvas:$N};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tue=Ve,iue=function(e,t,i){i===void 0&&(i=new tue);var r=Math.min(e.x,t.x),n=Math.min(e.y,t.y),a=Math.max(e.right,t.right)-r,s=Math.max(e.bottom,t.bottom)-n;return i.setTo(r,n,a,s)},zN=iue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Je=JC,rue=xa,nue=O,qn=Ke,Db=pc,Bb=qe,Nb=Ve,aue=eue,sue=zN,oue=oe,lue=new nue({Extends:Bb,Mixins:[qn.Alpha,qn.BlendMode,qn.ComputedSize,qn.Depth,qn.Mask,qn.Transform,qn.Visible,aue],initialize:function(t,i,r,n){Bb.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new qn.TransformMatrix,this.tempTransformMatrix=new qn.TransformMatrix,this._displayList=t.sys.displayList,this._sortKey="",this._sysEvents=t.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.setPosition(i,r),this.clearAlpha(),this.setBlendMode(rue.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(e){return e===void 0&&(e=!0),this.exclusive=e,this},getBounds:function(e){if(e===void 0&&(e=new Nb),e.setTo(this.x,this.y,0,0),this.list.length>0)for(var t=this.list,i=new Nb,r=0;r<t.length;r++){var n=t[r];n.getBounds&&(n.getBounds(i),sue(i,e,e))}return e},addHandler:function(e){e.once(Db.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(e),e.parentContainer&&e.parentContainer.remove(e),e.parentContainer=this)},removeHandler:function(e){e.off(Db.DESTROY,this.remove),this.exclusive&&(e.parentContainer=null)},pointToContainer:function(e,t){if(t===void 0&&(t=new oue),this.parentContainer)return this.parentContainer.pointToContainer(e,t);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(e.x,e.y,t),t},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(e){return Je.Add(this.list,e,this.maxSize,this.addHandler,this),this},addAt:function(e,t){return Je.AddAt(this.list,e,t,this.maxSize,this.addHandler,this),this},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e?(t===void 0&&(t=function(i,r){return i[e]-r[e]}),Je.StableSort.inplace(this.list,t),this):this},getByName:function(e){return Je.GetFirst(this.list,"name",e)},getRandom:function(e,t){return Je.GetRandom(this.list,e,t)},getFirst:function(e,t,i,r){return Je.GetFirst(this.list,e,t,i,r)},getAll:function(e,t,i,r){return Je.GetAll(this.list,e,t,i,r)},count:function(e,t,i,r){return Je.CountAllMatching(this.list,e,t,i,r)},swap:function(e,t){return Je.Swap(this.list,e,t),this},moveTo:function(e,t){return Je.MoveTo(this.list,e,t),this},remove:function(e,t){var i=Je.Remove(this.list,e,this.removeHandler,this);if(t&&i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)i[r].destroy()}return this},removeAt:function(e,t){var i=Je.RemoveAt(this.list,e,this.removeHandler,this);return t&&i&&i.destroy(),this},removeBetween:function(e,t,i){var r=Je.RemoveBetween(this.list,e,t,this.removeHandler,this);if(i)for(var n=0;n<r.length;n++)r[n].destroy();return this},removeAll:function(e){var t=Je.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(e)for(var i=0;i<t.length;i++)t[i].destroy();return this},bringToTop:function(e){return Je.BringToTop(this.list,e),this},sendToBack:function(e){return Je.SendToBack(this.list,e),this},moveUp:function(e){return Je.MoveUp(this.list,e),this},moveDown:function(e){return Je.MoveDown(this.list,e),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return Je.Shuffle(this.list),this},replace:function(e,t,i){var r=Je.Replace(this.list,e,t);return r&&(this.addHandler(t),this.removeHandler(e),i&&e.destroy()),this},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,r){return Je.SetAll(this.list,e,t,i,r),this},each:function(e,t){var i=[null],r,n=this.list.slice(),a=n.length;for(r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<a;r++)i[0]=n[r],e.apply(t,i);return this},iterate:function(e,t){var i=[null],r;for(r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<this.list.length;r++)i[0]=this.list[r],e.apply(t,i);return this},setScrollFactor:function(e,t,i){return t===void 0&&(t=e),i===void 0&&(i=!1),this.scrollFactorX=e,this.scrollFactorY=t,i&&(Je.SetAll(this.list,"scrollFactorX",e),Je.SetAll(this.list,"scrollFactorY",t)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}}),tE=lue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zg,Gb;function hue(){return Gb||(Gb=1,zg=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),zg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vg,kb;function VN(){if(kb)return Vg;kb=1;var e=hue(),t=qe,i=function(r,n,a,s,o){var l=n.node,h=l.style;if(!l||!h||t.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&s.id||n.parentContainer&&!n.parentContainer.willRender()){l&&(h.display="none");return}var u=n.parentContainer,f=s.alpha*n.alpha;u&&(f*=u.alpha);var c=r._tempMatrix1,v=r._tempMatrix2,p=r._tempMatrix3,m=0,x=0,g="0%",T="0%";o?(m=n.width*n.scaleX*n.originX,x=n.height*n.scaleY*n.originY,v.applyITRS(n.x-m,n.y-x,n.rotation,n.scaleX,n.scaleY),c.copyFrom(s.matrix),c.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),v.e=n.x-m,v.f=n.y-x,c.multiply(v,p)):(m=n.width*n.originX,x=n.height*n.originY,v.applyITRS(n.x-m,n.y-x,n.rotation,n.scaleX,n.scaleY),c.copyFrom(s.matrix),g=100*n.originX+"%",T=100*n.originY+"%",v.e-=s.scrollX*n.scrollFactorX,v.f-=s.scrollY*n.scrollFactorY,c.multiply(v,p)),n.transformOnly||(h.display="block",h.opacity=f,h.zIndex=n._depth,h.pointerEvents="auto",h.mixBlendMode=e[n._blendMode]),h.transform=p.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",h.transformOrigin=g+" "+T};return Vg=i,Vg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var UN=W,WN=W;UN=VN();WN=VN();var uue={renderWebGL:UN,renderCanvas:WN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fue=O,go=Ke,cue=uue,$b=qe,due=Te,vue=VC,pue=y0,mue=new fue({Extends:$b,Mixins:[go.Alpha,go.BlendMode,go.Depth,go.Origin,go.ScrollFactor,go.Transform,go.Visible,cue],initialize:function(t,i,r,n,a,s){$b.call(this,t,"DOMElement"),this.parent=t.sys.game.domContainer,this.cache=t.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new pue,this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(i,r),typeof n=="string"?n[0]==="#"?this.setElement(n.substr(1),a,s):this.createElement(n,a,s):n&&this.setElement(n,a,s)},setSkew:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.skewX=e,this.skewY=t,this},setPerspective:function(e){return this.parent.style.perspective=e+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(e){this.parent.style.perspective=e+"px"}},addListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.addEventListener(e[t],this.handler,!1)}return this},removeListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.removeEventListener(e[t],this.handler)}return this},dispatchNativeEvent:function(e){this.emit(e.type,e)},createElement:function(e,t,i){return this.setElement(document.createElement(e),t,i)},setElement:function(e,t,i){this.removeElement();var r;if(typeof e=="string"?(e[0]==="#"&&(e=e.substr(1)),r=document.getElementById(e)):typeof e=="object"&&e.nodeType===1&&(r=e),!r)return this;if(this.node=r,t&&due(t))for(var n in t)r.style[n]=t[n];else typeof t=="string"&&(r.style=t);return r.style.zIndex="0",r.style.display="inline",r.style.position="absolute",r.phaser=this,this.parent&&this.parent.appendChild(r),i&&(r.innerText=i),this.updateSize()},createFromCache:function(e,t){var i=this.cache.get(e);return i&&this.createFromHTML(i,t),this},createFromHTML:function(e,t){t===void 0&&(t="div"),this.removeElement();var i=document.createElement(t);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=e,this.updateSize()},removeElement:function(){return this.node&&(vue(this.node),this.node=null),this},updateSize:function(){var e=this.node,t=e.getBoundingClientRect();return this.width=e.clientWidth,this.height=e.clientHeight,this.displayWidth=t.width||0,this.displayHeight=t.height||0,this},getChildByProperty:function(e,t){if(this.node){for(var i=this.node.querySelectorAll("*"),r=0;r<i.length;r++)if(i[r][e]===t)return i[r]}return null},getChildByID:function(e){return this.getChildByProperty("id",e)},getChildByName:function(e){return this.getChildByProperty("name",e)},setClassName:function(e){return this.node&&(this.node.className=e,this.updateSize()),this},setText:function(e){return this.node&&(this.node.innerText=e,this.updateSize()),this},setHTML:function(e){return this.node&&(this.node.innerHTML=e,this.updateSize()),this},preUpdate:function(){var e=this.parentContainer,t=this.node;t&&e&&!e.willRender()&&(t.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement()}}),YN=mue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ug,zb;function gue(){if(zb)return Ug;zb=1;var e=Be,t=function(i,r,n,a,s){var o=r.text,l=o.length;if(l!==0){var h=this.pipeline;i.setPipeline(h,r);var u=r.cropWidth>0||r.cropHeight>0;u&&(h.flush(),i.pushScissor(r.x,r.y,r.cropWidth*r.scaleX,r.cropHeight*r.scaleY));var f=h._tempMatrix1,c=h._tempMatrix2,v=h._tempMatrix3,p=h._tempMatrix4;c.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),f.copyFrom(a.matrix),s?(f.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),c.e=r.x,c.f=r.y,f.multiply(c,v)):(c.e-=a.scrollX*r.scrollFactorX,c.f-=a.scrollY*r.scrollFactorY,f.multiply(c,v));var m=r.frame,x=m.glTexture,g=m.cutX,T=m.cutY,S=x.width,E=x.height,_=r._isTinted&&r.tintFill,w=e.getTintAppendFloatAlpha(r._tintTL,a.alpha*r._alphaTL),R=e.getTintAppendFloatAlpha(r._tintTR,a.alpha*r._alphaTR),F=e.getTintAppendFloatAlpha(r._tintBL,a.alpha*r._alphaBL),k=e.getTintAppendFloatAlpha(r._tintBR,a.alpha*r._alphaBR);h.setTexture2D(x,0);var B=0,N=0,d=0,y=0,C=r.letterSpacing,M,A=0,L=0,P=0,b=0,I,D=r.scrollX,G=r.scrollY,H=r.fontData,V=H.chars,X=H.lineHeight,K=r.fontSize/H.size,te=0,se=r._align,ve=0,ie=0;r.getTextBounds(!1);var ne=r._bounds.lines;se===1?ie=(ne.longest-ne.lengths[0])/2:se===2&&(ie=ne.longest-ne.lengths[0]);for(var ge=a.roundPixels,it=r.displayCallback,Pe=r.callbackData,zt=0;zt<l;zt++){if(d=o.charCodeAt(zt),d===10){ve++,se===1?ie=(ne.longest-ne.lengths[ve])/2:se===2&&(ie=ne.longest-ne.lengths[ve]),B=0,N+=X,I=null;continue}if(M=V[d],!!M){A=g+M.x,L=T+M.y,P=M.width,b=M.height;var xt=M.xOffset+B-D,Rt=M.yOffset+N-G;if(I!==null){var xi=M.kerning[y];xt+=xi!==void 0?xi:0}if(B+=M.xAdvance+C,I=M,y=d,!(P===0||b===0||d===32)){if(K=r.fontSize/r.fontData.size,te=0,it){Pe.color=0,Pe.tint.topLeft=w,Pe.tint.topRight=R,Pe.tint.bottomLeft=F,Pe.tint.bottomRight=k,Pe.index=zt,Pe.charCode=d,Pe.x=xt,Pe.y=Rt,Pe.scale=K,Pe.rotation=te,Pe.data=M.data;var Vt=it(Pe);xt=Vt.x,Rt=Vt.y,K=Vt.scale,te=Vt.rotation,Vt.color?(w=Vt.color,R=Vt.color,F=Vt.color,k=Vt.color):(w=Vt.tint.topLeft,R=Vt.tint.topRight,F=Vt.tint.bottomLeft,k=Vt.tint.bottomRight),w=e.getTintAppendFloatAlpha(w,a.alpha*r._alphaTL),R=e.getTintAppendFloatAlpha(R,a.alpha*r._alphaTR),F=e.getTintAppendFloatAlpha(F,a.alpha*r._alphaBL),k=e.getTintAppendFloatAlpha(k,a.alpha*r._alphaBR)}xt*=K,Rt*=K,xt-=r.displayOriginX,Rt-=r.displayOriginY,xt+=ie,p.applyITRS(xt,Rt,te,K,K),v.multiply(p,c);var jh=A/S,eu=L/E,tu=(A+P)/S,iu=(L+b)/E,Na=P,Ga=b,so=c.e,lm=c.f,hm=Ga*c.c+c.e,um=Ga*c.d+c.f,fm=Na*c.a+Ga*c.c+c.e,cm=Na*c.b+Ga*c.d+c.f,dm=Na*c.a+c.e,vm=Na*c.b+c.f;ge&&(so=Math.round(so),lm=Math.round(lm),hm=Math.round(hm),um=Math.round(um),fm=Math.round(fm),cm=Math.round(cm),dm=Math.round(dm),vm=Math.round(vm)),h.batchQuad(so,lm,hm,um,fm,cm,dm,vm,jh,eu,tu,iu,w,R,F,k,_,x,0)}}}u&&(h.flush(),i.popScissor())}};return Ug=t,Ug}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wg,Vb;function xue(){if(Vb)return Wg;Vb=1;var e=Pi,t=function(i,r,n,a,s){var o=r._text,l=o.length,h=i.currentContext;if(!(l===0||!e(i,h,r,a,s))){var u=r.frame,f=r.displayCallback,c=r.callbackData,v=r.fontData.chars,p=r.fontData.lineHeight,m=r._letterSpacing,x=0,g=0,T=0,S=null,E=0,_=0,w=0,R=0,F=0,k=0,B=null,N=0,d=r.frame.source.image,y=u.cutX,C=u.cutY,M=0,A=0,L=r._fontSize/r.fontData.size,P=r._align,b=0,I=0;r.getTextBounds(!1);var D=r._bounds.lines;P===1?I=(D.longest-D.lengths[0])/2:P===2&&(I=D.longest-D.lengths[0]),h.translate(-r.displayOriginX,-r.displayOriginY);var G=a.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(h.beginPath(),h.rect(0,0,r.cropWidth,r.cropHeight),h.clip());for(var H=0;H<l;H++){if(A=L,M=0,T=o.charCodeAt(H),T===10){b++,P===1?I=(D.longest-D.lengths[b])/2:P===2&&(I=D.longest-D.lengths[b]),x=0,g+=p,B=null;continue}if(S=v[T],!!S){if(E=y+S.x,_=C+S.y,w=S.width,R=S.height,F=S.xOffset+x-r.scrollX,k=S.yOffset+g-r.scrollY,B!==null){var V=S.kerning[N];F+=V!==void 0?V:0}if(f){c.index=H,c.charCode=T,c.x=F,c.y=k,c.scale=A,c.rotation=M,c.data=S.data;var X=f(c);F=X.x,k=X.y,A=X.scale,M=X.rotation}F*=A,k*=A,F+=I,x+=S.xAdvance+m,B=S,N=T,!(w===0||R===0||T===32)&&(G&&(F=Math.round(F),k=Math.round(k)),h.save(),h.translate(F,k),h.rotate(M),h.scale(A,A),h.drawImage(d,E,_,w,R,0,0,w,R),h.restore())}}h.restore()}};return Wg=t,Wg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HN=W,XN=W;HN=gue();XN=xue();var yue={renderWebGL:HN,renderCanvas:XN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ub=L0,Tue=O,Sue=yue,Cue=new Tue({Extends:Ub,Mixins:[Sue],initialize:function(t,i,r,n,a,s,o){Ub.call(this,t,i,r,n,a,s,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(e,t){return this.cropWidth=e,this.cropHeight=t,this},setDisplayCallback:function(e){return this.displayCallback=e,this},setScrollX:function(e){return this.scrollX=e,this},setScrollY:function(e){return this.scrollY=e,this}}),iE=Cue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yg,Wb;function Eue(){if(Wb)return Yg;Wb=1;var e=function(t,i,r,n,a){var s=t.currentPipeline;t.clearPipeline();var o=t._tempMatrix1,l=t._tempMatrix2,h=t._tempMatrix3;l.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),l.e=i.x,l.f=i.y,o.multiply(l,h)):(l.e-=n.scrollX*i.scrollFactorX,l.f-=n.scrollY*i.scrollFactorY,o.multiply(l,h)),i.render.call(i,t,n,h),t.rebindPipeline(s)};return Yg=e,Yg}var Yb={},Hb;function _ue(){return Hb||(Hb=1),Yb}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var KN=W,qN=W;KN=Eue();qN=_ue();var Aue={renderWebGL:KN,renderCanvas:qN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wue=O,Yr=Ke,Xb=qe,Mue=Aue,bue=new wue({Extends:Xb,Mixins:[Yr.Alpha,Yr.BlendMode,Yr.Depth,Yr.Flip,Yr.Origin,Yr.ScrollFactor,Yr.Size,Yr.Texture,Yr.Tint,Yr.Transform,Yr.Visible,Mue],initialize:function(t){Xb.call(this,t,"Extern")},preUpdate:function(){},render:function(){}}),JN=bue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rE={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pue=function(e,t,i){if(e.width<=0||e.height<=0)return!1;var r=(t-e.x)/e.width,n=(i-e.y)/e.height;return r*=r,n*=n,r+n<.25},Tc=Pue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Rue=ce,Lue=function(e,t,i){i===void 0&&(i=new Rue);var r=e.width/2,n=e.height/2;return i.x=e.x+r*Math.cos(t),i.y=e.y+n*Math.sin(t),i},nE=Lue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fue=nE,Iue=fc,Oue=et,Due=ce,Bue=function(e,t,i){i===void 0&&(i=new Due);var r=Iue(t,0,Oue.PI2);return Fue(e,r,i)},ZN=Bue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nue=function(e){var t=e.width/2,i=e.height/2,r=Math.pow(t-i,2)/Math.pow(t+i,2);return Math.PI*(t+i)*(1+3*r/(10+Math.sqrt(4-3*r)))},QN=Nue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gue=QN,kue=nE,$ue=fc,zue=et,Vue=function(e,t,i,r){r===void 0&&(r=[]),t||(t=Gue(e)/i);for(var n=0;n<t;n++){var a=$ue(n/t,0,zue.PI2);r.push(kue(e,a))}return r},jN=Vue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uue=O,Wue=Tc,Yue=ZN,Hue=jN,Xue=ba,Kue=dC,que=new Uue({initialize:function(t,i,r,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),this.type=Xue.ELLIPSE,this.x=t,this.y=i,this.width=r,this.height=n},contains:function(e,t){return Wue(this,e,t)},getPoint:function(e,t){return Yue(this,e,t)},getPoints:function(e,t,i){return Hue(this,e,t,i)},getRandomPoint:function(e){return Kue(this,e)},setTo:function(e,t,i,r){return this.x=e,this.y=t,this.width=i,this.height=r,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(e,t){return t===void 0&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return t===void 0&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(e){this.x=e+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(e){this.y=e+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}}),Sc=que;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hg,Kb;function Jue(){if(Kb)return Hg;Kb=1;var e=rE,t=Be,i=function(s,o,l){this.x=s,this.y=o,this.width=l},r=function(s,o,l){this.points=[],this.pointsLength=1,this.points[0]=new i(s,o,l)},n=[],a=function(s,o,l,h,u){if(o.commandBuffer.length!==0){var f=this.pipeline;s.setPipeline(f,o);var c=o._tempMatrix1,v=o._tempMatrix2,p=o._tempMatrix3;p.loadIdentity(),v.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),c.copyFrom(h.matrix),u?(c.multiplyWithOffset(u,-h.scrollX*o.scrollFactorX,-h.scrollY*o.scrollFactorY),v.e=o.x,v.f=o.y,c.multiply(v)):(v.e-=h.scrollX*o.scrollFactorX,v.f-=h.scrollY*o.scrollFactorY,c.multiply(v));for(var m=o.commandBuffer,x=h.alpha*o.alpha,g=1,T=f.fillTint,S=f.strokeTint,E=0,_=0,w=0,R=.01,F=Math.PI*2,k,B=[],N=0,d=!1,y=null,C=t.getTintAppendFloatAlphaAndSwap,M=s.blankTexture.glTexture,A=0;A<m.length;A++)switch(k=m[A],k){case e.BEGIN_PATH:B.length=0,y=null,d=!0;break;case e.CLOSE_PATH:d=!1,y&&y.points.length&&y.points.push(y.points[0]);break;case e.FILL_PATH:for(N=0;N<B.length;N++)f.setTexture2D(M),f.batchFillPath(B[N].points,p,c);break;case e.STROKE_PATH:for(N=0;N<B.length;N++)f.setTexture2D(M),f.batchStrokePath(B[N].points,g,d,p,c);break;case e.LINE_STYLE:g=m[++A];var L=m[++A],P=m[++A]*x,b=C(L,P);S.TL=b,S.TR=b,S.BL=b,S.BR=b;break;case e.FILL_STYLE:var I=m[++A],D=m[++A]*x,G=C(I,D);T.TL=G,T.TR=G,T.BL=G,T.BR=G;break;case e.GRADIENT_FILL_STYLE:var H=m[++A]*x;T.TL=C(m[++A],H),T.TR=C(m[++A],H),T.BL=C(m[++A],H),T.BR=C(m[++A],H);break;case e.GRADIENT_LINE_STYLE:g=m[++A];var V=m[++A]*x;S.TL=C(m[++A],V),S.TR=C(m[++A],V),S.BL=C(m[++A],V),S.BR=C(m[++A],V);break;case e.ARC:var X=0,K=m[++A],te=m[++A],se=m[++A],ve=m[++A],ie=m[++A],ne=m[++A],ge=m[++A];for(ie-=ve,ne?ie<-F?ie=-F:ie>0&&(ie=-F+ie%F):ie>F?ie=F:ie<0&&(ie=F+ie%F),y===null&&(y=new r(K+Math.cos(ve)*se,te+Math.sin(ve)*se,g),B.push(y),X+=R);X<1+ge;)w=ie*X+ve,E=K+Math.cos(w)*se,_=te+Math.sin(w)*se,y.points.push(new i(E,_,g)),X+=R;w=ie+ve,E=K+Math.cos(w)*se,_=te+Math.sin(w)*se,y.points.push(new i(E,_,g));break;case e.FILL_RECT:f.setTexture2D(M),f.batchFillRect(m[++A],m[++A],m[++A],m[++A],p,c);break;case e.FILL_TRIANGLE:f.setTexture2D(M),f.batchFillTriangle(m[++A],m[++A],m[++A],m[++A],m[++A],m[++A],p,c);break;case e.STROKE_TRIANGLE:f.setTexture2D(M),f.batchStrokeTriangle(m[++A],m[++A],m[++A],m[++A],m[++A],m[++A],g,p,c);break;case e.LINE_TO:y!==null?y.points.push(new i(m[++A],m[++A],g)):(y=new r(m[++A],m[++A],g),B.push(y));break;case e.MOVE_TO:y=new r(m[++A],m[++A],g),B.push(y);break;case e.SAVE:n.push(p.copyToArray());break;case e.RESTORE:p.copyFromArray(n.pop());break;case e.TRANSLATE:K=m[++A],te=m[++A],p.translate(K,te);break;case e.SCALE:K=m[++A],te=m[++A],p.scale(K,te);break;case e.ROTATE:p.rotate(m[++A]);break;case e.SET_TEXTURE:var it=m[++A],Pe=m[++A];f.currentFrame=it,f.setTexture2D(it.glTexture,0),f.tintEffect=Pe,M=it.glTexture;break;case e.CLEAR_TEXTURE:f.currentFrame=s.blankTexture,f.tintEffect=2,M=s.blankTexture.glTexture;break}}};return Hg=a,Hg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xg,qb;function eG(){if(qb)return Xg;qb=1;var e=rE,t=Pi,i=function(r,n,a,s,o,l,h){var u=n.commandBuffer,f=u.length,c=l||r.currentContext;if(!(f===0||!t(r,c,n,s,o))){var v=1,p=1,m=0,x=0,g=1,T=0,S=0,E=0;c.beginPath();for(var _=0;_<f;++_){var w=u[_];switch(w){case e.ARC:c.arc(u[_+1],u[_+2],u[_+3],u[_+4],u[_+5],u[_+6]),_+=7;break;case e.LINE_STYLE:g=u[_+1],m=u[_+2],v=u[_+3],T=(m&16711680)>>>16,S=(m&65280)>>>8,E=m&255,c.strokeStyle="rgba("+T+","+S+","+E+","+v+")",c.lineWidth=g,_+=3;break;case e.FILL_STYLE:x=u[_+1],p=u[_+2],T=(x&16711680)>>>16,S=(x&65280)>>>8,E=x&255,c.fillStyle="rgba("+T+","+S+","+E+","+p+")",_+=2;break;case e.BEGIN_PATH:c.beginPath();break;case e.CLOSE_PATH:c.closePath();break;case e.FILL_PATH:h||c.fill();break;case e.STROKE_PATH:h||c.stroke();break;case e.FILL_RECT:h?c.rect(u[_+1],u[_+2],u[_+3],u[_+4]):c.fillRect(u[_+1],u[_+2],u[_+3],u[_+4]),_+=4;break;case e.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[_+1],u[_+2]),c.lineTo(u[_+3],u[_+4]),c.lineTo(u[_+5],u[_+6]),c.closePath(),h||c.fill(),_+=6;break;case e.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[_+1],u[_+2]),c.lineTo(u[_+3],u[_+4]),c.lineTo(u[_+5],u[_+6]),c.closePath(),h||c.stroke(),_+=6;break;case e.LINE_TO:c.lineTo(u[_+1],u[_+2]),_+=2;break;case e.MOVE_TO:c.moveTo(u[_+1],u[_+2]),_+=2;break;case e.LINE_FX_TO:c.lineTo(u[_+1],u[_+2]),_+=5;break;case e.MOVE_FX_TO:c.moveTo(u[_+1],u[_+2]),_+=5;break;case e.SAVE:c.save();break;case e.RESTORE:c.restore();break;case e.TRANSLATE:c.translate(u[_+1],u[_+2]),_+=2;break;case e.SCALE:c.scale(u[_+1],u[_+2]),_+=2;break;case e.ROTATE:c.rotate(u[_+1]),_+=1;break;case e.GRADIENT_FILL_STYLE:_+=5;break;case e.GRADIENT_LINE_STYLE:_+=6;break;case e.SET_TEXTURE:_+=2;break}}c.restore()}};return Xg=i,Xg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tG=W,aE=W;tG=Jue(),aE=eG();aE=eG();var Zue={renderWebGL:tG,renderCanvas:aE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Que=mc,jue=O,Le=rE,efe=qD,tfe=eB,ife=tB,rfe=oB,nfe=c0,afe=uB,sfe=fB,ofe=lB,Kg=hn,Jb=Sc,Zb=qe,Za=Y,Jn=me,gn=et,lfe=Zue,Po=new jue({Extends:Zb,Mixins:[efe,tfe,ife,rfe,nfe,afe,sfe,ofe,lfe],initialize:function(t,i){var r=Jn(i,"x",0),n=Jn(i,"y",0);Zb.call(this,t,"Graphics"),this.setPosition(r,n),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this._tempMatrix1=new Kg,this._tempMatrix2=new Kg,this._tempMatrix3=new Kg,this.setDefaultStyles(i)},setDefaultStyles:function(e){return Jn(e,"lineStyle",null)&&(this.defaultStrokeWidth=Jn(e,"lineStyle.width",1),this.defaultStrokeColor=Jn(e,"lineStyle.color",16777215),this.defaultStrokeAlpha=Jn(e,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),Jn(e,"fillStyle",null)&&(this.defaultFillColor=Jn(e,"fillStyle.color",16777215),this.defaultFillAlpha=Jn(e,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(e,t,i){return i===void 0&&(i=1),this.commandBuffer.push(Le.LINE_STYLE,e,t,i),this._lineWidth=e,this},fillStyle:function(e,t){return t===void 0&&(t=1),this.commandBuffer.push(Le.FILL_STYLE,e,t),this},fillGradientStyle:function(e,t,i,r,n){return n===void 0&&(n=1),this.commandBuffer.push(Le.GRADIENT_FILL_STYLE,n,e,t,i,r),this},lineGradientStyle:function(e,t,i,r,n,a){return a===void 0&&(a=1),this.commandBuffer.push(Le.GRADIENT_LINE_STYLE,e,a,t,i,r,n),this},setTexture:function(e,t,i){if(i===void 0&&(i=0),e===void 0)this.commandBuffer.push(Le.CLEAR_TEXTURE);else{var r=this.scene.sys.textures.getFrame(e,t);r&&(i===2&&(i=3),this.commandBuffer.push(Le.SET_TEXTURE,r,i))}return this},beginPath:function(){return this.commandBuffer.push(Le.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(Le.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(Le.FILL_PATH),this},fill:function(){return this.commandBuffer.push(Le.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(Le.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(Le.STROKE_PATH),this},fillCircleShape:function(e){return this.fillCircle(e.x,e.y,e.radius)},strokeCircleShape:function(e){return this.strokeCircle(e.x,e.y,e.radius)},fillCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,gn.PI2),this.fillPath(),this},strokeCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,gn.PI2),this.strokePath(),this},fillRectShape:function(e){return this.fillRect(e.x,e.y,e.width,e.height)},strokeRectShape:function(e){return this.strokeRect(e.x,e.y,e.width,e.height)},fillRect:function(e,t,i,r){return this.commandBuffer.push(Le.FILL_RECT,e,t,i,r),this},strokeRect:function(e,t,i,r){var n=this._lineWidth/2,a=e-n,s=e+n;return this.beginPath(),this.moveTo(e,t),this.lineTo(e,t+r),this.strokePath(),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+i,t+r),this.strokePath(),this.beginPath(),this.moveTo(a,t),this.lineTo(s+i,t),this.strokePath(),this.beginPath(),this.moveTo(a,t+r),this.lineTo(s+i,t+r),this.strokePath(),this},fillRoundedRect:function(e,t,i,r,n){n===void 0&&(n=20);var a=n,s=n,o=n,l=n;return typeof n!="number"&&(a=Za(n,"tl",20),s=Za(n,"tr",20),o=Za(n,"bl",20),l=Za(n,"br",20)),this.beginPath(),this.moveTo(e+a,t),this.lineTo(e+i-s,t),this.arc(e+i-s,t+s,s,-gn.TAU,0),this.lineTo(e+i,t+r-l),this.arc(e+i-l,t+r-l,l,0,gn.TAU),this.lineTo(e+o,t+r),this.arc(e+o,t+r-o,o,gn.TAU,Math.PI),this.lineTo(e,t+a),this.arc(e+a,t+a,a,-Math.PI,-gn.TAU),this.fillPath(),this},strokeRoundedRect:function(e,t,i,r,n){n===void 0&&(n=20);var a=n,s=n,o=n,l=n;return typeof n!="number"&&(a=Za(n,"tl",20),s=Za(n,"tr",20),o=Za(n,"bl",20),l=Za(n,"br",20)),this.beginPath(),this.moveTo(e+a,t),this.lineTo(e+i-s,t),this.arc(e+i-s,t+s,s,-gn.TAU,0),this.lineTo(e+i,t+r-l),this.arc(e+i-l,t+r-l,l,0,gn.TAU),this.lineTo(e+o,t+r),this.arc(e+o,t+r-o,o,gn.TAU,Math.PI),this.lineTo(e,t+a),this.arc(e+a,t+a,a,-Math.PI,-gn.TAU),this.strokePath(),this},fillPointShape:function(e,t){return this.fillPoint(e.x,e.y,t)},fillPoint:function(e,t,i){return!i||i<1?i=1:(e-=i/2,t-=i/2),this.commandBuffer.push(Le.FILL_RECT,e,t,i,i),this},fillTriangleShape:function(e){return this.fillTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},strokeTriangleShape:function(e){return this.strokeTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},fillTriangle:function(e,t,i,r,n,a){return this.commandBuffer.push(Le.FILL_TRIANGLE,e,t,i,r,n,a),this},strokeTriangle:function(e,t,i,r,n,a){return this.commandBuffer.push(Le.STROKE_TRIANGLE,e,t,i,r,n,a),this},strokeLineShape:function(e){return this.lineBetween(e.x1,e.y1,e.x2,e.y2)},lineBetween:function(e,t,i,r){return this.beginPath(),this.moveTo(e,t),this.lineTo(i,r),this.strokePath(),this},lineTo:function(e,t){return this.commandBuffer.push(Le.LINE_TO,e,t),this},moveTo:function(e,t){return this.commandBuffer.push(Le.MOVE_TO,e,t),this},strokePoints:function(e,t,i,r){t===void 0&&(t=!1),i===void 0&&(i=!1),r===void 0&&(r=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var n=1;n<r;n++)this.lineTo(e[n].x,e[n].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(e,t,i,r){t===void 0&&(t=!1),i===void 0&&(i=!1),r===void 0&&(r=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var n=1;n<r;n++)this.lineTo(e[n].x,e[n].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(e,t){t===void 0&&(t=32);var i=e.getPoints(t);return this.strokePoints(i,!0)},strokeEllipse:function(e,t,i,r,n){n===void 0&&(n=32);var a=new Jb(e,t,i,r),s=a.getPoints(n);return this.strokePoints(s,!0)},fillEllipseShape:function(e,t){t===void 0&&(t=32);var i=e.getPoints(t);return this.fillPoints(i,!0)},fillEllipse:function(e,t,i,r,n){n===void 0&&(n=32);var a=new Jb(e,t,i,r),s=a.getPoints(n);return this.fillPoints(s,!0)},arc:function(e,t,i,r,n,a,s){return a===void 0&&(a=!1),s===void 0&&(s=0),this.commandBuffer.push(Le.ARC,e,t,i,r,n,a,s),this},slice:function(e,t,i,r,n,a,s){return a===void 0&&(a=!1),s===void 0&&(s=0),this.commandBuffer.push(Le.BEGIN_PATH),this.commandBuffer.push(Le.MOVE_TO,e,t),this.commandBuffer.push(Le.ARC,e,t,i,r,n,a,s),this.commandBuffer.push(Le.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(Le.SAVE),this},restore:function(){return this.commandBuffer.push(Le.RESTORE),this},translateCanvas:function(e,t){return this.commandBuffer.push(Le.TRANSLATE,e,t),this},scaleCanvas:function(e,t){return this.commandBuffer.push(Le.SCALE,e,t),this},rotateCanvas:function(e){return this.commandBuffer.push(Le.ROTATE,e),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(e,t,i){var r=this.scene.sys,n=r.game.renderer;t===void 0&&(t=r.scale.width),i===void 0&&(i=r.scale.height),Po.TargetCamera.setScene(this.scene),Po.TargetCamera.setViewport(0,0,t,i),Po.TargetCamera.scrollX=this.x,Po.TargetCamera.scrollY=this.y;var a,s;if(typeof e=="string")if(r.textures.exists(e)){a=r.textures.get(e);var o=a.getSourceImage();o instanceof HTMLCanvasElement&&(s=o.getContext("2d"))}else a=r.textures.createCanvas(e,t,i),s=a.getSourceImage().getContext("2d");else e instanceof HTMLCanvasElement&&(s=e.getContext("2d"));return s&&(this.renderCanvas(n,this,0,Po.TargetCamera,null,s,!1),a&&a.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});Po.TargetCamera=new Que;var sE=Po;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hfe=O,lp=new hfe({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var i=0;i<t.length;i++)this.set(t[i])},set:function(e){return this.entries.indexOf(e)===-1&&this.entries.push(e),this},get:function(e,t){for(var i=0;i<this.entries.length;i++){var r=this.entries[i];if(r[e]===t)return r}},getArray:function(){return this.entries.slice(0)},delete:function(e){var t=this.entries.indexOf(e);return t>-1&&this.entries.splice(t,1),this},dump:function(){console.group("Set");for(var e=0;e<this.entries.length;e++){var t=this.entries[e];console.log(t)}console.groupEnd()},each:function(e,t){var i,r=this.entries.slice(),n=r.length;if(t)for(i=0;i<n&&e.call(t,r[i],i)!==!1;i++);else for(i=0;i<n&&e(r[i],i)!==!1;i++);return this},iterate:function(e,t){var i,r=this.entries.length;if(t)for(i=0;i<r&&e.call(t,this.entries[i],i)!==!1;i++);else for(i=0;i<r&&e(this.entries[i],i)!==!1;i++);return this},iterateLocal:function(e){var t,i=[];for(t=1;t<arguments.length;t++)i.push(arguments[t]);var r=this.entries.length;for(t=0;t<r;t++){var n=this.entries[t];n[e].apply(n,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(e){return this.entries.indexOf(e)>-1},union:function(e){var t=new lp;return e.entries.forEach(function(i){t.set(i)}),this.entries.forEach(function(i){t.set(i)}),t},intersect:function(e){var t=new lp;return this.entries.forEach(function(i){e.contains(i)&&t.set(i)}),t},difference:function(e){var t=new lp;return this.entries.forEach(function(i){e.contains(i)||t.set(i)}),t},size:{get:function(){return this.entries.length},set:function(e){return e<this.entries.length?this.entries.length=e:this.entries.length}}}),Wh=lp;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qg,Qb;function ufe(){if(Qb)return qg;Qb=1;var e=function(t,i,r,n,a){this.pipeline.batchSprite(i,n,a)};return qg=e,qg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Jg,jb;function ffe(){if(jb)return Jg;jb=1;var e=function(t,i,r,n,a){t.batchSprite(i,i.frame,n,a)};return Jg=e,Jg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iG=W,rG=W;iG=ufe();rG=ffe();var cfe={renderWebGL:iG,renderCanvas:rG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dfe=O,ii=Ke,eP=qe,vfe=cfe,pfe=new dfe({Extends:eP,Mixins:[ii.Alpha,ii.BlendMode,ii.Depth,ii.Flip,ii.GetBounds,ii.Mask,ii.Origin,ii.Pipeline,ii.ScrollFactor,ii.Size,ii.TextureCrop,ii.Tint,ii.Transform,ii.Visible,vfe],initialize:function(t,i,r,n,a){eP.call(this,t,"Sprite"),this._crop=this.resetCropObject(),this.anims=new ii.Animation(this),this.setTexture(n,a),this.setPosition(i,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(e,t){this.anims.update(e,t)},play:function(e,t,i){return this.anims.play(e,t,i),this},toJSON:function(){var e=ii.ToJSON(this);return e},preDestroy:function(){this.anims.destroy(),this.anims=void 0}}),Fa=pfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xe=gB,mfe=O,Zg=pc,Ne=Y,It=me,tP=Te,gfe=LN,xfe=Wh,yfe=Fa,Tfe=new mfe({initialize:function(t,i,r){r?i&&!Array.isArray(i)&&(i=[i]):Array.isArray(i)?tP(i[0])&&(r=i,i=null):tP(i)&&(r=i,i=null),this.scene=t,this.children=new xfe(i),this.isParent=!0,this.type="Group",this.classType=Ne(r,"classType",yfe),this.name=Ne(r,"name",""),this.active=Ne(r,"active",!0),this.maxSize=Ne(r,"maxSize",-1),this.defaultKey=Ne(r,"defaultKey",null),this.defaultFrame=Ne(r,"defaultFrame",null),this.runChildUpdate=Ne(r,"runChildUpdate",!1),this.createCallback=Ne(r,"createCallback",null),this.removeCallback=Ne(r,"removeCallback",null),this.createMultipleCallback=Ne(r,"createMultipleCallback",null),r&&this.createMultiple(r)},create:function(e,t,i,r,n,a){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.defaultKey),r===void 0&&(r=this.defaultFrame),n===void 0&&(n=!0),a===void 0&&(a=!0),this.isFull())return null;var s=new this.classType(this.scene,e,t,i,r);return this.scene.sys.displayList.add(s),s.preUpdate&&this.scene.sys.updateList.add(s),s.visible=n,s.setActive(a),this.add(s),s},createMultiple:function(e){if(this.isFull())return[];Array.isArray(e)||(e=[e]);var t=[];if(e[0].key)for(var i=0;i<e.length;i++){var r=this.createFromConfig(e[i]);t=t.concat(r)}return t},createFromConfig:function(e){if(this.isFull())return[];this.classType=Ne(e,"classType",this.classType);var t=Ne(e,"key",void 0),i=Ne(e,"frame",null),r=Ne(e,"visible",!0),n=Ne(e,"active",!0),a=[];if(t===void 0)return a;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);var s=Ne(e,"repeat",0),o=Ne(e,"randomKey",!1),l=Ne(e,"randomFrame",!1),h=Ne(e,"yoyo",!1),u=Ne(e,"quantity",!1),f=Ne(e,"frameQuantity",1),c=Ne(e,"max",0),v=gfe(t,i,{max:c,qty:u||f,random:o,randomB:l,repeat:s,yoyo:h});e.createCallback&&(this.createCallback=e.createCallback),e.removeCallback&&(this.removeCallback=e.removeCallback);for(var p=0;p<v.length;p++){var m=this.create(0,0,v[p].a,v[p].b,r,n);if(!m)break;a.push(m)}var x=It(e,"setXY.x",0),g=It(e,"setXY.y",0),T=It(e,"setXY.stepX",0),S=It(e,"setXY.stepY",0);xe.SetXY(a,x,g,T,S);var E=It(e,"setRotation.value",0),_=It(e,"setRotation.step",0);xe.SetRotation(a,E,_);var w=It(e,"setScale.x",1),R=It(e,"setScale.y",w),F=It(e,"setScale.stepX",0),k=It(e,"setScale.stepY",0);xe.SetScale(a,w,R,F,k);var B=It(e,"setAlpha.value",1),N=It(e,"setAlpha.step",0);xe.SetAlpha(a,B,N);var d=It(e,"setDepth.value",0),y=It(e,"setDepth.step",0);xe.SetDepth(a,d,y);var C=It(e,"setScrollFactor.x",1),M=It(e,"setScrollFactor.y",C),A=It(e,"setScrollFactor.stepX",0),L=It(e,"setScrollFactor.stepY",0);xe.SetScrollFactor(a,C,M,A,L);var P=Ne(e,"hitArea",null),b=Ne(e,"hitAreaCallback",null);P&&xe.SetHitArea(a,P,b);var I=Ne(e,"gridAlign",!1);return I&&xe.GridAlign(a,I),this.createMultipleCallback&&this.createMultipleCallback.call(this,a),a},preUpdate:function(e,t){if(!(!this.runChildUpdate||this.children.size===0))for(var i=this.children.entries.slice(),r=0;r<i.length;r++){var n=i[r];n.active&&n.update(e,t)}},add:function(e,t){return t===void 0&&(t=!1),this.isFull()?this:(this.children.set(e),this.createCallback&&this.createCallback.call(this,e),t&&(this.scene.sys.displayList.add(e),e.preUpdate&&this.scene.sys.updateList.add(e)),e.on(Zg.DESTROY,this.remove,this),this)},addMultiple:function(e,t){if(t===void 0&&(t=!1),Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return this},remove:function(e,t,i){return t===void 0&&(t=!1),i===void 0&&(i=!1),this.children.contains(e)?(this.children.delete(e),this.removeCallback&&this.removeCallback.call(this,e),e.off(Zg.DESTROY,this.remove,this),i?e.destroy():t&&(e.scene.sys.displayList.remove(e),e.preUpdate&&e.scene.sys.updateList.remove(e)),this):this},clear:function(e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);for(var i=this.children,r=0;r<i.size;r++){var n=i.entries[r];n.off(Zg.DESTROY,this.remove,this),t?n.destroy():e&&(n.scene.sys.displayList.remove(n),n.preUpdate&&n.scene.sys.updateList.remove(n))}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(e,t,i,r,n,a,s){return this.getHandler(!0,1,e,t,i,r,n,a,s)},getFirstNth:function(e,t,i,r,n,a,s,o){return this.getHandler(!0,e,t,i,r,n,a,s,o)},getLast:function(e,t,i,r,n,a,s){return this.getHandler(!1,1,e,t,i,r,n,a,s)},getLastNth:function(e,t,i,r,n,a,s,o){return this.getHandler(!1,e,t,i,r,n,a,s,o)},getHandler:function(e,t,i,r,n,a,s,o,l){i===void 0&&(i=!1),r===void 0&&(r=!1);var h,u,f=0,c=this.children.entries;if(e)for(u=0;u<c.length;u++)if(h=c[u],h.active===i){if(f++,f===t)break}else h=null;else for(u=c.length-1;u>=0;u--)if(h=c[u],h.active===i){if(f++,f===t)break}else h=null;return h?(typeof n=="number"&&(h.x=n),typeof a=="number"&&(h.y=a),h):r?this.create(n,a,s,o,l):null},get:function(e,t,i,r,n){return this.getFirst(!1,!0,e,t,i,r,n)},getFirstAlive:function(e,t,i,r,n,a){return this.getFirst(!0,e,t,i,r,n,a)},getFirstDead:function(e,t,i,r,n,a){return this.getFirst(!1,e,t,i,r,n,a)},playAnimation:function(e,t){return xe.PlayAnimation(this.children.entries,e,t),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(e){e===void 0&&(e=!0);for(var t=0,i=0;i<this.children.size;i++)this.children.entries[i].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed(),t=this.maxSize===-1?999999999999:this.maxSize;return t-e},propertyValueSet:function(e,t,i,r,n){return xe.PropertyValueSet(this.children.entries,e,t,i,r,n),this},propertyValueInc:function(e,t,i,r,n){return xe.PropertyValueInc(this.children.entries,e,t,i,r,n),this},setX:function(e,t){return xe.SetX(this.children.entries,e,t),this},setY:function(e,t){return xe.SetY(this.children.entries,e,t),this},setXY:function(e,t,i,r){return xe.SetXY(this.children.entries,e,t,i,r),this},incX:function(e,t){return xe.IncX(this.children.entries,e,t),this},incY:function(e,t){return xe.IncY(this.children.entries,e,t),this},incXY:function(e,t,i,r){return xe.IncXY(this.children.entries,e,t,i,r),this},shiftPosition:function(e,t,i){return xe.ShiftPosition(this.children.entries,e,t,i),this},angle:function(e,t){return xe.Angle(this.children.entries,e,t),this},rotate:function(e,t){return xe.Rotate(this.children.entries,e,t),this},rotateAround:function(e,t){return xe.RotateAround(this.children.entries,e,t),this},rotateAroundDistance:function(e,t,i){return xe.RotateAroundDistance(this.children.entries,e,t,i),this},setAlpha:function(e,t){return xe.SetAlpha(this.children.entries,e,t),this},setTint:function(e,t,i,r){return xe.SetTint(this.children.entries,e,t,i,r),this},setOrigin:function(e,t,i,r){return xe.SetOrigin(this.children.entries,e,t,i,r),this},scaleX:function(e,t){return xe.ScaleX(this.children.entries,e,t),this},scaleY:function(e,t){return xe.ScaleY(this.children.entries,e,t),this},scaleXY:function(e,t,i,r){return xe.ScaleXY(this.children.entries,e,t,i,r),this},setDepth:function(e,t){return xe.SetDepth(this.children.entries,e,t),this},setBlendMode:function(e){return xe.SetBlendMode(this.children.entries,e),this},setHitArea:function(e,t){return xe.SetHitArea(this.children.entries,e,t),this},shuffle:function(){return xe.Shuffle(this.children.entries),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},setVisible:function(e,t,i){return xe.SetVisible(this.children.entries,e,t,i),this},toggleVisible:function(){return xe.ToggleVisible(this.children.entries),this},destroy:function(e){e===void 0&&(e=!1),!(!this.scene||this.ignoreDestroy)&&(this.clear(!1,e),this.scene=void 0,this.children=void 0)}}),Cc=Tfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qg,iP;function Sfe(){if(iP)return Qg;iP=1;var e=function(t,i,r,n,a){this.pipeline.batchSprite(i,n,a)};return Qg=e,Qg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jg,rP;function Cfe(){if(rP)return jg;rP=1;var e=function(t,i,r,n,a){t.batchSprite(i,i.frame,n,a)};return jg=e,jg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nG=W,aG=W;nG=Sfe();aG=Cfe();var Efe={renderWebGL:nG,renderCanvas:aG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _fe=O,Fi=Ke,nP=qe,Afe=Efe,wfe=new _fe({Extends:nP,Mixins:[Fi.Alpha,Fi.BlendMode,Fi.Depth,Fi.Flip,Fi.GetBounds,Fi.Mask,Fi.Origin,Fi.Pipeline,Fi.ScrollFactor,Fi.Size,Fi.TextureCrop,Fi.Tint,Fi.Transform,Fi.Visible,Afe],initialize:function(t,i,r,n,a){nP.call(this,t,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,a),this.setPosition(i,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}}),Yh=wfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mfe=O,bu=Y,bfe=new Mfe({initialize:function(t,i,r,n,a){if(typeof t=="object"){var s=t;t=bu(s,"x",0),i=bu(s,"y",0),r=bu(s,"power",0),n=bu(s,"epsilon",100),a=bu(s,"gravity",50)}else t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=100),a===void 0&&(a=50);this.x=t,this.y=i,this.active=!0,this._gravity=a,this._power=0,this._epsilon=0,this.power=r,this.epsilon=n},update:function(e,t){var i=this.x-e.x,r=this.y-e.y,n=i*i+r*r;if(n!==0){var a=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var s=this._power*t/(n*a)*100;e.velocityX+=i*s,e.velocityY+=r*s}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(e){this._epsilon=e*e}},power:{get:function(){return this._power/this._gravity},set:function(e){this._power=e*this._gravity}},gravity:{get:function(){return this._gravity},set:function(e){var t=this.power;this._gravity=e,this.power=t}}}),sG=bfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pfe=O,e1=kn,Rfe=Zs,Lfe=new Pfe({initialize:function(t){this.emitter=t,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(e,t){var i=this.emitter;this.frame=i.getFrame(),i.emitZone&&i.emitZone.getPoint(this),e===void 0?(i.follow&&(this.x+=i.follow.x+i.followOffset.x),this.x+=i.x.onEmit(this,"x")):this.x+=e,t===void 0?(i.follow&&(this.y+=i.follow.y+i.followOffset.y),this.y+=i.y.onEmit(this,"y")):this.y+=t,this.life=i.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var r=i.speedX.onEmit(this,"speedX"),n=i.speedY?i.speedY.onEmit(this,"speedY"):r;if(i.radial){var a=e1(i.angle.onEmit(this,"angle"));this.velocityX=Math.cos(a)*Math.abs(r),this.velocityY=Math.sin(a)*Math.abs(n)}else if(i.moveTo){var s=i.moveToX.onEmit(this,"moveToX"),o=i.moveToY?i.moveToY.onEmit(this,"moveToY"):s,l=Math.atan2(o-this.y,s-this.x),h=Rfe(this.x,this.y,s,o)/(this.life/1e3);this.velocityX=Math.cos(l)*h,this.velocityY=Math.sin(l)*h}else this.velocityX=r,this.velocityY=n;i.acceleration&&(this.accelerationX=i.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=i.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=i.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=i.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=i.delay.onEmit(this,"delay"),this.scaleX=i.scaleX.onEmit(this,"scaleX"),this.scaleY=i.scaleY?i.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=i.rotate.onEmit(this,"rotate"),this.rotation=e1(this.angle),this.bounce=i.bounce.onEmit(this,"bounce"),this.alpha=i.alpha.onEmit(this,"alpha"),this.tint=i.tint.onEmit(this,"tint")},computeVelocity:function(e,t,i,r){var n=this.velocityX,a=this.velocityY,s=this.accelerationX,o=this.accelerationY,l=this.maxVelocityX,h=this.maxVelocityY;n+=e.gravityX*i,a+=e.gravityY*i,s&&(n+=s*i),o&&(a+=o*i),n>l?n=l:n<-l&&(n=-l),a>h?a=h:a<-h&&(a=-h),this.velocityX=n,this.velocityY=a;for(var u=0;u<r.length;u++)r[u].update(this,t,i)},checkBounds:function(e){var t=e.bounds,i=-this.bounce;this.x<t.x&&e.collideLeft?(this.x=t.x,this.velocityX*=i):this.x>t.right&&e.collideRight&&(this.x=t.right,this.velocityX*=i),this.y<t.y&&e.collideTop?(this.y=t.y,this.velocityY*=i):this.y>t.bottom&&e.collideBottom&&(this.y=t.bottom,this.velocityY*=i)},update:function(e,t,i){if(this.delayCurrent>0)return this.delayCurrent-=e,!1;var r=this.emitter,n=1-this.lifeCurrent/this.life;return this.lifeT=n,this.computeVelocity(r,e,t,i),this.x+=this.velocityX*t,this.y+=this.velocityY*t,r.bounds&&this.checkBounds(r),r.deathZone&&r.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=r.scaleX.onUpdate(this,"scaleX",n,this.scaleX),r.scaleY?this.scaleY=r.scaleY.onUpdate(this,"scaleY",n,this.scaleY):this.scaleY=this.scaleX,this.angle=r.rotate.onUpdate(this,"rotate",n,this.angle),this.rotation=e1(this.angle),this.alpha=r.alpha.onUpdate(this,"alpha",n,this.alpha),this.tint=r.tint.onUpdate(this,"tint",n,this.tint),this.lifeCurrent-=e,this.lifeCurrent<=0)}}),oG=Lfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ffe=O,Ife=new Ffe({initialize:function(t,i){this.source=t,this.killOnEnter=i},willKill:function(e){var t=this.source.contains(e.x,e.y);return t&&this.killOnEnter||!t&&!this.killOnEnter}}),lG=Ife;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ofe=O,Dfe=new Ofe({initialize:function(t,i,r,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),this.source=t,this.points=[],this.quantity=i,this.stepRate=r,this.yoyo=n,this.counter=-1,this.seamless=a,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var e=this.points[0],t=this.points[this.points.length-1];e.x===t.x&&e.y===t.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(e){return this.source=e,this.updateSource()},getPoint:function(e){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var t=this.points[this.counter];t&&(e.x=t.x,e.y=t.y)}}),hG=Dfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pu=AC,Bfe=WC,Nfe=function(e,t){var i=Pu.Power0;if(typeof e=="string")if(Pu.hasOwnProperty(e))i=Pu[e];else{var r="";e.indexOf(".")&&(r=e.substr(e.indexOf(".")+1),r.toLowerCase()==="in"?r="easeIn":r.toLowerCase()==="out"?r="easeOut":r.toLowerCase()==="inout"&&(r="easeInOut")),e=Bfe(e.substr(0,e.indexOf(".")+1)+r),Pu.hasOwnProperty(e)&&(i=Pu[e])}else typeof e=="function"?i=e:Array.isArray(e)&&e.length;if(!t)return i;var n=t.slice(0);return n.unshift(0),function(a){return n[0]=a,i.apply(this,n)}},Hh=Nfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gfe=O,kfe=a3,$fe=Hh,zfe=Y,Vfe=Js,Ufe=new Gfe({initialize:function(t,i,r,n){n===void 0&&(n=!1),this.propertyKey=i,this.propertyValue=r,this.defaultValue=r,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=n,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(e,t){e===void 0&&(e={}),t&&(this.propertyKey=t),this.propertyValue=zfe(e,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(e){return this.propertyValue=e,this.setMethods()},setMethods:function(){var e=this.propertyValue,t=typeof e;if(t==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(e))this.onEmit=this.randomStaticValueEmit;else if(t==="function")this.emitOnly?this.onEmit=e:this.onUpdate=e;else if(t==="object"&&(this.has(e,"random")||this.hasBoth(e,"start","end")||this.hasBoth(e,"min","max"))){this.start=this.has(e,"start")?e.start:e.min,this.end=this.has(e,"end")?e.end:e.max;var i=this.hasBoth(e,"min","max")||!!e.random;if(i){var r=e.random;Array.isArray(r)&&(this.start=r[0],this.end=r[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(e,"steps"))this.steps=e.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var n=this.has(e,"ease")?e.ease:"Linear";this.ease=$fe(n),i||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else t==="object"&&this.hasEither(e,"onEmit","onUpdate")&&(this.has(e,"onEmit")&&(this.onEmit=e.onEmit),this.has(e,"onUpdate")&&(this.onUpdate=e.onUpdate));return this},has:function(e,t){return e.hasOwnProperty(t)},hasBoth:function(e,t,i){return e.hasOwnProperty(t)&&e.hasOwnProperty(i)},hasEither:function(e,t,i){return e.hasOwnProperty(t)||e.hasOwnProperty(i)},defaultEmit:function(e,t,i){return i},defaultUpdate:function(e,t,i,r){return r},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var e=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[e]},randomRangedValueEmit:function(e,t){var i=kfe(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=i),i},steppedEmit:function(){var e=this.counter,t=this.counter+(this.end-this.start)/this.steps;return this.counter=Vfe(t,this.start,this.end),e},easedValueEmit:function(e,t){if(e&&e.data[t]){var i=e.data[t];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(e,t,i){var r=e.data[t];return(r.max-r.min)*this.ease(i)+r.min}}),Wfe=Ufe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yfe=function(e,t){for(var i=0;i<t.length;i++)if(e.hasOwnProperty(t[i]))return!0;return!1},uG=Yfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hfe=function(e,t){return e.hasOwnProperty(t)},Xh=Hfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xfe=O,Kfe=oe,qfe=new Xfe({initialize:function(t){this.source=t,this._tempVec=new Kfe},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}}),fG=qfe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Jfe=xa,Zfe=O,Od=Ke,Qfe=lG,jfe=hG,ut=Wfe,Ii=Y,ece=qC,tce=uG,fr=Xh,ice=oG,rce=fG,nce=Ve,ace=P0,sce=oe,oce=Js,lce=new Zfe({Mixins:[Od.BlendMode,Od.Mask,Od.ScrollFactor,Od.Visible],initialize:function(t,i){this.manager=t,this.texture=t.texture,this.frames=[t.defaultFrame],this.defaultFrame=t.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=ice,this.x=new ut(i,"x",0,!0),this.y=new ut(i,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new ut(i,"accelerationX",0,!0),this.accelerationY=new ut(i,"accelerationY",0,!0),this.maxVelocityX=new ut(i,"maxVelocityX",1e4,!0),this.maxVelocityY=new ut(i,"maxVelocityY",1e4,!0),this.speedX=new ut(i,"speedX",0,!0),this.speedY=new ut(i,"speedY",0,!0),this.moveTo=!1,this.moveToX=new ut(i,"moveToX",0,!0),this.moveToY=new ut(i,"moveToY",0,!0),this.bounce=new ut(i,"bounce",0,!0),this.scaleX=new ut(i,"scaleX",1),this.scaleY=new ut(i,"scaleY",1),this.tint=new ut(i,"tint",4294967295),this.alpha=new ut(i,"alpha",1),this.lifespan=new ut(i,"lifespan",1e3,!0),this.angle=new ut(i,"angle",{min:0,max:360},!0),this.rotate=new ut(i,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new ut(i,"quantity",1,!0),this.delay=new ut(i,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=Jfe.NORMAL,this.follow=null,this.followOffset=new sce,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,i&&this.fromJSON(i)},fromJSON:function(e){if(!e)return this;var t=0,i="";for(t=0;t<this.configFastMap.length;t++)i=this.configFastMap[t],fr(e,i)&&(this[i]=Ii(e,i));for(t=0;t<this.configOpMap.length;t++)i=this.configOpMap[t],fr(e,i)&&this[i].loadConfig(e);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,fr(e,"speed")&&(this.speedX.loadConfig(e,"speed"),this.speedY=null),(tce(e,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),fr(e,"scale")&&(this.scaleX.loadConfig(e,"scale"),this.scaleY=null),fr(e,"callbackScope")){var r=Ii(e,"callbackScope",null);this.emitCallbackScope=r,this.deathCallbackScope=r}return fr(e,"emitZone")&&this.setEmitZone(e.emitZone),fr(e,"deathZone")&&this.setDeathZone(e.deathZone),fr(e,"bounds")&&this.setBounds(e.bounds),fr(e,"followOffset")&&this.followOffset.setFromObject(Ii(e,"followOffset",0)),fr(e,"frame")&&this.setFrame(e.frame),this},toJSON:function(e){e===void 0&&(e={});var t=0,i="";for(t=0;t<this.configFastMap.length;t++)i=this.configFastMap[t],e[i]=this[i];for(t=0;t<this.configOpMap.length;t++)i=this.configOpMap[t],this[i]&&(e[i]=this[i].toJSON());return this.speedY||(delete e.speedX,e.speed=this.speedX.toJSON()),this.scaleY||(delete e.scaleX,e.scale=this.scaleX.toJSON()),e},startFollow:function(e,t,i,r){return t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=!1),this.follow=e,this.followOffset.set(t,i),this.trackVisible=r,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return ece(this.frames);var e=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=oce(this.currentFrame+1,0,this._frameLength)),e},setFrame:function(e,t,i){t===void 0&&(t=!0),i===void 0&&(i=1),this.randomFrame=t,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var r=typeof e;if(Array.isArray(e)||r==="string"||r==="number")this.manager.setEmitterFrames(e,this);else if(r==="object"){var n=e;e=Ii(n,"frames",null),e&&this.manager.setEmitterFrames(e,this);var a=Ii(n,"cycle",!1);this.randomFrame=!a,this.frameQuantity=Ii(n,"quantity",i)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(e){return e===void 0&&(e=!0),this.radial=e,this},setPosition:function(e,t){return this.x.onChange(e),this.y.onChange(t),this},setBounds:function(e,t,i,r){if(typeof e=="object"){var n=e;e=n.x,t=n.y,i=fr(n,"w")?n.w:n.width,r=fr(n,"h")?n.h:n.height}return this.bounds?this.bounds.setTo(e,t,i,r):this.bounds=new nce(e,t,i,r),this},setSpeedX:function(e){return this.speedX.onChange(e),this.radial=!1,this},setSpeedY:function(e){return this.speedY&&(this.speedY.onChange(e),this.radial=!1),this},setSpeed:function(e){return this.speedX.onChange(e),this.speedY=null,this.radial=!0,this},setScaleX:function(e){return this.scaleX.onChange(e),this},setScaleY:function(e){return this.scaleY.onChange(e),this},setScale:function(e){return this.scaleX.onChange(e),this.scaleY=null,this},setGravityX:function(e){return this.gravityX=e,this},setGravityY:function(e){return this.gravityY=e,this},setGravity:function(e,t){return this.gravityX=e,this.gravityY=t,this},setAlpha:function(e){return this.alpha.onChange(e),this},setEmitterAngle:function(e){return this.angle.onChange(e),this},setAngle:function(e){return this.angle.onChange(e),this},setLifespan:function(e){return this.lifespan.onChange(e),this},setQuantity:function(e){return this.quantity.onChange(e),this},setFrequency:function(e,t){return this.frequency=e,this._counter=0,t&&this.quantity.onChange(t),this},setEmitZone:function(e){if(e===void 0)this.emitZone=null;else{var t=Ii(e,"type","random"),i=Ii(e,"source",null);switch(t){case"random":this.emitZone=new rce(i);break;case"edge":var r=Ii(e,"quantity",1),n=Ii(e,"stepRate",0),a=Ii(e,"yoyo",!1),s=Ii(e,"seamless",!0);this.emitZone=new jfe(i,r,n,a,s);break}}return this},setDeathZone:function(e){if(e===void 0)this.deathZone=null;else{var t=Ii(e,"type","onEnter"),i=Ii(e,"source",null);if(i&&typeof i.contains=="function"){var r=t==="onEnter";this.deathZone=new Qfe(i,r)}}return this},reserve:function(e){for(var t=this.dead,i=0;i<e;i++)t.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(e,t){return e===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof e=="function"&&(this.emitCallback=e,t&&(this.emitCallbackScope=t)),this},onParticleDeath:function(e,t){return e===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof e=="function"&&(this.deathCallback=e,t&&(this.deathCallbackScope=t)),this},killAll:function(){for(var e=this.dead,t=this.alive;t.length>0;)e.push(t.pop());return this},forEachAlive:function(e,t){for(var i=this.alive,r=i.length,n=0;n<r;++n)e.call(t,i[n],this);return this},forEachDead:function(e,t){for(var i=this.dead,r=i.length,n=0;n<r;++n)e.call(t,i[n],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},depthSort:function(){return ace.inplace(this.alive,this.depthSortCallback),this},flow:function(e,t){return t===void 0&&(t=1),this.frequency=e,this.quantity.onChange(t),this.start()},explode:function(e,t,i){return this.frequency=-1,this.emitParticle(e,t,i)},emitParticleAt:function(e,t,i){return this.emitParticle(i,e,t)},emitParticle:function(e,t,i){if(!this.atLimit()){e===void 0&&(e=this.quantity.onEmit());for(var r=this.dead,n=0;n<e;n++){var a=r.pop();if(a||(a=new this.particleClass(this)),a.fire(t,i),this.particleBringToTop?this.alive.push(a):this.alive.unshift(a),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,a,this),this.atLimit())break}return a}},preUpdate:function(e,t){t*=this.timeScale;var i=t/1e3;this.trackVisible&&(this.visible=this.follow.visible);var r=this.manager.getProcessors(),n=this.alive,a=this.dead,s=0,o=[],l=n.length;for(s=0;s<l;s++){var h=n[s];h.update(t,i,r)&&o.push({index:s,particle:h})}if(l=o.length,l>0){var u=this.deathCallback,f=this.deathCallbackScope;for(s=l-1;s>=0;s--){var c=o[s];n.splice(c.index,1),a.push(c.particle),u&&u.call(f,c.particle),c.particle.resetPosition()}}this.on&&(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=t,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(e,t){return e.y-t.y}}),cG=lce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t1,aP;function hce(){if(aP)return t1;aP=1;var e=Be,t=function(i,r,n,a,s){var o=r.emitters.list,l=o.length;if(l!==0){var h=this.pipeline,u=h._tempMatrix1.copyFrom(a.matrix),f=h._tempMatrix2,c=h._tempMatrix3,v=h._tempMatrix4.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY);u.multiply(v),i.setPipeline(h);var p=a.roundPixels,m=r.defaultFrame.glTexture,x=e.getTintAppendFloatAlphaAndSwap;h.setTexture2D(m,0);for(var g=0;g<l;g++){var T=o[g],S=T.alive,E=S.length;if(!(!T.visible||E===0)){var _=a.scrollX*T.scrollFactorX,w=a.scrollY*T.scrollFactorY;s&&(u.multiplyWithOffset(s,-_,-w),_=0,w=0),i.setBlendMode(T.blendMode)&&h.setTexture2D(m,0),T.mask&&(T.mask.preRenderWebGL(i,T,a),h.setTexture2D(m,0));for(var R=0,F=0;F<E;F++){var k=S[F],B=k.alpha*a.alpha;if(!(B<=0)){var N=k.frame,d=-N.halfWidth,y=-N.halfHeight,C=d+N.width,M=y+N.height;c.applyITRS(0,0,k.rotation,k.scaleX,k.scaleY),c.e=k.x-_,c.f=k.y-w,u.multiply(c,f);var A=f.getX(d,y),L=f.getY(d,y),P=f.getX(d,M),b=f.getY(d,M),I=f.getX(C,M),D=f.getY(C,M),G=f.getX(C,y),H=f.getY(C,y);p&&(A=Math.round(A),L=Math.round(L),P=Math.round(P),b=Math.round(b),I=Math.round(I),D=Math.round(D),G=Math.round(G),H=Math.round(H));var V=x(k.tint,B);h.batchQuad(A,L,P,b,I,D,G,H,N.u0,N.v0,N.u1,N.v1,V,V,V,V,R,m,0)}}T.mask&&(T.mask.postRenderWebGL(i,a),h.setTexture2D(m,0))}}}};return t1=t,t1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var i1,sP;function uce(){if(sP)return i1;sP=1;var e=function(t,i,r,n,a){var s=i.emitters.list,o=s.length;if(o!==0){var l=t._tempMatrix1.copyFrom(n.matrix),h=t._tempMatrix2,u=t._tempMatrix3,f=t._tempMatrix4.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);l.multiply(f);var c=n.roundPixels,v=t.currentContext;v.save();for(var p=0;p<o;p++){var m=s[p],x=m.alive,g=x.length;if(!(!m.visible||g===0)){var T=n.scrollX*m.scrollFactorX,S=n.scrollY*m.scrollFactorY;a&&(l.multiplyWithOffset(a,-T,-S),T=0,S=0),v.globalCompositeOperation=t.blendModes[m.blendMode];for(var E=0;E<g;E++){var _=x[E],w=_.alpha*n.alpha;if(!(w<=0)){var R=_.frame,F=R.canvasData,k=-R.halfWidth,B=-R.halfHeight;u.applyITRS(0,0,_.rotation,_.scaleX,_.scaleY),u.e=_.x-T,u.f=_.y-S,l.multiply(u,h),v.globalAlpha=w,v.save(),h.copyToContext(v),c&&(k=Math.round(k),B=Math.round(B)),v.imageSmoothingEnabled=!(!t.antialias||R.source.scaleMode),v.drawImage(R.source.image,F.x,F.y,F.width,F.height,k,B,F.width,F.height),v.restore()}}}}v.restore()}};return i1=e,i1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dG=W,vG=W;dG=hce();vG=uce();var fce={renderWebGL:dG,renderCanvas:vG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cce=O,Ru=Ke,oP=qe,dce=sG,lP=R0,vce=cG,pce=fce,mce=new cce({Extends:oP,Mixins:[Ru.Depth,Ru.Mask,Ru.Pipeline,Ru.Transform,Ru.Visible,pce],initialize:function(t,i,r,n){if(oP.call(this,t,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],r!==null&&(typeof r=="object"||Array.isArray(r))&&(n=r,r=null),this.setTexture(i,r),this.initPipeline(),this.emitters=new lP(this),this.wells=new lP(this),n){Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++)this.createEmitter(n[a])}},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){this.frame=this.texture.get(e);var t=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),i=[];return t.forEach(function(r){i.push(r.name)}),this.frameNames=i,this.defaultFrame=this.frame,this},setEmitterFrames:function(e,t){Array.isArray(e)||(e=[e]);var i=t.frames;i.length=0;for(var r=0;r<e.length;r++){var n=e[r];this.frameNames.indexOf(n)!==-1&&i.push(this.texture.get(n))}return i.length>0?t.defaultFrame=i[0]:t.defaultFrame=this.defaultFrame,this},addEmitter:function(e){return this.emitters.add(e)},createEmitter:function(e){return this.addEmitter(new vce(this,e))},addGravityWell:function(e){return this.wells.add(e)},createGravityWell:function(e){return this.addGravityWell(new dce(e))},emitParticle:function(e,t,i){for(var r=this.emitters.list,n=0;n<r.length;n++){var a=r[n];a.active&&a.emitParticle(e,t,i)}return this},emitParticleAt:function(e,t,i){return this.emitParticle(i,e,t)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(e,t){t*=this.timeScale;for(var i=this.emitters.list,r=0;r<i.length;r++){var n=i[r];n.active&&n.preUpdate(e,t)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}}),oE=mce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gce={DeathZone:lG,EdgeZone:hG,RandomZone:fG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xce={GravityWell:sG,Particle:oG,ParticleEmitter:cG,ParticleEmitterManager:oE,Zones:gce};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yce=O,Tce=Ke,hP=Fa,Sce=new yce({Extends:hP,Mixins:[Tce.PathFollower],initialize:function(t,i,r,n,a,s){hP.call(this,t,r,n,a,s),this.path=i},preUpdate:function(e,t){this.anims.update(e,t),this.pathUpdate(e)}}),pG=Sce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var r1,uP;function Cce(){if(uP)return r1;uP=1;var e=Be,t=function(i,r,n,a,s){var o=r.frame,l=o.width,h=o.height,u=e.getTintAppendFloatAlpha;this.pipeline.batchTexture(r,o.glTexture,l,h,r.x,r.y,l,h,r.scaleX,r.scaleY,r.rotation,r.flipX,!r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,l,h,u(r._tintTL,a.alpha*r._alphaTL),u(r._tintTR,a.alpha*r._alphaTR),u(r._tintBL,a.alpha*r._alphaBL),u(r._tintBR,a.alpha*r._alphaBR),r._isTinted&&r.tintFill,0,0,a,s),i.setBlankTexture(!0)};return r1=t,r1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n1,fP;function Ece(){if(fP)return n1;fP=1;var e=function(t,i,r,n,a){t.batchSprite(i,i.frame,n,a)};return n1=e,n1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mG=W,gG=W;mG=Cce();gG=Ece();var _ce={renderWebGL:mG,renderCanvas:gG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ace=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e==="x"?t:t&3|8;return i.toString(16)})},lE=Ace;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cP=xa,wce=mc,dP=Mi,Mce=O,Oi=Ke,vP=Or,bce=yc,pP=qe,Pce=_ce,Rce=Be,Lce=lE,Fce=new Mce({Extends:pP,Mixins:[Oi.Alpha,Oi.BlendMode,Oi.ComputedSize,Oi.Crop,Oi.Depth,Oi.Flip,Oi.GetBounds,Oi.Mask,Oi.Origin,Oi.Pipeline,Oi.ScrollFactor,Oi.Tint,Oi.Transform,Oi.Visible,Pce],initialize:function(t,i,r,n,a,s,o){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=32),a===void 0&&(a=32),pP.call(this,t,"RenderTexture"),this.renderer=t.sys.game.renderer,this.textureManager=t.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.framebuffer=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,s===void 0?(this.canvas=dP.create2D(this,n,a),this.texture=t.sys.textures.addCanvas(Lce(),this.canvas),this.frame=this.texture.get()):(this.texture=t.sys.textures.get(s),this.frame=this.texture.get(o),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new wce(0,0,n,a),this.gl=null,this.glTexture=null;var l=this.renderer;if(l.type===vP.WEBGL){var h=l.gl;this.gl=h,this.glTexture=this.frame.source.glTexture,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=l.createFramebuffer(n,a,this.glTexture,!1)}else l.type===vP.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(t),this.setPosition(i,r),s===void 0&&this.setSize(n,a),this.setOrigin(0,0),this.initPipeline()},setSize:function(e,t){return this.resize(e,t)},resize:function(e,t){if(t===void 0&&(t=e),e!==this.width||t!==this.height){if(this.frame.name==="__BASE"){if(this.canvas.width=e,this.canvas.height=t,this.texture.width=e,this.texture.height=t,this.gl){var i=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer);var r=this.renderer.createTexture2D(0,i.NEAREST,i.NEAREST,i.CLAMP_TO_EDGE,i.CLAMP_TO_EDGE,i.RGBA,null,e,t,!1);this.framebuffer=this.renderer.createFramebuffer(e,t,r,!1),this.frame.source.isRenderTexture=!0,this.frame.glTexture=r,this.glTexture=r}this.frame.source.width=e,this.frame.source.height=t,this.camera.setSize(e,t),this.frame.setSize(e,t),this.width=e,this.height=t}}else{var n=this.texture.getSourceImage();this.frame.cutX+e>n.width&&(e=n.width-this.frame.cutX),this.frame.cutY+t>n.height&&(t=n.height-this.frame.cutY),this.frame.setSize(e,t,this.frame.cutX,this.frame.cutY)}this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=e,a.hitArea.height=t),this},setGlobalTint:function(e){return this.globalTint=e,this},setGlobalAlpha:function(e){return this.globalAlpha=e,this},saveTexture:function(e){return this.textureManager.renameTexture(this.texture.key,e),this._saved=!0,this.texture},fill:function(e,t,i,r,n,a){t===void 0&&(t=1),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=this.frame.cutWidth),a===void 0&&(a=this.frame.cutHeight);var s=(e>>16|0)&255,o=(e>>8|0)&255,l=(e|0)&255,h=this.gl,u=this.frame;if(this.camera.preRender(1,1),h){var f=this.camera._cx,c=this.camera._cy,v=this.camera._cw,p=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(f,c,v,p,p);var m=this.pipeline;m.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),m.drawFillRect(i,r,n,a,Rce.getTintFromFloats(s/255,o/255,l/255,1),t),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),m.projOrtho(0,m.width,m.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.context.fillStyle="rgba("+s+","+o+","+l+","+t+")",this.context.fillRect(i+u.cutX,r+u.cutY,n,a),this.renderer.setContext();return this.dirty=!0,this},clear:function(){if(this.dirty){var e=this.gl;if(e){var t=this.renderer;t.setFramebuffer(this.framebuffer,!0),(this.frame.cutWidth!==this.canvas.width||this.frame.cutHeight!==this.canvas.height)&&e.scissor(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.setFramebuffer(null,!0)}else{var i=this.context;i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),i.restore()}this.dirty=!1}return this},erase:function(e,t,i){this._eraseMode=!0;var r=this.renderer.currentBlendMode;return this.renderer.setBlendMode(cP.ERASE),this.draw(e,t,i,1,16777215),this.renderer.setBlendMode(r),this._eraseMode=!1,this},draw:function(e,t,i,r,n){r===void 0&&(r=this.globalAlpha),n===void 0?n=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):n=(n>>16)+(n&65280)+((n&255)<<16),Array.isArray(e)||(e=[e]);var a=this.gl;if(this.camera.preRender(1,1),a){var s=this.camera._cx,o=this.camera._cy,l=this.camera._cw,h=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(s,o,l,h,h);var u=this.pipeline;u.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),this.batchList(e,t,i,r,n),u.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),u.projOrtho(0,u.width,u.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(e,t,i,r,n),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(e,t,i,r,n,a){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=this.globalAlpha),a===void 0?a=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):a=(a>>16)+(a&65280)+((a&255)<<16);var s=this.gl,o=this.textureManager.getFrame(e,t);if(o){if(this.camera.preRender(1,1),s){var l=this.camera._cx,h=this.camera._cy,u=this.camera._cw,f=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(l,h,u,f,f);var c=this.pipeline;c.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),c.batchTextureFrame(o,i+this.frame.cutX,r+this.frame.cutY,a,n,this.camera.matrix,null),c.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),c.projOrtho(0,c.width,c.height,0,-1e3,1e3)}else this.batchTextureFrame(o,i+this.frame.cutX,r+this.frame.cutY,n,a);this.dirty=!0}return this},batchList:function(e,t,i,r,n){for(var a=0;a<e.length;a++){var s=e[a];!s||s===this||(s.renderWebGL||s.renderCanvas?this.drawGameObject(s,t,i):s.isParent||s.list?this.batchGroup(s.getChildren(),t,i):typeof s=="string"?this.batchTextureFrameKey(s,null,t,i,r,n):s instanceof bce?this.batchTextureFrame(s,t,i,r,n):Array.isArray(s)&&this.batchList(s,t,i,r,n))}},batchGroup:function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0),t+=this.frame.cutX,i+=this.frame.cutY;for(var r=0;r<e.length;r++){var n=e[r];if(n.willRender()){var a=n.x+t,s=n.y+i;this.drawGameObject(n,a,s)}}},batchGameObjectWebGL:function(e,t,i){t===void 0&&(t=e.x),i===void 0&&(i=e.y);var r=e.x,n=e.y;this._eraseMode||this.renderer.setBlendMode(e.blendMode),e.setPosition(t+this.frame.cutX,i+this.frame.cutY),e.renderWebGL(this.renderer,e,0,this.camera,null),e.setPosition(r,n)},batchGameObjectCanvas:function(e,t,i){t===void 0&&(t=e.x),i===void 0&&(i=e.y);var r=e.x,n=e.y;if(this._eraseMode){var a=e.blendMode;e.blendMode=cP.ERASE}e.setPosition(t+this.frame.cutX,i+this.frame.cutY),e.renderCanvas(this.renderer,e,0,this.camera,null),e.setPosition(r,n),this._eraseMode&&(e.blendMode=a)},batchTextureFrameKey:function(e,t,i,r,n,a){var s=this.textureManager.getFrame(e,t);s&&this.batchTextureFrame(s,i,r,n,a)},batchTextureFrame:function(e,t,i,r,n){if(t===void 0&&(t=0),i===void 0&&(i=0),t+=this.frame.cutX,i+=this.frame.cutY,this.gl)this.pipeline.batchTextureFrame(e,t,i,n,r,this.camera.matrix,null);else{var a=this.context,s=e.canvasData,o=e.source.image,l=this.camera.matrix;a.globalAlpha=this.globalAlpha,a.setTransform(l[0],l[1],l[2],l[3],l[4],l[5]),a.drawImage(o,s.x,s.y,s.width,s.height,t,i,s.width,s.height)}},snapshotArea:function(e,t,i,r,n,a,s){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,n,!1,e,t,i,r,a,s):this.renderer.snapshotCanvas(this.canvas,n,!1,e,t,i,r,a,s),this},snapshot:function(e,t,i){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,e,!1,0,0,this.width,this.height,t,i):this.renderer.snapshotCanvas(this.canvas,e,!1,0,0,this.width,this.height,t,i),this},snapshotPixel:function(e,t,i){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,i,!0,e,t):this.renderer.snapshotCanvas(this.canvas,i,!0,e,t),this},preDestroy:function(){this._saved||(dP.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null,this.glTexture=null)}}),hE=Fce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ice={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`},Oce=Ice;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qa=me,Dce=function(e,t){var i=t.width,r=t.height,n=Math.floor(i/2),a=Math.floor(r/2),s=Qa(t,"chars","");if(s!==""){var o=Qa(t,"image",""),l=Qa(t,"offset.x",0),h=Qa(t,"offset.y",0),u=Qa(t,"spacing.x",0),f=Qa(t,"spacing.y",0),c=Qa(t,"lineSpacing",0),v=Qa(t,"charsPerRow",null);v===null&&(v=e.sys.textures.getFrame(o).width/i,v>s.length&&(v=s.length));for(var p=l,m=h,x={retroFont:!0,font:o,size:i,lineHeight:r+c,chars:{}},g=0,T=0;T<s.length;T++){var S=s.charCodeAt(T);x.chars[S]={x:p,y:m,width:i,height:r,centerX:n,centerY:a,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{}},g++,g===v?(g=0,p=l,m+=r+f):p+=i+u}var E={data:x,frame:null,texture:o};return E}},Bce=Dce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nce=Oce,Gce=pt,pT={Parse:Bce};pT=Gce(!1,pT,Nce);var kce=pT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $ce=function(e,t,i){var r=e.canvas,n=e.context,a=e.style,s=[],o=0,l=i.length;a.maxLines>0&&a.maxLines<i.length&&(l=a.maxLines),a.syncFont(r,n);for(var h=0;h<l;h++){var u=a.strokeThickness;u+=n.measureText(i[h]).width,a.wordWrap&&(u-=n.measureText(" ").width),s[h]=Math.ceil(u),o=Math.max(o,s[h])}var f=t.fontSize+a.strokeThickness,c=f*l,v=e.lineSpacing;return l>1&&(c+=v*(l-1)),{width:o,height:c,lines:l,lineWidths:s,lineSpacing:v,lineHeight:f}},zce=$ce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a1,mP;function Vce(){if(mP)return a1;mP=1;var e=Be,t=function(i,r,n,a,s){if(!(r.width===0||r.height===0)){var o=r.frame,l=o.width,h=o.height,u=e.getTintAppendFloatAlpha;this.pipeline.batchTexture(r,o.glTexture,l,h,r.x,r.y,l/r.style.resolution,h/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,l,h,u(r._tintTL,a.alpha*r._alphaTL),u(r._tintTR,a.alpha*r._alphaTR),u(r._tintBL,a.alpha*r._alphaBL),u(r._tintBR,a.alpha*r._alphaBR),r._isTinted&&r.tintFill,0,0,a,s)}};return a1=t,a1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s1,gP;function Uce(){if(gP)return s1;gP=1;var e=function(t,i,r,n,a){i.width===0||i.height===0||t.batchSprite(i,i.frame,n,a)};return s1=e,s1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xG=W,yG=W;xG=Vce();yG=Uce();var Wce={renderWebGL:xG,renderCanvas:yG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o1=Mi,Yce=function(e){var t=o1.create(this),i=t.getContext("2d");e.syncFont(t,i);var r=Math.ceil(i.measureText(e.testString).width*e.baselineX),n=r,a=2*n;n=n*e.baselineY|0,t.width=r,t.height=a,i.fillStyle="#f00",i.fillRect(0,0,r,a),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,n);var s={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,a))return s.ascent=n,s.descent=n+6,s.fontSize=s.ascent+s.descent,o1.remove(t),s;var o=i.getImageData(0,0,r,a).data,l=o.length,h=r*4,u,f,c=0,v=!1;for(u=0;u<n;u++){for(f=0;f<h;f+=4)if(o[c+f]!==255){v=!0;break}if(!v)c+=h;else break}for(s.ascent=n-u,c=l-h,v=!1,u=a;u>n;u--){for(f=0;f<h;f+=4)if(o[c+f]!==255){v=!0;break}if(!v)c-=h;else break}return s.descent=u-n,s.fontSize=s.ascent+s.descent,o1.remove(t),s},Hce=Yce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xce=O,Kce=tt,xn=me,xP=Hce,Lu={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},qce=new Xce({initialize:function(t,i){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1,!0);var r=xn(i,"metrics",!1);r?this.metrics={ascent:xn(r,"ascent",0),descent:xn(r,"descent",0),fontSize:xn(r,"fontSize",0)}:this.metrics=xP(this)},setStyle:function(e,t,i){t===void 0&&(t=!0),i===void 0&&(i=!1),e&&e.hasOwnProperty("fontSize")&&typeof e.fontSize=="number"&&(e.fontSize=e.fontSize.toString()+"px");for(var r in Lu){var n=i?Lu[r][1]:this[r];r==="wordWrapCallback"||r==="wordWrapCallbackScope"?this[r]=xn(e,Lu[r][0],n):this[r]=Kce(e,Lu[r][0],n)}var a=xn(e,"font",null);a!==null&&this.setFont(a,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var s=xn(e,"fill",null);return s!==null&&(this.color=s),t?this.update(!0):this.parent},syncFont:function(e,t){t.font=this._font},syncStyle:function(e,t){t.textBaseline="alphabetic",t.fillStyle=this.color,t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness,t.lineCap="round",t.lineJoin="round"},syncShadow:function(e,t){t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){return e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=xP(this)),this.parent.updateText()},setFont:function(e,t){t===void 0&&(t=!0);var i=e,r="",n="";if(typeof e!="string")i=xn(e,"fontFamily","Courier"),r=xn(e,"fontSize","16px"),n=xn(e,"fontStyle","");else{var a=e.split(" "),s=0;n=a.length>2?a[s++]:"",r=a[s++]||"16px",i=a[s++]||"Courier"}return(i!==this.fontFamily||r!==this.fontSize||n!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=r,this.fontStyle=n,t&&this.update(!0)),this.parent},setFontFamily:function(e){return this.fontFamily!==e&&(this.fontFamily=e,this.update(!0)),this.parent},setFontStyle:function(e){return this.fontStyle!==e&&(this.fontStyle=e,this.update(!0)),this.parent},setFontSize:function(e){return typeof e=="number"&&(e=e.toString()+"px"),this.fontSize!==e&&(this.fontSize=e,this.update(!0)),this.parent},setTestString:function(e){return this.testString=e,this.update(!0)},setFixedSize:function(e,t){return this.fixedWidth=e,this.fixedHeight=t,e&&(this.parent.width=e),t&&(this.parent.height=t),this.update(!1)},setBackgroundColor:function(e){return this.backgroundColor=e,this.update(!1)},setFill:function(e){return this.color=e,this.update(!1)},setColor:function(e){return this.color=e,this.update(!1)},setResolution:function(e){return this.resolution=e,this.update(!1)},setStroke:function(e,t){return t===void 0&&(t=this.strokeThickness),e===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==e||this.strokeThickness!==t)&&(this.stroke=e,this.strokeThickness=t,this.update(!0)),this.parent},setShadow:function(e,t,i,r,n,a){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i="#000"),r===void 0&&(r=0),n===void 0&&(n=!1),a===void 0&&(a=!0),this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowColor=i,this.shadowBlur=r,this.shadowStroke=n,this.shadowFill=a,this.update(!1)},setShadowOffset:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.shadowOffsetX=e,this.shadowOffsetY=t,this.update(!1)},setShadowColor:function(e){return e===void 0&&(e="#000"),this.shadowColor=e,this.update(!1)},setShadowBlur:function(e){return e===void 0&&(e=0),this.shadowBlur=e,this.update(!1)},setShadowStroke:function(e){return this.shadowStroke=e,this.update(!1)},setShadowFill:function(e){return this.shadowFill=e,this.update(!1)},setWordWrapWidth:function(e,t){return t===void 0&&(t=!1),this.wordWrapWidth=e,this.wordWrapUseAdvanced=t,this.update(!1)},setWordWrapCallback:function(e,t){return t===void 0&&(t=null),this.wordWrapCallback=e,this.wordWrapCallbackScope=t,this.update(!1)},setAlign:function(e){return e===void 0&&(e="left"),this.align=e,this.update(!1)},setMaxLines:function(e){return e===void 0&&(e=0),this.maxLines=e,this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={};for(var t in Lu)e[t]=this[t];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=void 0}}),Jce=qce;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zce=C0,yP=Mi,Qce=O,yi=Ke,jce=At,TP=qe,ede=zce,Rl=me,tde=VC,ide=Wce,rde=Jce,nde=new Qce({Extends:TP,Mixins:[yi.Alpha,yi.BlendMode,yi.ComputedSize,yi.Crop,yi.Depth,yi.Flip,yi.GetBounds,yi.Mask,yi.Origin,yi.Pipeline,yi.ScrollFactor,yi.Tint,yi.Transform,yi.Visible,ide],initialize:function(t,i,r,n,a){i===void 0&&(i=0),r===void 0&&(r=0),TP.call(this,t,"Text"),this.renderer=t.sys.game.renderer,this.setPosition(i,r),this.setOrigin(0,0),this.initPipeline(),this.canvas=yP.create(this),this.context=this.canvas.getContext("2d"),this.style=new rde(this,a),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(n),a&&a.padding&&this.setPadding(a.padding),a&&a.lineSpacing&&(this.lineSpacing=a.lineSpacing),t.sys.game.events.on(jce.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Zce(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(e){var t=this.style;if(t.wordWrapCallback){var i=t.wordWrapCallback.call(t.wordWrapCallbackScope,e,this);return Array.isArray(i)&&(i=i.join(`
`)),i}else return t.wordWrapWidth?t.wordWrapUseAdvanced?this.advancedWordWrap(e,this.context,this.style.wordWrapWidth):this.basicWordWrap(e,this.context,this.style.wordWrapWidth):e},advancedWordWrap:function(e,t,i){for(var r="",n=e.replace(/ +/gi," ").split(this.splitRegExp),a=n.length,s=0;s<a;s++){var o=n[s],l="";o=o.replace(/^ *|\s*$/gi,"");var h=t.measureText(o).width;if(h<i){r+=o+`
`;continue}for(var u=i,f=o.split(" "),c=0;c<f.length;c++){var v=f[c],p=v+" ",m=t.measureText(p).width;if(m>u){if(c===0){for(var x=p;x.length&&(x=x.slice(0,-1),m=t.measureText(x).width,!(m<=u)););if(!x.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var g=v.substr(x.length);f[c]=g,l+=x}var T=f[c].length?c:c+1,S=f.slice(T).join(" ").replace(/[ \n]*$/gi,"");n[s+1]=S+" "+(n[s+1]||""),a=n.length;break}else l+=p,u-=m}r+=l.replace(/[ \n]*$/gi,"")+`
`}return r=r.replace(/[\s|\n]*$/gi,""),r},basicWordWrap:function(e,t,i){for(var r="",n=e.split(this.splitRegExp),a=0;a<n.length;a++){for(var s=i,o=n[a].split(" "),l=0;l<o.length;l++){var h=t.measureText(o[l]).width,u=h+t.measureText(" ").width;u>s?(l>0&&(r+=`
`),r+=o[l]+" ",s=i-u):(s-=u,r+=o[l],l<o.length-1&&(r+=" "))}a<n.length-1&&(r+=`
`)}return r},getWrappedText:function(e){e===void 0&&(e=this._text),this.style.syncFont(this.canvas,this.context);var t=this.runWordWrap(e);return t.split(this.splitRegExp)},setText:function(e){return!e&&e!==0&&(e=""),Array.isArray(e)&&(e=e.join(`
`)),e!==this._text&&(this._text=e.toString(),this.updateText()),this},setStyle:function(e){return this.style.setStyle(e)},setFont:function(e){return this.style.setFont(e)},setFontFamily:function(e){return this.style.setFontFamily(e)},setFontSize:function(e){return this.style.setFontSize(e)},setFontStyle:function(e){return this.style.setFontStyle(e)},setFixedSize:function(e,t){return this.style.setFixedSize(e,t)},setBackgroundColor:function(e){return this.style.setBackgroundColor(e)},setFill:function(e){return this.style.setFill(e)},setColor:function(e){return this.style.setColor(e)},setStroke:function(e,t){return this.style.setStroke(e,t)},setShadow:function(e,t,i,r,n,a){return this.style.setShadow(e,t,i,r,n,a)},setShadowOffset:function(e,t){return this.style.setShadowOffset(e,t)},setShadowColor:function(e){return this.style.setShadowColor(e)},setShadowBlur:function(e){return this.style.setShadowBlur(e)},setShadowStroke:function(e){return this.style.setShadowStroke(e)},setShadowFill:function(e){return this.style.setShadowFill(e)},setWordWrapWidth:function(e,t){return this.style.setWordWrapWidth(e,t)},setWordWrapCallback:function(e,t){return this.style.setWordWrapCallback(e,t)},setAlign:function(e){return this.style.setAlign(e)},setResolution:function(e){return this.style.setResolution(e)},setLineSpacing:function(e){return this.lineSpacing=e,this.updateText()},setPadding:function(e,t,i,r){if(typeof e=="object"){var n=e,a=Rl(n,"x",null);a!==null?(e=a,i=a):(e=Rl(n,"left",0),i=Rl(n,"right",e));var s=Rl(n,"y",null);s!==null?(t=s,r=s):(t=Rl(n,"top",0),r=Rl(n,"bottom",t))}else e===void 0&&(e=0),t===void 0&&(t=e),i===void 0&&(i=e),r===void 0&&(r=t);return this.padding.left=e,this.padding.top=t,this.padding.right=i,this.padding.bottom=r,this.updateText()},setMaxLines:function(e){return this.style.setMaxLines(e)},updateText:function(){var e=this.canvas,t=this.context,i=this.style,r=i.resolution,n=i.metrics;i.syncFont(e,t);var a=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(a=this.runWordWrap(this._text));var s=a.split(this.splitRegExp),o=ede(this,n,s),l=this.padding,h;i.fixedWidth===0?(this.width=o.width+l.left+l.right,h=o.width):(this.width=i.fixedWidth,h=this.width-l.left-l.right,h<o.width&&(h=o.width)),i.fixedHeight===0?this.height=o.height+l.top+l.bottom:this.height=i.fixedHeight;var u=this.width,f=this.height;this.updateDisplayOrigin(),u*=r,f*=r,u=Math.max(u,1),f=Math.max(f,1),e.width!==u||e.height!==f?(e.width=u,e.height=f,this.frame.setSize(u,f),i.syncFont(e,t)):t.clearRect(0,0,u,f),t.save(),t.scale(r,r),i.backgroundColor&&(t.fillStyle=i.backgroundColor,t.fillRect(0,0,u,f)),i.syncStyle(e,t),t.textBaseline="alphabetic",t.translate(l.left,l.top);for(var c,v,p=0;p<o.lines;p++){if(c=i.strokeThickness/2,v=i.strokeThickness/2+p*o.lineHeight+n.ascent,p>0&&(v+=o.lineSpacing*p),i.rtl)c=u-c;else if(i.align==="right")c+=h-o.lineWidths[p];else if(i.align==="center")c+=(h-o.lineWidths[p])/2;else if(i.align==="justify"){var m=.85;if(o.lineWidths[p]/o.width>=m){var x=o.width-o.lineWidths[p],g=t.measureText(" ").width,T=s[p].trim(),S=T.split(" ");x+=(s[p].length-T.length)*g;for(var E=Math.floor(x/g),_=0;E>0;)S[_]+=" ",_=(_+1)%(S.length-1||1),--E;s[p]=S.join(" ")}}this.autoRound&&(c=Math.round(c),v=Math.round(v)),i.strokeThickness&&(this.style.syncShadow(t,i.shadowStroke),t.strokeText(s[p],c,v)),i.color&&(this.style.syncShadow(t,i.shadowFill),t.fillText(s[p],c,v))}t.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(e,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var w=this.input;return w&&!w.customHitArea&&(w.hitArea.width=this.width,w.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(e){this.setText(e)}},toJSON:function(){var e=yi.ToJSON(this),t={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return e.data=t,e},preDestroy:function(){this.style.rtl&&tde(this.canvas),yP.remove(this.canvas),this.texture.destroy()}}),uE=nde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l1,SP;function ade(){if(SP)return l1;SP=1;var e=Be,t=function(i,r,n,a,s){r.updateCanvas();var o=e.getTintAppendFloatAlpha;this.pipeline.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,r.width,r.height,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*r.width,r.originY*r.height,0,0,r.width,r.height,o(r._tintTL,a.alpha*r._alphaTL),o(r._tintTR,a.alpha*r._alphaTR),o(r._tintBL,a.alpha*r._alphaBL),o(r._tintBR,a.alpha*r._alphaBR),r._isTinted&&r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,a,s)};return l1=t,l1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h1,CP;function sde(){if(CP)return h1;CP=1;var e=function(t,i,r,n,a){i.updateCanvas(),t.batchSprite(i,i.frame,n,a)};return h1=e,h1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TG=W,SG=W;TG=ade();SG=sde();var ode={renderWebGL:TG,renderCanvas:SG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dd=Mi,lde=O,Di=Ke,hde=At,EP=qe,Bd=r3,ude=EC,fde=ode,_P=oe,AP=8,cde=new lde({Extends:EP,Mixins:[Di.Alpha,Di.BlendMode,Di.ComputedSize,Di.Crop,Di.Depth,Di.Flip,Di.GetBounds,Di.Mask,Di.Origin,Di.Pipeline,Di.ScrollFactor,Di.Tint,Di.Transform,Di.Visible,fde],initialize:function(t,i,r,n,a,s,o){var l=t.sys.game.renderer;EP.call(this,t,"TileSprite");var h=t.sys.textures.get(s),u=h.get(o);!n||!a?(n=u.width,a=u.height):(n=Math.floor(n),a=Math.floor(a)),this._tilePosition=new _P,this._tileScale=new _P(1,1),this.dirty=!1,this.renderer=l,this.canvas=Dd.create(this,n,a),this.context=this.canvas.getContext("2d"),this.displayTexture=h,this.displayFrame=u,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=Bd(u.width),this.potHeight=Bd(u.height),this.fillCanvas=Dd.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(i,r),this.setSize(n,a),this.setFrame(o),this.setOriginFromFrame(),this.initPipeline(),t.sys.game.events.on(hde.CONTEXT_RESTORED,function(f){var c=f.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=f.createTexture2D(0,c.LINEAR,c.LINEAR,c.REPEAT,c.REPEAT,c.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(e,t){return this.displayTexture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){var t=this.displayTexture.get(e);return this.potWidth=Bd(t.width),this.potHeight=Bd(t.height),this.canvas.width=0,!t.cutWidth||!t.cutHeight?this.renderFlags&=~AP:this.renderFlags|=AP,this.displayFrame=t,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(e,t){return e!==void 0&&(this.tilePositionX=e),t!==void 0&&(this.tilePositionY=t),this},setTileScale:function(e,t){return e===void 0&&(e=this.tileScaleX),t===void 0&&(t=e),this.tileScaleX=e,this.tileScaleY=t,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var e=this.displayFrame;if(e.source.isRenderTexture||e.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var t=this.fillContext,i=this.fillCanvas,r=this.potWidth,n=this.potHeight;this.renderer.gl||(r=e.cutWidth,n=e.cutHeight),t.clearRect(0,0,r,n),i.width=r,i.height=n,t.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,r,n),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=t.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var e=this.canvas;if((e.width!==this.width||e.height!==this.height)&&(e.width=this.width,e.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var t=this.context;this.scene.sys.game.config.antialias||ude.disable(t);var i=this._tileScale.x,r=this._tileScale.y,n=this._tilePosition.x,a=this._tilePosition.y;t.clearRect(0,0,this.width,this.height),t.save(),t.scale(i,r),t.translate(-n,-a),t.fillStyle=this.fillPattern,t.fillRect(n,a,this.width/i,this.height/r),t.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),Dd.remove(this.canvas),Dd.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(e){this._tilePosition.x=e,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(e){this._tilePosition.y=e,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(e){this._tileScale.x=e,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(e){this._tileScale.y=e,this.dirty=!0}}}),fE=cde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u1,wP;function dde(){if(wP)return u1;wP=1;var e=function(t,i,r,n,a){i.videoTexture&&this.pipeline.batchSprite(i,n,a)};return u1=e,u1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f1,MP;function vde(){if(MP)return f1;MP=1;var e=function(t,i,r,n,a){i.videoTexture&&t.batchSprite(i,i.frame,n,a)};return f1=e,f1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CG=W,EG=W;CG=dde();EG=vde();var pde={renderWebGL:CG,renderCanvas:EG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mde=O,gde=$t,Bi=Ke,ri=pc,Nd=At,bP=qe,PP=Qs,RP=lE,xde=pde,yde=et,Tde=new mde({Extends:bP,Mixins:[Bi.Alpha,Bi.BlendMode,Bi.Depth,Bi.Flip,Bi.GetBounds,Bi.Mask,Bi.Origin,Bi.Pipeline,Bi.ScrollFactor,Bi.Size,Bi.TextureCrop,Bi.Tint,Bi.Transform,Bi.Visible,xde],initialize:function(t,i,r,n){bP.call(this,t,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=RP(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=yde.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(i,r),this.initPipeline(),n&&this.changeSource(n,!1);var a=t.sys.game.events;a.on(Nd.PAUSE,this.globalPause,this),a.on(Nd.RESUME,this.globalResume,this);var s=t.sys.sound;s&&s.on(PP.GLOBAL_MUTE,this.globalMute,this)},play:function(e,t,i){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var r=this.video;if(!r)return console.warn("Video not loaded"),this;e===void 0&&(e=r.loop);var n=this.scene.sys.sound;n&&n.mute&&this.setMute(!0),isNaN(t)||(this._markerIn=t),!isNaN(i)&&i>t&&(this._markerOut=i),r.loop=e;var a=this._callbacks,s=r.play();return s!==void 0?s.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(r.addEventListener("playing",a.play,!0),r.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),r.addEventListener("ended",a.end,!0),r.addEventListener("timeupdate",a.time,!0),r.addEventListener("seeking",a.seeking,!0),r.addEventListener("seeked",a.seeked,!0),this},changeSource:function(e,t,i,r,n){t===void 0&&(t=!0);var a=this.video;a&&this.stop();var s=this.scene.sys.cache.video.get(e);return s?(this.video=s,this._cacheKey=e,this._codePaused=s.paused,this._codeMuted=s.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,s,s.videoWidth,s.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,s.videoWidth,s.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(ri.VIDEO_CREATED,this,s.videoWidth,s.videoHeight)):this.updateTexture(),s.currentTime=0,this._lastUpdate=0,t&&this.play(i,r,n)):this.video=null,this},addMarker:function(e,t,i){return!isNaN(t)&&t>=0&&!isNaN(i)&&(this.markers[e]=[t,i]),this},playMarker:function(e,t){var i=this.markers[e];return i&&this.play(t,i[0],i[1]),this},removeMarker:function(e){return delete this.markers[e],this},snapshot:function(e,t){return e===void 0&&(e=this.width),t===void 0&&(t=this.height),this.snapshotArea(0,0,this.width,this.height,e,t)},snapshotArea:function(e,t,i,r,n,a){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.width),r===void 0&&(r=this.height),n===void 0&&(n=i),a===void 0&&(a=r);var s=this.video,o=this.snapshotTexture;return o?(o.setSize(n,a),s&&o.context.drawImage(s,e,t,i,r,0,0,n,a)):(o=this.scene.sys.textures.createCanvas(RP(),n,a),this.snapshotTexture=o,s&&o.context.drawImage(s,e,t,i,r,0,0,n,a)),o.update()},saveSnapshotTexture:function(e){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,e):this.snapshotTexture=this.scene.sys.textures.createCanvas(e,this.width,this.height),this.snapshotTexture},loadURL:function(e,t,i){i===void 0&&(i=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var r=document.createElement("video");return r.controls=!1,i&&(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")),r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.addEventListener("error",this._callbacks.error,!0),r.src=e,r.load(),this.video=r,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(ri.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(e){this.scene.sys.input.once("pointerdown",this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(ri.VIDEO_ERROR,this,e)},playHandler:function(){this.touchLocked=!1,this.emit(ri.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(e){this.stop(),this.emit(ri.VIDEO_ERROR,this,e)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(ri.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(ri.VIDEO_PLAY,this)},completeHandler:function(){this.emit(ri.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(ri.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var e=this.video;if(e){var t=e.currentTime;t!==this._lastUpdate&&(this._lastUpdate=t,this.updateTexture(),t>=this._markerOut&&(e.loop?(e.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=t,this.emit(ri.VIDEO_LOOP,this)):(this.emit(ri.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(ri.VIDEO_TIMEOUT,this))},updateTexture:function(){var e=this.video,t=e.videoWidth,i=e.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,e,t,i),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,t,i),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(ri.VIDEO_CREATED,this,t,i);else{var r=this.videoTextureSource;r.source!==e&&(r.source=e,r.width=t,r.height=i),r.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(e){var t=this.video;if(t){var i=t.duration;if(i!==1/0&&!isNaN(i)){var r=i*e;this.setCurrentTime(r)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(e){var t=this.video;if(t){if(typeof e=="string"){var i=e[0],r=parseFloat(e.substr(1));i==="+"?e=t.currentTime+r:i==="-"&&(e=t.currentTime-r)}t.currentTime=e,this._lastUpdate=e}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(ri.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(ri.VIDEO_SEEKED,this);var e=this.video;e&&this.updateTexture()},getProgress:function(){var e=this.video;if(e){var t=e.currentTime,i=e.duration;if(i!==1/0&&!isNaN(i))return t/i}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(e){e===void 0&&(e=!0),this._codeMuted=e;var t=this.video;return t&&(t.muted=this._systemMuted?!0:e),this},isMuted:function(){return this._codeMuted},globalMute:function(e,t){this._systemMuted=t;var i=this.video;i&&(i.muted=this._codeMuted?!0:t)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(e){e===void 0&&(e=!0);var t=this.video;return this._codePaused=e,t&&(e?t.paused||t.pause():e||t.paused&&!this._systemPaused&&t.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(e){return e===void 0&&(e=1),this.video&&(this.video.volume=gde(e,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(e){return this.video&&(this.video.playbackRate=e),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(e){return e===void 0&&(e=!0),this.video&&(this.video.loop=e),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(e,t){return t===void 0&&(t=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,e),this._key=e,this.flipY=t,this.videoTextureSource&&this.videoTextureSource.setFlipY(t),this.videoTexture},stop:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.removeEventListener(i,t[i],!0);e.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(ri.VIDEO_STOP,this),this},removeVideoElement:function(){var e=this.video;if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("autoplay"),e.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var e=this.scene.sys.game.events;e.off(Nd.PAUSE,this.globalPause,this),e.off(Nd.RESUME,this.globalResume,this);var t=this.scene.sys.sound;t&&t.off(PP.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}}),cE=Tde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sde=O,Hr=Ke,LP=qe,Cde=qs,Ede=new Sde({Extends:LP,Mixins:[Hr.Alpha,Hr.BlendMode,Hr.ComputedSize,Hr.Depth,Hr.GetBounds,Hr.Mask,Hr.Origin,Hr.Pipeline,Hr.ScrollFactor,Hr.Transform,Hr.Visible],initialize:function(t,i,r){i===void 0&&(i="Shape"),LP.call(this,t,i),this.geom=r,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new Cde,this.initPipeline()},setFillStyle:function(e,t){return t===void 0&&(t=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=t,this.isFilled=!0),this},setStrokeStyle:function(e,t,i){return i===void 0&&(i=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}}),Br=Ede;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c1,FP;function Ec(){if(FP)return c1;FP=1;var e=Be,t=function(i,r,n,a,s,o){for(var l=e.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*a),h=n.pathData,u=n.pathIndexes,f=0;f<u.length;f+=3){var c=u[f]*2,v=u[f+1]*2,p=u[f+2]*2,m=h[c+0]-s,x=h[c+1]-o,g=h[v+0]-s,T=h[v+1]-o,S=h[p+0]-s,E=h[p+1]-o,_=r.getX(m,x),w=r.getY(m,x),R=r.getX(g,T),F=r.getY(g,T),k=r.getX(S,E),B=r.getY(S,E);i.setTexture2D(),i.batchTri(_,w,R,F,k,B,0,0,1,1,l,l,l,i.tintEffect)}};return c1=t,c1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d1,IP;function el(){if(IP)return d1;IP=1;var e=Be,t=function(i,r,n,a,s){var o=i.strokeTint,l=e.getTintAppendFloatAlphaAndSwap(r.strokeColor,r.strokeAlpha*n);o.TL=l,o.TR=l,o.BL=l,o.BR=l;var h=r.pathData,u=h.length-1,f=r.lineWidth,c=f/2,v=h[0]-a,p=h[1]-s;r.closePath||(u-=2);for(var m=2;m<u;m+=2){var x=h[m]-a,g=h[m+1]-s;i.setTexture2D(),i.batchLine(v,p,x,g,c,c,f,m-2,r.closePath?m===u-1:!1),v=x,p=g}};return d1=t,d1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var v1,OP;function _de(){if(OP)return v1;OP=1;var e=Ec(),t=el(),i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX,v=n._displayOriginY,p=s.alpha*n.alpha;n.isFilled&&e(l,f,n,p,c,v),n.isStroked&&t(l,n,p,c,v)};return v1=i,v1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p1,DP;function $n(){if(DP)return p1;DP=1;var e=function(t,i,r,n){var a=r||i.fillColor,s=n||i.fillAlpha,o=(a&16711680)>>>16,l=(a&65280)>>>8,h=a&255;t.fillStyle="rgba("+o+","+l+","+h+","+s+")"};return p1=e,p1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var m1,BP;function Ia(){if(BP)return m1;BP=1;var e=function(t,i,r,n){var a=r||i.strokeColor,s=n||i.strokeAlpha,o=(a&16711680)>>>16,l=(a&65280)>>>8,h=a&255;t.strokeStyle="rgba("+o+","+l+","+h+","+s+")",t.lineWidth=i.lineWidth};return m1=e,m1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g1,NP;function Ade(){if(NP)return g1;NP=1;var e=kn,t=$n(),i=Ia(),r=Pi,n=function(a,s,o,l,h){var u=a.currentContext;if(r(a,u,s,l,h)){var f=s.radius;u.beginPath(),u.arc(f-s.originX*(f*2),f-s.originY*(f*2),f,e(s._startAngle),e(s._endAngle),s.anticlockwise),s.closePath&&u.closePath(),s.isFilled&&(t(u,s),u.fill()),s.isStroked&&(i(u,s),u.stroke()),u.restore()}};return g1=n,g1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _G=W,AG=W;_G=_de();AG=Ade();var wde={renderWebGL:_G,renderCanvas:AG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mde=wde,bde=O,GP=kn,Pde=Zo,Rde=Jo,ja=et,kP=Br,Lde=new bde({Extends:kP,Mixins:[Mde],initialize:function(t,i,r,n,a,s,o,l,h){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),a===void 0&&(a=0),s===void 0&&(s=360),o===void 0&&(o=!1),kP.call(this,t,"Arc",new Rde(0,0,n)),this._startAngle=a,this._endAngle=s,this._anticlockwise=o,this._iterations=.01,this.setPosition(i,r);var u=this.geom.radius*2;this.setSize(u,u),l!==void 0&&this.setFillStyle(l,h),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(e){this._iterations=e,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(e){this.geom.radius=e;var t=e*2;this.setSize(t,t),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(e){this._startAngle=e,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(e){this._endAngle=e,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(e){this._anticlockwise=e,this.updateData()}},setRadius:function(e){return this.radius=e,this},setIterations:function(e){return e===void 0&&(e=.01),this.iterations=e,this},setStartAngle:function(e,t){return this._startAngle=e,t!==void 0&&(this._anticlockwise=t),this.updateData()},setEndAngle:function(e,t){return this._endAngle=e,t!==void 0&&(this._anticlockwise=t),this.updateData()},updateData:function(){var e=this._iterations,t=e,i=this.geom.radius,r=GP(this._startAngle),n=GP(this._endAngle),a=this._anticlockwise,s=i,o=i;n-=r,a?n<-ja.PI2?n=-ja.PI2:n>0&&(n=-ja.PI2+n%ja.PI2):n>ja.PI2?n=ja.PI2:n<0&&(n=ja.PI2+n%ja.PI2);for(var l=[s+Math.cos(r)*i,o+Math.sin(r)*i],h;t<1;)h=n*t+r,l.push(s+Math.cos(h)*i,o+Math.sin(h)*i),t+=e;return h=n+r,l.push(s+Math.cos(h)*i,o+Math.sin(h)*i),l.push(s+Math.cos(r)*i,o+Math.sin(r)*i),this.pathIndexes=Pde(l),this.pathData=l,this}}),wG=Lde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x1,$P;function Fde(){if($P)return x1;$P=1;var e=Ec(),t=el(),i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX+n._curveBounds.x,v=n._displayOriginY+n._curveBounds.y,p=s.alpha*n.alpha;n.isFilled&&e(l,f,n,p,c,v),n.isStroked&&t(l,n,p,c,v)};return x1=i,x1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y1,zP;function Ide(){if(zP)return y1;zP=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=a._displayOriginX+a._curveBounds.x,f=a._displayOriginY+a._curveBounds.y,c=a.pathData,v=c.length-1,p=c[0]-u,m=c[1]-f;h.beginPath(),h.moveTo(p,m),a.closePath||(v-=2);for(var x=2;x<v;x+=2){var g=c[x]-u,T=c[x+1]-f;h.lineTo(g,T)}a.closePath&&h.closePath(),a.isFilled&&(e(h,a),h.fill()),a.isStroked&&(t(h,a),h.stroke()),h.restore()}};return y1=r,y1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var MG=W,bG=W;MG=Fde();bG=Ide();var Ode={renderWebGL:MG,renderCanvas:bG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dde=O,Bde=Ode,Nde=Zo,Gde=Ve,VP=Br,kde=new Dde({Extends:VP,Mixins:[Bde],initialize:function(t,i,r,n,a,s){i===void 0&&(i=0),r===void 0&&(r=0),VP.call(this,t,"Curve",n),this._smoothness=32,this._curveBounds=new Gde,this.closePath=!1,this.setPosition(i,r),a!==void 0&&this.setFillStyle(a,s),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){var e=this._curveBounds,t=this._smoothness;this.geom.getBounds(e,t),this.setSize(e.width,e.height),this.updateDisplayOrigin();for(var i=[],r=this.geom.getPoints(t),n=0;n<r.length;n++)i.push(r[n].x,r[n].y);return i.push(r[0].x,r[0].y),this.pathIndexes=Nde(i),this.pathData=i,this}}),PG=kde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T1,UP;function $de(){if(UP)return T1;UP=1;var e=Ec(),t=el(),i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX,v=n._displayOriginY,p=s.alpha*n.alpha;n.isFilled&&e(l,f,n,p,c,v),n.isStroked&&t(l,n,p,c,v)};return T1=i,T1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S1,WP;function zde(){if(WP)return S1;WP=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=a._displayOriginX,f=a._displayOriginY,c=a.pathData,v=c.length-1,p=c[0]-u,m=c[1]-f;h.beginPath(),h.moveTo(p,m),a.closePath||(v-=2);for(var x=2;x<v;x+=2){var g=c[x]-u,T=c[x+1]-f;h.lineTo(g,T)}h.closePath(),a.isFilled&&(e(h,a),h.fill()),a.isStroked&&(t(h,a),h.stroke()),h.restore()}};return S1=r,S1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RG=W,LG=W;RG=$de();LG=zde();var Vde={renderWebGL:RG,renderCanvas:LG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ude=O,Wde=Zo,Yde=Vde,Hde=Sc,YP=Br,Xde=new Ude({Extends:YP,Mixins:[Yde],initialize:function(t,i,r,n,a,s,o){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),a===void 0&&(a=128),YP.call(this,t,"Ellipse",new Hde(n/2,a/2,n,a)),this._smoothness=64,this.setPosition(i,r),this.width=n,this.height=a,s!==void 0&&this.setFillStyle(s,o),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSize:function(e,t){return this.geom.setSize(e,t),this.updateData()},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){for(var e=[],t=this.geom.getPoints(this._smoothness),i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=Wde(e),this.pathData=e,this}}),FG=Xde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C1,HP;function Kde(){if(HP)return C1;HP=1;var e=Be,t=function(i,r,n,a,s){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;i.setPipeline(o),h.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),l.copyFrom(a.matrix),s?(l.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),h.e=r.x,h.f=r.y):(h.e-=a.scrollX*r.scrollFactorX,h.f-=a.scrollY*r.scrollFactorY),l.multiply(h,u),u.translate(-r._displayOriginX,-r._displayOriginY);var f=a.alpha*r.alpha,c=r.width,v=r.height,p=r.cellWidth,m=r.cellHeight,x=Math.ceil(c/p),g=Math.ceil(v/m),T=p,S=m,E=p-(x*p-c),_=m-(g*m-v),w,R,F=r.showCells,k=r.showAltCells,B=r.showOutline,N=0,d=0,y=0,C=0,M=0;if(B&&(T--,S--,E===p&&E--,_===m&&_--),F&&r.fillAlpha>0)for(w=o.fillTint,R=e.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*f),w.TL=R,w.TR=R,w.BL=R,w.BR=R,d=0;d<g;d++)for(k&&(y=d%2),N=0;N<x;N++){if(k&&y){y=0;continue}y++,C=N<x-1?T:E,M=d<g-1?S:_,o.setTexture2D(),o.batchFillRect(N*p,d*m,C,M)}if(k&&r.altFillAlpha>0)for(w=o.fillTint,R=e.getTintAppendFloatAlphaAndSwap(r.altFillColor,r.altFillAlpha*f),w.TL=R,w.TR=R,w.BL=R,w.BR=R,d=0;d<g;d++)for(k&&(y=d%2),N=0;N<x;N++){if(k&&!y){y=1;continue}y=0,C=N<x-1?T:E,M=d<g-1?S:_,o.setTexture2D(),o.batchFillRect(N*p,d*m,C,M)}if(B&&r.outlineFillAlpha>0){var A=o.strokeTint,L=e.getTintAppendFloatAlphaAndSwap(r.outlineFillColor,r.outlineFillAlpha*f);for(A.TL=L,A.TR=L,A.BL=L,A.BR=L,N=1;N<x;N++){var P=N*p;o.setTexture2D(),o.batchLine(P,0,P,v,1,1,1,0,!1)}for(d=1;d<g;d++){var b=d*m;o.setTexture2D(),o.batchLine(0,b,c,b,1,1,1,0,!1)}}};return C1=t,C1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E1,XP;function qde(){if(XP)return E1;XP=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=-a._displayOriginX,f=-a._displayOriginY,c=o.alpha*a.alpha,v=a.width,p=a.height,m=a.cellWidth,x=a.cellHeight,g=Math.ceil(v/m),T=Math.ceil(p/x),S=m,E=x,_=m-(g*m-v),w=x-(T*x-p),R=a.showCells,F=a.showAltCells,k=a.showOutline,B=0,N=0,d=0,y=0,C=0;if(k&&(S--,E--,_===m&&_--,w===x&&w--),R&&a.fillAlpha>0)for(e(h,a),N=0;N<T;N++)for(F&&(d=N%2),B=0;B<g;B++){if(F&&d){d=0;continue}d++,y=B<g-1?S:_,C=N<T-1?E:w,h.fillRect(u+B*m,f+N*x,y,C)}if(F&&a.altFillAlpha>0)for(e(h,a,a.altFillColor,a.altFillAlpha*c),N=0;N<T;N++)for(F&&(d=N%2),B=0;B<g;B++){if(F&&!d){d=1;continue}d=0,y=B<g-1?S:_,C=N<T-1?E:w,h.fillRect(u+B*m,f+N*x,y,C)}if(k&&a.outlineFillAlpha>0){for(t(h,a,a.outlineFillColor,a.outlineFillAlpha*c),B=1;B<g;B++){var M=B*m;h.beginPath(),h.moveTo(M+u,f),h.lineTo(M+u,p+f),h.stroke()}for(N=1;N<T;N++){var A=N*x;h.beginPath(),h.moveTo(u,A+f),h.lineTo(u+v,A+f),h.stroke()}}h.restore()}};return E1=r,E1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IG=W,OG=W;IG=Kde();OG=qde();var Jde={renderWebGL:IG,renderCanvas:OG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zde=O,KP=Br,Qde=Jde,jde=new Zde({Extends:KP,Mixins:[Qde],initialize:function(t,i,r,n,a,s,o,l,h,u,f){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),a===void 0&&(a=128),s===void 0&&(s=32),o===void 0&&(o=32),KP.call(this,t,"Grid",null),this.cellWidth=s,this.cellHeight=o,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,r),this.setSize(n,a),l!==void 0&&this.setFillStyle(l,h),u!==void 0&&this.setOutlineStyle(u,f),this.updateDisplayOrigin()},setFillStyle:function(e,t){return t===void 0&&(t=1),e===void 0?this.showCells=!1:(this.fillColor=e,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(e,t){return t===void 0&&(t=1),e===void 0?this.showAltCells=!1:(this.altFillColor=e,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(e,t){return t===void 0&&(t=1),e===void 0?this.showOutline=!1:(this.outlineFillColor=e,this.outlineFillAlpha=t,this.showOutline=!0),this}}),DG=jde;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _1,qP;function eve(){if(qP)return _1;qP=1;var e=Be,t=function(i,r,n,a,s){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;i.setPipeline(o),h.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),l.copyFrom(a.matrix),s?(l.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),h.e=r.x,h.f=r.y):(h.e-=a.scrollX*r.scrollFactorX,h.f-=a.scrollY*r.scrollFactorY),l.multiply(h,u);var f=r.width,c=r.height,v=f/2,p=f/r.projection,m=a.alpha*r.alpha;if(r.isFilled){var x,g,T,S,E,_,w,R,F;r.showTop&&(x=e.getTintAppendFloatAlphaAndSwap(r.fillTop,m),g=u.getX(-v,-c),T=u.getY(-v,-c),S=u.getX(0,-p-c),E=u.getY(0,-p-c),_=u.getX(v,-c),w=u.getY(v,-c),R=u.getX(0,p-c),F=u.getY(0,p-c),o.setTexture2D(),o.batchQuad(g,T,S,E,_,w,R,F,0,0,1,1,x,x,x,x,2)),r.showLeft&&(x=e.getTintAppendFloatAlphaAndSwap(r.fillLeft,m),g=u.getX(-v,0),T=u.getY(-v,0),S=u.getX(0,p),E=u.getY(0,p),_=u.getX(0,p-c),w=u.getY(0,p-c),R=u.getX(-v,-c),F=u.getY(-v,-c),o.setTexture2D(),o.batchQuad(g,T,S,E,_,w,R,F,0,0,1,1,x,x,x,x,2)),r.showRight&&(x=e.getTintAppendFloatAlphaAndSwap(r.fillRight,m),g=u.getX(v,0),T=u.getY(v,0),S=u.getX(0,p),E=u.getY(0,p),_=u.getX(0,p-c),w=u.getY(0,p-c),R=u.getX(v,-c),F=u.getY(v,-c),o.setTexture2D(),o.batchQuad(g,T,S,E,_,w,R,F,0,0,1,1,x,x,x,x,2))}};return _1=t,_1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A1,JP;function tve(){if(JP)return A1;JP=1;var e=$n(),t=Pi,i=function(r,n,a,s,o){var l=r.currentContext;if(t(r,l,n,s,o)&&n.isFilled){var h=n.width,u=n.height,f=h/2,c=h/n.projection;n.showTop&&(e(l,n,n.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(f,-1),l.lineTo(0,c-1),l.lineTo(-f,-1),l.lineTo(-f,-u),l.fill()),n.showLeft&&(e(l,n,n.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(-f,-u),l.lineTo(-f,0),l.fill()),n.showRight&&(e(l,n,n.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(f,-u),l.lineTo(f,0),l.fill()),l.restore()}};return A1=i,A1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BG=W,NG=W;BG=eve();NG=tve();var ive={renderWebGL:BG,renderCanvas:NG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rve=ive,nve=O,ZP=Br,ave=new nve({Extends:ZP,Mixins:[rve],initialize:function(t,i,r,n,a,s,o,l){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=48),a===void 0&&(a=32),s===void 0&&(s=15658734),o===void 0&&(o=10066329),l===void 0&&(l=13421772),ZP.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=s,this.fillLeft=o,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,r),this.setSize(n,a),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setFaces:function(e,t,i){return e===void 0&&(e=!0),t===void 0&&(t=!0),i===void 0&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}}),GG=ave;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var w1,QP;function sve(){if(QP)return w1;QP=1;var e=Be,t=function(i,r,n,a,s){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;i.setPipeline(o),h.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),l.copyFrom(a.matrix),s?(l.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),h.e=r.x,h.f=r.y):(h.e-=a.scrollX*r.scrollFactorX,h.f-=a.scrollY*r.scrollFactorY),l.multiply(h,u);var f=r.width,c=r.height,v=f/2,p=f/r.projection,m=r.isReversed,x=a.alpha*r.alpha;if(r.isFilled){var g,T,S,E,_,w,R;if(r.showTop&&m){g=e.getTintAppendFloatAlphaAndSwap(r.fillTop,x),T=u.getX(-v,-c),S=u.getY(-v,-c),E=u.getX(0,-p-c),_=u.getY(0,-p-c),w=u.getX(v,-c),R=u.getY(v,-c);var F=u.getX(0,p-c),k=u.getY(0,p-c);o.setTexture2D(),o.batchQuad(T,S,E,_,w,R,F,k,0,0,1,1,g,g,g,g,2)}r.showLeft&&(g=e.getTintAppendFloatAlphaAndSwap(r.fillLeft,x),m?(T=u.getX(-v,-c),S=u.getY(-v,-c),E=u.getX(0,p),_=u.getY(0,p),w=u.getX(0,p-c),R=u.getY(0,p-c)):(T=u.getX(-v,0),S=u.getY(-v,0),E=u.getX(0,p),_=u.getY(0,p),w=u.getX(0,p-c),R=u.getY(0,p-c)),o.batchTri(T,S,E,_,w,R,0,0,1,1,g,g,g,2)),r.showRight&&(g=e.getTintAppendFloatAlphaAndSwap(r.fillRight,x),m?(T=u.getX(v,-c),S=u.getY(v,-c),E=u.getX(0,p),_=u.getY(0,p),w=u.getX(0,p-c),R=u.getY(0,p-c)):(T=u.getX(v,0),S=u.getY(v,0),E=u.getX(0,p),_=u.getY(0,p),w=u.getX(0,p-c),R=u.getY(0,p-c)),o.setTexture2D(),o.batchTri(T,S,E,_,w,R,0,0,1,1,g,g,g,2))}};return w1=t,w1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M1,jP;function ove(){if(jP)return M1;jP=1;var e=$n(),t=Pi,i=function(r,n,a,s,o){var l=r.currentContext;if(t(r,l,n,s,o)&&n.isFilled){var h=n.width,u=n.height,f=h/2,c=h/n.projection,v=n.isReversed;n.showTop&&v&&(e(l,n,n.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(0,c-u),l.fill()),n.showLeft&&(e(l,n,n.fillLeft),l.beginPath(),v?(l.moveTo(-f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),n.showRight&&(e(l,n,n.fillRight),l.beginPath(),v?(l.moveTo(f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),l.restore()}};return M1=i,M1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kG=W,$G=W;kG=sve();$G=ove();var lve={renderWebGL:kG,renderCanvas:$G};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hve=O,uve=lve,e2=Br,fve=new hve({Extends:e2,Mixins:[uve],initialize:function(t,i,r,n,a,s,o,l,h){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=48),a===void 0&&(a=32),s===void 0&&(s=!1),o===void 0&&(o=15658734),l===void 0&&(l=10066329),h===void 0&&(h=13421772),e2.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=o,this.fillLeft=l,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=s,this.isFilled=!0,this.setPosition(i,r),this.setSize(n,a),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setReversed:function(e){return this.isReversed=e,this},setFaces:function(e,t,i){return e===void 0&&(e=!0),t===void 0&&(t=!0),i===void 0&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}}),zG=fve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var b1,t2;function cve(){if(t2)return b1;t2=1;var e=Be,t=function(i,r,n,a,s){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2;i.setPipeline(o),h.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),l.copyFrom(a.matrix),s?(l.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),h.e=r.x,h.f=r.y):(h.e-=a.scrollX*r.scrollFactorX,h.f-=a.scrollY*r.scrollFactorY);var u=r._displayOriginX,f=r._displayOriginY,c=a.alpha*r.alpha;if(r.isStroked){var v=o.strokeTint,p=e.getTintAppendFloatAlphaAndSwap(r.strokeColor,r.strokeAlpha*c);v.TL=p,v.TR=p,v.BL=p,v.BR=p;var m=r._startWidth,x=r._endWidth;o.setTexture2D(),o.batchLine(r.geom.x1-u,r.geom.y1-f,r.geom.x2-u,r.geom.y2-f,m,x,1,0,!1,h,l)}};return b1=t,b1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var P1,i2;function dve(){if(i2)return P1;i2=1;var e=Ia(),t=Pi,i=function(r,n,a,s,o){var l=r.currentContext;if(t(r,l,n,s,o)){var h=n._displayOriginX,u=n._displayOriginY;n.isStroked&&(e(l,n),l.beginPath(),l.moveTo(n.geom.x1-h,n.geom.y1-u),l.lineTo(n.geom.x2-h,n.geom.y2-u),l.stroke()),l.restore()}};return P1=i,P1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VG=W,UG=W;VG=cve();UG=dve();var vve={renderWebGL:VG,renderCanvas:UG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pve=O,r2=Br,mve=qs,gve=vve,xve=new pve({Extends:r2,Mixins:[gve],initialize:function(t,i,r,n,a,s,o,l,h){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=128),o===void 0&&(o=0),r2.call(this,t,"Line",new mve(n,a,s,o));var u=this.geom.right-this.geom.left,f=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(i,r),this.setSize(u,f),l!==void 0&&this.setStrokeStyle(1,l,h),this.updateDisplayOrigin()},setLineWidth:function(e,t){return t===void 0&&(t=e),this._startWidth=e,this._endWidth=t,this.lineWidth=e,this},setTo:function(e,t,i,r){return this.geom.setTo(e,t,i,r),this}}),WG=xve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R1,n2;function yve(){if(n2)return R1;n2=1;var e=Ec(),t=el(),i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX,v=n._displayOriginY,p=s.alpha*n.alpha;n.isFilled&&e(l,f,n,p,c,v),n.isStroked&&t(l,n,p,c,v)};return R1=i,R1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var L1,a2;function Tve(){if(a2)return L1;a2=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=a._displayOriginX,f=a._displayOriginY,c=a.pathData,v=c.length-1,p=c[0]-u,m=c[1]-f;h.beginPath(),h.moveTo(p,m),a.closePath||(v-=2);for(var x=2;x<v;x+=2){var g=c[x]-u,T=c[x+1]-f;h.lineTo(g,T)}h.closePath(),a.isFilled&&(e(h,a),h.fill()),a.isStroked&&(t(h,a),h.stroke()),h.restore()}};return L1=r,L1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YG=W,HG=W;YG=yve();HG=Tve();var Sve={renderWebGL:YG,renderCanvas:HG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cve=Ve,Eve=function(e,t){t===void 0&&(t=new Cve);for(var i=1/0,r=1/0,n=-i,a=-r,s,o=0;o<e.points.length;o++)s=e.points[o],i=Math.min(i,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),a=Math.max(a,s.y);return t.x=i,t.y=r,t.width=n-i,t.height=a-r,t},XG=Eve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _ve=function(e,t,i){for(var r=!1,n=-1,a=e.points.length-1;++n<e.points.length;a=n){var s=e.points[n].x,o=e.points[n].y,l=e.points[a].x,h=e.points[a].y;(o<=i&&i<h||h<=i&&i<o)&&t<(l-s)*(i-o)/(h-o)+s&&(r=!r)}return r},dE=_ve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ave=Ks,wve=qs,Mve=function(e){for(var t=e.points,i=0,r=0;r<t.length;r++){var n=t[r],a=t[(r+1)%t.length],s=new wve(n.x,n.y,a.x,a.y);i+=Ave(s)}return i},KG=Mve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bve=Ks,Pve=qs,Rve=KG,Lve=function(e,t,i,r){r===void 0&&(r=[]);var n=e.points,a=Rve(e);t||(t=a/i);for(var s=0;s<t;s++)for(var o=a*(s/t),l=0,h=0;h<n.length;h++){var u=n[h],f=n[(h+1)%n.length],c=new Pve(u.x,u.y,f.x,f.y),v=bve(c);if(o<l||o>l+v){l+=v;continue}var p=c.getPoint((o-l)/v);r.push(p);break}return r},qG=Lve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fve=O,Ive=dE,Ove=qG,Dve=ba,Bve=new Fve({initialize:function(t){this.type=Dve.POLYGON,this.area=0,this.points=[],t&&this.setTo(t)},contains:function(e,t){return Ive(this,e,t)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var t,i=Number.MAX_VALUE,r=0;r<e.length;r++)t={x:0,y:0},typeof e[r]=="number"||typeof e[r]=="string"?(t.x=parseFloat(e[r]),t.y=parseFloat(e[r+1]),r++):Array.isArray(e[r])?(t.x=e[r][0],t.y=e[r][1]):(t.x=e[r].x,t.y=e[r].y),this.points.push(t),t.y<i&&(i=t.y);return this.calculateArea(i),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,t,i,r=0;r<this.points.length-1;r++)t=this.points[r],i=this.points[r+1],e+=(i.x-t.x)*(t.y+i.y);return t=this.points[0],i=this.points[this.points.length-1],e+=(t.x-i.x)*(i.y+t.y),this.area=-e*.5,this.area},getPoints:function(e,t,i){return Ove(this,e,t,i)}}),vE=Bve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s2=function(e,t){return e[0]=t[0],e[1]=t[1],e},Nve=function(e){var t,i=[],r=e.points;for(t=0;t<r.length;t++)i.push([r[t].x,r[t].y]);var n=[];for(i.length>0&&n.push(s2([0,0],i[0])),t=0;t<i.length-1;t++){var a=i[t],s=i[t+1],o=a[0],l=a[1],h=s[0],u=s[1];n.push([.85*o+.15*h,.85*l+.15*u]),n.push([.15*o+.85*h,.15*l+.85*u])}return i.length>1&&n.push(s2([0,0],i[i.length-1])),e.setTo(n)},JG=Nve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gve=Sve,kve=O,$ve=Zo,zve=XG,Vve=vE,o2=Br,Uve=JG,Wve=new kve({Extends:o2,Mixins:[Gve],initialize:function(t,i,r,n,a,s){i===void 0&&(i=0),r===void 0&&(r=0),o2.call(this,t,"Polygon",new Vve(n));var o=zve(this.geom);this.setPosition(i,r),this.setSize(o.width,o.height),a!==void 0&&this.setFillStyle(a,s),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){e===void 0&&(e=1);for(var t=0;t<e;t++)Uve(this.geom);return this.updateData()},updateData:function(){for(var e=[],t=this.geom.points,i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=$ve(e),this.pathData=e,this}}),ZG=Wve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var F1,l2;function Yve(){if(l2)return F1;l2=1;var e=el(),t=Be,i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX,v=n._displayOriginY,p=s.alpha*n.alpha;if(n.isFilled){var m=l.fillTint,x=t.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*p);m.TL=x,m.TR=x,m.BL=x,m.BR=x,l.setTexture2D(),l.batchFillRect(-c,-v,n.width,n.height)}n.isStroked&&e(l,n,p,c,v)};return F1=i,F1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var I1,h2;function Hve(){if(h2)return I1;h2=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=a._displayOriginX,f=a._displayOriginY;a.isFilled&&(e(h,a),h.fillRect(-u,-f,a.width,a.height)),a.isStroked&&(t(h,a),h.beginPath(),h.rect(-u,-f,a.width,a.height),h.stroke()),h.restore()}};return I1=r,I1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QG=W,jG=W;QG=Yve();jG=Hve();var Xve={renderWebGL:QG,renderCanvas:jG};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Kve=O,qve=Ve,u2=Br,Jve=Xve,Zve=new Kve({Extends:u2,Mixins:[Jve],initialize:function(t,i,r,n,a,s,o){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),a===void 0&&(a=128),u2.call(this,t,"Rectangle",new qve(0,0,n,a)),this.setPosition(i,r),this.setSize(n,a),s!==void 0&&this.setFillStyle(s,o),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),t.getLineD(i),e.push(i.x2,i.y2),this.pathData=e,this}}),ek=Zve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var O1,f2;function Qve(){if(f2)return O1;f2=1;var e=Ec(),t=el(),i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX,v=n._displayOriginY,p=s.alpha*n.alpha;n.isFilled&&e(l,f,n,p,c,v),n.isStroked&&t(l,n,p,c,v)};return O1=i,O1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D1,c2;function jve(){if(c2)return D1;c2=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=a._displayOriginX,f=a._displayOriginY,c=a.pathData,v=c.length-1,p=c[0]-u,m=c[1]-f;h.beginPath(),h.moveTo(p,m),a.closePath||(v-=2);for(var x=2;x<v;x+=2){var g=c[x]-u,T=c[x+1]-f;h.lineTo(g,T)}h.closePath(),a.isFilled&&(e(h,a),h.fill()),a.isStroked&&(t(h,a),h.stroke()),h.restore()}};return D1=r,D1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tk=W,ik=W;tk=Qve();ik=jve();var epe={renderWebGL:tk,renderCanvas:ik};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tpe=epe,ipe=O,rpe=Zo,d2=Br,npe=new ipe({Extends:d2,Mixins:[tpe],initialize:function(t,i,r,n,a,s,o,l){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=5),a===void 0&&(a=32),s===void 0&&(s=64),d2.call(this,t,"Star",null),this._points=n,this._innerRadius=a,this._outerRadius=s,this.setPosition(i,r),this.setSize(s*2,s*2),o!==void 0&&this.setFillStyle(o,l),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],t=this._points,i=this._innerRadius,r=this._outerRadius,n=Math.PI/2*3,a=Math.PI/t,s=r,o=r;e.push(s,o+-r);for(var l=0;l<t;l++)e.push(s+Math.cos(n)*r,o+Math.sin(n)*r),n+=a,e.push(s+Math.cos(n)*i,o+Math.sin(n)*i),n+=a;return e.push(s,o+-r),this.pathIndexes=rpe(e),this.pathData=e,this}}),rk=npe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ape=function(e,t,i){var r=e.x3-e.x1,n=e.y3-e.y1,a=e.x2-e.x1,s=e.y2-e.y1,o=t-e.x1,l=i-e.y1,h=r*r+n*n,u=r*a+n*s,f=r*o+n*l,c=a*a+s*s,v=a*o+s*l,p=h*c-u*u,m=p===0?0:1/p,x=(c*f-u*v)*m,g=(h*v-u*f)*m;return x>=0&&g>=0&&x+g<1},Kh=ape;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var spe=ce,B1=Ks,ope=function(e,t,i){i===void 0&&(i=new spe);var r=e.getLineA(),n=e.getLineB(),a=e.getLineC();if(t<=0||t>=1)return i.x=r.x1,i.y=r.y1,i;var s=B1(r),o=B1(n),l=B1(a),h=s+o+l,u=h*t,f=0;return u<s?(f=u/s,i.x=r.x1+(r.x2-r.x1)*f,i.y=r.y1+(r.y2-r.y1)*f):u>s+o?(u-=s+o,f=u/l,i.x=a.x1+(a.x2-a.x1)*f,i.y=a.y1+(a.y2-a.y1)*f):(u-=s,f=u/o,i.x=n.x1+(n.x2-n.x1)*f,i.y=n.y1+(n.y2-n.y1)*f),i},nk=ope;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var N1=Ks,lpe=ce,hpe=function(e,t,i,r){r===void 0&&(r=[]);var n=e.getLineA(),a=e.getLineB(),s=e.getLineC(),o=N1(n),l=N1(a),h=N1(s),u=o+l+h;t||(t=u/i);for(var f=0;f<t;f++){var c=u*(f/t),v=0,p=new lpe;c<o?(v=c/o,p.x=n.x1+(n.x2-n.x1)*v,p.y=n.y1+(n.y2-n.y1)*v):c>o+l?(c-=o+l,v=c/h,p.x=s.x1+(s.x2-s.x1)*v,p.y=s.y1+(s.y2-s.y1)*v):(c-=o,v=c/l,p.x=a.x1+(a.x2-a.x1)*v,p.y=a.y1+(a.y2-a.y1)*v),r.push(p)}return r},ak=hpe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var upe=O,fpe=Kh,cpe=nk,dpe=ak,vpe=ba,G1=qs,ppe=vC,mpe=new upe({initialize:function(t,i,r,n,a,s){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=0),this.type=vpe.TRIANGLE,this.x1=t,this.y1=i,this.x2=r,this.y2=n,this.x3=a,this.y3=s},contains:function(e,t){return fpe(this,e,t)},getPoint:function(e,t){return cpe(this,e,t)},getPoints:function(e,t,i){return dpe(this,e,t,i)},getRandomPoint:function(e){return ppe(this,e)},setTo:function(e,t,i,r,n,a){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=0),this.x1=e,this.y1=t,this.x2=i,this.y2=r,this.x3=n,this.y3=a,this},getLineA:function(e){return e===void 0&&(e=new G1),e.setTo(this.x1,this.y1,this.x2,this.y2),e},getLineB:function(e){return e===void 0&&(e=new G1),e.setTo(this.x2,this.y2,this.x3,this.y3),e},getLineC:function(e){return e===void 0&&(e=new G1),e.setTo(this.x3,this.y3,this.x1,this.y1),e},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(e){var t=0;this.x1<=this.x2&&this.x1<=this.x3?t=this.x1-e:this.x2<=this.x1&&this.x2<=this.x3?t=this.x2-e:t=this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(e){var t=0;this.x1>=this.x2&&this.x1>=this.x3?t=this.x1-e:this.x2>=this.x1&&this.x2>=this.x3?t=this.x2-e:t=this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(e){var t=0;this.y1<=this.y2&&this.y1<=this.y3?t=this.y1-e:this.y2<=this.y1&&this.y2<=this.y3?t=this.y2-e:t=this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(e){var t=0;this.y1>=this.y2&&this.y1>=this.y3?t=this.y1-e:this.y2>=this.y1&&this.y2>=this.y3?t=this.y2-e:t=this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}}}),tl=mpe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var k1,v2;function gpe(){if(v2)return k1;v2=1;var e=el(),t=Be,i=function(r,n,a,s,o){var l=this.pipeline,h=l._tempMatrix1,u=l._tempMatrix2,f=l._tempMatrix3;r.setPipeline(l),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(s.matrix),o?(h.multiplyWithOffset(o,-s.scrollX*n.scrollFactorX,-s.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=s.scrollX*n.scrollFactorX,u.f-=s.scrollY*n.scrollFactorY),h.multiply(u,f);var c=n._displayOriginX,v=n._displayOriginY,p=s.alpha*n.alpha;if(n.isFilled){var m=l.fillTint,x=t.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*p);m.TL=x,m.TR=x,m.BL=x,m.BR=x;var g=n.geom.x1-c,T=n.geom.y1-v,S=n.geom.x2-c,E=n.geom.y2-v,_=n.geom.x3-c,w=n.geom.y3-v;l.setTexture2D(),l.batchFillTriangle(g,T,S,E,_,w,u,h)}n.isStroked&&e(l,n,p,c,v)};return k1=i,k1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $1,p2;function xpe(){if(p2)return $1;p2=1;var e=$n(),t=Ia(),i=Pi,r=function(n,a,s,o,l){var h=n.currentContext;if(i(n,h,a,o,l)){var u=a._displayOriginX,f=a._displayOriginY,c=a.geom.x1-u,v=a.geom.y1-f,p=a.geom.x2-u,m=a.geom.y2-f,x=a.geom.x3-u,g=a.geom.y3-f;h.beginPath(),h.moveTo(c,v),h.lineTo(p,m),h.lineTo(x,g),h.closePath(),a.isFilled&&(e(h,a),h.fill()),a.isStroked&&(t(h,a),h.stroke()),h.restore()}};return $1=r,$1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sk=W,ok=W;sk=gpe();ok=xpe();var ype={renderWebGL:sk,renderCanvas:ok};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tpe=O,m2=Br,Spe=tl,Cpe=ype,Epe=new Tpe({Extends:m2,Mixins:[Cpe],initialize:function(t,i,r,n,a,s,o,l,h,u,f){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=128),s===void 0&&(s=64),o===void 0&&(o=0),l===void 0&&(l=128),h===void 0&&(h=128),m2.call(this,t,"Triangle",new Spe(n,a,s,o,l,h));var c=this.geom.right-this.geom.left,v=this.geom.bottom-this.geom.top;this.setPosition(i,r),this.setSize(c,v),u!==void 0&&this.setFillStyle(u,f),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,t,i,r,n,a){return this.geom.setTo(e,t,i,r,n,a),this.updateData()},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),this.pathData=e,this}}),lk=Epe,_pe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ape=eE,wpe=de;wpe.register("blitter",function(e,t,i,r){return this.displayList.add(new Ape(this.scene,e,t,i,r))});var Mpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bpe=tE,Ppe=de;Ppe.register("container",function(e,t,i){return this.displayList.add(new bpe(this.scene,e,t,i))});var Rpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lpe=YN,Fpe=de;Fpe.register("dom",function(e,t,i,r,n){var a=new Lpe(this.scene,e,t,i,r,n);return this.displayList.add(a),this.updateList.add(a),a});var Ipe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ope=iE,Dpe=de;Dpe.register("dynamicBitmapText",function(e,t,i,r,n){return this.displayList.add(new Ope(this.scene,e,t,i,r,n))});var Bpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Npe=JN,Gpe=de;Gpe.register("extern",function(){var e=new Npe(this.scene);return this.displayList.add(e),this.updateList.add(e),e});var kpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $pe=sE,zpe=de;zpe.register("graphics",function(e){return this.displayList.add(new $pe(this.scene,e))});var Vpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Upe=Cc,Wpe=de;Wpe.register("group",function(e,t){return this.updateList.add(new Upe(this.scene,e,t))});var Ype={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hpe=Yh,Xpe=de;Xpe.register("image",function(e,t,i,r){return this.displayList.add(new Hpe(this.scene,e,t,i,r))});var Kpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qpe=de,Jpe=oE;qpe.register("particles",function(e,t,i){var r=new Jpe(this.scene,e,t,i);return this.displayList.add(r),this.updateList.add(r),r});var Zpe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qpe=de,jpe=pG;Qpe.register("follower",function(e,t,i,r,n){var a=new jpe(this.scene,e,t,i,r,n);return this.displayList.add(a),this.updateList.add(a),a});var e0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t0e=de,i0e=hE;t0e.register("renderTexture",function(e,t,i,r,n,a){return this.displayList.add(new i0e(this.scene,e,t,i,r,n,a))});var r0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n0e=de,a0e=Fa;n0e.register("sprite",function(e,t,i,r){var n=new a0e(this.scene,e,t,i,r);return this.displayList.add(n),this.updateList.add(n),n});var s0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o0e=L0,l0e=de;l0e.register("bitmapText",function(e,t,i,r,n,a){return this.displayList.add(new o0e(this.scene,e,t,i,r,n,a))});var h0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u0e=uE,f0e=de;f0e.register("text",function(e,t,i,r){return this.displayList.add(new u0e(this.scene,e,t,i,r))});var c0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d0e=fE,v0e=de;v0e.register("tileSprite",function(e,t,i,r,n,a){return this.displayList.add(new d0e(this.scene,e,t,i,r,n,a))});var p0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var m0e=d0,g0e=de;g0e.register("zone",function(e,t,i,r){return this.displayList.add(new m0e(this.scene,e,t,i,r))});var x0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y0e=cE,T0e=de;T0e.register("video",function(e,t,i){var r=new y0e(this.scene,e,t,i);return this.displayList.add(r),this.updateList.add(r),r});var S0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hk=wG,uk=de;uk.register("arc",function(e,t,i,r,n,a,s,o){return this.displayList.add(new hk(this.scene,e,t,i,r,n,a,s,o))});uk.register("circle",function(e,t,i,r,n){return this.displayList.add(new hk(this.scene,e,t,i,0,360,!1,r,n))});var C0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E0e=de,_0e=PG;E0e.register("curve",function(e,t,i,r,n){return this.displayList.add(new _0e(this.scene,e,t,i,r,n))});var A0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var w0e=FG,M0e=de;M0e.register("ellipse",function(e,t,i,r,n,a){return this.displayList.add(new w0e(this.scene,e,t,i,r,n,a))});var b0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var P0e=de,R0e=DG;P0e.register("grid",function(e,t,i,r,n,a,s,o,l,h){return this.displayList.add(new R0e(this.scene,e,t,i,r,n,a,s,o,l,h))});var L0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var F0e=de,I0e=GG;F0e.register("isobox",function(e,t,i,r,n,a,s){return this.displayList.add(new I0e(this.scene,e,t,i,r,n,a,s))});var O0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D0e=de,B0e=zG;D0e.register("isotriangle",function(e,t,i,r,n,a,s,o){return this.displayList.add(new B0e(this.scene,e,t,i,r,n,a,s,o))});var N0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var G0e=de,k0e=WG;G0e.register("line",function(e,t,i,r,n,a,s,o){return this.displayList.add(new k0e(this.scene,e,t,i,r,n,a,s,o))});var $0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var z0e=de,V0e=ZG;z0e.register("polygon",function(e,t,i,r,n){return this.displayList.add(new V0e(this.scene,e,t,i,r,n))});var U0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var W0e=de,Y0e=ek;W0e.register("rectangle",function(e,t,i,r,n,a){return this.displayList.add(new Y0e(this.scene,e,t,i,r,n,a))});var H0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var X0e=rk,K0e=de;K0e.register("star",function(e,t,i,r,n,a,s){return this.displayList.add(new X0e(this.scene,e,t,i,r,n,a,s))});var q0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J0e=de,Z0e=lk;J0e.register("triangle",function(e,t,i,r,n,a,s,o,l,h){return this.displayList.add(new Z0e(this.scene,e,t,i,r,n,a,s,o,l,h))});var Q0e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var j0e=eE,eme=bi,tme=at,g2=tt;tme.register("blitter",function(e,t){e===void 0&&(e={});var i=g2(e,"key",null),r=g2(e,"frame",null),n=new j0e(this.scene,0,0,i,r);return t!==void 0&&(e.add=t),eme(this.scene,n,e),n});var ime={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rme=bi,nme=tE,ame=at,x2=tt;ame.register("container",function(e,t){e===void 0&&(e={});var i=x2(e,"x",0),r=x2(e,"y",0),n=new nme(this.scene,i,r);return t!==void 0&&(e.add=t),rme(this.scene,n,e),n});var sme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ome=iE,lme=bi,hme=at,z1=tt;hme.register("dynamicBitmapText",function(e,t){e===void 0&&(e={});var i=z1(e,"font",""),r=z1(e,"text",""),n=z1(e,"size",!1),a=new ome(this.scene,0,0,i,r,n);return t!==void 0&&(e.add=t),lme(this.scene,a,e),a});var ume={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fme=at,cme=sE;fme.register("graphics",function(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var i=new cme(this.scene,e);return e.add&&this.scene.sys.displayList.add(i),i});var dme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vme=at,pme=Cc;vme.register("group",function(e){return new pme(this.scene,null,e)});var mme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gme=bi,xme=at,y2=tt,yme=Yh;xme.register("image",function(e,t){e===void 0&&(e={});var i=y2(e,"key",null),r=y2(e,"frame",null),n=new yme(this.scene,0,0,i,r);return t!==void 0&&(e.add=t),gme(this.scene,n,e),n});var Tme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Sme=at,T2=tt,S2=Y,Cme=oE;Sme.register("particles",function(e,t){e===void 0&&(e={});var i=T2(e,"key",null),r=T2(e,"frame",null),n=S2(e,"emitters",null),a=new Cme(this.scene,i,r,n);t!==void 0&&(e.add=t);var s=S2(e,"add",!1);return s&&this.displayList.add(a),this.updateList.add(a),a});var Eme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _me=bi,Ame=at,Ll=tt,wme=hE;Ame.register("renderTexture",function(e,t){e===void 0&&(e={});var i=Ll(e,"x",0),r=Ll(e,"y",0),n=Ll(e,"width",32),a=Ll(e,"height",32),s=Ll(e,"key",void 0),o=Ll(e,"frame",void 0),l=new wme(this.scene,i,r,n,a,s,o);return t!==void 0&&(e.add=t),_me(this.scene,l,e),l});var Mme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bme=bi,Pme=QC,Rme=at,C2=tt,Lme=Fa;Rme.register("sprite",function(e,t){e===void 0&&(e={});var i=C2(e,"key",null),r=C2(e,"frame",null),n=new Lme(this.scene,0,0,i,r);return t!==void 0&&(e.add=t),bme(this.scene,n,e),Pme(n,e),n});var Fme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ime=L0,Ome=bi,Dme=at,E2=tt,_2=me;Dme.register("bitmapText",function(e,t){e===void 0&&(e={});var i=_2(e,"font",""),r=E2(e,"text",""),n=E2(e,"size",!1),a=_2(e,"align",0),s=new Ime(this.scene,0,0,i,r,n,a);return t!==void 0&&(e.add=t),Ome(this.scene,s,e),s});var Bme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nme=bi,Gme=at,Fu=tt,kme=uE;Gme.register("text",function(e,t){e===void 0&&(e={});var i=Fu(e,"text",""),r=Fu(e,"style",null),n=Fu(e,"padding",null);n!==null&&(r.padding=n);var a=new kme(this.scene,0,0,i,r);return t!==void 0&&(e.add=t),Nme(this.scene,a,e),a.autoRound=Fu(e,"autoRound",!0),a.resolution=Fu(e,"resolution",1),a});var $me={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zme=bi,Vme=at,Fl=tt,Ume=fE;Vme.register("tileSprite",function(e,t){e===void 0&&(e={});var i=Fl(e,"x",0),r=Fl(e,"y",0),n=Fl(e,"width",512),a=Fl(e,"height",512),s=Fl(e,"key",""),o=Fl(e,"frame",""),l=new Ume(this.scene,i,r,n,a,s,o);return t!==void 0&&(e.add=t),zme(this.scene,l,e),l});var Wme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yme=at,Gd=tt,Hme=d0;Yme.register("zone",function(e){var t=Gd(e,"x",0),i=Gd(e,"y",0),r=Gd(e,"width",1),n=Gd(e,"height",r);return new Hme(this.scene,t,i,r,n)});var Xme={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Kme=bi,qme=at,Jme=tt,Zme=cE;qme.register("video",function(e,t){e===void 0&&(e={});var i=Jme(e,"key",null),r=new Zme(this.scene,0,0,i);return t!==void 0&&(e.add=t),Kme(this.scene,r,e),r});/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var V1,A2;function Qme(){if(A2)return V1;A2=1;var e=Be,t=function(i,r,n,a,s){var o=this.pipeline;i.setPipeline(o,r);var l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;h.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),l.copyFrom(a.matrix),s?(l.multiplyWithOffset(s,-a.scrollX*r.scrollFactorX,-a.scrollY*r.scrollFactorY),h.e=r.x,h.f=r.y,l.multiply(h,u)):(h.e-=a.scrollX*r.scrollFactorX,h.f-=a.scrollY*r.scrollFactorY,l.multiply(h,u));var f=r.frame,c=f.glTexture,v=r.vertices,p=r.uv,m=r.colors,x=r.alphas,g=v.length,T=Math.floor(g*.5);o.vertexCount+T>o.vertexCapacity&&o.flush(),o.setTexture2D(c,0);for(var S=o.vertexViewF32,E=o.vertexViewU32,_=o.vertexCount*o.vertexComponentCount-1,w=0,R=r.tintFill,F=0;F<g;F+=2){var k=v[F+0],B=v[F+1],N=k*u.a+B*u.c+u.e,d=k*u.b+B*u.d+u.f;a.roundPixels&&(N=Math.round(N),d=Math.round(d)),S[++_]=N,S[++_]=d,S[++_]=p[F+0],S[++_]=p[F+1],S[++_]=R,E[++_]=e.getTintAppendFloatAlpha(m[w],a.alpha*x[w]),w++}o.vertexCount+=T};return V1=t,V1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var U1,w2;function jme(){if(w2)return U1;w2=1;var e=function(){};return U1=e,U1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var W1,M2;function ege(){if(M2)return W1;M2=1;var e=W,t=W;return e=Qme(),t=jme(),W1={renderWebGL:e,renderCanvas:t},W1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Y1,b2;function F0(){if(b2)return Y1;b2=1;var e=O,t=Ke,i=qe,r=ege(),n=W,a=new e({Extends:i,Mixins:[t.BlendMode,t.Depth,t.GetBounds,t.Mask,t.Pipeline,t.Size,t.Texture,t.Transform,t.Visible,t.ScrollFactor,r],initialize:function(o,l,h,u,f,c,v,p,m){if(i.call(this,o,"Mesh"),u.length!==f.length)throw new Error("Mesh Vertex count must match UV count");var x=u.length/2|0;if(c.length>0&&c.length<x)throw new Error("Mesh Color count must match Vertex count");if(v.length>0&&v.length<x)throw new Error("Mesh Alpha count must match Vertex count");var g;if(c.length===0)for(g=0;g<x;++g)c[g]=16777215;if(v.length===0)for(g=0;g<x;++g)v[g]=1;this.vertices=new Float32Array(u),this.uv=new Float32Array(f),this.colors=new Uint32Array(c),this.alphas=new Float32Array(v),this.tintFill=!1,this.setTexture(p,m),this.setPosition(l,h),this.setSizeToFrame(),this.initPipeline()},setAlpha:n});return Y1=a,Y1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var H1,P2;function pE(){if(P2)return H1;P2=1;var e=O,t=F0(),i=new e({Extends:t,initialize:function(n,a,s,o,l){var h=[0,0,0,0,0,0,0,0,0,0,0,0],u=[0,0,0,1,1,1,0,0,1,1,1,0],f=[16777215,16777215,16777215,16777215,16777215,16777215],c=[1,1,1,1,1,1];t.call(this,n,a,s,h,u,f,c,o,l),this.resetPosition()},setFrame:function(r){return this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=8,r=this.frame,this.uv[0]=r.u0,this.uv[1]=r.v0,this.uv[2]=r.u0,this.uv[3]=r.v1,this.uv[4]=r.u1,this.uv[5]=r.v1,this.uv[6]=r.u0,this.uv[7]=r.v0,this.uv[8]=r.u1,this.uv[9]=r.v1,this.uv[10]=r.u1,this.uv[11]=r.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(r){this.vertices[0]=r-this.x,this.vertices[6]=r-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(r){this.vertices[1]=r-this.y,this.vertices[7]=r-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(r){this.vertices[10]=r-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(r){this.vertices[11]=r-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(r){this.vertices[2]=r-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(r){this.vertices[3]=r-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(r){this.vertices[4]=r-this.x,this.vertices[8]=r-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(r){this.vertices[5]=r-this.y,this.vertices[9]=r-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(r){this.alphas[0]=r,this.alphas[3]=r}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(r){this.alphas[5]=r}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(r){this.alphas[1]=r}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(r){this.alphas[2]=r,this.alphas[4]=r}},topLeftColor:{get:function(){return this.colors[0]},set:function(r){this.colors[0]=r,this.colors[3]=r}},topRightColor:{get:function(){return this.colors[5]},set:function(r){this.colors[5]=r}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(r){this.colors[1]=r}},bottomRightColor:{get:function(){return this.colors[2]},set:function(r){this.colors[2]=r,this.colors[4]=r}},setTopLeft:function(r,n){return this.topLeftX=r,this.topLeftY=n,this},setTopRight:function(r,n){return this.topRightX=r,this.topRightY=n,this},setBottomLeft:function(r,n){return this.bottomLeftX=r,this.bottomLeftY=n,this},setBottomRight:function(r,n){return this.bottomRightX=r,this.bottomRightY=n,this},resetPosition:function(){var r=this.x,n=this.y,a=Math.floor(this.width/2),s=Math.floor(this.height/2);return this.setTopLeft(r-a,n-s),this.setTopRight(r+a,n-s),this.setBottomLeft(r-a,n+s),this.setBottomRight(r+a,n+s),this},resetAlpha:function(){var r=this.alphas;return r[0]=1,r[1]=1,r[2]=1,r[3]=1,r[4]=1,r[5]=1,this},resetColors:function(){var r=this.colors;return r[0]=16777215,r[1]=16777215,r[2]=16777215,r[3]=16777215,r[4]=16777215,r[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});return H1=i,H1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tge=function(e,t,i){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return e[t]=i,!0;if(t.indexOf(".")!==-1){for(var r=t.split("."),n=e,a=e,s=0;s<r.length;s++)if(n.hasOwnProperty(r[s]))a=n,n=n[r[s]];else return!1;return a[r[r.length-1]]=i,!0}return!1},fk=tge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var X1,R2;function ige(){if(R2)return X1;R2=1;var e=function(t,i,r,n,a){if(i.shader){var s=t.currentPipeline;if(t.clearPipeline(),i.renderToTexture)i.load(),i.flush();else{var o=i._tempMatrix1,l=i._tempMatrix2,h=i._tempMatrix3;l.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),o.copyFrom(n.matrix),a?(o.multiplyWithOffset(a,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),l.e=i.x,l.f=i.y):(l.e-=n.scrollX*i.scrollFactorX,l.f-=n.scrollY*i.scrollFactorY),o.multiply(l,h),(t.width!==i._rendererWidth||t.height!==i._rendererHeight)&&i.projOrtho(0,t.width,t.height,0),i.load(h.matrix),i.flush()}t.rebindPipeline(s)}};return X1=e,X1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var K1,L2;function rge(){if(L2)return K1;L2=1;var e=function(){};return K1=e,K1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var q1,F2;function nge(){if(F2)return q1;F2=1;var e=W,t=W;return e=ige(),t=rge(),q1={renderWebGL:e,renderCanvas:t},q1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J1,I2;function mE(){if(I2)return J1;I2=1;var e=O,t=Ke,i=qe,r=Y,n=pt,a=fk,s=nge(),o=hn,l=new e({Extends:i,Mixins:[t.ComputedSize,t.Depth,t.GetBounds,t.Mask,t.Origin,t.ScrollFactor,t.Transform,t.Visible,s],initialize:function(u,f,c,v,p,m,x,g){c===void 0&&(c=0),v===void 0&&(v=0),p===void 0&&(p=128),m===void 0&&(m=128),i.call(this,u,"Shader"),this.blendMode=-1,this.shader;var T=u.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(c,v),this.setSize(p,m),this.setOrigin(.5,.5),this.setShader(f,x,g)},willRender:function(h){return this.renderToTexture?!0:!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setRenderToTexture:function(h,u){if(u===void 0&&(u=!1),!this.renderToTexture){var f=this.width,c=this.height,v=this.renderer;this.glTexture=v.createTextureFromSource(null,f,c,0),this.glTexture.flipY=u,this.framebuffer=v.createFramebuffer(f,c,this.glTexture,!1),this._rendererWidth=f,this._rendererHeight=c,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),h&&(this.texture=this.scene.sys.textures.addGLTexture(h,this.glTexture,f,c))}if(this.shader){var p=v.currentPipeline;v.clearPipeline(),this.load(),this.flush(),v.rebindPipeline(p)}return this},setShader:function(h,u,f){if(u===void 0&&(u=[]),typeof h=="string"){var c=this.scene.sys.cache.shader;if(!c.has(h))return console.warn("Shader missing: "+h),this;this.shader=c.get(h)}else this.shader=h;var v=this.gl,p=this.renderer;this.program&&v.deleteProgram(this.program);var m=p.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);p.setMatrix4(m,"uViewMatrix",!1,this.viewMatrix),p.setMatrix4(m,"uProjectionMatrix",!1,this.projectionMatrix),p.setFloat2(m,"uResolution",this.width,this.height),this.program=m;var x=new Date,g={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[x.getFullYear(),x.getMonth(),x.getDate(),x.getHours()*60*60+x.getMinutes()*60+x.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,g):this.uniforms=g;for(var T=0;T<4;T++)u[T]&&this.setSampler2D("iChannel"+T,u[T],T,f);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(h){return this.pointer=h,this},projOrtho:function(h,u,f,c){var v=-1e3,p=1e3,m=1/(h-u),x=1/(f-c),g=1/(v-p),T=this.projectionMatrix;T[0]=-2*m,T[5]=-2*x,T[10]=2*g,T[12]=(h+u)*m,T[13]=(c+f)*x,T[14]=(p+v)*g;var S=this.program;this.renderer.setMatrix4(S,"uProjectionMatrix",!1,this.projectionMatrix),this._rendererWidth=u,this._rendererHeight=f},initUniforms:function(){var h=this.gl,u=this.renderer.glFuncMap,f=this.program;this._textureCount=0;for(var c in this.uniforms){var v=this.uniforms[c],p=v.type,m=u[p];v.uniformLocation=h.getUniformLocation(f,c),p!=="sampler2D"&&(v.glMatrix=m.matrix,v.glValueLength=m.length,v.glFunc=m.func)}},setSampler2DBuffer:function(h,u,f,c,v,p){v===void 0&&(v=0),p===void 0&&(p={});var m=this.uniforms[h];return m.value=u,p.width=f,p.height=c,m.textureData=p,this._textureCount=v,this.initSampler2D(m),this},setSampler2D:function(h,u,f,c){f===void 0&&(f=0);var v=this.scene.sys.textures;if(v.exists(u)){var p=v.getFrame(u),m=this.uniforms[h],x=p.source;m.textureKey=u,m.source=x.image,m.value=p.glTexture,x.isGLTexture&&(c||(c={}),c.width=x.width,c.height=x.height),c&&(m.textureData=c),this._textureCount=f,this.initSampler2D(m)}return this},setUniform:function(h,u){return a(this.uniforms,h,u),this},getUniform:function(h){return r(this.uniforms,h,null)},setChannel0:function(h,u){return this.setSampler2D("iChannel0",h,0,u)},setChannel1:function(h,u){return this.setSampler2D("iChannel1",h,1,u)},setChannel2:function(h,u){return this.setSampler2D("iChannel2",h,2,u)},setChannel3:function(h,u){return this.setSampler2D("iChannel3",h,3,u)},initSampler2D:function(h){if(h.value){var u=this.gl;u.activeTexture(u.TEXTURE0+this._textureCount),u.bindTexture(u.TEXTURE_2D,h.value);var f=h.textureData;if(f){var c=u[r(f,"magFilter","linear").toUpperCase()],v=u[r(f,"minFilter","linear").toUpperCase()],p=u[r(f,"wrapS","repeat").toUpperCase()],m=u[r(f,"wrapT","repeat").toUpperCase()],x=u[r(f,"format","rgba").toUpperCase()];if(f.repeat&&(p=u.REPEAT,m=u.REPEAT),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!!f.flipY),f.width){var g=r(f,"width",512),T=r(f,"height",2),S=r(f,"border",0);u.texImage2D(u.TEXTURE_2D,0,x,g,T,S,x,u.UNSIGNED_BYTE,null)}else u.texImage2D(u.TEXTURE_2D,0,x,u.RGBA,u.UNSIGNED_BYTE,h.source);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,c),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,v),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,p),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,m)}this.renderer.setProgram(this.program),u.uniform1i(h.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var h=this.gl,u=this.uniforms,f,c,v,p,m,x=0;for(var g in u)f=u[g],v=f.glFunc,c=f.glValueLength,p=f.uniformLocation,m=f.value,m!==null&&(c===1?f.glMatrix?v.call(h,p,f.transpose,m):v.call(h,p,m):c===2?v.call(h,p,m.x,m.y):c===3?v.call(h,p,m.x,m.y,m.z):c===4?v.call(h,p,m.x,m.y,m.z,m.w):f.type==="sampler2D"&&(h.activeTexture(h["TEXTURE"+x]),h.bindTexture(h.TEXTURE_2D,m),h.uniform1i(p,x),x++))},load:function(h){var u=this.gl,f=this.width,c=this.height,v=this.renderer,p=this.program,m=this.viewMatrix;if(!this.renderToTexture){var x=-this._displayOriginX,g=-this._displayOriginY;m[0]=h[0],m[1]=h[1],m[4]=h[2],m[5]=h[3],m[8]=h[4],m[9]=h[5],m[12]=m[0]*x+m[4]*g,m[13]=m[1]*x+m[5]*g}u.useProgram(p),u.uniformMatrix4fv(u.getUniformLocation(p,"uViewMatrix"),!1,m),u.uniform2f(u.getUniformLocation(p,"uResolution"),this.width,this.height);var T=this.uniforms,S=T.resolution;S.value.x=f,S.value.y=c,T.time.value=v.game.loop.getDuration();var E=this.pointer;if(E){var _=T.mouse,w=E.x/f,R=1-E.y/c;_.value.x=w.toFixed(2),_.value.y=R.toFixed(2)}this.syncUniforms()},flush:function(){var h=this.width,u=this.height,f=this.program,c=this.gl,v=this.vertexBuffer,p=this.renderer,m=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(p.setFramebuffer(this.framebuffer),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)),c.bindBuffer(c.ARRAY_BUFFER,v);var x=c.getAttribLocation(f,"inPosition");x!==-1&&(c.enableVertexAttribArray(x),c.vertexAttribPointer(x,2,c.FLOAT,!1,m,0));var g=this.vertexViewF32;g[3]=u,g[4]=h,g[5]=u,g[8]=h,g[9]=u,g[10]=h;var T=6;c.bufferSubData(c.ARRAY_BUFFER,0,this.bytes.subarray(0,T*m)),c.drawArrays(c.TRIANGLES,0,T),this.renderToTexture&&p.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var h=this.gl;h.deleteProgram(this.program),h.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});return J1=l,J1}var O2={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D2;function age(){if(D2)return O2;D2=1;var e=F0(),t=de;return t.register("mesh",function(i,r,n,a,s,o,l,h){return this.displayList.add(new e(this.scene,i,r,n,a,s,o,l,h))}),O2}var B2={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var N2;function sge(){if(N2)return B2;N2=1;var e=pE(),t=de;return t.register("quad",function(i,r,n,a){return this.displayList.add(new e(this.scene,i,r,n,a))}),B2}var G2={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var k2;function oge(){if(k2)return G2;k2=1;var e=mE(),t=de;return t.register("shader",function(i,r,n,a,s,o,l){return this.displayList.add(new e(this.scene,i,r,n,a,s,o,l))}),G2}var $2={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var z2;function lge(){if(z2)return $2;z2=1;var e=bi,t=at,i=tt,r=me,n=F0();return t.register("mesh",function(a,s){a===void 0&&(a={});var o=i(a,"key",null),l=i(a,"frame",null),h=r(a,"vertices",[]),u=r(a,"colors",[]),f=r(a,"alphas",[]),c=r(a,"uv",[]),v=new n(this.scene,0,0,h,c,u,f,o,l);return s!==void 0&&(a.add=s),e(this.scene,v,a),v}),$2}var V2={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var U2;function hge(){if(U2)return V2;U2=1;var e=bi,t=at,i=tt,r=pE();return t.register("quad",function(n,a){n===void 0&&(n={});var s=i(n,"x",0),o=i(n,"y",0),l=i(n,"key",null),h=i(n,"frame",null),u=new r(this.scene,s,o,l,h);return a!==void 0&&(n.add=a),e(this.scene,u,n),u}),V2}var W2={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Y2;function uge(){if(Y2)return W2;Y2=1;var e=bi,t=at,i=tt,r=mE();return t.register("shader",function(n,a){n===void 0&&(n={});var s=i(n,"key",null),o=i(n,"x",0),l=i(n,"y",0),h=i(n,"width",128),u=i(n,"height",128),f=new r(this.scene,s,o,l,h,u);return a!==void 0&&(n.add=a),e(this.scene,f,n),f}),W2}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Z1,H2;function ck(){if(H2)return Z1;H2=1;var e=O,t=Be,i=new e({initialize:function(n,a,s,o,l,h,u){this.x=n,this.y=a,this.radius=s,this.r=o,this.g=l,this.b=h,this.intensity=u,this.scrollFactorX=1,this.scrollFactorY=1},set:function(r,n,a,s,o,l,h){return this.x=r,this.y=n,this.radius=a,this.r=s,this.g=o,this.b=l,this.intensity=h,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=r),this.scrollFactorX=r,this.scrollFactorY=n,this},setColor:function(r){var n=t.getFloatsFromUintRGB(r);return this.r=n[0],this.g=n[1],this.b=n[2],this},setIntensity:function(r){return this.intensity=r,this},setPosition:function(r,n){return this.x=r,this.y=n,this},setRadius:function(r){return this.radius=r,this}});return Z1=i,Z1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q1,X2;function dk(){if(X2)return Q1;X2=1;var e=O,t=ck(),i=Be,r=new e({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return this.maxLights===-1&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(n){var a=this.lights,s=this.culledLights,o=a.length,l=n.x+n.width/2,h=n.y+n.height/2,u=(n.width+n.height)/2,f={x:0,y:0},c=n.matrix,v=this.systems.game.config.height;s.length=0;for(var p=0;p<o&&s.length<this.maxLights;p++){var m=a[p];c.transformPoint(m.x,m.y,f);var x=l-(f.x-n.scrollX*m.scrollFactorX*n.zoom),g=h-(v-(f.y-n.scrollY*m.scrollFactorY*n.zoom)),T=Math.sqrt(x*x+g*g);T<m.radius+u&&s.push(a[p])}return s},forEachLight:function(n){if(n){for(var a=this.lights,s=a.length,o=0;o<s;++o)n(a[o]);return this}},setAmbientColor:function(n){var a=i.getFloatsFromUintRGB(n);return this.ambientColor.r=a[0],this.ambientColor.g=a[1],this.ambientColor.b=a[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(n,a,s,o,l){var h=null,u=null;return n=n===void 0?0:n,a=a===void 0?0:a,o=o===void 0?16777215:o,s=s===void 0?100:s,l=l===void 0?1:l,h=i.getFloatsFromUintRGB(o),u=null,this.lightPool.length>0?(u=this.lightPool.pop(),u.set(n,a,s,h[0],h[1],h[2],l)):u=new t(n,a,s,h[0],h[1],h[2],l),this.lights.push(u),u},removeLight:function(n){var a=this.lights.indexOf(n);return a>=0&&(this.lightPool.push(n),this.lights.splice(a,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});return Q1=r,Q1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var j1,K2;function fge(){if(K2)return j1;K2=1;var e=O,t=dk(),i=mt,r=wt,n=new e({Extends:t,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),t.call(this)},boot:function(){var a=this.systems.events;a.on(r.SHUTDOWN,this.shutdown,this),a.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});return i.register("LightsPlugin",n,"lights"),j1=n,j1}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zr={Events:pc,DisplayList:fhe,GameObjectCreator:at,GameObjectFactory:de,UpdateList:yhe,Components:Ke,BuildGameObject:bi,BuildGameObjectAnimation:QC,GameObject:qe,BitmapText:L0,Blitter:eE,Container:tE,DOMElement:YN,DynamicBitmapText:iE,Extern:JN,Graphics:sE,Group:Cc,Image:Yh,Particles:xce,PathFollower:pG,RenderTexture:hE,RetroFont:kce,Sprite:Fa,Text:uE,TileSprite:fE,Zone:d0,Video:cE,Shape:Br,Arc:wG,Curve:PG,Ellipse:FG,Grid:DG,IsoBox:GG,IsoTriangle:zG,Line:WG,Polygon:ZG,Rectangle:ek,Star:rk,Triangle:lk,Factories:{Blitter:_pe,Container:Mpe,DOMElement:Rpe,DynamicBitmapText:Ipe,Extern:Bpe,Graphics:kpe,Group:Vpe,Image:Ype,Particles:Kpe,PathFollower:Zpe,RenderTexture:e0e,Sprite:r0e,StaticBitmapText:s0e,Text:h0e,TileSprite:c0e,Zone:p0e,Video:x0e,Arc:S0e,Curve:C0e,Ellipse:A0e,Grid:b0e,IsoBox:L0e,IsoTriangle:O0e,Line:N0e,Polygon:$0e,Rectangle:U0e,Star:H0e,Triangle:q0e},Creators:{Blitter:Q0e,Container:ime,DynamicBitmapText:sme,Graphics:ume,Group:dme,Image:mme,Particles:Tme,RenderTexture:Eme,Sprite:Mme,StaticBitmapText:Fme,Text:Bme,TileSprite:$me,Zone:Wme,Video:Xme}};Zr.Mesh=F0(),Zr.Quad=pE(),Zr.Shader=mE(),Zr.Factories.Mesh=age(),Zr.Factories.Quad=sge(),Zr.Factories.Shader=oge(),Zr.Creators.Mesh=lge(),Zr.Creators.Quad=hge(),Zr.Creators.Shader=uge(),Zr.Light=ck(),dk(),fge();var cge=Zr;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dge=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0},vge=dge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pge=Jo,mge=function(e){return new pge(e.x,e.y,e.radius)},gge=mge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xge=Xs,yge=function(e,t){return xge(e,t.x,t.y)},Tge=yge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kd=Xs,Sge=function(e,t){return kd(e,t.x,t.y)&&kd(e,t.right,t.y)&&kd(e,t.x,t.bottom)&&kd(e,t.right,t.bottom)},Cge=Sge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ege=function(e,t){return t.setTo(e.x,e.y,e.radius)},_ge=Ege;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Age=function(e,t){return e.x===t.x&&e.y===t.y&&e.radius===t.radius},wge=Age;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mge=Ve,bge=function(e,t){return t===void 0&&(t=new Mge),t.x=e.left,t.y=e.top,t.width=e.diameter,t.height=e.diameter,t},Pge=bge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Rge=function(e,t,i){return e.x+=t,e.y+=i,e},Lge=Rge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fge=function(e,t){return e.x+=t.x,e.y+=t.y,e},Ige=Fge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vi=Jo;vi.Area=vge;vi.Circumference=XD;vi.CircumferencePoint=rC;vi.Clone=gge;vi.Contains=Xs;vi.ContainsPoint=Tge;vi.ContainsRect=Cge;vi.CopyFrom=_ge;vi.Equals=wge;vi.GetBounds=Pge;vi.GetPoint=HD;vi.GetPoints=KD;vi.Offset=Lge;vi.OffsetPoint=Ige;vi.Random=nC;var Oge=vi;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dge=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI},Bge=Dge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nge=Sc,Gge=function(e){return new Nge(e.x,e.y,e.width,e.height)},kge=Gge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $ge=Tc,zge=function(e,t){return $ge(e,t.x,t.y)},Vge=zge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $d=Tc,Uge=function(e,t){return $d(e,t.x,t.y)&&$d(e,t.right,t.y)&&$d(e,t.x,t.bottom)&&$d(e,t.right,t.bottom)},Wge=Uge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yge=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)},Hge=Yge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xge=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},Kge=Xge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qge=Ve,Jge=function(e,t){return t===void 0&&(t=new qge),t.x=e.left,t.y=e.top,t.width=e.width,t.height=e.height,t},Zge=Jge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qge=function(e,t,i){return e.x+=t,e.y+=i,e},jge=Qge;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e1e=function(e,t){return e.x+=t.x,e.y+=t.y,e},t1e=e1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pi=Sc;pi.Area=Bge;pi.Circumference=QN;pi.CircumferencePoint=nE;pi.Clone=kge;pi.Contains=Tc;pi.ContainsPoint=Vge;pi.ContainsRect=Wge;pi.CopyFrom=Hge;pi.Equals=Kge;pi.GetBounds=Zge;pi.GetPoint=ZN;pi.GetPoints=jN;pi.Offset=jge;pi.OffsetPoint=t1e;pi.Random=dC;var i1e=pi;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var r1e=Zs,n1e=function(e,t){return r1e(e.x,e.y,t.x,t.y)<=e.radius+t.radius},gE=n1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a1e=function(e,t){var i=t.width/2,r=t.height/2,n=Math.abs(e.x-t.x-i),a=Math.abs(e.y-t.y-r),s=i+e.radius,o=r+e.radius;if(n>s||a>o)return!1;if(n<=i||a<=r)return!0;var l=n-i,h=a-r,u=l*l,f=h*h,c=e.radius*e.radius;return u+f<=c},xE=a1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Il=ce,s1e=gE,o1e=function(e,t,i){if(i===void 0&&(i=[]),s1e(e,t)){var r=e.x,n=e.y,a=e.radius,s=t.x,o=t.y,l=t.radius,h,u,f,c,v;if(n===o)v=(l*l-a*a-s*s+r*r)/(2*(r-s)),h=1,u=-2*o,f=s*s+v*v-2*s*v+o*o-l*l,c=u*u-4*h*f,c===0?i.push(new Il(v,-u/(2*h))):c>0&&(i.push(new Il(v,(-u+Math.sqrt(c))/(2*h))),i.push(new Il(v,(-u-Math.sqrt(c))/(2*h))));else{var p=(r-s)/(n-o),m=(l*l-a*a-s*s+r*r-o*o+n*n)/(2*(n-o));h=p*p+1,u=2*n*p-2*m*p-2*r,f=r*r+n*n+m*m-a*a-2*n*m,c=u*u-4*h*f,c===0?(v=-u/(2*h),i.push(new Il(v,m-v*p))):c>0&&(v=(-u+Math.sqrt(c))/(2*h),i.push(new Il(v,m-v*p)),v=(-u-Math.sqrt(c))/(2*h),i.push(new Il(v,m-v*p)))}}return i},l1e=o1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ex=Xs,h1e=ce,u1e=new h1e,f1e=function(e,t,i){if(i===void 0&&(i=u1e),ex(t,e.x1,e.y1))return i.x=e.x1,i.y=e.y1,!0;if(ex(t,e.x2,e.y2))return i.x=e.x2,i.y=e.y2,!0;var r=e.x2-e.x1,n=e.y2-e.y1,a=t.x-e.x1,s=t.y-e.y1,o=r*r+n*n,l=r,h=n;if(o>0){var u=(a*r+s*n)/o;l*=u,h*=u}i.x=e.x1+l,i.y=e.y1+h;var f=l*l+h*h;return f<=o&&l*r+h*n>=0&&ex(t,i.x,i.y)},yE=f1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tx=ce,c1e=yE,d1e=function(e,t,i){if(i===void 0&&(i=[]),c1e(e,t)){var r=e.x1,n=e.y1,a=e.x2,s=e.y2,o=t.x,l=t.y,h=t.radius,u=a-r,f=s-n,c=r-o,v=n-l,p=u*u+f*f,m=2*(u*c+f*v),x=c*c+v*v-h*h,g=m*m-4*p*x,T,S;if(g===0){var E=-m/(2*p);T=r+E*u,S=n+E*f,E>=0&&E<=1&&i.push(new tx(T,S))}else if(g>0){var _=(-m-Math.sqrt(g))/(2*p);T=r+_*u,S=n+_*f,_>=0&&_<=1&&i.push(new tx(T,S));var w=(-m+Math.sqrt(g))/(2*p);T=r+w*u,S=n+w*f,w>=0&&w<=1&&i.push(new tx(T,S))}}return i},TE=d1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zd=TE,v1e=xE,p1e=function(e,t,i){if(i===void 0&&(i=[]),v1e(e,t)){var r=t.getLineA(),n=t.getLineB(),a=t.getLineC(),s=t.getLineD();zd(r,e,i),zd(n,e,i),zd(a,e,i),zd(s,e,i)}return i},m1e=p1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g1e=ce,x1e=function(e,t,i){i===void 0&&(i=new g1e);var r=e.x1,n=e.y1,a=e.x2,s=e.y2,o=t.x1,l=t.y1,h=t.x2,u=t.y2,f=(h-o)*(n-l)-(u-l)*(r-o),c=(a-r)*(n-l)-(s-n)*(r-o),v=(u-l)*(a-r)-(h-o)*(s-n);if(v===0)return!1;var p=f/v,m=c/v;return p>=0&&p<=1&&m>=0&&m<=1?(i.x=r+p*(a-r),i.y=n+p*(s-n),!0):!1},qh=x1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y1e=function(e,t){var i=e.x1,r=e.y1,n=e.x2,a=e.y2,s=t.x,o=t.y,l=t.right,h=t.bottom,u=0;if(i>=s&&i<=l&&r>=o&&r<=h||n>=s&&n<=l&&a>=o&&a<=h)return!0;if(i<s&&n>=s){if(u=r+(a-r)*(s-i)/(n-i),u>o&&u<=h)return!0}else if(i>l&&n<=l&&(u=r+(a-r)*(l-i)/(n-i),u>=o&&u<=h))return!0;if(r<o&&a>=o){if(u=i+(n-i)*(o-r)/(a-r),u>=s&&u<=l)return!0}else if(r>h&&a<=h&&(u=i+(n-i)*(h-r)/(a-r),u>=s&&u<=l))return!0;return!1},vk=y1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vd=ce,Ud=qh,T1e=vk,S1e=function(e,t,i){if(i===void 0&&(i=[]),T1e(e,t))for(var r=t.getLineA(),n=t.getLineB(),a=t.getLineC(),s=t.getLineD(),o=[new Vd,new Vd,new Vd,new Vd],l=[Ud(r,e,o[0]),Ud(n,e,o[1]),Ud(a,e,o[2]),Ud(s,e,o[3])],h=0;h<4;h++)l[h]&&i.push(o[h]);return i},SE=S1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C1e=function(e,t){return e.width<=0||e.height<=0||t.width<=0||t.height<=0?!1:!(e.right<t.x||e.bottom<t.y||e.x>t.right||e.y>t.bottom)},I0=C1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E1e=Ve,_1e=I0,A1e=function(e,t,i){return i===void 0&&(i=new E1e),_1e(e,t)&&(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y),i},w1e=A1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wd=SE,M1e=I0,b1e=function(e,t,i){if(i===void 0&&(i=[]),M1e(e,t)){var r=e.getLineA(),n=e.getLineB(),a=e.getLineC(),s=e.getLineD();Wd(r,t,i),Wd(n,t,i),Wd(a,t,i),Wd(s,t,i)}return i},P1e=b1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R1e=function(e,t,i,r){i===void 0&&(i=!1),r===void 0&&(r=[]);for(var n=e.x3-e.x1,a=e.y3-e.y1,s=e.x2-e.x1,o=e.y2-e.y1,l=n*n+a*a,h=n*s+a*o,u=s*s+o*o,f=l*u-h*h,c=f===0?0:1/f,v,p,m,x,g,T,S=e.x1,E=e.y1,_=0;_<t.length&&(m=t[_].x-S,x=t[_].y-E,g=n*m+a*x,T=s*m+o*x,v=(u*g-h*T)*c,p=(l*T-h*g)*c,!(v>=0&&p>=0&&v+p<1&&(r.push({x:t[_].x,y:t[_].y}),i)));_++);return r},CE=R1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var L1e=function(e,t){return t===void 0&&(t=[]),t.push({x:e.x,y:e.y}),t.push({x:e.right,y:e.y}),t.push({x:e.right,y:e.bottom}),t.push({x:e.x,y:e.bottom}),t},pk=L1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cr=qh,Ol=Pa,F1e=CE,I1e=pk,O1e=function(e,t){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),r=t.getLineB(),n=t.getLineC();if(Ol(e,i.x1,i.y1)||Ol(e,i.x2,i.y2)||Ol(e,r.x1,r.y1)||Ol(e,r.x2,r.y2)||Ol(e,n.x1,n.y1)||Ol(e,n.x2,n.y2))return!0;var a=e.getLineA(),s=e.getLineB(),o=e.getLineC(),l=e.getLineD();if(cr(i,a)||cr(i,s)||cr(i,o)||cr(i,l)||cr(r,a)||cr(r,s)||cr(r,o)||cr(r,l)||cr(n,a)||cr(n,s)||cr(n,o)||cr(n,l))return!0;var h=I1e(e),u=F1e(t,h,!0);return u.length>0},mk=O1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D1e=mk,ix=SE,B1e=function(e,t,i){if(i===void 0&&(i=[]),D1e(e,t)){var r=t.getLineA(),n=t.getLineB(),a=t.getLineC();ix(r,e,i),ix(n,e,i),ix(a,e,i)}return i},N1e=B1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rx=yE,G1e=Kh,k1e=function(e,t){return e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top?!1:!!(G1e(e,t.x,t.y)||rx(e.getLineA(),t)||rx(e.getLineB(),t)||rx(e.getLineC(),t))},gk=k1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nx=TE,$1e=gk,z1e=function(e,t,i){if(i===void 0&&(i=[]),$1e(e,t)){var r=e.getLineA(),n=e.getLineB(),a=e.getLineC();nx(r,t,i),nx(n,t,i),nx(a,t,i)}return i},V1e=z1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var q2=Kh,ax=qh,U1e=function(e,t){return!!(q2(e,t.getPointA())||q2(e,t.getPointB())||ax(e.getLineA(),t)||ax(e.getLineB(),t)||ax(e.getLineC(),t))},xk=U1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sx=ce,W1e=xk,ox=qh,Y1e=function(e,t,i){if(i===void 0&&(i=[]),W1e(e,t))for(var r=e.getLineA(),n=e.getLineB(),a=e.getLineC(),s=[new sx,new sx,new sx],o=[ox(r,t,s[0]),ox(n,t,s[1]),ox(a,t,s[2])],l=0;l<3;l++)o[l]&&i.push(s[l]);return i},yk=Y1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var H1e=function(e,t){return t===void 0&&(t=[]),t.push({x:e.x1,y:e.y1}),t.push({x:e.x2,y:e.y2}),t.push({x:e.x3,y:e.y3}),t},Tk=H1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J2=CE,Z2=Tk,Zn=qh,X1e=function(e,t){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),r=e.getLineB(),n=e.getLineC(),a=t.getLineA(),s=t.getLineB(),o=t.getLineC();if(Zn(i,a)||Zn(i,s)||Zn(i,o)||Zn(r,a)||Zn(r,s)||Zn(r,o)||Zn(n,a)||Zn(n,s)||Zn(n,o))return!0;var l=Z2(e),h=J2(t,l,!0);return h.length>0||(l=Z2(t),h=J2(e,l,!0),h.length>0)},Sk=X1e;/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var K1e=Sk,lx=yk,q1e=function(e,t,i){if(i===void 0&&(i=[]),K1e(e,t)){var r=t.getLineA(),n=t.getLineB(),a=t.getLineC();lx(e,r,i),lx(e,n,i),lx(e,a,i)}return i},J1e=q1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Z1e=function(e,t,i){i===void 0&&(i=1);var r=t.x1,n=t.y1,a=t.x2,s=t.y2,o=e.x,l=e.y,h=(a-r)*(a-r)+(s-n)*(s-n);if(h===0)return!1;var u=((o-r)*(a-r)+(l-n)*(s-n))/h;if(u<0)return Math.sqrt((r-o)*(r-o)+(n-l)*(n-l))<=i;if(u>=0&&u<=1){var f=((n-l)*(a-r)-(r-o)*(s-n))/h;return Math.abs(f)*Math.sqrt(h)<=i}else return Math.sqrt((a-o)*(a-o)+(s-l)*(s-l))<=i},Ck=Z1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q1e=Ck,j1e=function(e,t){if(!Q1e(e,t))return!1;var i=Math.min(t.x1,t.x2),r=Math.max(t.x1,t.x2),n=Math.min(t.y1,t.y2),a=Math.max(t.y1,t.y2);return e.x>=i&&e.x<=r&&e.y>=n&&e.y<=a},exe=j1e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var txe=function(e,t,i,r,n,a){return a===void 0&&(a=0),!(t>e.right+a||i<e.left-a||r>e.bottom+a||n<e.top-a)},ixe=txe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ek={CircleToCircle:gE,CircleToRectangle:xE,GetCircleToCircle:l1e,GetCircleToRectangle:m1e,GetLineToCircle:TE,GetLineToRectangle:SE,GetRectangleIntersection:w1e,GetRectangleToRectangle:P1e,GetRectangleToTriangle:N1e,GetTriangleToCircle:V1e,GetTriangleToLine:yk,GetTriangleToTriangle:J1e,LineToCircle:yE,LineToLine:qh,LineToRectangle:vk,PointToLine:Ck,PointToLineSegment:exe,RectangleToRectangle:I0,RectangleToTriangle:mk,RectangleToValues:ixe,TriangleToCircle:gk,TriangleToLine:xk,TriangleToTriangle:Sk};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rxe=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)},Jh=rxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nxe=function(e,t,i){var r=t-(e.x1+e.x2)/2,n=i-(e.y1+e.y2)/2;return e.x1+=r,e.y1+=n,e.x2+=r,e.y2+=n,e},axe=nxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sxe=qs,oxe=function(e){return new sxe(e.x1,e.y1,e.x2,e.y2)},lxe=oxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hxe=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2)},uxe=hxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fxe=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2},cxe=fxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dxe=Ks,vxe=function(e,t,i){i===void 0&&(i=t);var r=dxe(e),n=e.x2-e.x1,a=e.y2-e.y1;return t&&(e.x1=e.x1-n/r*t,e.y1=e.y1-a/r*t),i&&(e.x2=e.x2+n/r*i,e.y2=e.y2+a/r*i),e},pxe=vxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mxe=ce,gxe=function(e,t){return t===void 0&&(t=new mxe),t.x=(e.x1+e.x2)/2,t.y=(e.y1+e.y2)/2,t},xxe=gxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yxe=ce,Txe=function(e,t,i){i===void 0&&(i=new yxe);var r=e.x1,n=e.y1,a=e.x2,s=e.y2,o=(a-r)*(a-r)+(s-n)*(s-n);if(o===0)return i;var l=((t.x-r)*(a-r)+(t.y-n)*(s-n))/o;return i.x=r+l*(a-r),i.y=n+l*(s-n),i},Sxe=Txe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cxe=et,Exe=Jh,_xe=ce,Axe=function(e,t){t===void 0&&(t=new _xe);var i=Exe(e)-Cxe.TAU;return t.x=Math.cos(i),t.y=Math.sin(i),t},wxe=Axe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mxe=function(e,t){var i=e.x1,r=e.y1,n=e.x2,a=e.y2,s=(n-i)*(n-i)+(a-r)*(a-r);if(s===0)return!1;var o=((r-t.y)*(n-i)-(i-t.x)*(a-r))/s;return Math.abs(o)*Math.sqrt(s)},bxe=Mxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pxe=function(e){return Math.abs(e.y1-e.y2)},Rxe=Pxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lxe=et,Fxe=Js,Ixe=Jh,Oxe=function(e){var t=Ixe(e)-Lxe.TAU;return Fxe(t,-Math.PI,Math.PI)},_k=Oxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dxe=et,Bxe=Jh,Nxe=function(e){return Math.cos(Bxe(e)-Dxe.TAU)},Gxe=Nxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kxe=et,$xe=Jh,zxe=function(e){return Math.sin($xe(e)-kxe.TAU)},Vxe=zxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uxe=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e},Wxe=Uxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yxe=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))},Hxe=Yxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xxe=Jh,Kxe=_k,qxe=function(e,t){return 2*Kxe(t)-Math.PI-Xxe(e)},Jxe=qxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zxe=function(e,t,i,r){var n=Math.cos(r),a=Math.sin(r),s=e.x1-t,o=e.y1-i;return e.x1=s*n-o*a+t,e.y1=s*a+o*n+i,s=e.x2-t,o=e.y2-i,e.x2=s*n-o*a+t,e.y2=s*a+o*n+i,e},EE=Zxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qxe=EE,jxe=function(e,t){var i=(e.x1+e.x2)/2,r=(e.y1+e.y2)/2;return Qxe(e,i,r,t)},eye=jxe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tye=EE,iye=function(e,t,i){return tye(e,t.x,t.y,i)},rye=iye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nye=function(e,t,i,r,n){return e.x1=t,e.y1=i,e.x2=t+Math.cos(r)*n,e.y2=i+Math.sin(r)*n,e},aye=nye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sye=function(e){return(e.y2-e.y1)/(e.x2-e.x1)},oye=sye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lye=function(e){return Math.abs(e.x1-e.x2)},hye=lye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var be=qs;be.Angle=Jh;be.BresenhamPoints=mB;be.CenterOn=axe;be.Clone=lxe;be.CopyFrom=uxe;be.Equals=cxe;be.Extend=pxe;be.GetMidPoint=xxe;be.GetNearestPoint=Sxe;be.GetNormal=wxe;be.GetPoint=rB;be.GetPoints=oC;be.GetShortestDistance=bxe;be.Height=Rxe;be.Length=Ks;be.NormalAngle=_k;be.NormalX=Gxe;be.NormalY=Vxe;be.Offset=Wxe;be.PerpSlope=Hxe;be.Random=lC;be.ReflectAngle=Jxe;be.Rotate=eye;be.RotateAroundPoint=rye;be.RotateAroundXY=EE;be.SetToAngle=aye;be.Slope=oye;be.Width=hye;var uye=be;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fye=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))},cye=fye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dye=ce,vye=function(e){return new dye(e.x,e.y)},pye=vye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mye=function(e,t){return t.setTo(e.x,e.y)},gye=mye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xye=function(e,t){return e.x===t.x&&e.y===t.y},yye=xye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tye=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))},Sye=Tye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Cye=ce,Eye=function(e,t){if(t===void 0&&(t=new Cye),!Array.isArray(e))throw new Error("GetCentroid points argument must be an array");var i=e.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(i===1)t.x=e[0].x,t.y=e[0].y;else{for(var r=0;r<i;r++)t.x+=e[r].x,t.y+=e[r].y;t.x/=i,t.y/=i}return t},_ye=Eye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Aye=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},Ak=Aye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wye=function(e){return e.x*e.x+e.y*e.y},wk=wye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Mye=Ve,bye=function(e,t){t===void 0&&(t=new Mye);for(var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=0;s<e.length;s++){var o=e[s];o.x>i&&(i=o.x),o.x<r&&(r=o.x),o.y>n&&(n=o.y),o.y<a&&(a=o.y)}return t.x=r,t.y=a,t.width=i-r,t.height=n-a,t},Pye=bye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Rye=ce,Lye=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=new Rye),r.x=e.x+(t.x-e.x)*i,r.y=e.y+(t.y-e.y)*i,r},Fye=Lye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Iye=function(e){return e.setTo(e.y,e.x)},Oye=Iye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dye=ce,Bye=function(e,t){return t===void 0&&(t=new Dye),t.setTo(-e.x,-e.y)},Nye=Bye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Gye=ce,kye=wk,$ye=function(e,t,i){i===void 0&&(i=new Gye);var r=e.x*t.x+e.y*t.y,n=r/kye(t);return n!==0&&(i.x=n*t.x,i.y=n*t.y),i},zye=$ye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vye=ce,Uye=function(e,t,i){i===void 0&&(i=new Vye);var r=e.x*t.x+e.y*t.y;return r!==0&&(i.x=r*t.x,i.y=r*t.y),i},Wye=Uye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yye=Ak,Hye=function(e,t){if(e.x!==0||e.y!==0){var i=Yye(e);e.x/=i,e.y/=i}return e.x*=t,e.y*=t,e},Xye=Hye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mi=ce;mi.Ceil=cye;mi.Clone=pye;mi.CopyFrom=gye;mi.Equals=yye;mi.Floor=Sye;mi.GetCentroid=_ye;mi.GetMagnitude=Ak;mi.GetMagnitudeSq=wk;mi.GetRectangleFromPoints=Pye;mi.Interpolate=Fye;mi.Invert=Oye;mi.Negative=Nye;mi.Project=zye;mi.ProjectUnit=Wye;mi.SetMagnitude=Xye;var Kye=mi;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qye=vE,Jye=function(e){return new qye(e.points)},Zye=Jye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qye=dE,jye=function(e,t){return Qye(e,t.x,t.y)},eTe=jye;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tTe=function(e,t){t===void 0&&(t=[]);for(var i=0;i<e.points.length;i++)t.push(e.points[i].x),t.push(e.points[i].y);return t},iTe=tTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rTe=function(e){return e.points.reverse(),e},nTe=rTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zn=vE;zn.Clone=Zye;zn.Contains=dE;zn.ContainsPoint=eTe;zn.GetAABB=XG;zn.GetNumberArray=iTe;zn.GetPoints=qG;zn.Perimeter=KG;zn.Reverse=nTe;zn.Smooth=JG;var aTe=zn;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sTe=function(e){return e.width*e.height},oTe=sTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lTe=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e},hTe=lTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uTe=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e},fTe=uTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cTe=Ve,dTe=function(e){return new cTe(e.x,e.y,e.width,e.height)},vTe=dTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pTe=Pa,mTe=function(e,t){return pTe(e,t.x,t.y)},gTe=mTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xTe=function(e,t){return t.width*t.height>e.width*e.height?!1:t.x>e.x&&t.x<e.right&&t.right>e.x&&t.right<e.right&&t.y>e.y&&t.y<e.bottom&&t.bottom>e.y&&t.bottom<e.bottom},Mk=xTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yTe=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)},TTe=yTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var STe=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},CTe=STe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ETe=function(e){return e.height===0?NaN:e.width/e.height},_E=ETe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q2=_E,_Te=function(e,t){var i=Q2(e);return i<Q2(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)},ATe=_Te;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var j2=_E,wTe=function(e,t){var i=j2(e);return i>j2(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)},MTe=wTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bTe=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e},PTe=bTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RTe=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e},LTe=RTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FTe=ce,ITe=function(e,t){return t===void 0&&(t=new FTe),t.x=e.centerX,t.y=e.centerY,t},OTe=ITe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DTe=ce,BTe=function(e,t){return t===void 0&&(t=new DTe),t.x=e.width,t.y=e.height,t},NTe=BTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GTe=_C,kTe=function(e,t,i){var r=e.centerX,n=e.centerY;return e.setSize(e.width+t*2,e.height+i*2),GTe(e,r,n)},$Te=kTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zTe=Ve,VTe=I0,UTe=function(e,t,i){return i===void 0&&(i=new zTe),VTe(e,t)?(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y):i.setEmpty(),i},WTe=UTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YTe=function(e,t){for(var i=e.x,r=e.right,n=e.y,a=e.bottom,s=0;s<t.length;s++)i=Math.min(i,t[s].x),r=Math.max(r,t[s].x),n=Math.min(n,t[s].y),a=Math.max(a,t[s].y);return e.x=i,e.y=n,e.width=r-i,e.height=a-n,e},HTe=YTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XTe=function(e,t){var i=Math.min(e.x,t.x),r=Math.max(e.right,t.right);e.x=i,e.width=r-i;var n=Math.min(e.y,t.y),a=Math.max(e.bottom,t.bottom);return e.y=n,e.height=a-n,e},KTe=XTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qTe=function(e,t,i){var r=Math.min(e.x,t),n=Math.max(e.right,t);e.x=r,e.width=n-r;var a=Math.min(e.y,i),s=Math.max(e.bottom,i);return e.y=a,e.height=s-a,e},JTe=qTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZTe=function(e,t,i){return e.x+=t,e.y+=i,e},QTe=ZTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jTe=function(e,t){return e.x+=t.x,e.y+=t.y,e},eSe=jTe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tSe=function(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y},iSe=tSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rSe=ce,nSe=kn,aSe=function(e,t,i){i===void 0&&(i=new rSe),t=nSe(t);var r=Math.sin(t),n=Math.cos(t),a=n>0?e.width/2:e.width/-2,s=r>0?e.height/2:e.height/-2;return Math.abs(a*r)<Math.abs(s*n)?s=a*r/n:a=s*n/r,i.x=a+e.centerX,i.y=s+e.centerY,i},sSe=aSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oSe=PC,lSe=Mk,hSe=ce,uSe=function(e,t,i){if(i===void 0&&(i=new hSe),lSe(e,t))switch(oSe(0,3)){case 0:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.y+Math.random()*(t.top-e.y);break;case 1:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.bottom+Math.random()*(e.bottom-t.bottom);break;case 2:i.x=e.x+Math.random()*(t.x-e.x),i.y=t.y+Math.random()*(e.bottom-t.y);break;case 3:i.x=t.right+Math.random()*(e.right-t.right),i.y=e.y+Math.random()*(t.bottom-e.y);break}return i},fSe=uSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cSe=function(e,t){return e.width===t.width&&e.height===t.height},dSe=cSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vSe=function(e,t,i){return i===void 0&&(i=t),e.width*=t,e.height*=i,e},pSe=vSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ue=Ve;ue.Area=oTe;ue.Ceil=hTe;ue.CeilAll=fTe;ue.CenterOn=_C;ue.Clone=vTe;ue.Contains=Pa;ue.ContainsPoint=gTe;ue.ContainsRect=Mk;ue.CopyFrom=TTe;ue.Decompose=pk;ue.Equals=CTe;ue.FitInside=ATe;ue.FitOutside=MTe;ue.Floor=PTe;ue.FloorAll=LTe;ue.FromPoints=kC;ue.GetAspectRatio=_E;ue.GetCenter=OTe;ue.GetPoint=sC;ue.GetPoints=iB;ue.GetSize=NTe;ue.Inflate=$Te;ue.Intersection=WTe;ue.MarchingAnts=dB;ue.MergePoints=HTe;ue.MergeRect=KTe;ue.MergeXY=JTe;ue.Offset=QTe;ue.OffsetPoint=eSe;ue.Overlaps=iSe;ue.Perimeter=f0;ue.PerimeterPoint=sSe;ue.Random=hC;ue.RandomOutside=fSe;ue.SameDimensions=dSe;ue.Scale=pSe;ue.Union=zN;var bk=ue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mSe=function(e){var t=e.x1,i=e.y1,r=e.x2,n=e.y2,a=e.x3,s=e.y3;return Math.abs(((a-t)*(n-i)-(r-t)*(s-i))/2)},gSe=mSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xSe=tl,ySe=function(e,t,i){var r=i*(Math.sqrt(3)/2),n=e,a=t,s=e+i/2,o=t+r,l=e-i/2,h=t+r;return new xSe(n,a,s,o,l,h)},TSe=ySe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SSe=Zo,CSe=tl,ESe=function(e,t,i,r,n){t===void 0&&(t=null),i===void 0&&(i=1),r===void 0&&(r=1),n===void 0&&(n=[]);for(var a=SSe(e,t),s,o,l,h,u,f,c,v,p,m=0;m<a.length;m+=3)s=a[m],o=a[m+1],l=a[m+2],h=e[s*2]*i,u=e[s*2+1]*r,f=e[o*2]*i,c=e[o*2+1]*r,v=e[l*2]*i,p=e[l*2+1]*r,n.push(new CSe(h,u,f,c,v,p));return n},_Se=ESe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ASe=tl,wSe=function(e,t,i,r){r===void 0&&(r=i);var n=e,a=t,s=e,o=t-r,l=e+i,h=t;return new ASe(n,a,s,o,l,h)},MSe=wSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bSe=ce,PSe=function(e,t){return t===void 0&&(t=new bSe),t.x=(e.x1+e.x2+e.x3)/3,t.y=(e.y1+e.y2+e.y3)/3,t},Pk=PSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RSe=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e.x3+=t,e.y3+=i,e},Rk=RSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LSe=Pk,FSe=Rk,ISe=function(e,t,i,r){r===void 0&&(r=LSe);var n=r(e),a=t-n.x,s=i-n.y;return FSe(e,a,s)},OSe=ISe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DSe=oe;function hx(e,t,i,r){return e*r-t*i}var BSe=function(e,t){t===void 0&&(t=new DSe);var i=e.x3,r=e.y3,n=e.x1-i,a=e.y1-r,s=e.x2-i,o=e.y2-r,l=2*hx(n,a,s,o),h=hx(a,n*n+a*a,o,s*s+o*o),u=hx(n,n*n+a*a,s,s*s+o*o);return t.x=i-h/l,t.y=r+u/l,t},NSe=BSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GSe=Jo,kSe=function(e,t){t===void 0&&(t=new GSe);var i=e.x1,r=e.y1,n=e.x2,a=e.y2,s=e.x3,o=e.y3,l=n-i,h=a-r,u=s-i,f=o-r,c=l*(i+n)+h*(r+a),v=u*(i+s)+f*(r+o),p=2*(l*(o-a)-h*(s-n)),m,x;if(Math.abs(p)<1e-6){var g=Math.min(i,n,s),T=Math.min(r,a,o);m=(Math.max(i,n,s)-g)*.5,x=(Math.max(r,a,o)-T)*.5,t.x=g+m,t.y=T+x,t.radius=Math.sqrt(m*m+x*x)}else t.x=(f*c-h*v)/p,t.y=(l*v-u*c)/p,m=t.x-i,x=t.y-r,t.radius=Math.sqrt(m*m+x*x);return t},$Se=kSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zSe=tl,VSe=function(e){return new zSe(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},USe=VSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WSe=Kh,YSe=function(e,t){return WSe(e,t.x,t.y)},HSe=YSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XSe=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},KSe=XSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qSe=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2&&e.x3===t.x3&&e.y3===t.y3},JSe=qSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZSe=ce;function ux(e,t,i,r){var n=e-i,a=t-r,s=n*n+a*a;return Math.sqrt(s)}var QSe=function(e,t){t===void 0&&(t=new ZSe);var i=e.x1,r=e.y1,n=e.x2,a=e.y2,s=e.x3,o=e.y3,l=ux(s,o,n,a),h=ux(i,r,s,o),u=ux(n,a,i,r),f=l+h+u;return t.x=(i*l+n*h+s*u)/f,t.y=(r*l+a*h+o*u)/f,t},Lk=QSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fx=Ks,jSe=function(e){var t=e.getLineA(),i=e.getLineB(),r=e.getLineC();return fx(t)+fx(i)+fx(r)},eCe=jSe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tCe=function(e,t,i,r){var n=Math.cos(r),a=Math.sin(r),s=e.x1-t,o=e.y1-i;return e.x1=s*n-o*a+t,e.y1=s*a+o*n+i,s=e.x2-t,o=e.y2-i,e.x2=s*n-o*a+t,e.y2=s*a+o*n+i,s=e.x3-t,o=e.y3-i,e.x3=s*n-o*a+t,e.y3=s*a+o*n+i,e},AE=tCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iCe=AE,rCe=Lk,nCe=function(e,t){var i=rCe(e);return iCe(e,i.x,i.y,t)},aCe=nCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sCe=AE,oCe=function(e,t,i){return sCe(e,t.x,t.y,i)},lCe=oCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ue=tl;Ue.Area=gSe;Ue.BuildEquilateral=TSe;Ue.BuildFromPolygon=_Se;Ue.BuildRight=MSe;Ue.CenterOn=OSe;Ue.Centroid=Pk;Ue.CircumCenter=NSe;Ue.CircumCircle=$Se;Ue.Clone=USe;Ue.Contains=Kh;Ue.ContainsArray=CE;Ue.ContainsPoint=HSe;Ue.CopyFrom=KSe;Ue.Decompose=Tk;Ue.Equals=JSe;Ue.GetPoint=nk;Ue.GetPoints=ak;Ue.InCenter=Lk;Ue.Perimeter=eCe;Ue.Offset=Rk;Ue.Random=vC;Ue.Rotate=aCe;Ue.RotateAroundPoint=lCe;Ue.RotateAroundXY=AE;var hCe=Ue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uCe=ba,fCe=pt,mT={Circle:Oge,Ellipse:i1e,Intersects:Ek,Line:uye,Point:Kye,Polygon:aTe,Rectangle:bk,Triangle:hCe};mT=fCe(!1,mT,uCe);var Fk=mT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cCe=function(e,t,i){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:t,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}},Ik=cCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dCe=O,vCe=new dCe({initialize:function(t,i){this.pad=t,this.events=t.events,this.index=i,this.value=0,this.threshold=.1},update:function(e){this.value=e},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}}),Ok=vCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pCe="down";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mCe="up";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gCe="connected";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xCe="disconnected";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yCe="down";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TCe="up";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wE={BUTTON_DOWN:pCe,BUTTON_UP:mCe,CONNECTED:gCe,DISCONNECTED:xCe,GAMEPAD_BUTTON_DOWN:yCe,GAMEPAD_BUTTON_UP:TCe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SCe=O,Yd=wE,CCe=new SCe({initialize:function(t,i){this.pad=t,this.events=t.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(e){this.value=e;var t=this.pad,i=this.index;e>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(Yd.BUTTON_DOWN,t,this,e),this.pad.emit(Yd.GAMEPAD_BUTTON_DOWN,i,e,this)):this.pressed&&(this.pressed=!1,this.events.emit(Yd.BUTTON_UP,t,this,e),this.pad.emit(Yd.GAMEPAD_BUTTON_UP,i,e,this))},destroy:function(){this.pad=null,this.events=null}}),Dk=CCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ECe=Ok,_Ce=Dk,ACe=O,eR=Me,tR=oe,wCe=new ACe({Extends:eR,initialize:function(t,i){eR.call(this),this.manager=t,this.pad=i,this.id=i.id,this.index=i.index;for(var r=[],n=0;n<i.buttons.length;n++)r.push(new _Ce(this,n));this.buttons=r;var a=[];for(n=0;n<i.axes.length;n++)a.push(new ECe(this,n));this.axes=a,this.vibration=i.vibrationActuator;var s={value:0,pressed:!1};this._LCLeft=r[14]?r[14]:s,this._LCRight=r[15]?r[15]:s,this._LCTop=r[12]?r[12]:s,this._LCBottom=r[13]?r[13]:s,this._RCLeft=r[2]?r[2]:s,this._RCRight=r[1]?r[1]:s,this._RCTop=r[3]?r[3]:s,this._RCBottom=r[0]?r[0]:s,this._FBLeftTop=r[4]?r[4]:s,this._FBLeftBottom=r[6]?r[6]:s,this._FBRightTop=r[5]?r[5]:s,this._FBRightBottom=r[7]?r[7]:s;var o={value:0};this._HAxisLeft=a[0]?a[0]:o,this._VAxisLeft=a[1]?a[1]:o,this._HAxisRight=a[2]?a[2]:o,this._VAxisRight=a[3]?a[3]:o,this.leftStick=new tR,this.rightStick=new tR},getAxisTotal:function(){return this.axes.length},getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var t=0;t<this.axes.length;t++)this.axes[t].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){var t,i=this.buttons,r=e.buttons,n=i.length;for(t=0;t<n;t++)i[t].update(r[t].value);var a=this.axes,s=e.axes;for(n=a.length,t=0;t<n;t++)a[t].update(s[t]);n>=2&&(this.leftStick.set(a[0].getValue(),a[1].getValue()),n>=4&&this.rightStick.set(a[2].getValue(),a[3].getValue()))},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var e;for(e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}}),Bk=wCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var MCe=me,aa={},_c={};_c.register=function(e,t,i,r,n){aa[e]={plugin:t,mapping:i,settingsKey:r,configKey:n}};_c.getPlugin=function(e){return aa[e]};_c.install=function(e){var t=e.scene.sys,i=t.settings.input,r=t.game.config;for(var n in aa){var a=aa[n].plugin,s=aa[n].mapping,o=aa[n].settingsKey,l=aa[n].configKey;MCe(i,o,r[l])&&(e[s]=new a(e))}};_c.remove=function(e){aa.hasOwnProperty(e)&&delete aa[e]};var O0=_c;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bCe=O,iR=Me,rR=wE,nR=Bk,aR=me,PCe=O0,Dl=La,Nk=new bCe({Extends:iR,initialize:function(t){iR.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once(Dl.BOOT,this.boot,this),t.pluginEvents.on(Dl.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,i=e.config;this.enabled=aR(t,"gamepad",i.inputGamepad)&&e.device.input.gamepads,this.target=aR(t,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(Dl.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(Dl.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,i=function(r){r.defaultPrevented||!e.isActive()||(e.refreshPads(),e.queue.push(r))};this.onGamepadHandler=i,t.addEventListener("gamepadconnected",i,!1),t.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(Dl.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(Dl.UPDATE,this.update)},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(!e)this.disconnectAll();else for(var t=this.gamepads,i=0;i<e.length;i++){var r=e[i];if(r){var n=r.id,a=r.index,s=t[a];if(s)s.id!==n?(s.destroy(),t[a]=new nR(this,r)):s.update(r);else{var o=new nR(this,r);t[a]=o,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=o):this._pad3=o:this._pad2=o:this._pad1=o}}}},getAll:function(){for(var e=[],t=this.gamepads,i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},getPad:function(e){for(var t=this.gamepads,i=0;i<t.length;i++)if(t[i]&&t[i].index===e)return t[i]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(e!==0)for(var t=this.queue.splice(0,e),i=0;i<e;i++){var r=t[i],n=this.getPad(r.gamepad.index);r.type==="gamepadconnected"?this.emit(rR.CONNECTED,n,r):r.type==="gamepaddisconnected"&&this.emit(rR.DISCONNECTED,n,r)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});PCe.register("GamepadPlugin",Nk,"gamepad","gamepad","inputGamepad");var RCe=Nk;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LCe={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FCe={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ICe={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OCe={DUALSHOCK_4:LCe,SNES_USB:FCe,XBOX_360:ICe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DCe={Axis:Ok,Button:Dk,Events:wE,Gamepad:Bk,GamepadPlugin:RCe,Configs:OCe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BCe=function(e,t){return function(i,r,n,a){var s=e.getPixelAlpha(r,n,a.texture.key,a.frame.name);return s&&s>=t}},NCe=BCe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GCe=Jo,kCe=Xs,$Ce=O,es=UC,sR=Ik,zCe=NCe,VCe=Zs,UCe=Sc,WCe=Tc,ee=La,cx=Me,ts=Y,Bl=ba,YCe=O0,HCe=Te,XCe=mt,oR=Ve,lR=Pa,Ni=wt,KCe=tl,qCe=Kh,Gk=new $Ce({Extends:cx,initialize:function(t){cx.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new cx,this.enabled=!0,this.displayList,this.cameras,YCe.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var i={cancelled:!1};this._eventContainer={stopPropagation:function(){i.cancelled=!0}},this._eventData=i,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,t.sys.events.once(Ni.BOOT,this.boot,this),t.sys.events.on(Ni.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(Ni.DESTROY,this.destroy,this),this.pluginEvents.emit(ee.BOOT)},start:function(){var e=this.systems.events;e.on(Ni.TRANSITION_START,this.transitionIn,this),e.on(Ni.TRANSITION_OUT,this.transitionOut,this),e.on(Ni.TRANSITION_COMPLETE,this.transitionComplete,this),e.on(Ni.PRE_UPDATE,this.preUpdate,this),e.once(Ni.SHUTDOWN,this.shutdown,this),this.manager.events.on(ee.GAME_OUT,this.onGameOut,this),this.manager.events.on(ee.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(ee.START)},onGameOver:function(e){this.isActive()&&this.emit(ee.GAME_OVER,e.timeStamp,e)},onGameOut:function(e){this.isActive()&&this.emit(ee.GAME_OUT,e.timeStamp,e)},preUpdate:function(){this.pluginEvents.emit(ee.PRE_UPDATE);var e=this._pendingRemoval,t=this._pendingInsertion,i=e.length,r=t.length;if(!(i===0&&r===0)){for(var n=this._list,a=0;a<i;a++){var s=e[a],o=n.indexOf(s);o>-1&&(n.splice(o,1),this.clear(s,!0))}e.length=0,this._pendingRemoval.length=0,this._list=n.concat(t.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(e,t){if(!this.isActive())return!1;if(this.pluginEvents.emit(ee.UPDATE,e,t),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,r=this.manager,n=r.pointers,a=r.pointersTotal;for(i=0;i<a;i++)n[i].updateMotion();if(this._list.length===0)return!1;var s=this.pollRate;if(s===-1)return!1;if(s>0)if(this._pollTimer-=t,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var o=!1;for(i=0;i<a;i++){var l=0,h=n[i];this._tempZones=[],this._temp=this.hitTestPointer(h),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),l+=this.processOverOutEvents(h),this.getDragState(h)===2&&this.processDragThresholdEvent(h,e),l>0&&(o=!0)}return o},update:function(e,t){if(!this.isActive())return!1;for(var i=t.length,r=!1,n=0;n<i;n++){var a=0,s=t[n];switch(this._tempZones=[],this._temp=this.hitTestPointer(s),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),e){case es.MOUSE_DOWN:a+=this.processDragDownEvent(s),a+=this.processDownEvents(s),a+=this.processOverOutEvents(s);break;case es.MOUSE_UP:a+=this.processDragUpEvent(s),a+=this.processUpEvents(s),a+=this.processOverOutEvents(s);break;case es.TOUCH_START:a+=this.processDragDownEvent(s),a+=this.processDownEvents(s),a+=this.processOverEvents(s);break;case es.TOUCH_END:case es.TOUCH_CANCEL:a+=this.processDragUpEvent(s),a+=this.processUpEvents(s),a+=this.processOutEvents(s);break;case es.MOUSE_MOVE:case es.TOUCH_MOVE:a+=this.processDragMoveEvent(s),a+=this.processMoveEvents(s),a+=this.processOverOutEvents(s);break;case es.MOUSE_WHEEL:a+=this.processWheelEvent(s);break}a>0&&(r=!0)}return this._updatedThisFrame=!0,r},clear:function(e,t){t===void 0&&(t=!1);var i=e.input;if(i){t||this.queueForRemoval(e),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,this.manager.resetCursor(i),e.input=null;var r=this._draggable.indexOf(e);return r>-1&&this._draggable.splice(r,1),r=this._drag[0].indexOf(e),r>-1&&this._drag[0].splice(r,1),r=this._over[0].indexOf(e),r>-1&&this._over[0].splice(r,1),e}},disable:function(e){e.input.enabled=!1},enable:function(e,t,i,r){return r===void 0&&(r=!1),e.input?e.input.enabled=!0:this.setHitArea(e,t,i),e.input&&r&&!e.input.dropZone&&(e.input.dropZone=r),this},hitTestPointer:function(e){for(var t=this.cameras.getCamerasBelowPointer(e),i=0;i<t.length;i++){for(var r=t[i],n=this.manager.hitTest(e,this._list,r),a=0;a<n.length;a++){var s=n[a];s.input.dropZone&&this._tempZones.push(s)}if(n.length>0)return e.camera=r,n}return e.camera=t[0],[]},processDownEvents:function(e){var t=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var a=!1,s=0;s<i.length;s++){var o=i[s];if(o.input){if(t++,o.emit(ee.GAMEOBJECT_POINTER_DOWN,e,o.input.localX,o.input.localY,n),r.cancelled||!o.input){a=!0;break}if(this.emit(ee.GAMEOBJECT_DOWN,e,o,n),r.cancelled||!o.input){a=!0;break}}}return!a&&this.manager&&(e.downElement===this.manager.game.canvas?this.emit(ee.POINTER_DOWN,e,i):this.emit(ee.POINTER_DOWN_OUTSIDE,e)),t},getDragState:function(e){return this._dragState[e.id]},setDragState:function(e,t){this._dragState[e.id]=t},processDragThresholdEvent:function(e,t){var i=!1,r=this.dragTimeThreshold,n=this.dragDistanceThreshold;if((n>0&&VCe(e.x,e.y,e.downX,e.downY)>=n||r>0&&t>=e.downTime+r)&&(i=!0),i)return this.setDragState(e,3),this.processDragStartList(e)},processDragStartList:function(e){if(this.getDragState(e)!==3)return 0;for(var t=this._drag[e.id],i=0;i<t.length;i++){var r=t[i],n=r.input;n.dragState=2,n.dragStartX=r.x,n.dragStartY=r.y,n.dragStartXGlobal=e.x,n.dragStartYGlobal=e.y,n.dragX=n.dragStartXGlobal-n.dragStartX,n.dragY=n.dragStartYGlobal-n.dragStartY,r.emit(ee.GAMEOBJECT_DRAG_START,e,n.dragX,n.dragY),this.emit(ee.DRAG_START,e,r)}return this.setDragState(e,4),t.length},processDragDownEvent:function(e){var t=this._temp;if(this._draggable.length===0||t.length===0||!e.primaryDown||this.getDragState(e)!==0)return 0;this.setDragState(e,1);for(var i=[],r=0;r<t.length;r++){var n=t[r];n.input.draggable&&n.input.dragState===0&&i.push(n)}return i.length===0?(this.setDragState(e,0),0):(i.length>1&&(this.sortGameObjects(i),this.topOnly&&i.splice(1)),this._drag[e.id]=i,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(e,3),this.processDragStartList(e)):(this.setDragState(e,2),0))},processDragMoveEvent:function(e){if(this.getDragState(e)===2&&this.processDragThresholdEvent(e,this.manager.game.loop.now),this.getDragState(e)!==4)return 0;for(var t=this._tempZones,i=this._drag[e.id],r=0;r<i.length;r++){var n=i[r],a=n.input,s=a.target;if(s){var o=t.indexOf(s);o===0?(n.emit(ee.GAMEOBJECT_DRAG_OVER,e,s),this.emit(ee.DRAG_OVER,e,n,s)):o>0?(n.emit(ee.GAMEOBJECT_DRAG_LEAVE,e,s),this.emit(ee.DRAG_LEAVE,e,n,s),a.target=t[0],s=a.target,n.emit(ee.GAMEOBJECT_DRAG_ENTER,e,s),this.emit(ee.DRAG_ENTER,e,n,s)):(n.emit(ee.GAMEOBJECT_DRAG_LEAVE,e,s),this.emit(ee.DRAG_LEAVE,e,n,s),t[0]?(a.target=t[0],s=a.target,n.emit(ee.GAMEOBJECT_DRAG_ENTER,e,s),this.emit(ee.DRAG_ENTER,e,n,s)):a.target=null)}else!s&&t[0]&&(a.target=t[0],s=a.target,n.emit(ee.GAMEOBJECT_DRAG_ENTER,e,s),this.emit(ee.DRAG_ENTER,e,n,s));var l,h;if(!n.parentContainer)l=e.x-a.dragX,h=e.y-a.dragY;else{var u=e.x-a.dragStartXGlobal,f=e.y-a.dragStartYGlobal,c=n.getParentRotation(),v=u*Math.cos(c)+f*Math.sin(c),p=f*Math.cos(c)-u*Math.sin(c);v*=1/n.parentContainer.scaleX,p*=1/n.parentContainer.scaleY,l=v+a.dragStartX,h=p+a.dragStartY}n.emit(ee.GAMEOBJECT_DRAG,e,l,h),this.emit(ee.DRAG,e,n,l,h)}return i.length},processDragUpEvent:function(e){for(var t=this._drag[e.id],i=0;i<t.length;i++){var r=t[i],n=r.input;if(n&&n.dragState===2){n.dragState=0,n.dragX=n.localX-r.displayOriginX,n.dragY=n.localY-r.displayOriginY;var a=!1,s=n.target;s&&(r.emit(ee.GAMEOBJECT_DROP,e,s),this.emit(ee.DROP,e,r,s),n.target=null,a=!0),r.input&&(r.emit(ee.GAMEOBJECT_DRAG_END,e,n.dragX,n.dragY,a),this.emit(ee.DRAG_END,e,r,a))}}return this.setDragState(e,0),t.splice(0),0},processMoveEvents:function(e){var t=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var a=!1,s=0;s<i.length;s++){var o=i[s];if(o.input){if(t++,o.emit(ee.GAMEOBJECT_POINTER_MOVE,e,o.input.localX,o.input.localY,n),r.cancelled||!o.input){a=!0;break}if(this.emit(ee.GAMEOBJECT_MOVE,e,o,n),r.cancelled||!o.input){a=!0;break}if(this.topOnly)break}}return a||this.emit(ee.POINTER_MOVE,e,i),t},processWheelEvent:function(e){var t=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var a=!1,s=e.deltaX,o=e.deltaY,l=e.deltaZ,h=0;h<i.length;h++){var u=i[h];if(u.input){if(t++,u.emit(ee.GAMEOBJECT_POINTER_WHEEL,e,s,o,l,n),r.cancelled||!u.input){a=!0;break}if(this.emit(ee.GAMEOBJECT_WHEEL,e,u,s,o,l,n),r.cancelled||!u.input){a=!0;break}}}return a||this.emit(ee.POINTER_WHEEL,e,i,s,o,l),t},processOverEvents:function(e){var t=this._temp,i=0,r=t.length,n=[];if(r>0){var a=this.manager,s=this._eventData,o=this._eventContainer;s.cancelled=!1;for(var l=!1,h=0;h<r;h++){var u=t[h];if(u.input){if(n.push(u),a.setCursor(u.input),u.emit(ee.GAMEOBJECT_POINTER_OVER,e,u.input.localX,u.input.localY,o),i++,s.cancelled||!u.input){l=!0;break}if(this.emit(ee.GAMEOBJECT_OVER,e,u,o),s.cancelled||!u.input){l=!0;break}}}l||this.emit(ee.POINTER_OVER,e,n)}return this._over[e.id]=n,i},processOutEvents:function(e){var t=this._over[e.id],i=0,r=t.length;if(r>0){var n=this.manager,a=this._eventData,s=this._eventContainer;a.cancelled=!1;var o=!1;this.sortGameObjects(t);for(var l=0;l<r;l++){var h=t[l];for(l=0;l<r;l++)if(h=t[l],!!h.input){if(n.resetCursor(h.input),h.emit(ee.GAMEOBJECT_POINTER_OUT,e,s),i++,a.cancelled||!h.input){o=!0;break}if(this.emit(ee.GAMEOBJECT_OUT,e,h,s),a.cancelled||!h.input){o=!0;break}}o||this.emit(ee.POINTER_OUT,e,t)}this._over[e.id]=[]}return i},processOverOutEvents:function(e){var t=this._temp,i,r,n=[],a=[],s=[],o=this._over[e.id],l=this._drag[e.id],h=this.manager;for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)===-1&&l.indexOf(r)===-1?n.push(r):s.push(r);for(i=0;i<t.length;i++)r=t[i],o.indexOf(r)===-1&&a.push(r);var u=n.length,f=0,c=this._eventData,v=this._eventContainer;c.cancelled=!1;var p=!1;if(u>0){for(this.sortGameObjects(n),i=0;i<u;i++)if(r=n[i],!!r.input){if(h.resetCursor(r.input),r.emit(ee.GAMEOBJECT_POINTER_OUT,e,v),f++,c.cancelled||!r.input){p=!0;break}if(this.emit(ee.GAMEOBJECT_OUT,e,r,v),c.cancelled||!r.input){p=!0;break}}p||this.emit(ee.POINTER_OUT,e,n)}if(u=a.length,c.cancelled=!1,p=!1,u>0){for(this.sortGameObjects(a),i=0;i<u;i++)if(r=a[i],!!r.input){if(h.setCursor(r.input),r.emit(ee.GAMEOBJECT_POINTER_OVER,e,r.input.localX,r.input.localY,v),f++,c.cancelled||!r.input){p=!0;break}if(this.emit(ee.GAMEOBJECT_OVER,e,r,v),c.cancelled||!r.input){p=!0;break}}p||this.emit(ee.POINTER_OVER,e,a)}return o=s.concat(a),this._over[e.id]=this.sortGameObjects(o),f},processUpEvents:function(e){var t=this._temp,i=this._eventData,r=this._eventContainer;i.cancelled=!1;for(var n=!1,a=0;a<t.length;a++){var s=t[a];if(s.input){if(s.emit(ee.GAMEOBJECT_POINTER_UP,e,s.input.localX,s.input.localY,r),i.cancelled||!s.input){n=!0;break}if(this.emit(ee.GAMEOBJECT_UP,e,s,r),i.cancelled||!s.input){n=!0;break}}}return!n&&this.manager&&(e.upElement===this.manager.game.canvas?this.emit(ee.POINTER_UP,e,t):this.emit(ee.POINTER_UP_OUTSIDE,e)),t.length},queueForInsertion:function(e){return this._pendingInsertion.indexOf(e)===-1&&this._list.indexOf(e)===-1&&this._pendingInsertion.push(e),this},queueForRemoval:function(e){return this._pendingRemoval.push(e),this},setDraggable:function(e,t){t===void 0&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];r.input.draggable=t;var n=this._draggable.indexOf(r);t&&n===-1?this._draggable.push(r):!t&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(e){e===void 0&&(e=1);var t=this.systems.textures;return zCe(t,e)},setHitArea:function(e,t,i){if(t===void 0)return this.setHitAreaFromTexture(e);Array.isArray(e)||(e=[e]);var r=!1,n=!1,a=!1,s=!1,o=!1,l=!0;if(HCe(t)){var h=t;t=ts(h,"hitArea",null),i=ts(h,"hitAreaCallback",null),r=ts(h,"draggable",!1),n=ts(h,"dropZone",!1),a=ts(h,"cursor",!1),s=ts(h,"useHandCursor",!1),o=ts(h,"pixelPerfect",!1);var u=ts(h,"alphaTolerance",1);o&&(t={},i=this.makePixelPerfect(u)),(!t||!i)&&(this.setHitAreaFromTexture(e),l=!1)}else typeof t=="function"&&!i&&(i=t,t={});for(var f=0;f<e.length;f++){var c=e[f];if(o&&c.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var v=c.input?c.input:sR(c,t,i);v.customHitArea=l,v.dropZone=n,v.cursor=s?"pointer":a,c.input=v,r&&this.setDraggable(c),this.queueForInsertion(c)}return this},setHitAreaCircle:function(e,t,i,r,n){n===void 0&&(n=kCe);var a=new GCe(t,i,r);return this.setHitArea(e,a,n)},setHitAreaEllipse:function(e,t,i,r,n,a){a===void 0&&(a=WCe);var s=new UCe(t,i,r,n);return this.setHitArea(e,s,a)},setHitAreaFromTexture:function(e,t){t===void 0&&(t=lR),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i],n=r.frame,a=0,s=0;if(r.width?(a=r.width,s=r.height):n&&(a=n.realWidth,s=n.realHeight),r.type==="Container"&&(a===0||s===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}a!==0&&s!==0&&(r.input=sR(r,new oR(0,0,a,s),t),this.queueForInsertion(r))}return this},setHitAreaRectangle:function(e,t,i,r,n,a){a===void 0&&(a=lR);var s=new oR(t,i,r,n);return this.setHitArea(e,s,a)},setHitAreaTriangle:function(e,t,i,r,n,a,s,o){o===void 0&&(o=qCe);var l=new KCe(t,i,r,n,a,s);return this.setHitArea(e,l,o)},enableDebug:function(e,t){t===void 0&&(t=65280);var i=e.input;if(!i||!i.hitArea)return this;var r=i.hitArea,n=r.type,a=i.hitAreaDebug,s=this.systems.add,o=this.systems.updateList;a&&(o.remove(a),a.destroy(),a=null);var l=0,h=0;switch(n){case Bl.CIRCLE:a=s.arc(0,0,r.radius),l=r.x-r.radius,h=r.y-r.radius;break;case Bl.ELLIPSE:a=s.ellipse(0,0,r.width,r.height),l=r.x-r.width/2,h=r.y-r.height/2;break;case Bl.LINE:a=s.line(0,0,r.x1,r.y1,r.x2,r.y2);break;case Bl.POLYGON:a=s.polygon(0,0,r.points);break;case Bl.RECTANGLE:a=s.rectangle(0,0,r.width,r.height),l=r.x,h=r.y;break;case Bl.TRIANGLE:a=s.triangle(0,0,r.x1,r.y1,r.x2,r.y2,r.x3,r.y3);break}return a&&(a.isFilled=!1,a.preUpdate=function(){a.setStrokeStyle(1/e.scale,t),a.setDisplayOrigin(e.displayOriginX,e.displayOriginY),a.setRotation(e.rotation),a.setScale(e.scaleX,e.scaleY),a.setPosition(e.x+l,e.y+h),a.setScrollFactor(e.scrollFactorX,e.scrollFactorY)},o.add(a),i.hitAreaDebug=a),this},removeDebug:function(e){var t=e.input;if(t&&t.hitAreaDebug){var i=t.hitAreaDebug;this.systems.updateList.remove(i),i.destroy(),t.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(e){return this.pollRate=e,this._pollTimer=0,this},setGlobalTopOnly:function(e){return this.manager.globalTopOnly=e,this},setTopOnly:function(e){return this.topOnly=e,this},sortGameObjects:function(e){return e.length<2?e:(this.scene.sys.depthSort(),e.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(e,t){if(!e.parentContainer&&!t.parentContainer)return this.displayList.getIndex(t)-this.displayList.getIndex(e);if(e.parentContainer===t.parentContainer)return t.parentContainer.getIndex(t)-e.parentContainer.getIndex(e);if(e.parentContainer===t)return-1;if(t.parentContainer===e)return 1;for(var i=e.getIndexList(),r=t.getIndexList(),n=Math.min(i.length,r.length),a=0;a<n;a++){var s=i[a],o=r[a];if(s!==o)return o-s}return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(e){return this.manager.addPointer(e)},setDefaultCursor:function(e){return this.manager.setDefaultCursor(e),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(ee.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var e=0;e<10;e++)this._drag[e]=[],this._over[e]=[];this.removeAllListeners();var t=this.systems.events;t.off(Ni.TRANSITION_START,this.transitionIn,this),t.off(Ni.TRANSITION_OUT,this.transitionOut,this),t.off(Ni.TRANSITION_COMPLETE,this.transitionComplete,this),t.off(Ni.PRE_UPDATE,this.preUpdate,this),this.manager.events.off(ee.GAME_OUT,this.onGameOut,this),this.manager.events.off(ee.GAME_OVER,this.onGameOver,this),t.off(Ni.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(ee.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(Ni.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});XCe.register("InputPlugin",Gk,"input");var JCe=Gk;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZCe="keydown";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QCe="keyup";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jCe="keycombomatch";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eEe="down";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tEe="keydown-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iEe="keyup-";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rEe="up";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D0={ANY_KEY_DOWN:ZCe,ANY_KEY_UP:QCe,COMBO_MATCH:jCe,DOWN:eEe,KEY_DOWN:tEe,KEY_UP:iEe,UP:rEe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nEe=O,hR=Me,dx=D0,aEe=new nEe({Extends:hR,initialize:function(t,i){hR.call(this),this.plugin=t,this.keyCode=i,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(e){return this.emitOnRepeat=e,this},onDown:function(e){this.originalEvent=e,this.enabled&&(this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.location=e.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(dx.DOWN,this,e):(this.isDown=!0,this.isUp=!1,this.timeDown=e.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(dx.DOWN,this,e)))},onUp:function(e){this.originalEvent=e,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=e.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(dx.UP,this,e))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}}),kk=aEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var sEe=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size?!0:(t.current=t.keyCodes[t.index],!1)},oEe=sEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uR=oEe,lEe=function(e,t){if(t.matched)return!0;var i=!1,r=!1;if(e.keyCode===t.current)if(t.index>0&&t.maxKeyDelay>0){var n=t.timeLastMatched+t.maxKeyDelay;e.timeStamp<=n&&(r=!0,i=uR(e,t))}else r=!0,i=uR(e,t);return!r&&t.resetOnWrongKey&&(t.index=0,t.current=t.keyCodes[0]),i&&(t.timeLastMatched=e.timeStamp,t.matched=!0,t.timeMatched=e.timeStamp),i},hEe=lEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uEe=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e},fEe=uEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cEe=O,vx=D0,Hd=Y,dEe=hEe,vEe=fEe,pEe=new cEe({initialize:function(t,i,r){if(r===void 0&&(r={}),i.length<2)return!1;this.manager=t,this.enabled=!0,this.keyCodes=[];for(var n=0;n<i.length;n++){var a=i[n];typeof a=="string"?this.keyCodes.push(a.toUpperCase().charCodeAt(0)):typeof a=="number"?this.keyCodes.push(a):a.hasOwnProperty("keyCode")&&this.keyCodes.push(a.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=Hd(r,"resetOnWrongKey",!0),this.maxKeyDelay=Hd(r,"maxKeyDelay",0),this.resetOnMatch=Hd(r,"resetOnMatch",!1),this.deleteOnMatch=Hd(r,"deleteOnMatch",!1);var s=this,o=function(l){if(!(s.matched||!s.enabled)){var h=dEe(l,s);h&&(s.manager.emit(vx.COMBO_MATCH,s,l),s.resetOnMatch?vEe(s):s.deleteOnMatch&&s.destroy())}};this.onKeyDown=o,this.manager.on(vx.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(vx.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}}),$k=pEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fR=_0,zk={};for(var cR in fR)zk[fR[cR]]=cR;var mEe=zk;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gEe=O,dR=Me,Xd=D0,vR=At,pR=me,is=La,xEe=O0,px=kk,rs=_0,yEe=$k,Nl=mEe,TEe=xc,Vk=new gEe({Extends:dR,initialize:function(t){dR.call(this),this.game=t.systems.game,this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.manager=t.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],t.pluginEvents.once(is.BOOT,this.boot,this),t.pluginEvents.on(is.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=pR(e,"keyboard",!0);var t=pR(e,"keyboard.capture",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(is.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(is.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(is.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(is.SHUTDOWN,this.shutdown,this),this.game.events.on(vR.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:rs.UP,down:rs.DOWN,left:rs.LEFT,right:rs.RIGHT,space:rs.SPACE,shift:rs.SHIFT})},addKeys:function(e,t,i){t===void 0&&(t=!0),i===void 0&&(i=!1);var r={};if(typeof e=="string"){e=e.split(",");for(var n=0;n<e.length;n++){var a=e[n].trim();a&&(r[a]=this.addKey(a,t,i))}}else for(var s in e)r[s]=this.addKey(e[s],t,i);return r},addKey:function(e,t,i){t===void 0&&(t=!0),i===void 0&&(i=!1);var r=this.keys;if(e instanceof px){var n=r.indexOf(e);return n>-1?r[n]=e:r[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(i),e}return typeof e=="string"&&(e=rs[e.toUpperCase()]),r[e]||(r[e]=new px(this,e),t&&this.addCapture(e),r[e].setEmitOnRepeat(i)),r[e]},removeKey:function(e,t){t===void 0&&(t=!1);var i=this.keys,r;if(e instanceof px){var n=i.indexOf(e);n>-1&&(r=this.keys[n],this.keys[n]=void 0)}else typeof e=="string"&&(e=rs[e.toUpperCase()]);return i[e]&&(r=i[e],i[e]=void 0),r&&(r.plugin=null,t&&r.destroy()),this},createCombo:function(e,t){return new yEe(this,e,t)},checkDown:function(e,t){if(this.enabled&&e.isDown){var i=TEe(this.time-e.timeDown,t);if(i>e._tick)return e._tick=i,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(!(!this.isActive()||t===0))for(var i=this.keys,r=0;r<t;r++){var n=e[r],a=n.keyCode,s=i[a],o=!1;n.cancelled===void 0&&(n.cancelled=0,n.stopImmediatePropagation=function(){n.cancelled=1},n.stopPropagation=function(){n.cancelled=-1}),n.cancelled!==-1&&(n.type==="keydown"?(s&&(o=s.isDown,s.onDown(n)),!n.cancelled&&(!s||!o)&&(Nl[a]&&(this.emit(Xd.KEY_DOWN+Nl[a],n),this.emit("keydown_"+Nl[a],n)),n.cancelled||this.emit(Xd.ANY_KEY_DOWN,n))):(s&&s.onUp(n),n.cancelled||(Nl[a]&&(this.emit(Xd.KEY_UP+Nl[a],n),this.emit("keyup_"+Nl[a],n)),n.cancelled||this.emit(Xd.ANY_KEY_UP,n))),n.cancelled===1&&(n.cancelled=0))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(is.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(is.MANAGER_PROCESS,this.update,this),this.game.events.off(vR.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});xEe.register("KeyboardPlugin",Vk,"keyboard","keyboard","inputKeyboard");var SEe=Vk;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CEe=function(e){return e._justDown?(e._justDown=!1,!0):!1},EEe=CEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _Ee=function(e){return e._justUp?(e._justUp=!1,!0):!1},AEe=_Ee;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wEe=function(e,t){t===void 0&&(t=50);var i=e.plugin.game.loop.time-e.timeDown;return e.isDown&&i<t},MEe=wEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bEe=function(e,t){t===void 0&&(t=50);var i=e.plugin.game.loop.time-e.timeUp;return e.isUp&&i<t},PEe=bEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var REe={Events:D0,KeyboardManager:iN,KeyboardPlugin:SEe,Key:kk,KeyCodes:_0,KeyCombo:$k,JustDown:EEe,JustUp:AEe,DownDuration:MEe,UpDuration:PEe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LEe={MouseManager:rN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FEe={TouchManager:aN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IEe=UC,OEe=pt,gT={CreateInteractiveObject:Ik,Events:La,Gamepad:DCe,InputManager:sN,InputPlugin:JCe,InputPluginCache:O0,Keyboard:REe,Mouse:LEe,Pointer:nN,Touch:FEe};gT=OEe(!1,gT,IEe);var DEe=gT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BEe={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19},bt=BEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NEe=function(e,t){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:t+e.url:!1},B0=NEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GEe=function(e,t,i,r,n){return e===void 0&&(e=""),t===void 0&&(t=!0),i===void 0&&(i=""),r===void 0&&(r=""),n===void 0&&(n=0),{responseType:e,async:t,user:i,password:r,timeout:n,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0}},N0=GEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kEe=pt,$Ee=N0,zEe=function(e,t){var i=e===void 0?$Ee():kEe({},e);if(t)for(var r in t)t[r]!==void 0&&(i[r]=t[r]);return i},ME=zEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VEe=ME,UEe=function(e,t){var i=VEe(t,e.xhrSettings),r=new XMLHttpRequest;return r.open("GET",e.src,i.async,i.user,i.password),r.responseType=e.xhrSettings.responseType,r.timeout=i.timeout,i.header&&i.headerValue&&r.setRequestHeader(i.header,i.headerValue),i.requestedWith&&r.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&r.overrideMimeType(i.overrideMimeType),r.onload=e.onLoad.bind(e,r),r.onerror=e.onError.bind(e,r),r.onprogress=e.onProgress.bind(e),r.send(),r},Uk=UEe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WEe=O,Gl=bt,mx=Vh,Qn=Y,YEe=B0,HEe=ME,XEe=Uk,KEe=N0,bE=new WEe({initialize:function(t,i){this.loader=t,this.cache=Qn(i,"cache",!1),this.type=Qn(i,"type",!1),this.key=Qn(i,"key",!1);var r=this.key;if(t.prefix&&t.prefix!==""&&(this.key=t.prefix+r),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=Qn(i,"url"),this.url===void 0?this.url=t.path+r+"."+Qn(i,"extension",""):typeof this.url!="function"&&(this.url=t.path+this.url),this.src="",this.xhrSettings=KEe(Qn(i,"responseType",void 0)),Qn(i,"xhrSettings",!1)&&(this.xhrSettings=HEe(this.xhrSettings,Qn(i,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?Gl.FILE_POPULATED:Gl.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=Qn(i,"config",{}),this.multiFile,this.linkFile},setLink:function(e){this.linkFile=e,e.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===Gl.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=YEe(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=XEe(this,this.loader.xhr))},onLoad:function(e,t){var i=e.responseURL&&e.responseURL.indexOf("file://")===0&&t.target.status===0,r=!(t.target&&t.target.status!==200)||i;e.readyState===4&&e.status>=400&&e.status<=599&&(r=!1),this.resetXHR(),this.loader.nextFile(this,r)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(e){e.lengthComputable&&(this.bytesLoaded=e.loaded,this.bytesTotal=e.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(mx.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=Gl.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=Gl.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=Gl.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(e){e===void 0&&(e=this.data);var t=this.key,i=this.type;this.loader.emit(mx.FILE_COMPLETE,t,i,e),this.loader.emit(mx.FILE_KEY_COMPLETE+i+"-"+t,t,i,e),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});bE.createObjectURL=function(e,t,i){if(typeof URL=="function")e.src=URL.createObjectURL(t);else{var r=new FileReader;r.onload=function(){e.removeAttribute("crossOrigin"),e.src="data:"+(t.type||i)+";base64,"+r.result.split(",")[1]},r.onerror=e.onerror,r.readAsDataURL(t)}};bE.revokeObjectURL=function(e){typeof URL=="function"&&URL.revokeObjectURL(e.src)};var Pt=bE;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qEe=O,gx=bt,mR=Pt,JEe=Ce,Iu=Y,gR=me,xR=Te,xT=new qEe({Extends:mR,initialize:function(t,i,r,n,a){var s="json";if(xR(i)){var o=i;i=Iu(o,"key"),r=Iu(o,"url"),n=Iu(o,"xhrSettings"),s=Iu(o,"extension",s),a=Iu(o,"dataKey",a)}var l={type:"json",cache:t.cacheManager.json,extension:s,responseType:"text",key:i,url:r,xhrSettings:n,config:a};mR.call(this,t,l),xR(r)&&(a?this.data=gR(r,a):this.data=r,this.state=gx.FILE_POPULATED)},onProcess:function(){if(this.state!==gx.FILE_POPULATED){this.state=gx.FILE_PROCESSING;var e=JSON.parse(this.xhrLoader.responseText),t=this.config;typeof t=="string"?this.data=gR(e,t,e):this.data=e}this.onProcessComplete()}});JEe.register("json",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new xT(this,e[n]));else this.addFile(new xT(this,e,t,r,i));return this});var js=xT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZEe=O,QEe=Ce,xx=js,jEe=Vh,yT=new ZEe({Extends:xx,initialize:function(t,i,r,n,a){xx.call(this,t,i,r,n,a),this.type="animationJSON"},onProcess:function(){this.loader.once(jEe.POST_PROCESS,this.onLoadComplete,this),xx.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data),this.pendingDestroy()}});QEe.register("animation",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new yT(this,e[n]));else this.addFile(new yT(this,e,t,r,i));return this});var e_e=yT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t_e=O,yR=bt,Ou=Pt,i_e=Ce,kl=Y,r_e=Te,TT=new t_e({Extends:Ou,initialize:function e(t,i,r,n,a){var s="png",o;if(r_e(i)){var l=i;i=kl(l,"key"),r=kl(l,"url"),o=kl(l,"normalMap"),n=kl(l,"xhrSettings"),s=kl(l,"extension",s),a=kl(l,"frameConfig")}Array.isArray(r)&&(o=r[1],r=r[0]);var h={type:"image",cache:t.textureManager,extension:s,responseType:"blob",key:i,url:r,xhrSettings:n,config:a};if(Ou.call(this,t,h),o){var u=new e(t,this.key,o,n,a);u.type="normalMap",this.setLink(u),t.addFile(u)}},onProcess:function(){this.state=yR.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){Ou.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){Ou.revokeObjectURL(e.data),e.onProcessError()},Ou.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var e,t=this.linkFile;t&&t.state===yR.FILE_COMPLETE?(this.type==="image"?e=this.cache.addImage(this.key,this.data,t.data):e=this.cache.addImage(t.key,t.data,this.data),this.pendingDestroy(e),t.pendingDestroy(e)):t||(e=this.cache.addImage(this.key,this.data),this.pendingDestroy(e))}});i_e.register("image",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new TT(this,e[r]));else this.addFile(new TT(this,e,t,i));return this});var il=TT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n_e=O,a_e=new n_e({initialize:function(t,i,r,n){this.loader=t,this.type=i,this.key=r,this.multiKeyIndex=t.multiKeyIndex++,this.files=n,this.complete=!1,this.pending=n.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var a=0;a<n.length;a++)n[a].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(e){return this.files.push(e),e.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(e){var t=this.files.indexOf(e);t!==-1&&this.pending--},onFileFailed:function(e){var t=this.files.indexOf(e);t!==-1&&this.failed++}}),eo=a_e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s_e=O,o_e=Ce,ns=Y,TR=il,l_e=Te,SR=js,yx=eo,ST=new s_e({Extends:yx,initialize:function(t,i,r,n,a,s){var o,l;if(l_e(i)){var h=i;i=ns(h,"key"),o=new TR(t,{key:i,url:ns(h,"textureURL"),extension:ns(h,"textureExtension","png"),normalMap:ns(h,"normalMap"),xhrSettings:ns(h,"textureXhrSettings")}),l=new SR(t,{key:i,url:ns(h,"atlasURL"),extension:ns(h,"atlasExtension","json"),xhrSettings:ns(h,"atlasXhrSettings")})}else o=new TR(t,i,r,a),l=new SR(t,i,n,s);o.linkFile?yx.call(this,t,"atlasjson",i,[o,l,o.linkFile]):yx.call(this,t,"atlasjson",i,[o,l])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});o_e.register("atlas",function(e,t,i,r,n){var a;if(Array.isArray(e))for(var s=0;s<e.length;s++)a=new ST(this,e[s]),this.addFile(a.files);else a=new ST(this,e,t,i,r,n),this.addFile(a.files);return this});var h_e=ST;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u_e=O,f_e=bt,CR=Pt,c_e=Ce,Kd=Y,d_e=Te,v_e=eN,CT=new u_e({Extends:CR,initialize:function(t,i,r,n){var a="xml";if(d_e(i)){var s=i;i=Kd(s,"key"),r=Kd(s,"url"),n=Kd(s,"xhrSettings"),a=Kd(s,"extension",a)}var o={type:"xml",cache:t.cacheManager.xml,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};CR.call(this,t,o)},onProcess:function(){this.state=f_e.FILE_PROCESSING,this.data=v_e(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});c_e.register("xml",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new CT(this,e[r]));else this.addFile(new CT(this,e,t,i));return this});var PE=CT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p_e=O,m_e=Ce,as=Y,ER=il,g_e=Te,Tx=eo,_R=PE,ET=new p_e({Extends:Tx,initialize:function(t,i,r,n,a,s){var o,l;if(g_e(i)){var h=i;i=as(h,"key"),o=new ER(t,{key:i,url:as(h,"textureURL"),extension:as(h,"textureExtension","png"),normalMap:as(h,"normalMap"),xhrSettings:as(h,"textureXhrSettings")}),l=new _R(t,{key:i,url:as(h,"atlasURL"),extension:as(h,"atlasExtension","xml"),xhrSettings:as(h,"atlasXhrSettings")})}else o=new ER(t,i,r,a),l=new _R(t,i,n,s);o.linkFile?Tx.call(this,t,"atlasxml",i,[o,l,o.linkFile]):Tx.call(this,t,"atlasxml",i,[o,l])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});m_e.register("atlasXML",function(e,t,i,r,n){var a;if(Array.isArray(e))for(var s=0;s<e.length;s++)a=new ET(this,e[s]),this.addFile(a.files);else a=new ET(this,e,t,i,r,n),this.addFile(a.files);return this});var x_e=ET;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y_e=O,T_e=Vh,AR=Pt,wR=Y,S_e=B0,C_e=Te,E_e=new y_e({Extends:AR,initialize:function(t,i,r,n){if(C_e(i)){var a=i;i=wR(a,"key"),n=wR(a,"config",n)}var s={type:"audio",cache:t.cacheManager.audio,extension:r.type,key:i,url:r.url,config:n};AR.call(this,t,s),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];t.oncanplaythrough=null,t.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(e){var t=e.target;t.oncanplaythrough=null,t.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(T_e.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var e=this.config&&this.config.instances||1;this.filesTotal=e,this.filesLoaded=0,this.percentComplete=0;for(var t=0;t<e;t++){var i=new Audio;i.dataset={},i.dataset.name=this.key+("0"+t).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(t=0;t<this.data.length;t++)i=this.data[t],i.src=S_e(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}}),Wk=E_e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var __e=O,A_e=Or,MR=Pt,w_e=Ce,Go=Y,M_e=Wk,Yk=Te,ko=new __e({Extends:MR,initialize:function(t,i,r,n,a){if(Yk(i)){var s=i;i=Go(s,"key"),n=Go(s,"xhrSettings"),a=Go(s,"context",a)}var o={type:"audio",cache:t.cacheManager.audio,extension:r.type,responseType:"arraybuffer",key:i,url:r.url,xhrSettings:n,config:{context:a}};MR.call(this,t,o)},onProcess:function(){this.state=A_e.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(t){e.data=t,e.onProcessComplete()},function(t){console.error("Error decoding audio: "+this.key+" - ",t?t.message:null),e.onProcessError()}),this.config.context=null}});ko.create=function(e,t,i,r,n){var a=e.systems.game,s=a.config.audio,o=a.device.audio;Yk(t)&&(i=Go(t,"url",[]),r=Go(t,"config",{}));var l=ko.getAudioURL(a,i);return l?o.webAudio&&!(s&&s.disableWebAudio)?new ko(e,t,l,n,a.sound.context):new M_e(e,t,l,r):null};ko.getAudioURL=function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=Go(t[i],"url",t[i]);if(r.indexOf("blob:")===0||r.indexOf("data:")===0)return r;var n=r.match(/\.([a-zA-Z0-9]+)($|\?)/);if(n=Go(t[i],"type",n?n[1]:"").toLowerCase(),e.device.audio[n])return{url:r,type:n}}return null};w_e.register("audio",function(e,t,i,r){var n=this.systems.game,a=n.config.audio,s=n.device.audio;if(a&&a.noAudio||!s.webAudio&&!s.audioData)return this;var o;if(Array.isArray(e))for(var l=0;l<e.length;l++)o=ko.create(this,e[l]),o&&this.addFile(o);else o=ko.create(this,e,t,i,r),o&&this.addFile(o);return this});var Hk=ko,b_e={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bR=Hk,P_e=O,R_e=Ce,ss=Y,L_e=Te,PR=js,Sx=eo,RR=new P_e({Extends:Sx,initialize:function(t,i,r,n,a,s,o){if(L_e(i)){var l=i;i=ss(l,"key"),r=ss(l,"jsonURL"),n=ss(l,"audioURL"),a=ss(l,"audioConfig"),s=ss(l,"audioXhrSettings"),o=ss(l,"jsonXhrSettings")}var h;if(!n)h=new PR(t,i,r,o),Sx.call(this,t,"audiosprite",i,[h]),this.config.resourceLoad=!0,this.config.audioConfig=a,this.config.audioXhrSettings=s;else{var u=bR.create(t,i,n,a,s);u&&(h=new PR(t,i,r,o),Sx.call(this,t,"audiosprite",i,[u,h]),this.config.resourceLoad=!1)}},onFileComplete:function(e){var t=this.files.indexOf(e);if(t!==-1&&(this.pending--,this.config.resourceLoad&&e.type==="json"&&e.data.hasOwnProperty("resources"))){var i=e.data.resources,r=ss(this.config,"audioConfig"),n=ss(this.config,"audioXhrSettings"),a=bR.create(this.loader,e.key,i,r,n);a&&(this.addToMultiFile(a),this.loader.addFile(a))}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.complete=!0}}});R_e.register("audioSprite",function(e,t,i,r,n,a){var s=this.systems.game,o=s.config.audio,l=s.device.audio;if(o&&o.noAudio||!l.webAudio&&!l.audioData)return this;var h;if(Array.isArray(e))for(var u=0;u<e.length;u++)h=new RR(this,e[u]),h.files&&this.addFile(h.files);else h=new RR(this,e,t,i,r,n,a),h.files&&this.addFile(h.files);return this});/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var F_e=O,I_e=bt,LR=Pt,O_e=Ce,Du=Y,D_e=Te,_T=new F_e({Extends:LR,initialize:function(t,i,r,n,a){var s="bin";if(D_e(i)){var o=i;i=Du(o,"key"),r=Du(o,"url"),n=Du(o,"xhrSettings"),s=Du(o,"extension",s),a=Du(o,"dataType",a)}var l={type:"binary",cache:t.cacheManager.binary,extension:s,responseType:"arraybuffer",key:i,url:r,xhrSettings:n,config:{dataType:a}};LR.call(this,t,l)},onProcess:function(){this.state=I_e.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});O_e.register("binary",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new _T(this,e[n]));else this.addFile(new _T(this,e,t,r,i));return this});var B_e=_T;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var N_e=O,G_e=Ce,os=Y,FR=il,k_e=Te,Cx=eo,$_e=jC,IR=PE,AT=new N_e({Extends:Cx,initialize:function(t,i,r,n,a,s){var o,l;if(k_e(i)){var h=i;i=os(h,"key"),o=new FR(t,{key:i,url:os(h,"textureURL"),extension:os(h,"textureExtension","png"),normalMap:os(h,"normalMap"),xhrSettings:os(h,"textureXhrSettings")}),l=new IR(t,{key:i,url:os(h,"fontDataURL"),extension:os(h,"fontDataExtension","xml"),xhrSettings:os(h,"fontDataXhrSettings")})}else o=new FR(t,i,r,a),l=new IR(t,i,n,s);o.linkFile?Cx.call(this,t,"bitmapfont",i,[o,l,o.linkFile]):Cx.call(this,t,"bitmapfont",i,[o,l])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.loader.cacheManager.bitmapFont.add(e.key,{data:$_e(t.data),texture:e.key,frame:null}),this.complete=!0}}});G_e.register("bitmapFont",function(e,t,i,r,n){var a;if(Array.isArray(e))for(var s=0;s<e.length;s++)a=new AT(this,e[s]),this.addFile(a.files);else a=new AT(this,e,t,i,r,n),this.addFile(a.files);return this});var z_e=AT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var V_e=O,U_e=bt,OR=Pt,W_e=Ce,qd=Y,Y_e=Te,wT=new V_e({Extends:OR,initialize:function(t,i,r,n){var a="css";if(Y_e(i)){var s=i;i=qd(s,"key"),r=qd(s,"url"),n=qd(s,"xhrSettings"),a=qd(s,"extension",a)}var o={type:"script",cache:!1,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};OR.call(this,t,o)},onProcess:function(){this.state=U_e.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});W_e.register("css",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new wT(this,e[r]));else this.addFile(new wT(this,e,t,i));return this});var H_e=wT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var X_e=O,K_e=bt,DR=Pt,q_e=Ce,Bu=Y,J_e=Te,Jd=U3,MT=new X_e({Extends:DR,initialize:function(t,i,r,n,a){var s="glsl";if(J_e(i)){var o=i;i=Bu(o,"key"),r=Bu(o,"url"),n=Bu(o,"shaderType","fragment"),a=Bu(o,"xhrSettings"),s=Bu(o,"extension",s)}else n===void 0&&(n="fragment");var l={type:"glsl",cache:t.cacheManager.shader,extension:s,responseType:"text",key:i,url:r,config:{shaderType:n},xhrSettings:a};DR.call(this,t,l)},onProcess:function(){this.state=K_e.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split(`
`),t=this.extractBlock(e,0);if(t)for(;t;){var i=this.getShaderName(t.header),r=this.getShaderType(t.header),n=this.getShaderUniforms(t.header),a=t.shader;if(this.cache.has(i)){var s=this.cache.get(i);r==="fragment"?s.fragmentSrc=a:s.vertexSrc=a,s.uniforms||(s.uniforms=n)}else r==="fragment"?this.cache.add(i,new Jd(i,a,"",n)):this.cache.add(i,new Jd(i,"",a,n));t=this.extractBlock(e,t.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new Jd(this.key,this.data)):this.cache.add(this.key,new Jd(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if(i.substring(0,5)==="name:")return i.substring(5).trim()}return this.key},getShaderType:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if(i.substring(0,5)==="type:")return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var t={},i=0;i<e.length;i++){var r=e[i].trim();if(r.substring(0,8)==="uniform."){var n=r.indexOf(":");if(n){var a=r.substring(8,n);try{t[a]=JSON.parse(r.substring(n+1))}catch{console.warn("Invalid uniform JSON: "+a)}}}}return t},extractBlock:function(e,t){for(var i=-1,r=-1,n=-1,a=!1,s=!1,o=[],l=[],h=t;h<e.length;h++){var u=e[h].trim();if(u==="---")if(i===-1)i=h,a=!0;else if(a)r=h,a=!1,s=!0;else{s=!1;break}else a?o.push(u):s&&(l.push(u),n=h)}return!a&&r!==-1?{header:o,shader:l.join(`
`),offset:n}:null}});q_e.register("glsl",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new MT(this,e[n]));else this.addFile(new MT(this,e,t,i,r));return this});var Z_e=MT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q_e=O,j_e=bt,BR=Pt,eAe=Ce,Zd=Y,tAe=Te,bT=new Q_e({Extends:BR,initialize:function(t,i,r,n){var a="html";if(tAe(i)){var s=i;i=Zd(s,"key"),r=Zd(s,"url"),n=Zd(s,"xhrSettings"),a=Zd(s,"extension",a)}var o={type:"text",cache:t.cacheManager.html,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};BR.call(this,t,o)},onProcess:function(){this.state=j_e.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});eAe.register("html",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new bT(this,e[r]));else this.addFile(new bT(this,e,t,i));return this});var iAe=bT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rAe=O,NR=bt,Nu=Pt,nAe=Ce,$l=Y,aAe=Te,PT=new rAe({Extends:Nu,initialize:function(t,i,r,n,a,s){n===void 0&&(n=512),a===void 0&&(a=512);var o="html";if(aAe(i)){var l=i;i=$l(l,"key"),r=$l(l,"url"),s=$l(l,"xhrSettings"),o=$l(l,"extension",o),n=$l(l,"width",n),a=$l(l,"height",a)}var h={type:"html",cache:t.textureManager,extension:o,responseType:"text",key:i,url:r,xhrSettings:s,config:{width:n,height:a}};Nu.call(this,t,h)},onProcess:function(){this.state=NR.FILE_PROCESSING;var e=this.config.width,t=this.config.height,i=[];i.push('<svg width="'+e+'px" height="'+t+'px" viewBox="0 0 '+e+" "+t+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var r=[i.join(`
`)],n=this;try{var a=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch{n.state=NR.FILE_ERRORED,n.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){Nu.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){Nu.revokeObjectURL(n.data),n.onProcessError()},Nu.createObjectURL(this.data,a,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});nAe.register("htmlTexture",function(e,t,i,r,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new PT(this,e[a]));else this.addFile(new PT(this,e,t,i,r,n));return this});var sAe=PT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oAe=O,lAe=Ce,yn=Y,GR=il,hAe=Te,uAe=js,kR=eo,RT=new oAe({Extends:kR,initialize:function(t,i,r,n,a,s,o){if(hAe(i)){var l=i;i=yn(l,"key"),r=yn(l,"url"),s=yn(l,"xhrSettings"),n=yn(l,"path"),a=yn(l,"baseURL"),o=yn(l,"textureXhrSettings")}var h=new uAe(t,i,r,s);kR.call(this,t,"multiatlas",i,[h]),this.config.path=n,this.config.baseURL=a,this.config.textureXhrSettings=o},onFileComplete:function(e){var t=this.files.indexOf(e);if(t!==-1&&(this.pending--,e.type==="json"&&e.data.hasOwnProperty("textures"))){var i=e.data.textures,r=this.config,n=this.loader,a=n.baseURL,s=n.path,o=n.prefix,l=yn(r,"baseURL",this.baseURL),h=yn(r,"path",this.path),u=yn(r,"prefix",this.prefix),f=yn(r,"textureXhrSettings");n.setBaseURL(l),n.setPath(h),n.setPrefix(u);for(var c=0;c<i.length;c++){var v=i[c].image,p="MA"+this.multiKeyIndex+"_"+v,m=new GR(n,p,v,f);if(this.addToMultiFile(m),n.addFile(m),i[c].normalMap){var x=new GR(n,p,i[c].normalMap,f);x.type="normalMap",m.setLink(x),this.addToMultiFile(x),n.addFile(x)}}n.setBaseURL(a),n.setPath(s),n.setPrefix(o)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],t=[],i=[],r=[],n=1;n<this.files.length;n++){var a=this.files[n];if(a.type!=="normalMap")for(var s=a.key.indexOf("_"),o=a.key.substr(s+1),l=a.data,h=0;h<e.data.textures.length;h++){var u=e.data.textures[h];if(u.image===o){i.push(l),t.push(u),a.linkFile&&r.push(a.linkFile.data);break}}}for(r.length===0&&(r=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,t,r),this.complete=!0,n=0;n<this.files.length;n++)this.files[n].pendingDestroy()}}});lAe.register("multiatlas",function(e,t,i,r,n){var a;if(Array.isArray(e))for(var s=0;s<e.length;s++)a=new RT(this,e[s]),this.addFile(a.files);else a=new RT(this,e,t,i,r,n),this.addFile(a.files);return this});var fAe=RT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cAe=O,dAe=bt,$R=Pt,vAe=Ce,Qd=Y,pAe=Te,LT=new cAe({Extends:$R,initialize:function(t,i,r,n){var a="js";if(pAe(i)){var s=i;i=Qd(s,"key"),r=Qd(s,"url"),n=Qd(s,"xhrSettings"),a=Qd(s,"extension",a)}var o={type:"script",cache:!1,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};$R.call(this,t,o)},onProcess:function(){this.state=dAe.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});vAe.register("script",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new LT(this,e[r]));else this.addFile(new LT(this,e,t,i));return this});var Xk=LT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mAe=O,gAe=Ce,jd=Y,xAe=Te,zR=eo,yAe=Xk,FT=new mAe({Extends:zR,initialize:function(t,i,r,n){var a="js",s=[];if(xAe(i)){var o=i;i=jd(o,"key"),r=jd(o,"url"),n=jd(o,"xhrSettings"),a=jd(o,"extension",a)}Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var h=new yAe(t,{key:i+"_"+l.toString(),url:r[l],extension:a,xhrSettings:n});h.onProcess=function(){this.onProcessComplete()},s.push(h)}zR.call(this,t,"scripts",i,s)},addToCache:function(){if(this.isReadyToProcess()){for(var e=0;e<this.files.length;e++){var t=this.files[e];t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=t.xhrLoader.responseText,document.head.appendChild(t.data)}this.complete=!0}}});gAe.register("scripts",function(e,t,i){var r;if(Array.isArray(e))for(var n=0;n<e.length;n++)r=new FT(this,e[n]),this.addFile(r.files);else r=new FT(this,e,t,i),this.addFile(r.files);return this});var TAe=FT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SAe=O,VR=bt,CAe=Ce,UR=js,IT=new SAe({Extends:UR,initialize:function(t,i,r,n,a){UR.call(this,t,i,r,n,a),this.type="packfile"},onProcess:function(){this.state!==VR.FILE_POPULATED&&(this.state=VR.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});CAe.register("pack",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new IT(this,e[n]));else this.addFile(new IT(this,e,t,r,i));return this});var EAe=IT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _Ae=O,Ex=bt,WR=Pt,AAe=Ce,ls=Y,wAe=Te,OT=new _Ae({Extends:WR,initialize:function(t,i,r,n,a,s){var o="js";if(wAe(i)){var l=i;i=ls(l,"key"),r=ls(l,"url"),s=ls(l,"xhrSettings"),o=ls(l,"extension",o),n=ls(l,"start"),a=ls(l,"mapping")}var h={type:"plugin",cache:!1,extension:o,responseType:"text",key:i,url:r,xhrSettings:s,config:{start:n,mapping:a}};WR.call(this,t,h),typeof r=="function"&&(this.data=r,this.state=Ex.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=ls(t,"start",!1),r=ls(t,"mapping",null);if(this.state===Ex.FILE_POPULATED)e.install(this.key,this.data,i,r);else{this.state=Ex.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var n=e.install(this.key,window[this.key],i,r);(i||r)&&(this.loader.systems[r]=n,this.loader.scene[r]=n)}this.onProcessComplete()}});AAe.register("plugin",function(e,t,i,r,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new OT(this,e[a]));else this.addFile(new OT(this,e,t,i,r,n));return this});var MAe=OT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bAe=O,PAe=bt,YR=Pt,RAe=Ce,ev=Y,LAe=Te,DT=new bAe({Extends:YR,initialize:function(t,i,r,n){var a="js";if(LAe(i)){var s=i;i=ev(s,"key"),r=ev(s,"url"),n=ev(s,"xhrSettings"),a=ev(s,"extension",a)}var o={type:"text",cache:t.cacheManager.text,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};YR.call(this,t,o)},onProcess:function(){this.state=PAe.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),t=eval;this.loader.sceneManager.add(this.key,t(e)),this.complete=!0}});RAe.register("sceneFile",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new DT(this,e[r]));else this.addFile(new DT(this,e,t,i));return this});var FAe=DT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IAe=O,_x=bt,HR=Pt,OAe=Ce,hs=Y,DAe=Te,BT=new IAe({Extends:HR,initialize:function(t,i,r,n,a,s){var o="js";if(DAe(i)){var l=i;i=hs(l,"key"),r=hs(l,"url"),s=hs(l,"xhrSettings"),o=hs(l,"extension",o),n=hs(l,"systemKey"),a=hs(l,"sceneKey")}var h={type:"scenePlugin",cache:!1,extension:o,responseType:"text",key:i,url:r,xhrSettings:s,config:{systemKey:n,sceneKey:a}};HR.call(this,t,h),typeof r=="function"&&(this.data=r,this.state=_x.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=this.key,r=hs(t,"systemKey",i),n=hs(t,"sceneKey",i);this.state===_x.FILE_POPULATED?e.installScenePlugin(r,this.data,n,this.loader.scene,!0):(this.state=_x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(r,window[this.key],n,this.loader.scene,!0)),this.onProcessComplete()}});OAe.register("scenePlugin",function(e,t,i,r,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new BT(this,e[a]));else this.addFile(new BT(this,e,t,i,r,n));return this});var BAe=BT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NAe=O,GAe=Ce,XR=il,NT=new NAe({Extends:XR,initialize:function(t,i,r,n,a){XR.call(this,t,i,r,a,n),this.type="spritesheet"},addToCache:function(){var e=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(e)}});GAe.register("spritesheet",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new NT(this,e[n]));else this.addFile(new NT(this,e,t,i,r));return this});var kAe=NT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $Ae=O,zAe=bt,Gu=Pt,VAe=Ce,us=Y,UAe=Te,GT=new $Ae({Extends:Gu,initialize:function(t,i,r,n,a){var s="svg";if(UAe(i)){var o=i;i=us(o,"key"),r=us(o,"url"),n=us(o,"svgConfig",{}),a=us(o,"xhrSettings"),s=us(o,"extension",s)}var l={type:"svg",cache:t.textureManager,extension:s,responseType:"text",key:i,url:r,xhrSettings:a,config:{width:us(n,"width"),height:us(n,"height"),scale:us(n,"scale")}};Gu.call(this,t,l)},onProcess:function(){this.state=zAe.FILE_PROCESSING;var e=this.xhrLoader.responseText,t=[e],i=this.config.width,r=this.config.height,n=this.config.scale;e:if(i&&r||n){var a=null,s=new DOMParser;a=s.parseFromString(e,"text/xml");var o=a.getElementsByTagName("svg")[0],l=o.hasAttribute("viewBox"),h=parseFloat(o.getAttribute("width")),u=parseFloat(o.getAttribute("height"));if(!l&&h&&u)o.setAttribute("viewBox","0  0 "+h+" "+u);else if(l&&!h&&!u){var f=o.getAttribute("viewBox").split(/\s+|,/);h=f[2],u=f[3]}if(n)if(h&&u)i=h*n,r=u*n;else break e;o.setAttribute("width",i.toString()+"px"),o.setAttribute("height",r.toString()+"px"),t=[new XMLSerializer().serializeToString(o)]}try{var c=new window.Blob(t,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var v=this,p=!1;this.data.onload=function(){p||Gu.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){p?v.onProcessError():(p=!0,Gu.revokeObjectURL(v.data),v.data.src="data:image/svg+xml,"+encodeURIComponent(t.join("")))},Gu.createObjectURL(this.data,c,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});VAe.register("svg",function(e,t,i,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new GT(this,e[n]));else this.addFile(new GT(this,e,t,i,r));return this});var WAe=GT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YAe=O,HAe=bt,KR=Pt,XAe=Ce,tv=Y,KAe=Te,kT=new YAe({Extends:KR,initialize:function(t,i,r,n){var a="txt";if(KAe(i)){var s=i;i=tv(s,"key"),r=tv(s,"url"),n=tv(s,"xhrSettings"),a=tv(s,"extension",a)}var o={type:"text",cache:t.cacheManager.text,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};KR.call(this,t,o)},onProcess:function(){this.state=HAe.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});XAe.register("text",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new kT(this,e[r]));else this.addFile(new kT(this,e,t,i));return this});var Kk=kT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nr={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qAe=O,JAe=bt,qR=Pt,ZAe=Ce,iv=Y,QAe=Te,jAe=Nr,$T=new qAe({Extends:qR,initialize:function(t,i,r,n){var a="csv";if(QAe(i)){var s=i;i=iv(s,"key"),r=iv(s,"url"),n=iv(s,"xhrSettings"),a=iv(s,"extension",a)}var o={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:a,responseType:"text",key:i,url:r,xhrSettings:n};qR.call(this,t,o),this.tilemapFormat=jAe.CSV},onProcess:function(){this.state=JAe.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});ZAe.register("tilemapCSV",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new $T(this,e[r]));else this.addFile(new $T(this,e,t,i));return this});var ewe=$T;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var twe=O,iwe=Ce,JR=js,rwe=Nr,zT=new twe({Extends:JR,initialize:function(t,i,r,n){JR.call(this,t,i,r,n),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var e={format:rwe.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});iwe.register("tilemapImpact",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new zT(this,e[r]));else this.addFile(new zT(this,e,t,i));return this});var nwe=zT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var awe=O,swe=Ce,ZR=js,owe=Nr,VT=new awe({Extends:ZR,initialize:function(t,i,r,n){ZR.call(this,t,i,r,n),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var e={format:owe.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});swe.register("tilemapTiledJSON",function(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new VT(this,e[r]));else this.addFile(new VT(this,e,t,i));return this});var lwe=VT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hwe=O,uwe=Ce,fs=Y,QR=il,fwe=Te,Ax=eo,jR=Kk,UT=new hwe({Extends:Ax,initialize:function(t,i,r,n,a,s){var o,l;if(fwe(i)){var h=i;i=fs(h,"key"),o=new QR(t,{key:i,url:fs(h,"textureURL"),extension:fs(h,"textureExtension","png"),normalMap:fs(h,"normalMap"),xhrSettings:fs(h,"textureXhrSettings")}),l=new jR(t,{key:i,url:fs(h,"atlasURL"),extension:fs(h,"atlasExtension","txt"),xhrSettings:fs(h,"atlasXhrSettings")})}else o=new QR(t,i,r,a),l=new jR(t,i,n,s);o.linkFile?Ax.call(this,t,"unityatlas",i,[o,l,o.linkFile]):Ax.call(this,t,"unityatlas",i,[o,l])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});uwe.register("unityAtlas",function(e,t,i,r,n){var a;if(Array.isArray(e))for(var s=0;s<e.length;s++)a=new UT(this,e[s]),this.addFile(a.files);else a=new UT(this,e,t,i,r,n),this.addFile(a.files);return this});var cwe=UT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dwe=O,vwe=Or,ku=Pt,pwe=Ce,mwe=B0,Ro=Y,gwe=Te,$o=new dwe({Extends:ku,initialize:function(t,i,r,n,a,s,o){n===void 0&&(n="loadeddata"),a===void 0&&(a=!1),s===void 0&&(s=!1),n!=="loadeddata"&&n!=="canplay"&&n!=="canplaythrough"&&(n="loadeddata");var l={type:"video",cache:t.cacheManager.video,extension:r.type,responseType:"blob",key:i,url:r.url,xhrSettings:o,config:{loadEvent:n,asBlob:a,noAudio:s}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),ku.call(this,t,l)},onProcess:function(){if(this.state=vwe.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var e=this.createVideoElement();this.data=e;var t=this;this.data.onloadeddata=function(){t.onProcessComplete()},this.data.onerror=function(){ku.revokeObjectURL(t.data),t.onProcessError()},ku.createObjectURL(e,this.xhrLoader.response,""),e.load()},createVideoElement:function(){var e=document.createElement("video");return e.controls=!1,e.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(e.muted=!0,e.defaultMuted=!0,e.setAttribute("autoplay","autoplay")),e.setAttribute("playsinline","playsinline"),e.setAttribute("preload","auto"),e},onVideoLoadHandler:function(e){var t=e.target;t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0),this.data=t,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(e){var t=e.target;t&&(t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var e=this.config.loadEvent;if(this.config.asBlob)ku.prototype.load.call(this);else{this.percentComplete=0;var t=this.createVideoElement();t.addEventListener(e,this.onLoadCallback,!0),t.addEventListener("error",this.onErrorCallback,!0),t.src=mwe(this,this.loader.baseURL),t.load()}}});$o.create=function(e,t,i,r,n,a,s){var o=e.systems.game;gwe(t)&&(i=Ro(t,"url",[]),r=Ro(t,"loadEvent","loadeddata"),n=Ro(t,"asBlob",!1),a=Ro(t,"noAudio",!1),s=Ro(t,"xhrSettings"));var l=$o.getVideoURL(o,i);if(l)return new $o(e,t,l,r,n,a,s)};$o.getVideoURL=function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=Ro(t[i],"url",t[i]);if(r.indexOf("blob:")===0)return r;var n;if(r.indexOf("data:")===0?n=r.split(",")[0].match(/\/(.*?);/):n=r.match(/\.([a-zA-Z0-9]+)($|\?)/),n=Ro(t[i],"type",n?n[1]:"").toLowerCase(),e.device.video[n])return{url:r,type:n}}return null};pwe.register("video",function(e,t,i,r,n,a){var s;if(Array.isArray(e))for(var o=0;o<e.length;o++)s=$o.create(this,e[o]),s&&this.addFile(s);else s=$o.create(this,e,t,i,r,n,a),s&&this.addFile(s);return this});var xwe=$o;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ywe={AnimationJSONFile:e_e,AtlasJSONFile:h_e,AtlasXMLFile:x_e,AudioFile:Hk,AudioSpriteFile:b_e,BinaryFile:B_e,BitmapFontFile:z_e,CSSFile:H_e,GLSLFile:Z_e,HTML5AudioFile:Wk,HTMLFile:iAe,HTMLTextureFile:sAe,ImageFile:il,JSONFile:js,MultiAtlasFile:fAe,MultiScriptFile:TAe,PackFile:EAe,PluginFile:MAe,SceneFile:FAe,ScenePluginFile:BAe,ScriptFile:Xk,SpriteSheetFile:kAe,SVGFile:WAe,TextFile:Kk,TilemapCSVFile:ewe,TilemapImpactFile:nwe,TilemapJSONFile:lwe,UnityAtlasFile:cwe,VideoFile:xwe,XMLFile:PE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Twe=O,Ti=bt,rv=Wh,eL=Me,xo=Vh,Swe=Ce,Ot=Y,Cwe=mt,Tn=wt,Ewe=N0,qk=new Twe({Extends:eL,initialize:function(t){eL.call(this);var i=t.sys.game.config,r=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,this.sceneManager=t.sys.game.scene,Swe.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(Ot(r,"baseURL",i.loaderBaseURL)),this.setPath(Ot(r,"path",i.loaderPath)),this.setPrefix(Ot(r,"prefix",i.loaderPrefix)),this.maxParallelDownloads=Ot(r,"maxParallelDownloads",i.loaderMaxParallelDownloads),this.xhr=Ewe(Ot(r,"responseType",i.loaderResponseType),Ot(r,"async",i.loaderAsync),Ot(r,"user",i.loaderUser),Ot(r,"password",i.loaderPassword),Ot(r,"timeout",i.loaderTimeout)),this.crossOrigin=Ot(r,"crossOrigin",i.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new rv,this.inflight=new rv,this.queue=new rv,this._deleteQueue=new rv,this.totalFailed=0,this.totalComplete=0,this.state=Ti.LOADER_IDLE,this.multiKeyIndex=0,t.sys.events.once(Tn.BOOT,this.boot,this),t.sys.events.on(Tn.START,this.pluginStart,this)},boot:function(){this.systems.events.once(Tn.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(Tn.SHUTDOWN,this.shutdown,this)},setBaseURL:function(e){return e===void 0&&(e=""),e!==""&&e.substr(-1)!=="/"&&(e=e.concat("/")),this.baseURL=e,this},setPath:function(e){return e===void 0&&(e=""),e!==""&&e.substr(-1)!=="/"&&(e=e.concat("/")),this.path=e,this},setPrefix:function(e){return e===void 0&&(e=""),this.prefix=e,this},setCORS:function(e){return this.crossOrigin=e,this},addFile:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];this.keyExists(i)||(this.list.set(i),this.emit(xo.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(e){var t=e.hasCacheConflict();return t||this.list.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}),!t&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}),this.queue.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1})),t},addPack:function(e,t){t&&e.hasOwnProperty(t)&&(e={packKey:e[t]});var i=0,r=this.baseURL,n=this.path,a=this.prefix;for(var s in e){var o=e[s],l=Ot(o,"baseURL",r),h=Ot(o,"path",n),u=Ot(o,"prefix",a),f=Ot(o,"files",null),c=Ot(o,"defaultType","void");if(Array.isArray(f)){this.setBaseURL(l),this.setPath(h),this.setPrefix(u);for(var v=0;v<f.length;v++){var p=f[v],m=p.hasOwnProperty("type")?p.type:c;this[m]&&(this[m](p),i++)}}}return this.setBaseURL(r),this.setPath(n),this.setPrefix(a),i>0},isLoading:function(){return this.state===Ti.LOADER_LOADING||this.state===Ti.LOADER_PROCESSING},isReady:function(){return this.state===Ti.LOADER_IDLE||this.state===Ti.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(xo.START,this),this.list.size===0?this.loadComplete():(this.state=Ti.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(Tn.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(xo.PROGRESS,this.progress)},update:function(){this.state===Ti.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(e){if((e.state===Ti.FILE_POPULATED||e.state===Ti.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(e),this.list.delete(e),e.crossOrigin||(e.crossOrigin=this.crossOrigin),e.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(e,t){this.inflight&&(this.inflight.delete(e),this.updateProgress(),t?(this.totalComplete++,this.queue.set(e),this.emit(xo.FILE_LOAD,e),e.onProcess()):(this.totalFailed++,this._deleteQueue.set(e),this.emit(xo.FILE_LOAD_ERROR,e),this.fileProcessComplete(e)))},fileProcessComplete:function(e){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(e.state===Ti.FILE_ERRORED?e.multiFile&&e.multiFile.onFileFailed(e):e.state===Ti.FILE_COMPLETE&&(e.multiFile?e.multiFile.isReadyToProcess()&&e.multiFile.addToCache():e.addToCache()),this.queue.delete(e),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(xo.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=Ti.LOADER_COMPLETE,this.systems.events.off(Tn.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(xo.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(e){this._deleteQueue.set(e)},saveJSON:function(e,t){return this.save(JSON.stringify(e),t)},save:function(e,t,i){t===void 0&&(t="file.json"),i===void 0&&(i="application/json");var r=new Blob([e],{type:i}),n=URL.createObjectURL(r),a=document.createElement("a");return a.download=t,a.textContent="Download "+t,a.href=n,a.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var e=this.systems.game.config,t=this.systems.settings.loader;this.setBaseURL(Ot(t,"baseURL",e.loaderBaseURL)),this.setPath(Ot(t,"path",e.loaderPath)),this.setPrefix(Ot(t,"prefix",e.loaderPrefix)),this.state=Ti.LOADER_IDLE},shutdown:function(){this.reset(),this.state=Ti.LOADER_SHUTDOWN,this.systems.events.off(Tn.UPDATE,this.update,this),this.systems.events.off(Tn.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=Ti.LOADER_DESTROYED,this.systems.events.off(Tn.UPDATE,this.update,this),this.systems.events.off(Tn.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});Cwe.register("Loader",qk,"load");var _we=qk;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Awe=bt,wwe=pt,WT={Events:Vh,FileTypes:ywe,File:Pt,FileTypesManager:Ce,GetURL:B0,LoaderPlugin:_we,MergeXHRSettings:ME,MultiFile:eo,XHRLoader:Uk,XHRSettings:N0};WT=wwe(!1,WT,Awe);var Mwe=WT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bwe={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14},Oa=bwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Pwe={setAcceleration:function(e,t){return this.body.acceleration.set(e,t),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}},Rwe=Pwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Lwe={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}},Fwe=Lwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Iwe={setBounce:function(e,t){return this.body.bounce.set(e,t),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,t,i){return this.body.setCollideWorldBounds(e,t,i),this}},Owe=Iwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dwe={setDebug:function(e,t,i){return this.debugShowBody=e,this.debugShowVelocity=t,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}},Bwe=Dwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nwe={setDrag:function(e,t){return this.body.drag.set(e,t),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}},Gwe=Nwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kwe={enableBody:function(e,t,i,r,n){return e&&this.body.reset(t,i),r&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}},$we=kwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zwe={setFriction:function(e,t){return this.body.friction.set(e,t),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}},Vwe=zwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uwe={setGravity:function(e,t){return this.body.gravity.set(e,t),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}},Wwe=Uwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ywe={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}},Hwe=Ywe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xwe={setMass:function(e){return this.body.mass=e,this}},Kwe=Xwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qwe={setOffset:function(e,t){return this.body.setOffset(e,t),this},setSize:function(e,t,i){return this.body.setSize(e,t,i),this},setCircle:function(e,t,i){return this.body.setCircle(e,t,i),this}},Jwe=qwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zwe={setVelocity:function(e,t){return this.body.setVelocity(e,t),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,t){return this.body.maxVelocity.set(e,t),this}},Qwe=Zwe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RE={Acceleration:Rwe,Angular:Fwe,Bounce:Owe,Debug:Bwe,Drag:Gwe,Enable:$we,Friction:Vwe,Gravity:Wwe,Immovable:Hwe,Mass:Kwe,Size:Jwe,Velocity:Qwe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jwe=O,dr=RE,tL=Yh,eMe=new jwe({Extends:tL,Mixins:[dr.Acceleration,dr.Angular,dr.Bounce,dr.Debug,dr.Drag,dr.Enable,dr.Friction,dr.Gravity,dr.Immovable,dr.Mass,dr.Size,dr.Velocity],initialize:function(t,i,r,n,a){tL.call(this,t,i,r,n,a),this.body=null}}),Jk=eMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tMe=O,vr=RE,iL=Fa,iMe=new tMe({Extends:iL,Mixins:[vr.Acceleration,vr.Angular,vr.Bounce,vr.Debug,vr.Drag,vr.Enable,vr.Friction,vr.Gravity,vr.Immovable,vr.Mass,vr.Size,vr.Velocity],initialize:function(t,i,r,n,a){iL.call(this,t,i,r,n,a),this.body=null}}),G0=iMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rMe=G0,nMe=O,rL=Oa,Ye=Y,nL=Cc,aL=Te,aMe=new nMe({Extends:nL,initialize:function(t,i,r,n){if(!r&&!n)n={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler};else if(aL(r))n=r,r=null,n.createCallback=this.createCallbackHandler,n.removeCallback=this.removeCallbackHandler;else if(Array.isArray(r)&&aL(r[0])){n=r[0];var a=this;r.forEach(function(s){s.createCallback=a.createCallbackHandler,s.removeCallback=a.removeCallbackHandler})}else n={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler};this.world=t,n.classType=Ye(n,"classType",rMe),this.physicsType=rL.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:Ye(n,"collideWorldBounds",!1),setBoundsRectangle:Ye(n,"customBoundsRectangle",null),setAccelerationX:Ye(n,"accelerationX",0),setAccelerationY:Ye(n,"accelerationY",0),setAllowDrag:Ye(n,"allowDrag",!0),setAllowGravity:Ye(n,"allowGravity",!0),setAllowRotation:Ye(n,"allowRotation",!0),setBounceX:Ye(n,"bounceX",0),setBounceY:Ye(n,"bounceY",0),setDragX:Ye(n,"dragX",0),setDragY:Ye(n,"dragY",0),setEnable:Ye(n,"enable",!0),setGravityX:Ye(n,"gravityX",0),setGravityY:Ye(n,"gravityY",0),setFrictionX:Ye(n,"frictionX",0),setFrictionY:Ye(n,"frictionY",0),setVelocityX:Ye(n,"velocityX",0),setVelocityY:Ye(n,"velocityY",0),setAngularVelocity:Ye(n,"angularVelocity",0),setAngularAcceleration:Ye(n,"angularAcceleration",0),setAngularDrag:Ye(n,"angularDrag",0),setMass:Ye(n,"mass",1),setImmovable:Ye(n,"immovable",!1)},Array.isArray(r)&&(n=null),nL.call(this,i,r,n),this.type="PhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,rL.DYNAMIC_BODY);var t=e.body;for(var i in this.defaults)t[i](this.defaults[i])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,t,i){i===void 0&&(i=0);for(var r=this.getChildren(),n=0;n<r.length;n++)r[n].body.velocity.set(e+n*i,t+n*i);return this},setVelocityX:function(e,t){t===void 0&&(t=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.x=e+r*t;return this},setVelocityY:function(e,t){t===void 0&&(t=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.y=e+r*t;return this}}),Zk=aMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wx=G0,sMe=O,sL=Oa,oL=Y,lL=Cc,hL=Te,oMe=new sMe({Extends:lL,initialize:function(t,i,r,n){!r&&!n?n={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:wx}:hL(r)?(n=r,r=null,n.createCallback=this.createCallbackHandler,n.removeCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=oL(n,"classType",wx)):Array.isArray(r)&&hL(r[0])&&(n=r,r=null,n.forEach(function(a){a.createCallback=this.createCallbackHandler,a.removeCallback=this.removeCallbackHandler,a.createMultipleCallback=this.createMultipleCallbackHandler,a.classType=oL(a,"classType",wx)})),this.world=t,this.physicsType=sL.STATIC_BODY,lL.call(this,i,r,n),this.type="StaticPhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,sL.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,t=0;t<e.length;t++)e[t].body.reset();return this}}),Qk=oMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uL=Jk,fL=G0,lMe=O,zl=Oa,hMe=Zk,uMe=Qk,fMe=new lMe({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(e,t,i,r,n){return this.world.addCollider(e,t,i,r,n)},overlap:function(e,t,i,r,n){return this.world.addOverlap(e,t,i,r,n)},existing:function(e,t){var i=t?zl.STATIC_BODY:zl.DYNAMIC_BODY;return this.world.enableBody(e,i),e},staticImage:function(e,t,i,r){var n=new uL(this.scene,e,t,i,r);return this.sys.displayList.add(n),this.world.enableBody(n,zl.STATIC_BODY),n},image:function(e,t,i,r){var n=new uL(this.scene,e,t,i,r);return this.sys.displayList.add(n),this.world.enableBody(n,zl.DYNAMIC_BODY),n},staticSprite:function(e,t,i,r){var n=new fL(this.scene,e,t,i,r);return this.sys.displayList.add(n),this.sys.updateList.add(n),this.world.enableBody(n,zl.STATIC_BODY),n},sprite:function(e,t,i,r){var n=new fL(this.scene,e,t,i,r);return this.sys.displayList.add(n),this.sys.updateList.add(n),this.world.enableBody(n,zl.DYNAMIC_BODY),n},staticGroup:function(e,t){return this.sys.updateList.add(new uMe(this.world,this.world.scene,e,t))},group:function(e,t){return this.sys.updateList.add(new hMe(this.world,this.world.scene,e,t))},destroy:function(){this.world=null,this.scene=null,this.sys=null}}),jk=fMe,cMe=function(e,t,i,r,n,a,s){a===void 0&&(a=!0),s===void 0&&(s=!1);var o=[],l=[],h=e.treeMinMax;if(h.minX=t,h.minY=i,h.maxX=t+r,h.maxY=i+n,s&&(l=e.staticTree.search(h)),a&&e.useTree)o=e.tree.search(h);else if(a){var u=e.bodies,f={position:{x:t,y:i},left:t,top:i,right:t+r,bottom:i+n,isCircle:!1},c=e.intersects;u.iterate(function(v){c(v,f)&&o.push(v)})}return l.concat(o)},e4=cMe,dMe=e4,cL=Jo,vMe=gE,pMe=xE,mMe=function(e,t,i,r,n,a){var s=dMe(e,t-r,i-r,2*r,2*r,n,a);if(s.length===0)return s;for(var o=new cL(t,i,r),l=new cL,h=[],u=0;u<s.length;u++){var f=s[u];f.isCircle?(l.setTo(f.center.x,f.center.y,f.halfWidth),vMe(o,l)&&h.push(f)):pMe(o,f)&&h.push(f)}return h},gMe=mMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xMe="collide";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yMe="overlap";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TMe="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SMe="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CMe="tilecollide";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EMe="tileoverlap";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _Me="worldbounds";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AMe="worldstep";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LE={COLLIDE:xMe,OVERLAP:yMe,PAUSE:TMe,RESUME:SMe,TILE_COLLIDE:CMe,TILE_OVERLAP:EMe,WORLD_BOUNDS:_Me,WORLD_STEP:AMe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wMe=O,Vl=Oa,MMe=LE,bMe=RC,PMe=Ve,RMe=Pa,Si=oe,LMe=new wMe({initialize:function(t,i){var r=i.width?i.width:64,n=i.height?i.height:64;this.world=t,this.gameObject=i,this.transform={x:i.x,y:i.y,rotation:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,displayOriginX:i.displayOriginX,displayOriginY:i.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new Si,this.position=new Si(i.x,i.y),this.prev=new Si(i.x,i.y),this.prevFrame=new Si(i.x,i.y),this.allowRotation=!0,this.rotation=i.angle,this.preRotation=i.angle,this.width=r,this.height=n,this.sourceWidth=r,this.sourceHeight=n,i.frame&&(this.sourceWidth=i.frame.realWidth,this.sourceHeight=i.frame.realHeight),this.halfWidth=Math.abs(r/2),this.halfHeight=Math.abs(n/2),this.center=new Si(i.x+this.halfWidth,i.y+this.halfHeight),this.velocity=new Si,this.newVelocity=new Si,this.deltaMax=new Si,this.acceleration=new Si,this.allowDrag=!0,this.drag=new Si,this.allowGravity=!0,this.gravity=new Si,this.bounce=new Si,this.worldBounce=null,this.customBoundsRectangle=t.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new Si(1e4,1e4),this.maxSpeed=-1,this.friction=new Si(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=Vl.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=Vl.DYNAMIC_BODY,this._sx=i.scaleX,this._sy=i.scaleY,this._dx=0,this._dy=0,this._bounds=new PMe},updateBounds:function(){var e=this.gameObject,t=this.transform;if(e.parentContainer){var i=e.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);t.x=i.tx,t.y=i.ty,t.rotation=bMe(i.rotation),t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY}else t.x=e.x,t.y=e.y,t.rotation=e.angle,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY;var r=!1;if(this.syncBounds){var n=e.getBounds(this._bounds);this.width=n.width,this.height=n.height,r=!0}else{var a=Math.abs(t.scaleX),s=Math.abs(t.scaleY);(this._sx!==a||this._sy!==s)&&(this.width=this.sourceWidth*a,this.height=this.sourceHeight*s,this._sx=a,this._sy=s,r=!0)}r&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},resetFlags:function(){this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(e,t){e&&this.resetFlags(),this.updateBounds();var i=this.transform;this.position.x=i.x+i.scaleX*(this.offset.x-i.displayOriginX),this.position.y=i.y+i.scaleY*(this.offset.y-i.displayOriginY),this.updateCenter(),this.rotation=i.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),e&&this.update(t)},update:function(e){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,e);var t=this.velocity.x,i=this.velocity.y;this.newVelocity.set(t*e,i*e),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,t),this.speed=Math.sqrt(t*t+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(MMe.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var e=this.position.x-this.prevFrame.x,t=this.position.y-this.prevFrame.y;if(this.moves){var i=this.deltaMax.x,r=this.deltaMax.y;i!==0&&e!==0&&(e<0&&e<-i?e=-i:e>0&&e>i&&(e=i)),r!==0&&t!==0&&(t<0&&t<-r?t=-r:t>0&&t>r&&(t=r)),this.gameObject.x+=e,this.gameObject.y+=t}e<0?this.facing=Vl.FACING_LEFT:e>0&&(this.facing=Vl.FACING_RIGHT),t<0?this.facing=Vl.FACING_UP:t>0&&(this.facing=Vl.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ())},setBoundsRectangle:function(e){return this.customBoundsRectangle=e||this.world.bounds,this},checkWorldBounds:function(){var e=this.position,t=this.customBoundsRectangle,i=this.world.checkCollision,r=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y,a=!1;return e.x<t.x&&i.left?(e.x=t.x,this.velocity.x*=r,this.blocked.left=!0,a=!0):this.right>t.right&&i.right&&(e.x=t.right-this.width,this.velocity.x*=r,this.blocked.right=!0,a=!0),e.y<t.y&&i.up?(e.y=t.y,this.velocity.y*=n,this.blocked.up=!0,a=!0):this.bottom>t.bottom&&i.down&&(e.y=t.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,a=!0),a&&(this.blocked.none=!1),a},setOffset:function(e,t){return t===void 0&&(t=e),this.offset.set(e,t),this.updateCenter(),this},setSize:function(e,t,i){i===void 0&&(i=!0);var r=this.gameObject;if(!e&&r.frame&&(e=r.frame.realWidth),!t&&r.frame&&(t=r.frame.realHeight),this.sourceWidth=e,this.sourceHeight=t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&r.getCenter){var n=r.displayWidth/2,a=r.displayHeight/2;this.offset.set(n-this.halfWidth,a-this.halfHeight)}return this.isCircle=!1,this.radius=0,this},setCircle:function(e,t,i){return t===void 0&&(t=this.offset.x),i===void 0&&(i=this.offset.y),e>0?(this.isCircle=!0,this.radius=e,this.sourceWidth=e*2,this.sourceHeight=e*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter()):this.isCircle=!1,this},reset:function(e,t){this.stop();var i=this.gameObject;i.setPosition(e,t),i.getTopLeft?i.getTopLeft(this.position):this.position.set(e,t),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){if(!this.isCircle)return RMe(this,e,t);if(this.radius>0&&e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom){var i=(this.center.x-e)*(this.center.x-e),r=(this.center.y-t)*(this.center.y-t);return i+r<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,r=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor),this.isCircle?e.strokeCircle(i,r,this.width/2):(this.checkCollision.up&&e.lineBetween(t.x,t.y,t.x+this.width,t.y),this.checkCollision.right&&e.lineBetween(t.x+this.width,t.y,t.x+this.width,t.y+this.height),this.checkCollision.down&&e.lineBetween(t.x,t.y+this.height,t.x+this.width,t.y+this.height),this.checkCollision.left&&e.lineBetween(t.x,t.y,t.x,t.y+this.height))),this.debugShowVelocity&&(e.lineStyle(e.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),e.lineBetween(i,r,i+this.velocity.x/2,r+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(e,t,i){e===void 0&&(e=!0),this.collideWorldBounds=e;var r=t!==void 0,n=i!==void 0;return(r||n)&&(this.worldBounce||(this.worldBounce=new Si),r&&(this.worldBounce.x=t),n&&(this.worldBounce.y=i)),this},setVelocity:function(e,t){return this.velocity.set(e,t),e=this.velocity.x,t=this.velocity.y,this.speed=Math.sqrt(e*e+t*t),this},setVelocityX:function(e){this.velocity.x=e;var t=e,i=this.velocity.y;return this.speed=Math.sqrt(t*t+i*i),this},setVelocityY:function(e){this.velocity.y=e;var t=this.velocity.x,i=e;return this.speed=Math.sqrt(t*t+i*i),this},setMaxVelocity:function(e,t){return this.maxVelocity.set(e,t),this},setMaxSpeed:function(e){return this.maxSpeed=e,this},setBounce:function(e,t){return this.bounce.set(e,t),this},setBounceX:function(e){return this.bounce.x=e,this},setBounceY:function(e){return this.bounce.y=e,this},setAcceleration:function(e,t){return this.acceleration.set(e,t),this},setAccelerationX:function(e){return this.acceleration.x=e,this},setAccelerationY:function(e){return this.acceleration.y=e,this},setAllowDrag:function(e){return e===void 0&&(e=!0),this.allowDrag=e,this},setAllowGravity:function(e){return e===void 0&&(e=!0),this.allowGravity=e,this},setAllowRotation:function(e){return e===void 0&&(e=!0),this.allowRotation=e,this},setDrag:function(e,t){return this.drag.set(e,t),this},setDragX:function(e){return this.drag.x=e,this},setDragY:function(e){return this.drag.y=e,this},setGravity:function(e,t){return this.gravity.set(e,t),this},setGravityX:function(e){return this.gravity.x=e,this},setGravityY:function(e){return this.gravity.y=e,this},setFriction:function(e,t){return this.friction.set(e,t),this},setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setAngularVelocity:function(e){return this.angularVelocity=e,this},setAngularAcceleration:function(e){return this.angularAcceleration=e,this},setAngularDrag:function(e){return this.angularDrag=e,this},setMass:function(e){return this.mass=e,this},setImmovable:function(e){return e===void 0&&(e=!0),this.immovable=e,this},setEnable:function(e){return e===void 0&&(e=!0),this.enable=e,this},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}}),t4=LMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FMe=O,IMe=new FMe({initialize:function(t,i,r,n,a,s,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=i,this.object1=r,this.object2=n,this.collideCallback=a,this.processCallback=s,this.callbackContext=o},setName:function(e){return this.name=e,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}}),i4=IMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nv=Oa,OMe=function(e,t,i,r){var n=0,a=e.deltaAbsX()+t.deltaAbsX()+r;return e._dx===0&&t._dx===0?(e.embedded=!0,t.embedded=!0):e._dx>t._dx?(n=e.right-t.x,n>a&&!i||e.checkCollision.right===!1||t.checkCollision.left===!1?n=0:(e.touching.none=!1,e.touching.right=!0,t.touching.none=!1,t.touching.left=!0,t.physicsType===nv.STATIC_BODY&&(e.blocked.none=!1,e.blocked.right=!0),e.physicsType===nv.STATIC_BODY&&(t.blocked.none=!1,t.blocked.left=!0))):e._dx<t._dx&&(n=e.x-t.width-t.x,-n>a&&!i||e.checkCollision.left===!1||t.checkCollision.right===!1?n=0:(e.touching.none=!1,e.touching.left=!0,t.touching.none=!1,t.touching.right=!0,t.physicsType===nv.STATIC_BODY&&(e.blocked.none=!1,e.blocked.left=!0),e.physicsType===nv.STATIC_BODY&&(t.blocked.none=!1,t.blocked.right=!0))),e.overlapX=n,t.overlapX=n,n},r4=OMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var av=Oa,DMe=function(e,t,i,r){var n=0,a=e.deltaAbsY()+t.deltaAbsY()+r;return e._dy===0&&t._dy===0?(e.embedded=!0,t.embedded=!0):e._dy>t._dy?(n=e.bottom-t.y,n>a&&!i||e.checkCollision.down===!1||t.checkCollision.up===!1?n=0:(e.touching.none=!1,e.touching.down=!0,t.touching.none=!1,t.touching.up=!0,t.physicsType===av.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0),e.physicsType===av.STATIC_BODY&&(t.blocked.none=!1,t.blocked.up=!0))):e._dy<t._dy&&(n=e.y-t.bottom,-n>a&&!i||e.checkCollision.up===!1||t.checkCollision.down===!1?n=0:(e.touching.none=!1,e.touching.up=!0,t.touching.none=!1,t.touching.down=!0,t.physicsType===av.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0),e.physicsType===av.STATIC_BODY&&(t.blocked.none=!1,t.blocked.down=!0))),e.overlapY=n,t.overlapY=n,n},n4=DMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BMe=function(e,t){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,t,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,t,e):!0},NMe=BMe;/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GMe=RN;function $p(e){if(!(this instanceof $p))return new $p(e);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}$p.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!ov(e,t))return i;for(var n=[],a,s,o,l;t;){for(a=0,s=t.children.length;a<s;a++)o=t.children[a],l=t.leaf?r(o):o,ov(e,l)&&(t.leaf?i.push(o):bx(e,l)?this._all(o,i):n.push(o));t=n.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!ov(e,t))return!1;for(var r=[],n,a,s,o;t;){for(n=0,a=t.children.length;n<a;n++)if(s=t.children[n],o=t.leaf?i(s):s,ov(e,o)){if(t.leaf||bx(e,o))return!0;r.push(s)}t=r.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=r;else if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Ql([]),this},remove:function(e,t){if(!e)return this;for(var i=this.data,r=this.toBBox(e),n=[],a=[],s,o,l,h;i||n.length;){if(i||(i=n.pop(),o=n[n.length-1],s=a.pop(),h=!0),i.leaf&&(l=kMe(e,i.children,t),l!==-1))return i.children.splice(l,1),n.push(i),this._condense(n),this;!h&&!i.leaf&&bx(i,r)?(n.push(i),a.push(s),s=0,o=i,i=i.children[0]):o?(s++,i=o.children[s],h=!1):i=null}return this},toBBox:function(e){return e},compareMinX:dL,compareMinY:vL,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var n=i-t+1,a=this._maxEntries,s;if(n<=a)return s=Ql(e.slice(t,i+1)),Ul(s,this.toBBox),s;r||(r=Math.ceil(Math.log(n)/Math.log(a)),a=Math.ceil(n/Math.pow(a,r-1))),s=Ql([]),s.leaf=!1,s.height=r;var o=Math.ceil(n/a),l=o*Math.ceil(Math.sqrt(a)),h,u,f,c;for(pL(e,t,i,l,this.compareMinX),h=t;h<=i;h+=l)for(f=Math.min(h+l-1,i),pL(e,h,f,o,this.compareMinY),u=h;u<=f;u+=o)c=Math.min(u+o-1,f),s.children.push(this._build(e,u,c,r-1));return Ul(s,this.toBBox),s},_chooseSubtree:function(e,t,i,r){for(var n,a,s,o,l,h,u,f;r.push(t),!(t.leaf||r.length-1===i);){for(u=f=1/0,n=0,a=t.children.length;n<a;n++)s=t.children[n],l=Mx(s),h=$Me(e,s)-l,h<f?(f=h,u=l<u?l:u,o=s):h===f&&l<u&&(u=l,o=s);t=o||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,n=i?e:r(e),a=[],s=this._chooseSubtree(n,this.data,t,a);for(s.children.push(e),xf(s,n);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(n,a,t)},_split:function(e,t){var i=e[t],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var a=this._chooseSplitIndex(i,n,r),s=Ql(i.children.splice(a,i.children.length-a));s.height=i.height,s.leaf=i.leaf,Ul(i,this.toBBox),Ul(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(e,t){this.data=Ql([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ul(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,n,a,s,o,l,h,u;for(l=h=1/0,r=t;r<=i-t;r++)n=gf(e,0,r,this.toBBox),a=gf(e,r,i,this.toBBox),s=zMe(n,a),o=Mx(n)+Mx(a),s<l?(l=s,u=r,h=o<h?o:h):s===l&&o<h&&(h=o,u=r);return u},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:dL,n=e.leaf?this.compareMinY:vL,a=this._allDistMargin(e,t,i,r),s=this._allDistMargin(e,t,i,n);a<s&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var n=this.toBBox,a=gf(e,0,t,n),s=gf(e,i-t,i,n),o=sv(a)+sv(s),l,h;for(l=t;l<i-t;l++)h=e.children[l],xf(a,e.leaf?n(h):h),o+=sv(a);for(l=i-t-1;l>=t;l--)h=e.children[l],xf(s,e.leaf?n(h):h),o+=sv(s);return o},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)xf(t[r],e)},_condense:function(e){for(var t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Ul(e[t],this.toBBox)},compareMinX:function(e,t){return e.left-t.left},compareMinY:function(e,t){return e.top-t.top},toBBox:function(e){return{minX:e.left,minY:e.top,maxX:e.right,maxY:e.bottom}}};function kMe(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function Ul(e,t){gf(e,0,e.children.length,t,e)}function gf(e,t,i,r,n){n||(n=Ql(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var a=t,s;a<i;a++)s=e.children[a],xf(n,e.leaf?r(s):s);return n}function xf(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function dL(e,t){return e.minX-t.minX}function vL(e,t){return e.minY-t.minY}function Mx(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function sv(e){return e.maxX-e.minX+(e.maxY-e.minY)}function $Me(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function zMe(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,n-i)*Math.max(0,a-r)}function bx(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function ov(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Ql(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pL(e,t,i,r,n){for(var a=[t,i],s;a.length;)i=a.pop(),t=a.pop(),!(i-t<=r)&&(s=t+Math.ceil((i-t)/r/2)*r,GMe(e,s,t,i,n),a.push(t,s,s,i))}var a4=$p;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VMe=function(e,t){t<0?(e.blocked.none=!1,e.blocked.left=!0):t>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=t,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x},UMe=VMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WMe=UMe,YMe=function(e,t,i,r,n,a){var s=0,o=t.faceLeft,l=t.faceRight,h=t.collideLeft,u=t.collideRight;return a||(o=!0,l=!0,h=!0,u=!0),e.deltaX()<0&&u&&e.checkCollision.left?l&&e.x<r&&(s=e.x-r,s<-n&&(s=0)):e.deltaX()>0&&h&&e.checkCollision.right&&o&&e.right>i&&(s=e.right-i,s>n&&(s=0)),s!==0&&(e.customSeparateX?e.overlapX=s:WMe(e,s)),s},HMe=YMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XMe=function(e,t){t<0?(e.blocked.none=!1,e.blocked.up=!0):t>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=t,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y},KMe=XMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qMe=KMe,JMe=function(e,t,i,r,n,a){var s=0,o=t.faceTop,l=t.faceBottom,h=t.collideUp,u=t.collideDown;return a||(o=!0,l=!0,h=!0,u=!0),e.deltaY()<0&&u&&e.checkCollision.up?l&&e.y<r&&(s=e.y-r,s<-n&&(s=0)):e.deltaY()>0&&h&&e.checkCollision.down&&o&&e.bottom>i&&(s=e.bottom-i,s>n&&(s=0)),s!==0&&(e.customSeparateY?e.overlapY=s:qMe(e,s)),s},ZMe=JMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QMe=function(e,t){return!(t.right<=e.left||t.bottom<=e.top||t.position.x>=e.right||t.position.y>=e.bottom)},s4=QMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mL=HMe,gL=ZMe,xL=s4,jMe=function(e,t,i,r,n,a,s){var o=r.left,l=r.top,h=r.right,u=r.bottom,f=i.faceLeft||i.faceRight,c=i.faceTop||i.faceBottom;if(s||(f=!0,c=!0),!f&&!c)return!1;var v=0,p=0,m=0,x=1;if(t.deltaAbsX()>t.deltaAbsY()?m=-1:t.deltaAbsX()<t.deltaAbsY()&&(x=-1),t.deltaX()!==0&&t.deltaY()!==0&&f&&c&&(m=Math.min(Math.abs(t.position.x-h),Math.abs(t.right-o)),x=Math.min(Math.abs(t.position.y-u),Math.abs(t.bottom-l))),m<x){if(f&&(v=mL(t,i,o,h,a,s),v!==0&&!xL(r,t)))return!0;c&&(p=gL(t,i,l,u,a,s))}else{if(c&&(p=gL(t,i,l,u,a,s),p!==0&&!xL(r,t)))return!0;f&&(v=mL(t,i,o,h,a,s))}return v!==0||p!==0},ebe=jMe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tbe=r4,ibe=function(e,t,i,r){var n=tbe(e,t,i,r);if(i||n===0||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return n!==0||e.embedded&&t.embedded;var a=e.velocity.x,s=t.velocity.x;if(!e.immovable&&!t.immovable){n*=.5,e.x-=n,t.x+=n;var o=Math.sqrt(s*s*t.mass/e.mass)*(s>0?1:-1),l=Math.sqrt(a*a*e.mass/t.mass)*(a>0?1:-1),h=(o+l)*.5;o-=h,l-=h,e.velocity.x=h+o*e.bounce.x,t.velocity.x=h+l*t.bounce.x}else e.immovable?(t.x+=n,t.velocity.x=a-s*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y)):(e.x-=n,e.velocity.x=s-a*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y));return!0},rbe=ibe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nbe=n4,abe=function(e,t,i,r){var n=nbe(e,t,i,r);if(i||n===0||e.immovable&&t.immovable||e.customSeparateY||t.customSeparateY)return n!==0||e.embedded&&t.embedded;var a=e.velocity.y,s=t.velocity.y;if(!e.immovable&&!t.immovable){n*=.5,e.y-=n,t.y+=n;var o=Math.sqrt(s*s*t.mass/e.mass)*(s>0?1:-1),l=Math.sqrt(a*a*e.mass/t.mass)*(a>0?1:-1),h=(o+l)*.5;o-=h,l-=h,e.velocity.y=h+o*e.bounce.y,t.velocity.y=h+l*t.bounce.y}else e.immovable?(t.y+=n,t.velocity.y=a-s*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x)):(e.y-=n,e.velocity.y=s-a*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x));return!0},sbe=abe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var obe=Xs,lbe=O,hbe=Oa,ube=Pa,Wl=oe,fbe=new lbe({initialize:function(t,i){var r=i.width?i.width:64,n=i.height?i.height:64;this.world=t,this.gameObject=i,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new Wl,this.position=new Wl(i.x-i.displayOriginX,i.y-i.displayOriginY),this.width=r,this.height=n,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new Wl(i.x+this.halfWidth,i.y+this.halfHeight),this.velocity=Wl.ZERO,this.allowGravity=!1,this.gravity=Wl.ZERO,this.bounce=Wl.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=hbe.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(e,t){return e&&e!==this.gameObject&&(this.gameObject.body=null,e.body=this,this.gameObject=e),t&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var e=this.gameObject;return e.getTopLeft(this.position),this.width=e.displayWidth,this.height=e.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(e,t){return t===void 0&&(t=e),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(e,t),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(e,t,i){i===void 0&&(i=!0);var r=this.gameObject;if(!e&&r.frame&&(e=r.frame.realWidth),!t&&r.frame&&(t=r.frame.realHeight),this.world.staticTree.remove(this),this.width=e,this.height=t,this.halfWidth=Math.floor(e/2),this.halfHeight=Math.floor(t/2),i&&r.getCenter){var n=r.displayWidth/2,a=r.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n-this.halfWidth,a-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(e,t,i){return t===void 0&&(t=this.offset.x),i===void 0&&(i=this.offset.y),e>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=e,this.width=e*2,this.height=e*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(e,t){var i=this.gameObject;e===void 0&&(e=i.x),t===void 0&&(t=i.y),this.world.staticTree.remove(this),i.setPosition(e,t),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?obe(this,e,t):ube(this,e,t)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,r=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?e.strokeCircle(i,r,this.width/2):e.strokeRect(t.x,t.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(e){return e<=0&&(e=.1),this.mass=e,this},x:{get:function(){return this.position.x},set:function(e){this.world.staticTree.remove(this),this.position.x=e,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(e){this.world.staticTree.remove(this),this.position.y=e,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}}),o4=fbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cbe=t4,$u=$t,dbe=O,yL=i4,Xr=Oa,Yl=Zs,TL=Me,Sn=LE,SL=MC,Px=JB,Rx=ZB,vbe=r4,pbe=n4,Ge=me,mbe=ZC,gbe=NMe,xbe=Ve,CL=a4,ybe=ebe,EL=rbe,_L=sbe,Lx=Wh,Tbe=o4,Sbe=s4,AL=hn,Cbe=oe,wL=Js,Ebe=new dbe({Extends:TL,initialize:function(t,i){TL.call(this),this.scene=t,this.bodies=new Lx,this.staticBodies=new Lx,this.pendingDestroy=new Lx,this.colliders=new mbe,this.gravity=new Cbe(Ge(i,"gravity.x",0),Ge(i,"gravity.y",0)),this.bounds=new xbe(Ge(i,"x",0),Ge(i,"y",0),Ge(i,"width",t.sys.scale.width),Ge(i,"height",t.sys.scale.height)),this.checkCollision={up:Ge(i,"checkCollision.up",!0),down:Ge(i,"checkCollision.down",!0),left:Ge(i,"checkCollision.left",!0),right:Ge(i,"checkCollision.right",!0)},this.fps=Ge(i,"fps",60),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=Ge(i,"timeScale",1),this.OVERLAP_BIAS=Ge(i,"overlapBias",4),this.TILE_BIAS=Ge(i,"tileBias",16),this.forceX=Ge(i,"forceX",!1),this.isPaused=Ge(i,"isPaused",!1),this._total=0,this.drawDebug=Ge(i,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:Ge(i,"debugShowBody",!0),debugShowStaticBody:Ge(i,"debugShowStaticBody",!0),debugShowVelocity:Ge(i,"debugShowVelocity",!0),bodyDebugColor:Ge(i,"debugBodyColor",16711935),staticBodyDebugColor:Ge(i,"debugStaticBodyColor",255),velocityDebugColor:Ge(i,"debugVelocityColor",65280)},this.maxEntries=Ge(i,"maxEntries",16),this.useTree=Ge(i,"useTree",!0),this.tree=new CL(this.maxEntries),this.staticTree=new CL(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new AL,this._tempMatrix2=new AL,this.drawDebug&&this.createDebugGraphic()},enable:function(e,t){t===void 0&&(t=Xr.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(r.isParent)for(var n=r.getChildren(),a=0;a<n.length;a++){var s=n[a];s.isParent?this.enable(s,t):this.enableBody(s,t)}else this.enableBody(r,t)}},enableBody:function(e,t){return t===void 0&&(t=Xr.DYNAMIC_BODY),e.body||(t===Xr.DYNAMIC_BODY?e.body=new cbe(this,e):t===Xr.STATIC_BODY&&(e.body=new Tbe(this,e))),this.add(e.body),e},add:function(e){return e.physicsType===Xr.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===Xr.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];if(i.isParent)for(var r=i.getChildren(),n=0;n<r.length;n++){var a=r[n];a.isParent?this.disable(a):this.disableBody(a.body)}else this.disableBody(i.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===Xr.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===Xr.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,t,i,r,n,a,s,o){return this.bounds.setTo(e,t,i,r),n!==void 0&&this.setBoundsCollision(n,a,s,o),this},setBoundsCollision:function(e,t,i,r){return e===void 0&&(e=!0),t===void 0&&(t=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.checkCollision.left=e,this.checkCollision.right=t,this.checkCollision.up=i,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit(Sn.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(Sn.RESUME),this},addCollider:function(e,t,i,r,n){i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i);var a=new yL(this,!1,e,t,i,r,n);return this.colliders.add(a),a},addOverlap:function(e,t,i,r,n){i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i);var a=new yL(this,!0,e,t,i,r,n);return this.colliders.add(a),a},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,t){if(!(this.isPaused||this.bodies.size===0)){var i,r=this._frameTime,n=this._frameTimeMS*this.timeScale;this._elapsed+=t;var a,s=this.bodies.entries,o=this._elapsed>=n;for(i=0;i<s.length;i++)a=s[i],a.enable&&a.preUpdate(o,r);if(o){this._elapsed-=n,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(s));var l=this.colliders.update();for(i=0;i<l.length;i++){var h=l[i];h.active&&h.update()}this.emit(Sn.WORLD_STEP)}for(;this._elapsed>=n;)this._elapsed-=n,this.step(r)}},step:function(e){var t,i,r=this.bodies.entries,n=r.length;for(t=0;t<n;t++)i=r[t],i.enable&&i.update(e);this.useTree&&(this.tree.clear(),this.tree.load(r));var a=this.colliders.update();for(t=0;t<a.length;t++){var s=a[t];s.active&&s.update()}this.emit(Sn.WORLD_STEP),this.stepsLastFrame++},postUpdate:function(){var e,t,i=this.bodies.entries,r=i.length,n=this.bodies,a=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,e=0;e<r;e++)t=i[e],t.enable&&t.postUpdate();if(this.drawDebug){var s=this.debugGraphic;for(s.clear(),e=0;e<r;e++)t=i[e],t.willDrawDebug()&&t.drawDebug(s);for(i=a.entries,r=i.length,e=0;e<r;e++)t=i[e],t.willDrawDebug()&&t.drawDebug(s)}var o=this.pendingDestroy;if(o.size>0){var l=this.tree,h=this.staticTree;for(i=o.entries,r=i.length,e=0;e<r;e++)t=i[e],t.physicsType===Xr.DYNAMIC_BODY?(l.remove(t),n.delete(t)):t.physicsType===Xr.STATIC_BODY&&(h.remove(t),a.delete(t)),t.world=void 0,t.gameObject=void 0;o.clear()}},updateMotion:function(e,t){e.allowRotation&&this.computeAngularVelocity(e,t),this.computeVelocity(e,t)},computeAngularVelocity:function(e,t){var i=e.angularVelocity,r=e.angularAcceleration,n=e.angularDrag,a=e.maxAngular;r?i+=r*t:e.allowDrag&&n&&(n*=t,Px(i-n,0,.1)?i-=n:Rx(i+n,0,.1)?i+=n:i=0),i=$u(i,-a,a);var s=i-e.angularVelocity;e.angularVelocity+=s,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var i=e.velocity.x,r=e.acceleration.x,n=e.drag.x,a=e.maxVelocity.x,s=e.velocity.y,o=e.acceleration.y,l=e.drag.y,h=e.maxVelocity.y,u=e.speed,f=e.maxSpeed,c=e.allowDrag,v=e.useDamping;e.allowGravity&&(i+=(this.gravity.x+e.gravity.x)*t,s+=(this.gravity.y+e.gravity.y)*t),r?i+=r*t:c&&n&&(v?(i*=n,u=Math.sqrt(i*i+s*s),SL(u,0,.001)&&(i=0)):(n*=t,Px(i-n,0,.01)?i-=n:Rx(i+n,0,.01)?i+=n:i=0)),o?s+=o*t:c&&l&&(v?(s*=l,u=Math.sqrt(i*i+s*s),SL(u,0,.001)&&(s=0)):(l*=t,Px(s-l,0,.01)?s-=l:Rx(s+l,0,.01)?s+=l:s=0)),i=$u(i,-a,a),s=$u(s,-h,h),e.velocity.set(i,s),f>-1&&u>f&&(e.velocity.normalize().scale(f),u=f),e.speed=u},separate:function(e,t,i,r,n){if(!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t)||i&&i.call(r,e.gameObject,t.gameObject)===!1)return!1;if(e.isCircle&&t.isCircle)return this.separateCircle(e,t,n);if(e.isCircle!==t.isCircle){var a=e.isCircle?t:e,s=e.isCircle?e:t,o={x:a.x,y:a.y,right:a.right,bottom:a.bottom},l=s.center;if((l.y<o.y||l.y>o.bottom)&&(l.x<o.x||l.x>o.right))return this.separateCircle(e,t,n)}var h=!1,u=!1;this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(h=EL(e,t,n,this.OVERLAP_BIAS),this.intersects(e,t)&&(u=_L(e,t,n,this.OVERLAP_BIAS))):(u=_L(e,t,n,this.OVERLAP_BIAS),this.intersects(e,t)&&(h=EL(e,t,n,this.OVERLAP_BIAS)));var f=h||u;return f&&(n?(e.onOverlap||t.onOverlap)&&this.emit(Sn.OVERLAP,e.gameObject,t.gameObject,e,t):(e.onCollide||t.onCollide)&&this.emit(Sn.COLLIDE,e.gameObject,t.gameObject,e,t)),f},separateCircle:function(e,t,i,r){vbe(e,t,!1,r),pbe(e,t,!1,r);var n=0;if(e.isCircle!==t.isCircle){var a={x:t.isCircle?e.position.x:t.position.x,y:t.isCircle?e.position.y:t.position.y,right:t.isCircle?e.right:t.right,bottom:t.isCircle?e.bottom:t.bottom},s={x:e.isCircle?e.center.x:t.center.x,y:e.isCircle?e.center.y:t.center.y,radius:e.isCircle?e.halfWidth:t.halfWidth};s.y<a.y?s.x<a.x?n=Yl(s.x,s.y,a.x,a.y)-s.radius:s.x>a.right&&(n=Yl(s.x,s.y,a.right,a.y)-s.radius):s.y>a.bottom&&(s.x<a.x?n=Yl(s.x,s.y,a.x,a.bottom)-s.radius:s.x>a.right&&(n=Yl(s.x,s.y,a.right,a.bottom)-s.radius)),n*=-1}else n=e.halfWidth+t.halfWidth-Yl(e.center.x,e.center.y,t.center.x,t.center.y);if(i||n===0||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return n!==0&&(e.onOverlap||t.onOverlap)&&this.emit(Sn.OVERLAP,e.gameObject,t.gameObject,e,t),n!==0;var o=e.center.x-t.center.x,l=e.center.y-t.center.y,h=Math.sqrt(Math.pow(o,2)+Math.pow(l,2)),u=(t.center.x-e.center.x)/h||0,f=(t.center.y-e.center.y)/h||0,c=2*(e.velocity.x*u+e.velocity.y*f-t.velocity.x*u-t.velocity.y*f)/(e.mass+t.mass);e.immovable||(e.velocity.x=e.velocity.x-c*e.mass*u,e.velocity.y=e.velocity.y-c*e.mass*f),t.immovable||(t.velocity.x=t.velocity.x+c*t.mass*u,t.velocity.y=t.velocity.y+c*t.mass*f);var v=t.velocity.x-e.velocity.x,p=t.velocity.y-e.velocity.y,m=Math.atan2(p,v),x=this._frameTime;return!e.immovable&&!t.immovable&&(n/=2),e.immovable||(e.x+=e.velocity.x*x-n*Math.cos(m),e.y+=e.velocity.y*x-n*Math.sin(m)),t.immovable||(t.x+=t.velocity.x*x+n*Math.cos(m),t.y+=t.velocity.y*x+n*Math.sin(m)),e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,(e.onCollide||t.onCollide)&&this.emit(Sn.COLLIDE,e.gameObject,t.gameObject,e,t),!0},intersects:function(e,t){return e===t?!1:!e.isCircle&&!t.isCircle?!(e.right<=t.position.x||e.bottom<=t.position.y||e.position.x>=t.right||e.position.y>=t.bottom):e.isCircle?t.isCircle?Yl(e.center.x,e.center.y,t.center.x,t.center.y)<=e.halfWidth+t.halfWidth:this.circleBodyIntersects(e,t):this.circleBodyIntersects(t,e)},circleBodyIntersects:function(e,t){var i=$u(e.center.x,t.left,t.right),r=$u(e.center.y,t.top,t.bottom),n=(e.center.x-i)*(e.center.x-i),a=(e.center.y-r)*(e.center.y-r);return n+a<=e.halfWidth*e.halfWidth},overlap:function(e,t,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.collideObjects(e,t,i,r,n,!0)},collide:function(e,t,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.collideObjects(e,t,i,r,n,!1)},collideObjects:function(e,t,i,r,n,a){var s,o;e.isParent&&e.physicsType===void 0&&(e=e.children.entries),t&&t.isParent&&t.physicsType===void 0&&(t=t.children.entries);var l=Array.isArray(e),h=Array.isArray(t);if(this._total=0,!l&&!h)this.collideHandler(e,t,i,r,n,a);else if(!l&&h)for(s=0;s<t.length;s++)this.collideHandler(e,t[s],i,r,n,a);else if(l&&!h)if(t)for(s=0;s<e.length;s++)this.collideHandler(e[s],t,i,r,n,a);else for(s=0;s<e.length;s++){var u=e[s];for(o=s+1;o<e.length;o++)s!==o&&this.collideHandler(u,e[o],i,r,n,a)}else for(s=0;s<e.length;s++)for(o=0;o<t.length;o++)this.collideHandler(e[s],t[o],i,r,n,a);return this._total>0},collideHandler:function(e,t,i,r,n,a){if(t===void 0&&e.isParent)return this.collideGroupVsGroup(e,e,i,r,n,a);if(!e||!t)return!1;if(e.body){if(t.body)return this.collideSpriteVsSprite(e,t,i,r,n,a);if(t.isParent)return this.collideSpriteVsGroup(e,t,i,r,n,a);if(t.isTilemap)return this.collideSpriteVsTilemapLayer(e,t,i,r,n,a)}else if(e.isParent){if(t.body)return this.collideSpriteVsGroup(t,e,i,r,n,a);if(t.isParent)return this.collideGroupVsGroup(e,t,i,r,n,a);if(t.isTilemap)return this.collideGroupVsTilemapLayer(e,t,i,r,n,a)}else if(e.isTilemap){if(t.body)return this.collideSpriteVsTilemapLayer(t,e,i,r,n,a);if(t.isParent)return this.collideGroupVsTilemapLayer(t,e,i,r,n,a)}},collideSpriteVsSprite:function(e,t,i,r,n,a){return!e.body||!t.body?!1:(this.separate(e.body,t.body,r,n,a)&&(i&&i.call(n,e,t),this._total++),!0)},collideSpriteVsGroup:function(e,t,i,r,n,a){var s=e.body;if(!(t.length===0||!s||!s.enable)){var o,l,h;if(this.useTree){var u=this.treeMinMax;u.minX=s.left,u.minY=s.top,u.maxX=s.right,u.maxY=s.bottom;var f=t.physicsType===Xr.DYNAMIC_BODY?this.tree.search(u):this.staticTree.search(u);for(l=f.length,o=0;o<l;o++)h=f[o],!(s===h||!t.contains(h.gameObject))&&this.separate(s,h,r,n,a)&&(i&&i.call(n,s.gameObject,h.gameObject),this._total++)}else{var c=t.getChildren(),v=t.children.entries.indexOf(e);for(l=c.length,o=0;o<l;o++)h=c[o].body,!(!h||o===v||!h.enable)&&this.separate(s,h,r,n,a)&&(i&&i.call(n,s.gameObject,h.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(e,t,i,r,n,a){var s=e.getChildren();if(s.length===0)return!1;for(var o=!1,l=0;l<s.length;l++)s[l].body&&this.collideSpriteVsTilemapLayer(s[l],t,i,r,n,a)&&(o=!0);return o},collideTiles:function(e,t,i,r,n){return!e.body.enable||t.length===0?!1:this.collideSpriteVsTilesHandler(e,t,i,r,n,!1,!1)},overlapTiles:function(e,t,i,r,n){return!e.body.enable||t.length===0?!1:this.collideSpriteVsTilesHandler(e,t,i,r,n,!0,!1)},collideSpriteVsTilemapLayer:function(e,t,i,r,n,a){var s=e.body;if(!s.enable)return!1;var o=s.position.x,l=s.position.y,h=s.width,u=s.height,f=t.layer;if(f.tileWidth>f.baseTileWidth){var c=(f.tileWidth-f.baseTileWidth)*t.scaleX;o-=c,h+=c}if(f.tileHeight>f.baseTileHeight){var v=(f.tileHeight-f.baseTileHeight)*t.scaleY;u+=v}var p=t.getTilesWithinWorldXY(o,l,h,u);return p.length===0?!1:this.collideSpriteVsTilesHandler(e,p,i,r,n,a,!0)},collideSpriteVsTilesHandler:function(e,t,i,r,n,a,s){for(var o=e.body,l,h={left:0,right:0,top:0,bottom:0},u,f=!1,c=0;c<t.length;c++)l=t[c],u=l.tilemapLayer,h.left=u.tileToWorldX(l.x),h.top=u.tileToWorldY(l.y),l.baseHeight!==l.height&&(h.top-=(l.height-l.baseHeight)*u.scaleY),h.right=h.left+l.width*u.scaleX,h.bottom=h.top+l.height*u.scaleY,Sbe(h,o)&&(!r||r.call(n,e,l))&&gbe(l,e)&&(a||ybe(c,o,l,h,u,this.TILE_BIAS,s))&&(this._total++,f=!0,i&&i.call(n,e,l),a&&o.onOverlap?this.emit(Sn.TILE_OVERLAP,e,l,o):o.onCollide&&this.emit(Sn.TILE_COLLIDE,e,l,o));return f},collideGroupVsGroup:function(e,t,i,r,n,a){if(!(e.length===0||t.length===0))for(var s=e.getChildren(),o=0;o<s.length;o++)this.collideSpriteVsGroup(s[o],t,i,r,n,a)},wrap:function(e,t){e.body?this.wrapObject(e,t):e.getChildren?this.wrapArray(e.getChildren(),t):Array.isArray(e)?this.wrapArray(e,t):this.wrapObject(e,t)},wrapArray:function(e,t){for(var i=0;i<e.length;i++)this.wrapObject(e[i],t)},wrapObject:function(e,t){t===void 0&&(t=0),e.x=wL(e.x,this.bounds.left-t,this.bounds.right+t),e.y=wL(e.y,this.bounds.top-t,this.bounds.bottom+t)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}}),l4=Ebe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _be=O,Abe=kn,wbe=Zs,ML=qB,bL=jk,PL=Y,Mbe=Uh,bbe=gMe,Pbe=e4,Rbe=mt,Cn=wt,RL=oe,LL=l4,h4=new _be({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(Cn.BOOT,this.boot,this),t.sys.events.on(Cn.START,this.start,this)},boot:function(){this.world=new LL(this.scene,this.config),this.add=new bL(this.world),this.systems.events.once(Cn.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new LL(this.scene,this.config),this.add=new bL(this.world));var e=this.systems.events;e.on(Cn.UPDATE,this.world.update,this.world),e.on(Cn.POST_UPDATE,this.world.postUpdate,this.world),e.once(Cn.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics,i=Mbe(PL(t,"arcade",{}),PL(e,"arcade",{}));return i},overlap:function(e,t,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.world.collideObjects(e,t,i,r,n,!0)},collide:function(e,t,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.world.collideObjects(e,t,i,r,n,!1)},collideTiles:function(e,t,i,r,n){return this.world.collideTiles(e,t,i,r,n)},overlapTiles:function(e,t,i,r,n){return this.world.overlapTiles(e,t,i,r,n)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(e,t,i,r,n,a){r===void 0&&(r=60);var s=Math.atan2(i-e.y,t-e.x);return e.body.acceleration.setToPolar(s,r),n!==void 0&&a!==void 0&&e.body.maxVelocity.set(n,a),s},accelerateToObject:function(e,t,i,r,n){return this.accelerateTo(e,t.x,t.y,i,r,n)},closest:function(e,t){t||(t=this.world.bodies.entries);for(var i=Number.MAX_VALUE,r=null,n=e.x,a=e.y,s=t.length,o=0;o<s;o++){var l=t[o],h=l.body||l;if(!(e===l||e===h||e===h.gameObject||e===h.center)){var u=ML(n,a,h.center.x,h.center.y);u<i&&(r=l,i=u)}}return r},furthest:function(e,t){t||(t=this.world.bodies.entries);for(var i=-1,r=null,n=e.x,a=e.y,s=t.length,o=0;o<s;o++){var l=t[o],h=l.body||l;if(!(e===l||e===h||e===h.gameObject||e===h.center)){var u=ML(n,a,h.center.x,h.center.y);u>i&&(r=l,i=u)}}return r},moveTo:function(e,t,i,r,n){r===void 0&&(r=60),n===void 0&&(n=0);var a=Math.atan2(i-e.y,t-e.x);return n>0&&(r=wbe(e.x,e.y,t,i)/(n/1e3)),e.body.velocity.setToPolar(a,r),a},moveToObject:function(e,t,i,r){return this.moveTo(e,t.x,t.y,i,r)},velocityFromAngle:function(e,t,i){return t===void 0&&(t=60),i===void 0&&(i=new RL),i.setToPolar(Abe(e),t)},velocityFromRotation:function(e,t,i){return t===void 0&&(t=60),i===void 0&&(i=new RL),i.setToPolar(e,t)},overlapRect:function(e,t,i,r,n,a){return Pbe(this.world,e,t,i,r,n,a)},overlapCirc:function(e,t,i,r,n){return bbe(this.world,e,t,i,r,n)},shutdown:function(){if(this.world){var e=this.systems.events;e.off(Cn.UPDATE,this.world.update,this.world),e.off(Cn.POST_UPDATE,this.world.postUpdate,this.world),e.off(Cn.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(Cn.START,this.start,this),this.scene=null,this.systems=null}});Rbe.register("ArcadePhysics",h4,"arcadePhysics");var Lbe=h4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fbe=Oa,Ibe=pt,YT={ArcadePhysics:Lbe,Body:t4,Collider:i4,Components:RE,Events:LE,Factory:jk,Group:Zk,Image:Jk,Sprite:G0,StaticBody:o4,StaticGroup:Qk,World:l4};YT=Ibe(!1,YT,Fbe);var Obe=YT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ac={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FL=$t,Dbe=function(e,t,i,r,n){if(i)return FL(t+i*e,-n,n);if(r){var a=r*e;return t-a>0?t-a:t+a<0?t+a:0}return FL(t,-n,n)},Bbe=Dbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wc={NONE:0,A:1,B:2,BOTH:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Nbe=function(e,t){if(e.standing=!1,t.collision.y&&(e.bounciness>0&&Math.abs(e.vel.y)>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.vel.y>0&&(e.standing=!0),e.vel.y=0)),t.collision.x&&(e.bounciness>0&&Math.abs(e.vel.x)>e.minBounceVelocity?e.vel.x*=-e.bounciness:e.vel.x=0),t.collision.slope){var i=t.collision.slope;if(e.bounciness>0){var r=e.vel.x*i.nx+e.vel.y*i.ny;e.vel.x=(e.vel.x-i.nx*r*2)*e.bounciness,e.vel.y=(e.vel.y-i.ny*r*2)*e.bounciness}else{var n=i.x*i.x+i.y*i.y,a=(e.vel.x*i.x+e.vel.y*i.y)/n;e.vel.x=i.x*a,e.vel.y=i.y*a;var s=Math.atan2(i.x,i.y);s>e.slopeStanding.min&&s<e.slopeStanding.max&&(e.standing=!0)}}e.pos.x=t.pos.x,e.pos.y=t.pos.y},Gbe=Nbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kbe=O,IL=Ac,OL=Bbe,lv=wc,$be=Gbe,zbe=new kbe({initialize:function(t,i,r,n,a){n===void 0&&(n=16),a===void 0&&(a=n),this.world=t,this.gameObject=null,this.enabled=!0,this.parent,this.id=t.getNextID(),this.name="",this.size={x:n,y:a},this.offset={x:0,y:0},this.pos={x:i,y:r},this.last={x:i,y:r},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:t.defaults.maxVelocityX,y:t.defaults.maxVelocityY},this.standing=!1,this.gravityFactor=t.defaults.gravityFactor,this.bounciness=t.defaults.bounciness,this.minBounceVelocity=t.defaults.minBounceVelocity,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=lv.NONE,this.checkAgainst=lv.NONE,this.collides=IL.NEVER,this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.updateCallback,this.slopeStanding={min:.767944870877505,max:2.3736477827122884}},reset:function(e,t){this.pos={x:e,y:t},this.last={x:e,y:t},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:100,y:100},this.standing=!1,this.gravityFactor=1,this.bounciness=0,this.minBounceVelocity=40,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=lv.NONE,this.checkAgainst=lv.NONE,this.collides=IL.NEVER},update:function(e){var t=this.pos;this.last.x=t.x,this.last.y=t.y,this.vel.y+=this.world.gravity*e*this.gravityFactor,this.vel.x=OL(e,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=OL(e,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var i=this.vel.x*e,r=this.vel.y*e,n=this.world.collisionMap.trace(t.x,t.y,i,r,this.size.x,this.size.y);this.handleMovementTrace(n)&&$be(this,n);var a=this.gameObject;a&&(a.x=t.x-this.offset.x+a.displayOriginX*a.scaleX,a.y=t.y-this.offset.y+a.displayOriginY*a.scaleY),this.updateCallback&&this.updateCallback(this)},drawDebug:function(e){var t=this.pos;if(this.debugShowBody&&(e.lineStyle(1,this.debugBodyColor,1),e.strokeRect(t.x,t.y,this.size.x,this.size.y)),this.debugShowVelocity){var i=t.x+this.size.x/2,r=t.y+this.size.y/2;e.lineStyle(1,this.world.defaults.velocityDebugColor,1),e.lineBetween(i,r,i+this.vel.x,r+this.vel.y)}},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},skipHash:function(){return!this.enabled||this.type===0&&this.checkAgainst===0&&this.collides===0},touches:function(e){return!(this.pos.x>=e.pos.x+e.size.x||this.pos.x+this.size.x<=e.pos.x||this.pos.y>=e.pos.y+e.size.y||this.pos.y+this.size.y<=e.pos.y)},resetSize:function(e,t,i,r){return this.pos.x=e,this.pos.y=t,this.size.x=i,this.size.y=r,this},toJSON:function(){var e={name:this.name,size:{x:this.size.x,y:this.size.y},pos:{x:this.pos.x,y:this.pos.y},vel:{x:this.vel.x,y:this.vel.y},accel:{x:this.accel.x,y:this.accel.y},friction:{x:this.friction.x,y:this.friction.y},maxVel:{x:this.maxVel.x,y:this.maxVel.y},gravityFactor:this.gravityFactor,bounciness:this.bounciness,minBounceVelocity:this.minBounceVelocity,type:this.type,checkAgainst:this.checkAgainst,collides:this.collides};return e},fromJSON:function(){},check:function(){},collideWith:function(e,t){this.parent&&this.parent._collideCallback&&this.parent._collideCallback.call(this.parent._callbackScope,this,e,t)},handleMovementTrace:function(){return!0},destroy:function(){this.world.remove(this),this.enabled=!1,this.world=null,this.gameObject=null,this.parent=null}}),u4=zbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Vbe="collide";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ube="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wbe="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FE={COLLIDE:Vbe,PAUSE:Ube,RESUME:Wbe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ni=.5,ai=1/3,si=2/3,Ybe={2:[0,1,1,0,!0],3:[0,1,1,ni,!0],4:[0,ni,1,0,!0],5:[0,1,1,si,!0],6:[0,si,1,ai,!0],7:[0,ai,1,0,!0],8:[ni,1,0,0,!0],9:[1,0,ni,1,!0],10:[ni,1,1,0,!0],11:[0,0,ni,1,!0],12:[0,0,1,0,!1],13:[1,1,0,0,!0],14:[1,ni,0,0,!0],15:[1,1,0,ni,!0],16:[1,ai,0,0,!0],17:[1,si,0,ai,!0],18:[1,1,0,si,!0],19:[1,1,ni,0,!0],20:[ni,0,0,1,!0],21:[0,1,ni,0,!0],22:[ni,0,1,1,!0],23:[1,1,0,1,!1],24:[0,0,1,1,!0],25:[0,0,1,ni,!0],26:[0,ni,1,1,!0],27:[0,0,1,ai,!0],28:[0,ai,1,si,!0],29:[0,si,1,1,!0],30:[ai,1,0,0,!0],31:[1,0,si,1,!0],32:[si,1,1,0,!0],33:[0,0,ai,1,!0],34:[1,0,1,1,!1],35:[1,0,0,1,!0],36:[1,ni,0,1,!0],37:[1,0,0,ni,!0],38:[1,si,0,1,!0],39:[1,ai,0,si,!0],40:[1,0,0,ai,!0],41:[si,1,ai,0,!0],42:[si,0,ai,1,!0],43:[ai,1,si,0,!0],44:[ai,0,si,1,!0],45:[0,1,0,0,!1],52:[1,1,si,0,!0],53:[ai,0,0,1,!0],54:[0,1,ai,0,!0],55:[si,0,1,1,!0]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hbe=O,Xbe=Ybe,Kbe=new Hbe({initialize:function(t,i){t===void 0&&(t=32),this.tilesize=t,this.data=Array.isArray(i)?i:[],this.width=Array.isArray(i)?i[0].length:0,this.height=Array.isArray(i)?i.length:0,this.lastSlope=55,this.tiledef=Xbe},trace:function(e,t,i,r,n,a){var s={collision:{x:!1,y:!1,slope:!1},pos:{x:e+i,y:t+r},tile:{x:0,y:0}};if(!this.data)return s;var o=Math.ceil(Math.max(Math.abs(i),Math.abs(r))/this.tilesize);if(o>1)for(var l=i/o,h=r/o,u=0;u<o&&(l||h)&&(this.step(s,e,t,l,h,n,a,i,r,u),e=s.pos.x,t=s.pos.y,s.collision.x&&(l=0,i=0),s.collision.y&&(h=0,r=0),!s.collision.slope);u++);else this.step(s,e,t,i,r,n,a,i,r,0);return s},step:function(e,t,i,r,n,a,s,o,l,h){var u=0,f,c,v=this.tilesize,p=this.width,m=this.height;if(r){var x=r>0?a:0,g=r<0?v:0,T=Math.max(Math.floor(i/v),0),S=Math.min(Math.ceil((i+s)/v),m);f=Math.floor((e.pos.x+x)/v);var E=Math.floor((t+x)/v);if((h>0||f===E||E<0||E>=p)&&(E=-1),f>=0&&f<p){for(c=T;c<S&&!(E!==-1&&(u=this.data[c][E],u>1&&u<=this.lastSlope&&this.checkDef(e,u,t,i,o,l,a,s,E,c)));c++)if(u=this.data[c][f],u===1||u>this.lastSlope||u>1&&this.checkDef(e,u,t,i,o,l,a,s,f,c)){if(u>1&&u<=this.lastSlope&&e.collision.slope)break;e.collision.x=!0,e.tile.x=u,e.pos.x=f*v-x+g,t=e.pos.x,o=0;break}}}if(n){var _=n>0?s:0,w=n<0?v:0,R=Math.max(Math.floor(e.pos.x/v),0),F=Math.min(Math.ceil((e.pos.x+a)/v),p);c=Math.floor((e.pos.y+_)/v);var k=Math.floor((i+_)/v);if((h>0||c===k||k<0||k>=m)&&(k=-1),c>=0&&c<m){for(f=R;f<F&&!(k!==-1&&(u=this.data[k][f],u>1&&u<=this.lastSlope&&this.checkDef(e,u,t,i,o,l,a,s,f,k)));f++)if(u=this.data[c][f],u===1||u>this.lastSlope||u>1&&this.checkDef(e,u,t,i,o,l,a,s,f,c)){if(u>1&&u<=this.lastSlope&&e.collision.slope)break;e.collision.y=!0,e.tile.y=u,e.pos.y=c*v-_+w;break}}}},checkDef:function(e,t,i,r,n,a,s,o,l,h){var u=this.tiledef[t];if(!u)return!1;var f=this.tilesize,c=(l+u[0])*f,v=(h+u[1])*f,p=(u[2]-u[0])*f,m=(u[3]-u[1])*f,x=u[4],g=i+n+(m<0?s:0)-c,T=r+a+(p>0?o:0)-v;if(p*T-m*g>0){if(n*-m+a*p<0)return x;var S=Math.sqrt(p*p+m*m),E=m/S,_=-p/S,w=g*E+T*_,R=E*w,F=_*w;return R*R+F*F>=n*n+a*a?x||p*(T-a)-m*(g-n)<.5:(e.pos.x=i+n-R,e.pos.y=r+a-F,e.collision.slope={x:p,y:m,nx:E,ny:_},!0)}return!1}}),f4=Kbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qbe={setAccelerationX:function(e){return this.accel.x=e,this},setAccelerationY:function(e){return this.accel.y=e,this},setAcceleration:function(e,t){return this.accel.x=e,this.accel.y=t,this}},Jbe=qbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zbe={setBodySize:function(e,t){return t===void 0&&(t=e),this.body.size.x=Math.round(e),this.body.size.y=Math.round(t),this},setBodyScale:function(e,t){t===void 0&&(t=e);var i=this.body.gameObject;return i?(i.setScale(e,t),this.setBodySize(i.width*i.scaleX,i.height*i.scaleY)):this.setBodySize(this.body.size.x*e,this.body.size.y*t)}},Qbe=Zbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fx=wc,jbe={getBodyType:function(){return this.body.type},setTypeNone:function(){return this.body.type=Fx.NONE,this},setTypeA:function(){return this.body.type=Fx.A,this},setTypeB:function(){return this.body.type=Fx.B,this}},ePe=jbe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tPe={setBounce:function(e){return this.body.bounciness=e,this},setMinBounceVelocity:function(e){return this.body.minBounceVelocity=e,this},bounce:{get:function(){return this.body.bounciness},set:function(e){this.body.bounciness=e}}},iPe=tPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ix=wc,rPe={setAvsB:function(){return this.setTypeA(),this.setCheckAgainstB()},setBvsA:function(){return this.setTypeB(),this.setCheckAgainstA()},setCheckAgainstNone:function(){return this.body.checkAgainst=Ix.NONE,this},setCheckAgainstA:function(){return this.body.checkAgainst=Ix.A,this},setCheckAgainstB:function(){return this.body.checkAgainst=Ix.B,this},checkAgainst:{get:function(){return this.body.checkAgainst},set:function(e){this.body.checkAgainst=e}}},nPe=rPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zu=Ac,aPe={_collideCallback:null,_callbackScope:null,setCollideCallback:function(e,t){return this._collideCallback=e,t&&(this._callbackScope=t),this},setCollidesNever:function(){return this.body.collides=zu.NEVER,this},setLiteCollision:function(){return this.body.collides=zu.LITE,this},setPassiveCollision:function(){return this.body.collides=zu.PASSIVE,this},setActiveCollision:function(){return this.body.collides=zu.ACTIVE,this},setFixedCollision:function(){return this.body.collides=zu.FIXED,this},collides:{get:function(){return this.body.collides},set:function(e){this.body.collides=e}}},sPe=aPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oPe={setDebug:function(e,t,i){return this.debugShowBody=e,this.debugShowVelocity=t,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}},lPe=oPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hPe={setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setFriction:function(e,t){return this.friction.x=e,this.friction.y=t,this}},uPe=hPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fPe={setGravity:function(e){return this.body.gravityFactor=e,this},gravity:{get:function(){return this.body.gravityFactor},set:function(e){this.body.gravityFactor=e}}},cPe=fPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dPe={setOffset:function(e,t,i,r){return this.body.offset.x=e,this.body.offset.y=t,i&&this.setBodySize(i,r),this}},vPe=dPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pPe={setGameObject:function(e,t){return t===void 0&&(t=!0),e?(this.body.gameObject=e,t&&this.syncGameObject()):this.body.gameObject=null,this},syncGameObject:function(){var e=this.body.gameObject;return e&&this.setBodySize(e.width*e.scaleX,e.height*e.scaleY),this}},mPe=pPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gPe={setVelocityX:function(e){return this.vel.x=e,this},setVelocityY:function(e){return this.vel.y=e,this},setVelocity:function(e,t){return t===void 0&&(t=e),this.vel.x=e,this.vel.y=t,this},setMaxVelocity:function(e,t){return t===void 0&&(t=e),this.maxVel.x=e,this.maxVel.y=t,this}},xPe=gPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IE={Acceleration:Jbe,BodyScale:Qbe,BodyType:ePe,Bounce:iPe,CheckAgainst:nPe,Collides:sPe,Debug:lPe,Friction:uPe,Gravity:cPe,Offset:vPe,SetGameObject:mPe,Velocity:xPe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yPe=O,pr=IE,TPe=new yPe({Mixins:[pr.Acceleration,pr.BodyScale,pr.BodyType,pr.Bounce,pr.CheckAgainst,pr.Collides,pr.Debug,pr.Friction,pr.Gravity,pr.Offset,pr.SetGameObject,pr.Velocity],initialize:function(t,i,r,n,a){this.body=t.create(i,r,n,a),this.body.parent=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}}),c4=TPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SPe=O,mr=IE,DL=Yh,CPe=new SPe({Extends:DL,Mixins:[mr.Acceleration,mr.BodyScale,mr.BodyType,mr.Bounce,mr.CheckAgainst,mr.Collides,mr.Debug,mr.Friction,mr.Gravity,mr.Offset,mr.SetGameObject,mr.Velocity],initialize:function(t,i,r,n,a){DL.call(this,t.scene,i,r,n,a),this.body=t.create(i-this.frame.centerX,r-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}}),d4=CPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EPe=O,gr=IE,BL=Fa,_Pe=new EPe({Extends:BL,Mixins:[gr.Acceleration,gr.BodyScale,gr.BodyType,gr.Bounce,gr.CheckAgainst,gr.Collides,gr.Debug,gr.Friction,gr.Gravity,gr.Offset,gr.SetGameObject,gr.Velocity],initialize:function(t,i,r,n,a){BL.call(this,t.scene,i,r,n,a),this.body=t.create(i-this.frame.centerX,r-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}}),v4=_Pe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var APe=O,wPe=c4,MPe=d4,bPe=v4,PPe=new APe({initialize:function(t){this.world=t,this.sys=t.scene.sys},body:function(e,t,i,r){return new wPe(this.world,e,t,i,r)},existing:function(e){var t=e.x-e.frame.centerX,i=e.y-e.frame.centerY,r=e.width,n=e.height;return e.body=this.world.create(t,i,r,n),e.body.parent=e,e.body.gameObject=e,e},image:function(e,t,i,r){var n=new MPe(this.world,e,t,i,r);return this.sys.displayList.add(n),n},sprite:function(e,t,i,r){var n=new bPe(this.world,e,t,i,r);return this.sys.displayList.add(n),this.sys.updateList.add(n),n},destroy:function(){this.world=null,this.sys=null}}),p4=PPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RPe=function(e,t,i,r){var n=t.pos.x+t.size.x-i.pos.x;if(r){var a=t===r?i:t;r.vel.x=-r.vel.x*r.bounciness+a.vel.x;var s=e.collisionMap.trace(r.pos.x,r.pos.y,r===t?-n:n,0,r.size.x,r.size.y);r.pos.x=s.pos.x}else{var o=(t.vel.x-i.vel.x)/2;t.vel.x=-o,i.vel.x=o;var l=e.collisionMap.trace(t.pos.x,t.pos.y,-n/2,0,t.size.x,t.size.y);t.pos.x=Math.floor(l.pos.x);var h=e.collisionMap.trace(i.pos.x,i.pos.y,n/2,0,i.size.x,i.size.y);i.pos.x=Math.ceil(h.pos.x)}},LPe=RPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FPe=function(e,t,i,r){var n=t.pos.y+t.size.y-i.pos.y,a,s;if(r){var o=t===r?i:t;r.vel.y=-r.vel.y*r.bounciness+o.vel.y,a=0,r===t&&Math.abs(r.vel.y-o.vel.y)<r.minBounceVelocity&&(r.standing=!0,a=o.vel.x*e.delta);var l=e.collisionMap.trace(r.pos.x,r.pos.y,a,r===t?-n:n,r.size.x,r.size.y);r.pos.y=l.pos.y,r.pos.x=l.pos.x}else if(e.gravity&&(i.standing||t.vel.y>0))s=e.collisionMap.trace(t.pos.x,t.pos.y,0,-(t.pos.y+t.size.y-i.pos.y),t.size.x,t.size.y),t.pos.y=s.pos.y,t.bounciness>0&&t.vel.y>t.minBounceVelocity?t.vel.y*=-t.bounciness:(t.standing=!0,t.vel.y=0);else{var h=(t.vel.y-i.vel.y)/2;t.vel.y=-h,i.vel.y=h,a=i.vel.x*e.delta,s=e.collisionMap.trace(t.pos.x,t.pos.y,a,-n/2,t.size.x,t.size.y),t.pos.y=s.pos.y;var u=e.collisionMap.trace(i.pos.x,i.pos.y,0,n/2,i.size.x,i.size.y);i.pos.y=u.pos.y}},IPe=FPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hv=Ac,NL=FE,GL=LPe,kL=IPe,OPe=function(e,t,i){var r=null;t.collides===hv.LITE||i.collides===hv.FIXED?r=t:(i.collides===hv.LITE||t.collides===hv.FIXED)&&(r=i),t.last.x+t.size.x>i.last.x&&t.last.x<i.last.x+i.size.x?(t.last.y<i.last.y?kL(e,t,i,r):kL(e,i,t,r),t.collideWith(i,"y"),i.collideWith(t,"y"),e.emit(NL.COLLIDE,t,i,"y")):t.last.y+t.size.y>i.last.y&&t.last.y<i.last.y+i.size.y&&(t.last.x<i.last.x?GL(e,t,i,r):GL(e,i,t,r),t.collideWith(i,"x"),i.collideWith(t,"x"),e.emit(NL.COLLIDE,t,i,"x"))},DPe=OPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BPe=u4,NPe=O,jn=Ac,uv=f4,$L=Me,zL=FE,_e=Y,VL=Xh,GPe=Wh,kPe=DPe,$Pe=Nr,En=wc,zPe=new NPe({Extends:$L,initialize:function(t,i){$L.call(this),this.scene=t,this.bodies=new GPe,this.gravity=_e(i,"gravity",0),this.cellSize=_e(i,"cellSize",64),this.collisionMap=new uv,this.timeScale=_e(i,"timeScale",1),this.maxStep=_e(i,"maxStep",.05),this.enabled=!0,this.drawDebug=_e(i,"debug",!1),this.debugGraphic;var r=_e(i,"maxVelocity",100);if(this.defaults={debugShowBody:_e(i,"debugShowBody",!0),debugShowVelocity:_e(i,"debugShowVelocity",!0),bodyDebugColor:_e(i,"debugBodyColor",16711935),velocityDebugColor:_e(i,"debugVelocityColor",65280),maxVelocityX:_e(i,"maxVelocityX",r),maxVelocityY:_e(i,"maxVelocityY",r),minBounceVelocity:_e(i,"minBounceVelocity",40),gravityFactor:_e(i,"gravityFactor",1),bounciness:_e(i,"bounciness",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,_e(i,"setBounds",!1)){var n=i.setBounds;if(typeof n=="boolean")this.setBounds();else{var a=_e(n,"x",0),s=_e(n,"y",0),o=_e(n,"width",t.sys.scale.width),l=_e(n,"height",t.sys.scale.height),h=_e(n,"thickness",64),u=_e(n,"left",!0),f=_e(n,"right",!0),c=_e(n,"top",!0),v=_e(n,"bottom",!0);this.setBounds(a,s,o,l,h,u,f,c,v)}}this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(e,t){if(typeof e=="string"){var i=this.scene.cache.tilemap.get(e);if(!i||i.format!==$Pe.WELTMEISTER)return console.warn("The specified key does not correspond to a Weltmeister tilemap: "+e),null;for(var r=i.data.layer,n,a=0;a<r.length;a++)if(r[a].name==="collision"){n=r[a];break}t===void 0&&(t=n.tilesize),this.collisionMap=new uv(t,n.data)}else Array.isArray(e)?this.collisionMap=new uv(t,e):console.warn("Invalid Weltmeister collision map data: "+e);return this.collisionMap},setCollisionMapFromTilemapLayer:function(e,t){t===void 0&&(t={});for(var i=_e(t,"slopeProperty",null),r=_e(t,"slopeMap",null),n=_e(t,"defaultCollidingSlope",null),a=_e(t,"defaultNonCollidingSlope",0),s=e.layer,o=s.baseTileWidth,l=[],h=0;h<s.height;h++){l[h]=[];for(var u=0;u<s.width;u++){var f=s.data[h][u];f&&f.collides?i!==null&&VL(f.properties,i)?l[h][u]=parseInt(f.properties[i],10):r!==null&&VL(r,f.index)?l[h][u]=r[f.index]:n!==null?l[h][u]=n:l[h][u]=f.index:l[h][u]=a}}return this.collisionMap=new uv(o,l),this.collisionMap},setBounds:function(e,t,i,r,n,a,s,o,l){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.scene.sys.scale.width),r===void 0&&(r=this.scene.sys.scale.height),n===void 0&&(n=64),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),this.updateWall(a,"left",e-n,t,n,r),this.updateWall(s,"right",e+i,t,n,r),this.updateWall(o,"top",e,t-n,i,n),this.updateWall(l,"bottom",e,t+r,i,n),this},updateWall:function(e,t,i,r,n,a){var s=this.walls[t];e?s?s.resetSize(i,r,n,a):(this.walls[t]=this.create(i,r,n,a),this.walls[t].name=t,this.walls[t].gravityFactor=0,this.walls[t].collides=jn.FIXED):(s&&this.bodies.remove(s),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},getNextID:function(){return this._lastId++},create:function(e,t,i,r){var n=new BPe(this,e,t,i,r);return this.bodies.set(n),n},remove:function(e){this.bodies.delete(e)},pause:function(){return this.enabled=!1,this.emit(zL.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(zL.RESUME),this},update:function(e,t){if(!(!this.enabled||this.bodies.size===0)){var i=Math.min(t/1e3,this.maxStep)*this.timeScale;this.delta=i;var r,n,a=this.bodies.entries,s=a.length,o={},l=this.cellSize;for(r=0;r<s;r++)n=a[r],n.enabled&&n.update(i);for(r=0;r<s;r++)n=a[r],n&&!n.skipHash()&&this.checkHash(n,o,l);if(this.drawDebug){var h=this.debugGraphic;for(h.clear(),r=0;r<s;r++)n=a[r],n&&n.willDrawDebug()&&n.drawDebug(h)}}},checkHash:function(e,t,i){for(var r={},n=Math.floor(e.pos.x/i),a=Math.floor(e.pos.y/i),s=Math.floor((e.pos.x+e.size.x)/i)+1,o=Math.floor((e.pos.y+e.size.y)/i)+1,l=n;l<s;l++)for(var h=a;h<o;h++)if(!t[l])t[l]={},t[l][h]=[e];else if(!t[l][h])t[l][h]=[e];else{for(var u=t[l][h],f=0;f<u.length;f++)e.touches(u[f])&&!r[u[f].id]&&(r[u[f].id]=!0,this.checkBodies(e,u[f]));u.push(e)}},checkBodies:function(e,t){e.collides===jn.FIXED&&t.collides===jn.FIXED||(e.checkAgainst&t.type&&e.check(t),t.checkAgainst&e.type&&t.check(e),e.collides&&t.collides&&e.collides+t.collides>jn.ACTIVE&&kPe(this,e,t))},setCollidesNever:function(e){for(var t=0;t<e.length;t++)e[t].collides=jn.NEVER;return this},setLite:function(e){for(var t=0;t<e.length;t++)e[t].collides=jn.LITE;return this},setPassive:function(e){for(var t=0;t<e.length;t++)e[t].collides=jn.PASSIVE;return this},setActive:function(e){for(var t=0;t<e.length;t++)e[t].collides=jn.ACTIVE;return this},setFixed:function(e){for(var t=0;t<e.length;t++)e[t].collides=jn.FIXED;return this},setTypeNone:function(e){for(var t=0;t<e.length;t++)e[t].type=En.NONE;return this},setTypeA:function(e){for(var t=0;t<e.length;t++)e[t].type=En.A;return this},setTypeB:function(e){for(var t=0;t<e.length;t++)e[t].type=En.B;return this},setAvsB:function(e){for(var t=0;t<e.length;t++)e[t].type=En.A,e[t].checkAgainst=En.B;return this},setBvsA:function(e){for(var t=0;t<e.length;t++)e[t].type=En.B,e[t].checkAgainst=En.A;return this},setCheckAgainstNone:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=En.NONE;return this},setCheckAgainstA:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=En.A;return this},setCheckAgainstB:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=En.B;return this},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners(),this.scene=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}}),m4=zPe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VPe=O,UL=p4,WL=Y,UPe=Uh,WPe=mt,cs=wt,YL=m4,g4=new VPe({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(cs.BOOT,this.boot,this),t.sys.events.on(cs.START,this.start,this)},boot:function(){this.world=new YL(this.scene,this.config),this.add=new UL(this.world),this.systems.events.once(cs.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new YL(this.scene,this.config),this.add=new UL(this.world));var e=this.systems.events;e.on(cs.UPDATE,this.world.update,this.world),e.once(cs.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics,i=UPe(WL(t,"impact",{}),WL(e,"impact",{}));return i},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},shutdown:function(){var e=this.systems.events;e.off(cs.UPDATE,this.world.update,this.world),e.off(cs.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(cs.START,this.start,this),this.scene=null,this.systems=null}});WPe.register("ImpactPhysics",g4,"impactPhysics");var YPe=g4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HPe={Body:u4,Events:FE,COLLIDES:Ac,CollisionMap:f4,Factory:p4,Image:d4,ImpactBody:c4,ImpactPhysics:YPe,Sprite:v4,TYPE:wc,World:m4},Oe={},fn=Oe;(function(){Oe.create=function(e,t){return{x:e||0,y:t||0}},Oe.clone=function(e){return{x:e.x,y:e.y}},Oe.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},Oe.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},Oe.rotate=function(e,t,i){var r=Math.cos(t),n=Math.sin(t);i||(i={});var a=e.x*r-e.y*n;return i.y=e.x*n+e.y*r,i.x=a,i},Oe.rotateAbout=function(e,t,i,r){var n=Math.cos(t),a=Math.sin(t);r||(r={});var s=i.x+((e.x-i.x)*n-(e.y-i.y)*a);return r.y=i.y+((e.x-i.x)*a+(e.y-i.y)*n),r.x=s,r},Oe.normalise=function(e){var t=Oe.magnitude(e);return t===0?{x:0,y:0}:{x:e.x/t,y:e.y/t}},Oe.dot=function(e,t){return e.x*t.x+e.y*t.y},Oe.cross=function(e,t){return e.x*t.y-e.y*t.x},Oe.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},Oe.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},Oe.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},Oe.mult=function(e,t){return{x:e.x*t,y:e.y*t}},Oe.div=function(e,t){return{x:e.x/t,y:e.y/t}},Oe.perp=function(e,t){return t=t===!0?-1:1,{x:t*-e.y,y:t*e.x}},Oe.neg=function(e){return{x:-e.x,y:-e.y}},Oe.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},Oe._temp=[Oe.create(),Oe.create(),Oe.create(),Oe.create(),Oe.create(),Oe.create()]})();var HL={},j={},gt=j;(function(){j._nextId=0,j._seed=0,j._nowStartTime=+new Date,j.extend=function(t,i){var r,n;typeof i=="boolean"?(r=2,n=i):(r=1,n=!0);for(var a=r;a<arguments.length;a++){var s=arguments[a];if(s)for(var o in s)n&&s[o]&&s[o].constructor===Object&&(!t[o]||t[o].constructor===Object)?(t[o]=t[o]||{},j.extend(t[o],n,s[o])):t[o]=s[o]}return t},j.clone=function(t,i){return j.extend({},i,t)},j.keys=function(t){if(Object.keys)return Object.keys(t);var i=[];for(var r in t)i.push(r);return i},j.values=function(t){var i=[];if(Object.keys){for(var r=Object.keys(t),n=0;n<r.length;n++)i.push(t[r[n]]);return i}for(var a in t)i.push(t[a]);return i},j.get=function(t,i,r,n){i=i.split(".").slice(r,n);for(var a=0;a<i.length;a+=1)t=t[i[a]];return t},j.set=function(t,i,r,n,a){var s=i.split(".").slice(n,a);return j.get(t,i,0,-1)[s[s.length-1]]=r,r},j.shuffle=function(t){for(var i=t.length-1;i>0;i--){var r=Math.floor(j.random()*(i+1)),n=t[i];t[i]=t[r],t[r]=n}return t},j.choose=function(t){return t[Math.floor(j.random()*t.length)]},j.isElement=function(t){return typeof HTMLElement<"u"?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},j.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"},j.isFunction=function(t){return typeof t=="function"},j.isPlainObject=function(t){return typeof t=="object"&&t.constructor===Object},j.isString=function(t){return toString.call(t)==="[object String]"},j.clamp=function(t,i,r){return t<i?i:t>r?r:t},j.sign=function(t){return t<0?-1:1},j.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-j._nowStartTime},j.random=function(t,i){return t=typeof t<"u"?t:0,i=typeof i<"u"?i:1,t+e()*(i-t)};var e=function(){return j._seed=(j._seed*9301+49297)%233280,j._seed/233280};j.colorToNumber=function(t){return t=t.replace("#",""),t.length==3&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},j.logLevel=1,j.log=function(){console&&j.logLevel>0&&j.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},j.info=function(){console&&j.logLevel>0&&j.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},j.warn=function(){console&&j.logLevel>0&&j.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},j.nextId=function(){return j._nextId++},j.indexOf=function(t,i){if(t.indexOf)return t.indexOf(i);for(var r=0;r<t.length;r++)if(t[r]===i)return r;return-1},j.map=function(t,i){if(t.map)return t.map(i);for(var r=[],n=0;n<t.length;n+=1)r.push(i(t[n]));return r},j.topologicalSort=function(t){var i=[],r=[],n=[];for(var a in t)!r[a]&&!n[a]&&j._topologicalSort(a,r,n,t,i);return i},j._topologicalSort=function(t,i,r,n,a){var s=n[t]||[];r[t]=!0;for(var o=0;o<s.length;o+=1){var l=s[o];r[l]||i[l]||j._topologicalSort(l,i,r,n,a)}r[t]=!1,i[t]=!0,a.push(t)},j.chain=function(){for(var t=[],i=0;i<arguments.length;i+=1){var r=arguments[i];r._chained?t.push.apply(t,r._chained):t.push(r)}var n=function(){for(var a,s=new Array(arguments.length),o=0,l=arguments.length;o<l;o++)s[o]=arguments[o];for(o=0;o<t.length;o+=1){var h=t[o].apply(a,s);typeof h<"u"&&(a=h)}return a};return n._chained=t,n},j.chainPathBefore=function(t,i,r){return j.set(t,i,j.chain(r,j.get(t,i)))},j.chainPathAfter=function(t,i,r){return j.set(t,i,j.chain(j.get(t,i),r))},j._requireGlobal=function(t,i){var r=typeof window<"u"?window[t]:typeof HL<"u"?HL[t]:null;return r}})();var St={},ar=St,Ie=fn,XL=gt;(function(){St.create=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r],a={x:n.x,y:n.y,index:r,body:t,isInternal:!1,contact:null};a.contact={vertex:a,normalImpulse:0,tangentImpulse:0},i.push(a)}return i},St.fromPath=function(e,t){var i=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/ig,r=[];return e.replace(i,function(n,a,s){r.push({x:parseFloat(a),y:parseFloat(s)})}),St.create(r,t)},St.centre=function(e){for(var t=St.area(e,!0),i={x:0,y:0},r,n,a,s=0;s<e.length;s++)a=(s+1)%e.length,r=Ie.cross(e[s],e[a]),n=Ie.mult(Ie.add(e[s],e[a]),r),i=Ie.add(i,n);return Ie.div(i,6*t)},St.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return Ie.div(t,e.length)},St.area=function(e,t){for(var i=0,r=e.length-1,n=0;n<e.length;n++)i+=(e[r].x-e[n].x)*(e[r].y+e[n].y),r=n;return t?i/2:Math.abs(i)/2},St.inertia=function(e,t){for(var i=0,r=0,n=e,a,s,o=0;o<n.length;o++)s=(o+1)%n.length,a=Math.abs(Ie.cross(n[s],n[o])),i+=a*(Ie.dot(n[s],n[s])+Ie.dot(n[s],n[o])+Ie.dot(n[o],n[o])),r+=a;return t/6*(i/r)},St.translate=function(e,t,i){var r;if(i)for(r=0;r<e.length;r++)e[r].x+=t.x*i,e[r].y+=t.y*i;else for(r=0;r<e.length;r++)e[r].x+=t.x,e[r].y+=t.y;return e},St.rotate=function(e,t,i){if(t!==0){for(var r=Math.cos(t),n=Math.sin(t),a=0;a<e.length;a++){var s=e[a],o=s.x-i.x,l=s.y-i.y;s.x=i.x+(o*r-l*n),s.y=i.y+(o*n+l*r)}return e}},St.contains=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=e[(i+1)%e.length];if((t.x-r.x)*(n.y-r.y)+(t.y-r.y)*(r.x-n.x)>0)return!1}return!0},St.scale=function(e,t,i,r){if(t===1&&i===1)return e;r=r||St.centre(e);for(var n,a,s=0;s<e.length;s++)n=e[s],a=Ie.sub(n,r),e[s].x=r.x+a.x*t,e[s].y=r.y+a.y*i;return e},St.chamfer=function(e,t,i,r,n){typeof t=="number"?t=[t]:t=t||[8],i=typeof i<"u"?i:-1,r=r||2,n=n||14;for(var a=[],s=0;s<e.length;s++){var o=e[s-1>=0?s-1:e.length-1],l=e[s],h=e[(s+1)%e.length],u=t[s<t.length?s:t.length-1];if(u===0){a.push(l);continue}var f=Ie.normalise({x:l.y-o.y,y:o.x-l.x}),c=Ie.normalise({x:h.y-l.y,y:l.x-h.x}),v=Math.sqrt(2*Math.pow(u,2)),p=Ie.mult(XL.clone(f),u),m=Ie.normalise(Ie.mult(Ie.add(f,c),.5)),x=Ie.sub(l,Ie.mult(m,v)),g=i;i===-1&&(g=Math.pow(u,.32)*1.75),g=XL.clamp(g,r,n),g%2===1&&(g+=1);for(var T=Math.acos(Ie.dot(f,c)),S=T/g,E=0;E<g;E++)a.push(Ie.add(Ie.rotate(p,S*E),x))}return a},St.clockwiseSort=function(e){var t=St.mean(e);return e.sort(function(i,r){return Ie.angle(t,i)-Ie.angle(t,r)}),e},St.isConvex=function(e){var t=0,i=e.length,r,n,a,s;if(i<3)return null;for(r=0;r<i;r++)if(n=(r+1)%i,a=(r+2)%i,s=(e[n].x-e[r].x)*(e[a].y-e[n].y),s-=(e[n].y-e[r].y)*(e[a].x-e[n].x),s<0?t|=1:s>0&&(t|=2),t===3)return!1;return t!==0?!0:null},St.hull=function(e){var t=[],i=[],r,n;for(e=e.slice(0),e.sort(function(a,s){var o=a.x-s.x;return o!==0?o:a.y-s.y}),n=0;n<e.length;n+=1){for(r=e[n];i.length>=2&&Ie.cross3(i[i.length-2],i[i.length-1],r)<=0;)i.pop();i.push(r)}for(n=e.length-1;n>=0;n-=1){for(r=e[n];t.length>=2&&Ie.cross3(t[t.length-2],t[t.length-1],r)<=0;)t.pop();t.push(r)}return t.pop(),i.pop(),t.concat(i)}})();var hp={},Zh=hp,Ox=gt;(function(){hp.on=function(e,t,i){for(var r=t.split(" "),n,a=0;a<r.length;a++)n=r[a],e.events=e.events||{},e.events[n]=e.events[n]||[],e.events[n].push(i);return i},hp.off=function(e,t,i){if(!t){e.events={};return}typeof t=="function"&&(i=t,t=Ox.keys(e.events).join(" "));for(var r=t.split(" "),n=0;n<r.length;n++){var a=e.events[r[n]],s=[];if(i&&a)for(var o=0;o<a.length;o++)a[o]!==i&&s.push(a[o]);e.events[r[n]]=s}},hp.trigger=function(e,t,i){var r,n,a,s,o=e.events;if(o&&Ox.keys(o).length>0){i||(i={}),r=t.split(" ");for(var l=0;l<r.length;l++)if(n=r[l],a=o[n],a){s=Ox.clone(i,!1),s.name=n,s.source=e;for(var h=0;h<a.length;h++)a[h].apply(e,[s])}}}})();var ki={},Mc=ki,KL=Zh;(function(){ki._motionWakeThreshold=.18,ki._motionSleepThreshold=.08,ki._minBias=.9,ki.update=function(e,t){for(var i=t*t*t,r=0;r<e.length;r++){var n=e[r],a=n.speed*n.speed+n.angularSpeed*n.angularSpeed;if(n.force.x!==0||n.force.y!==0){ki.set(n,!1);continue}var s=Math.min(n.motion,a),o=Math.max(n.motion,a);n.motion=ki._minBias*s+(1-ki._minBias)*o,n.sleepThreshold>0&&n.motion<ki._motionSleepThreshold*i?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&ki.set(n,!0)):n.sleepCounter>0&&(n.sleepCounter-=1)}},ki.afterCollisions=function(e,t){for(var i=t*t*t,r=0;r<e.length;r++){var n=e[r];if(n.isActive){var a=n.collision,s=a.bodyA.parent,o=a.bodyB.parent;if(!(s.isSleeping&&o.isSleeping||s.isStatic||o.isStatic)&&(s.isSleeping||o.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:o,h=l===s?o:s;!l.isStatic&&h.motion>ki._motionWakeThreshold*i&&ki.set(l,!1)}}}},ki.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||KL.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&KL.trigger(e,"sleepEnd"))}})();var Ss={},Vn=Ss;(function(){Ss.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&Ss.update(t,e),t},Ss.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var n=t[r];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},Ss.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},Ss.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},Ss.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},Ss.shift=function(e,t){var i=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+r}})();var HT={},OE=HT,XPe=fn,KPe=gt;(function(){HT.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var r=(i+1)%e.length,n=XPe.normalise({x:e[r].y-e[i].y,y:e[i].x-e[r].x}),a=n.y===0?1/0:n.x/n.y;a=a.toFixed(3).toString(),t[a]=n}return KPe.values(t)},HT.rotate=function(e,t){if(t!==0)for(var i=Math.cos(t),r=Math.sin(t),n=0;n<e.length;n++){var a=e[n],s;s=a.x*i-a.y*r,a.y=a.x*r+a.y*i,a.x=s}}})();var Q={},Jt=Q,st=ar,_n=fn,qPe=Mc,Dx=gt,yo=Vn,Vu=OE;(function(){Q._inertiaScale=4,Q._nextCollidingGroupId=1,Q._nextNonCollidingGroupId=-1,Q._nextCategory=1,Q.create=function(t){var i={id:Dx.nextId(),type:"body",label:"Body",gameObject:null,parts:[],plugin:{},angle:0,vertices:st.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,ignoreGravity:!1,ignorePointer:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},r=Dx.extend(i,t);return e(r,t),r},Q.nextGroup=function(t){return t?Q._nextNonCollidingGroupId--:Q._nextCollidingGroupId++},Q.nextCategory=function(){return Q._nextCategory=Q._nextCategory<<1,Q._nextCategory};var e=function(t,i){i=i||{},Q.set(t,{bounds:t.bounds||yo.create(t.vertices),positionPrev:t.positionPrev||_n.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),st.rotate(t.vertices,t.angle,t.position),Vu.rotate(t.axes,t.angle),yo.update(t.bounds,t.vertices,t.velocity),Q.set(t,{axes:i.axes||t.axes,area:i.area||t.area,mass:i.mass||t.mass,inertia:i.inertia||t.inertia});var r=t.isStatic?"#2e2b44":Dx.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]),n="#000";t.render.fillStyle=t.render.fillStyle||r,t.render.strokeStyle=t.render.strokeStyle||n,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};Q.set=function(t,i,r){var n;typeof i=="string"&&(n=i,i={},i[n]=r);for(n in i)if(i.hasOwnProperty(n))switch(r=i[n],n){case"isStatic":Q.setStatic(t,r);break;case"isSleeping":qPe.set(t,r);break;case"mass":Q.setMass(t,r);break;case"density":Q.setDensity(t,r);break;case"inertia":Q.setInertia(t,r);break;case"vertices":Q.setVertices(t,r);break;case"position":Q.setPosition(t,r);break;case"angle":Q.setAngle(t,r);break;case"velocity":Q.setVelocity(t,r);break;case"angularVelocity":Q.setAngularVelocity(t,r);break;case"parts":Q.setParts(t,r);break;default:t[n]=r}},Q.setStatic=function(t,i){for(var r=0;r<t.parts.length;r++){var n=t.parts[r];n.isStatic=i,i?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},Q.setMass=function(t,i){var r=t.inertia/(t.mass/6);t.inertia=r*(i/6),t.inverseInertia=1/t.inertia,t.mass=i,t.inverseMass=1/t.mass,t.density=t.mass/t.area},Q.setDensity=function(t,i){Q.setMass(t,i*t.area),t.density=i},Q.setInertia=function(t,i){t.inertia=i,t.inverseInertia=1/t.inertia},Q.setVertices=function(t,i){i[0].body===t?t.vertices=i:t.vertices=st.create(i,t),t.axes=Vu.fromVertices(t.vertices),t.area=st.area(t.vertices),Q.setMass(t,t.density*t.area);var r=st.centre(t.vertices);st.translate(t.vertices,r,-1),Q.setInertia(t,Q._inertiaScale*st.inertia(t.vertices,t.mass)),st.translate(t.vertices,t.position),yo.update(t.bounds,t.vertices,t.velocity)},Q.setParts=function(t,i,r){var n;for(i=i.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,n=0;n<i.length;n++){var a=i[n];a!==t&&(a.parent=t,t.parts.push(a))}if(t.parts.length!==1){if(r=typeof r<"u"?r:!0,r){var s=[];for(n=0;n<i.length;n++)s=s.concat(i[n].vertices);st.clockwiseSort(s);var o=st.hull(s),l=st.centre(o);Q.setVertices(t,o),st.translate(t.vertices,l)}var h=Q._totalProperties(t);t.area=h.area,t.parent=t,t.position.x=h.centre.x,t.position.y=h.centre.y,t.positionPrev.x=h.centre.x,t.positionPrev.y=h.centre.y,Q.setMass(t,h.mass),Q.setInertia(t,h.inertia),Q.setPosition(t,h.centre)}},Q.setPosition=function(t,i){var r=_n.sub(i,t.position);t.positionPrev.x+=r.x,t.positionPrev.y+=r.y;for(var n=0;n<t.parts.length;n++){var a=t.parts[n];a.position.x+=r.x,a.position.y+=r.y,st.translate(a.vertices,r),yo.update(a.bounds,a.vertices,t.velocity)}},Q.setAngle=function(t,i){var r=i-t.angle;t.anglePrev+=r;for(var n=0;n<t.parts.length;n++){var a=t.parts[n];a.angle+=r,st.rotate(a.vertices,r,t.position),Vu.rotate(a.axes,r),yo.update(a.bounds,a.vertices,t.velocity),n>0&&(a.angle+=t.angularVelocity,_n.rotateAbout(a.position,r,t.position,a.position))}},Q.setVelocity=function(t,i){t.positionPrev.x=t.position.x-i.x,t.positionPrev.y=t.position.y-i.y,t.velocity.x=i.x,t.velocity.y=i.y,t.speed=_n.magnitude(t.velocity)},Q.setAngularVelocity=function(t,i){t.anglePrev=t.angle-i,t.angularVelocity=i,t.angularSpeed=Math.abs(t.angularVelocity)},Q.translate=function(t,i){Q.setPosition(t,_n.add(t.position,i))},Q.rotate=function(t,i,r){if(!r)Q.setAngle(t,t.angle+i);else{var n=Math.cos(i),a=Math.sin(i),s=t.position.x-r.x,o=t.position.y-r.y;Q.setPosition(t,{x:r.x+(s*n-o*a),y:r.y+(s*a+o*n)}),Q.setAngle(t,t.angle+i)}},Q.scale=function(t,i,r,n){var a=0,s=0;n=n||t.position;for(var o=0;o<t.parts.length;o++){var l=t.parts[o];st.scale(l.vertices,i,r,n),l.axes=Vu.fromVertices(l.vertices),l.area=st.area(l.vertices),Q.setMass(l,t.density*l.area),st.translate(l.vertices,{x:-l.position.x,y:-l.position.y}),Q.setInertia(l,Q._inertiaScale*st.inertia(l.vertices,l.mass)),st.translate(l.vertices,{x:l.position.x,y:l.position.y}),o>0&&(a+=l.area,s+=l.inertia),l.position.x=n.x+(l.position.x-n.x)*i,l.position.y=n.y+(l.position.y-n.y)*r,yo.update(l.bounds,l.vertices,t.velocity)}t.parts.length>1&&(t.area=a,t.isStatic||(Q.setMass(t,t.density*a),Q.setInertia(t,s))),t.circleRadius&&(i===r?t.circleRadius*=i:t.circleRadius=null)},Q.update=function(t,i,r,n){var a=Math.pow(i*r*t.timeScale,2),s=1-t.frictionAir*r*t.timeScale,o=t.position.x-t.positionPrev.x,l=t.position.y-t.positionPrev.y;t.velocity.x=o*s*n+t.force.x/t.mass*a,t.velocity.y=l*s*n+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*s*n+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=_n.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var h=0;h<t.parts.length;h++){var u=t.parts[h];st.translate(u.vertices,t.velocity),h>0&&(u.position.x+=t.velocity.x,u.position.y+=t.velocity.y),t.angularVelocity!==0&&(st.rotate(u.vertices,t.angularVelocity,t.position),Vu.rotate(u.axes,t.angularVelocity),h>0&&_n.rotateAbout(u.position,t.angularVelocity,t.position,u.position)),yo.update(u.bounds,u.vertices,t.velocity)}},Q.applyForce=function(t,i,r){t.force.x+=r.x,t.force.y+=r.y;var n={x:i.x-t.position.x,y:i.y-t.position.y};t.torque+=n.x*r.y-n.y*r.x},Q._totalProperties=function(t){for(var i={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=t.parts.length===1?0:1;r<t.parts.length;r++){var n=t.parts[r],a=n.mass!==1/0?n.mass:1;i.mass+=a,i.area+=n.area,i.inertia+=n.inertia,i.centre=_n.add(i.centre,_n.mult(n.position,a))}return i.centre=_n.div(i.centre,i.mass),i}})();/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x4={decomp:o2e,quickDecomp:yf,isSimple:l2e,removeCollinearPoints:h2e,removeDuplicatePoints:u2e,makeCCW:t2e};function JPe(e,t,i){i=i||0;var r=[0,0],n,a,s,o,l,h,u;return n=e[1][1]-e[0][1],a=e[0][0]-e[1][0],s=n*e[0][0]+a*e[0][1],o=t[1][1]-t[0][1],l=t[0][0]-t[1][0],h=o*t[0][0]+l*t[0][1],u=n*l-o*a,Vp(u,0,i)||(r[0]=(l*s-a*h)/u,r[1]=(n*h-o*s)/u),r}function XT(e,t,i,r){var n=t[0]-e[0],a=t[1]-e[1],s=r[0]-i[0],o=r[1]-i[1];if(s*a-o*n===0)return!1;var l=(n*(i[1]-e[1])+a*(e[0]-i[0]))/(s*a-o*n),h=(s*(e[1]-i[1])+o*(i[0]-e[0]))/(o*n-s*a);return l>=0&&l<=1&&h>=0&&h<=1}function bc(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function up(e,t,i){return bc(e,t,i)>0}function KT(e,t,i){return bc(e,t,i)>=0}function y4(e,t,i){return bc(e,t,i)<0}function Rf(e,t,i){return bc(e,t,i)<=0}var ZPe=[],QPe=[];function jPe(e,t,i,r){if(r){var n=ZPe,a=QPe;n[0]=t[0]-e[0],n[1]=t[1]-e[1],a[0]=i[0]-t[0],a[1]=i[1]-t[1];var s=n[0]*a[0]+n[1]*a[1],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),l=Math.sqrt(a[0]*a[0]+a[1]*a[1]),h=Math.acos(s/(o*l));return h<r}else return bc(e,t,i)===0}function Lf(e,t){var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function J(e,t){var i=e.length;return e[t<0?t%i+i:t%i]}function e2e(e){e.length=0}function xr(e,t,i,r){for(var n=i;n<r;n++)e.push(t[n])}function t2e(e){for(var t=0,i=e,r=1;r<e.length;++r)(i[r][1]<i[t][1]||i[r][1]===i[t][1]&&i[r][0]>i[t][0])&&(t=r);return up(J(e,t-1),J(e,t),J(e,t+1))?!1:(i2e(e),!0)}function i2e(e){for(var t=[],i=e.length,r=0;r!==i;r++)t.push(e.pop());for(var r=0;r!==i;r++)e[r]=t[r]}function T4(e,t){return y4(J(e,t-1),J(e,t),J(e,t+1))}var r2e=[],n2e=[];function a2e(e,t,i){var r,n,a=r2e,s=n2e;if(KT(J(e,t+1),J(e,t),J(e,i))&&Rf(J(e,t-1),J(e,t),J(e,i)))return!1;n=Lf(J(e,t),J(e,i));for(var o=0;o!==e.length;++o)if(!((o+1)%e.length===t||o===t)&&KT(J(e,t),J(e,i),J(e,o+1))&&Rf(J(e,t),J(e,i),J(e,o))&&(a[0]=J(e,t),a[1]=J(e,i),s[0]=J(e,o),s[1]=J(e,o+1),r=JPe(a,s),Lf(J(e,t),r)<n))return!1;return!0}function s2e(e,t,i){for(var r=0;r!==e.length;++r)if(!(r===t||r===i||(r+1)%e.length===t||(r+1)%e.length===i)&&XT(J(e,t),J(e,i),J(e,r),J(e,r+1)))return!1;return!0}function zp(e,t,i,r){var n=r||[];if(e2e(n),t<i)for(var a=t;a<=i;a++)n.push(e[a]);else{for(var a=0;a<=i;a++)n.push(e[a]);for(var a=t;a<e.length;a++)n.push(e[a])}return n}function qT(e){for(var t=[],i=[],r=[],n=[],a=Number.MAX_VALUE,s=0;s<e.length;++s)if(T4(e,s)){for(var o=0;o<e.length;++o)if(a2e(e,s,o)){i=qT(zp(e,s,o,n)),r=qT(zp(e,o,s,n));for(var l=0;l<r.length;l++)i.push(r[l]);i.length<a&&(t=i,a=i.length,t.push([J(e,s),J(e,o)]))}}return t}function o2e(e){var t=qT(e);return t.length>0?S4(e,t):[e]}function S4(e,t){if(t.length===0)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&t[0].length===2&&t[0][0]instanceof Array){for(var i=[e],r=0;r<t.length;r++)for(var n=t[r],a=0;a<i.length;a++){var s=i[a],o=S4(s,n);if(o){i.splice(a,1),i.push(o[0],o[1]);break}}return i}else{var n=t,r=e.indexOf(n[0]),a=e.indexOf(n[1]);return r!==-1&&a!==-1?[zp(e,r,a),zp(e,a,r)]:!1}}function l2e(e){var t=e,i;for(i=0;i<t.length-1;i++)for(var r=0;r<i-1;r++)if(XT(t[i],t[i+1],t[r],t[r+1]))return!1;for(i=1;i<t.length-2;i++)if(XT(t[0],t[t.length-1],t[i],t[i+1]))return!1;return!0}function qL(e,t,i,r,n){n=n||0;var a=t[1]-e[1],s=e[0]-t[0],o=a*e[0]+s*e[1],l=r[1]-i[1],h=i[0]-r[0],u=l*i[0]+h*i[1],f=a*h-l*s;return Vp(f,0,n)?[0,0]:[(h*o-s*u)/f,(a*u-l*o)/f]}function yf(e,t,i,r,n,a,s){a=a||100,s=s||0,n=n||25,t=typeof t<"u"?t:[],i=i||[],r=r||[];var o=[0,0],l=[0,0],h=[0,0],u=0,f=0,c=0,v=0,p=0,m=0,x=0,g=[],T=[],S=e,E=e;if(E.length<3)return t;if(s++,s>a)return console.warn("quickDecomp: max level ("+a+") reached."),t;for(var _=0;_<e.length;++_)if(T4(S,_)){i.push(S[_]),u=f=Number.MAX_VALUE;for(var w=0;w<e.length;++w)up(J(S,_-1),J(S,_),J(S,w))&&Rf(J(S,_-1),J(S,_),J(S,w-1))&&(h=qL(J(S,_-1),J(S,_),J(S,w),J(S,w-1)),y4(J(S,_+1),J(S,_),h)&&(c=Lf(S[_],h),c<f&&(f=c,l=h,m=w))),up(J(S,_+1),J(S,_),J(S,w+1))&&Rf(J(S,_+1),J(S,_),J(S,w))&&(h=qL(J(S,_+1),J(S,_),J(S,w),J(S,w+1)),up(J(S,_-1),J(S,_),h)&&(c=Lf(S[_],h),c<u&&(u=c,o=h,p=w)));if(m===(p+1)%e.length)h[0]=(l[0]+o[0])/2,h[1]=(l[1]+o[1])/2,r.push(h),_<p?(xr(g,S,_,p+1),g.push(h),T.push(h),m!==0&&xr(T,S,m,S.length),xr(T,S,0,_+1)):(_!==0&&xr(g,S,_,S.length),xr(g,S,0,p+1),g.push(h),T.push(h),xr(T,S,m,_+1));else{if(m>p&&(p+=e.length),v=Number.MAX_VALUE,p<m)return t;for(var w=m;w<=p;++w)KT(J(S,_-1),J(S,_),J(S,w))&&Rf(J(S,_+1),J(S,_),J(S,w))&&(c=Lf(J(S,_),J(S,w)),c<v&&s2e(S,_,w)&&(v=c,x=w%e.length));_<x?(xr(g,S,_,x+1),x!==0&&xr(T,S,x,E.length),xr(T,S,0,_+1)):(_!==0&&xr(g,S,_,E.length),xr(g,S,0,x+1),xr(T,S,x,_+1))}return g.length<T.length?(yf(g,t,i,r,n,a,s),yf(T,t,i,r,n,a,s)):(yf(T,t,i,r,n,a,s),yf(g,t,i,r,n,a,s)),t}return t.push(e),t}function h2e(e,t){for(var i=0,r=e.length-1;e.length>3&&r>=0;--r)jPe(J(e,r-1),J(e,r),J(e,r+1),t)&&(e.splice(r%e.length,1),i++);return i}function u2e(e,t){for(var i=e.length-1;i>=1;--i)for(var r=e[i],n=i-1;n>=0;--n)if(f2e(r,e[n],t)){e.splice(i,1);continue}}function Vp(e,t,i){return i=i||0,Math.abs(e-t)<=i}function f2e(e,t,i){return Vp(e[0],t[0],i)&&Vp(e[1],t[1],i)}var Cs={},Da=Cs,Kr=ar,ds=gt,Hl=Jt,c2e=Vn,fv=fn,Uu=x4;(function(){Cs.rectangle=function(e,t,i,r,n){n=n||{};var a={label:"Rectangle Body",position:{x:e,y:t},vertices:Kr.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(n.chamfer){var s=n.chamfer;a.vertices=Kr.chamfer(a.vertices,s.radius,s.quality,s.qualityMin,s.qualityMax),delete n.chamfer}return Hl.create(ds.extend({},a,n))},Cs.trapezoid=function(e,t,i,r,n,a){a=a||{},n*=.5;var s=(1-n*2)*i,o=i*n,l=o+s,h=l+o,u;n<.5?u="L 0 0 L "+o+" "+-r+" L "+l+" "+-r+" L "+h+" 0":u="L 0 0 L "+l+" "+-r+" L "+h+" 0";var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:Kr.fromPath(u)};if(a.chamfer){var c=a.chamfer;f.vertices=Kr.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return Hl.create(ds.extend({},f,a))},Cs.circle=function(e,t,i,r,n){r=r||{};var a={label:"Circle Body",circleRadius:i};n=n||25;var s=Math.ceil(Math.max(10,Math.min(n,i)));return s%2===1&&(s+=1),Cs.polygon(e,t,s,i,ds.extend({},a,r))},Cs.polygon=function(e,t,i,r,n){if(n=n||{},i<3)return Cs.circle(e,t,r,n);for(var a=2*Math.PI/i,s="",o=a*.5,l=0;l<i;l+=1){var h=o+l*a,u=Math.cos(h)*r,f=Math.sin(h)*r;s+="L "+u.toFixed(3)+" "+f.toFixed(3)+" "}var c={label:"Polygon Body",position:{x:e,y:t},vertices:Kr.fromPath(s)};if(n.chamfer){var v=n.chamfer;c.vertices=Kr.chamfer(c.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete n.chamfer}return Hl.create(ds.extend({},c,n))},Cs.fromVertices=function(e,t,i,r,n,a,s){var o,l,h,u,f,c,v,p,m;for(r=r||{},l=[],n=typeof n<"u"?n:!1,a=typeof a<"u"?a:.01,s=typeof s<"u"?s:10,Uu||ds.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),ds.isArray(i[0])||(i=[i]),p=0;p<i.length;p+=1)if(u=i[p],h=Kr.isConvex(u),h||!Uu)h?u=Kr.clockwiseSort(u):u=Kr.hull(u),l.push({position:{x:e,y:t},vertices:u});else{var x=u.map(function(N){return[N.x,N.y]});Uu.makeCCW(x),a!==!1&&Uu.removeCollinearPoints(x,a);var g=Uu.quickDecomp(x);for(f=0;f<g.length;f++){var T=g[f],S=T.map(function(N){return{x:N[0],y:N[1]}});s>0&&Kr.area(S)<s||l.push({position:Kr.centre(S),vertices:S})}}for(f=0;f<l.length;f++)l[f]=Hl.create(ds.extend(l[f],r));if(n){var E=5;for(f=0;f<l.length;f++){var _=l[f];for(c=f+1;c<l.length;c++){var w=l[c];if(c2e.overlaps(_.bounds,w.bounds)){var R=_.vertices,F=w.vertices;for(v=0;v<_.vertices.length;v++)for(m=0;m<w.vertices.length;m++){var k=fv.magnitudeSquared(fv.sub(R[(v+1)%R.length],F[m])),B=fv.magnitudeSquared(fv.sub(R[v],F[(m+1)%F.length]));k<E&&B<E&&(R[v].isInternal=!0,F[m].isInternal=!0)}}}}}return l.length>1?(o=Hl.create(ds.extend({parts:l.slice(0)},r)),Hl.setPosition(o,{x:e,y:t}),o):l[0]}})();var q={},rl=q,cv=Zh,dv=gt,d2e=Vn,Wu=Jt;(function(){q.create=function(e){return dv.extend({id:dv.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},q.setModified=function(e,t,i,r){if(e.isModified=t,i&&e.parent&&q.setModified(e.parent,t,i,r),r)for(var n=0;n<e.composites.length;n++){var a=e.composites[n];q.setModified(a,t,i,r)}},q.add=function(e,t){var i=[].concat(t);cv.trigger(e,"beforeAdd",{object:t});for(var r=0;r<i.length;r++){var n=i[r];switch(n.type){case"body":if(n.parent!==n){dv.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}q.addBody(e,n);break;case"constraint":q.addConstraint(e,n);break;case"composite":q.addComposite(e,n);break;case"mouseConstraint":q.addConstraint(e,n.constraint);break}}return cv.trigger(e,"afterAdd",{object:t}),e},q.remove=function(e,t,i){var r=[].concat(t);cv.trigger(e,"beforeRemove",{object:t});for(var n=0;n<r.length;n++){var a=r[n];switch(a.type){case"body":q.removeBody(e,a,i);break;case"constraint":q.removeConstraint(e,a,i);break;case"composite":q.removeComposite(e,a,i);break;case"mouseConstraint":q.removeConstraint(e,a.constraint);break}}return cv.trigger(e,"afterRemove",{object:t}),e},q.addComposite=function(e,t){return e.composites.push(t),t.parent=e,q.setModified(e,!0,!0,!1),e},q.removeComposite=function(e,t,i){var r=e.composites.indexOf(t);if(r!==-1&&(q.removeCompositeAt(e,r),q.setModified(e,!0,!0,!1)),i)for(var n=0;n<e.composites.length;n++)q.removeComposite(e.composites[n],t,!0);return e},q.removeCompositeAt=function(e,t){return e.composites.splice(t,1),q.setModified(e,!0,!0,!1),e},q.addBody=function(e,t){return e.bodies.push(t),q.setModified(e,!0,!0,!1),e},q.removeBody=function(e,t,i){var r=e.bodies.indexOf(t);if(r!==-1&&(q.removeBodyAt(e,r),q.setModified(e,!0,!0,!1)),i)for(var n=0;n<e.composites.length;n++)q.removeBody(e.composites[n],t,!0);return e},q.removeBodyAt=function(e,t){return e.bodies.splice(t,1),q.setModified(e,!0,!0,!1),e},q.addConstraint=function(e,t){return e.constraints.push(t),q.setModified(e,!0,!0,!1),e},q.removeConstraint=function(e,t,i){var r=e.constraints.indexOf(t);if(r!==-1&&q.removeConstraintAt(e,r),i)for(var n=0;n<e.composites.length;n++)q.removeConstraint(e.composites[n],t,!0);return e},q.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),q.setModified(e,!0,!0,!1),e},q.clear=function(e,t,i){if(i)for(var r=0;r<e.composites.length;r++)q.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter(function(n){return n.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,q.setModified(e,!0,!0,!1),e},q.allBodies=function(e){for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(q.allBodies(e.composites[i]));return t},q.allConstraints=function(e){for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(q.allConstraints(e.composites[i]));return t},q.allComposites=function(e){for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(q.allComposites(e.composites[i]));return t},q.get=function(e,t,i){var r,n;switch(i){case"body":r=q.allBodies(e);break;case"constraint":r=q.allConstraints(e);break;case"composite":r=q.allComposites(e).concat(e);break}return r?(n=r.filter(function(a){return a.id.toString()===t.toString()}),n.length===0?null:n[0]):null},q.move=function(e,t,i){return q.remove(e,t),q.add(i,t),e},q.rebase=function(e){for(var t=q.allBodies(e).concat(q.allConstraints(e)).concat(q.allComposites(e)),i=0;i<t.length;i++)t[i].id=dv.nextId();return q.setModified(e,!0,!0,!1),e},q.translate=function(e,t,i){for(var r=i?q.allBodies(e):e.bodies,n=0;n<r.length;n++)Wu.translate(r[n],t);return q.setModified(e,!0,!0,!1),e},q.rotate=function(e,t,i,r){for(var n=Math.cos(t),a=Math.sin(t),s=r?q.allBodies(e):e.bodies,o=0;o<s.length;o++){var l=s[o],h=l.position.x-i.x,u=l.position.y-i.y;Wu.setPosition(l,{x:i.x+(h*n-u*a),y:i.y+(h*a+u*n)}),Wu.rotate(l,t)}return q.setModified(e,!0,!0,!1),e},q.scale=function(e,t,i,r,n){for(var a=n?q.allBodies(e):e.bodies,s=0;s<a.length;s++){var o=a[s],l=o.position.x-r.x,h=o.position.y-r.y;Wu.setPosition(o,{x:r.x+l*t,y:r.y+h*i}),Wu.scale(o,t,i)}return q.setModified(e,!0,!0,!1),e},q.bounds=function(e){for(var t=q.allBodies(e),i=[],r=0;r<t.length;r+=1){var n=t[r];i.push(n.bounds.min,n.bounds.max)}return d2e.create(i)}})();var Bt={},Pc=Bt,JL=ar,ft=fn,v2e=Mc,p2e=Vn,m2e=OE,ZL=gt;(function(){Bt._warming=.4,Bt._torqueDampen=1,Bt._minLength=1e-6,Bt.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?ft.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?ft.add(t.bodyB.position,t.pointB):t.pointB,n=ft.magnitude(ft.sub(i,r));t.length=typeof t.length<"u"?t.length:n,t.id=t.id||ZL.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=ZL.extend(a,t.render),t},Bt.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],r=i.constraintImpulse;i.isStatic||r.x===0&&r.y===0&&r.angle===0||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},Bt.solveAll=function(e,t){for(var i=0;i<e.length;i+=1){var r=e[i],n=!r.bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(n||a)&&Bt.solve(e[i],t)}for(i=0;i<e.length;i+=1)r=e[i],n=!r.bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic,!n&&!a&&Bt.solve(e[i],t)},Bt.solve=function(e,t){var i=e.bodyA,r=e.bodyB,n=e.pointA,a=e.pointB;if(!(!i&&!r)){i&&!i.isStatic&&(ft.rotate(n,i.angle-e.angleA,n),e.angleA=i.angle),r&&!r.isStatic&&(ft.rotate(a,r.angle-e.angleB,a),e.angleB=r.angle);var s=n,o=a;if(i&&(s=ft.add(i.position,n)),r&&(o=ft.add(r.position,a)),!(!s||!o)){var l=ft.sub(s,o),h=ft.magnitude(l);h<Bt._minLength&&(h=Bt._minLength);var u=(h-e.length)/h,f=e.stiffness<1?e.stiffness*t:e.stiffness,c=ft.mult(l,u*f),v=(i?i.inverseMass:0)+(r?r.inverseMass:0),p=(i?i.inverseInertia:0)+(r?r.inverseInertia:0),m=v+p,x,g,T,S,E;if(e.damping){var _=ft.create();T=ft.div(l,h),E=ft.sub(r&&ft.sub(r.position,r.positionPrev)||_,i&&ft.sub(i.position,i.positionPrev)||_),S=ft.dot(T,E)}i&&!i.isStatic&&(g=i.inverseMass/v,i.constraintImpulse.x-=c.x*g,i.constraintImpulse.y-=c.y*g,i.position.x-=c.x*g,i.position.y-=c.y*g,e.damping&&(i.positionPrev.x-=e.damping*T.x*S*g,i.positionPrev.y-=e.damping*T.y*S*g),x=ft.cross(n,c)/m*Bt._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=x,i.angle-=x),r&&!r.isStatic&&(g=r.inverseMass/v,r.constraintImpulse.x+=c.x*g,r.constraintImpulse.y+=c.y*g,r.position.x+=c.x*g,r.position.y+=c.y*g,e.damping&&(r.positionPrev.x+=e.damping*T.x*S*g,r.positionPrev.y+=e.damping*T.y*S*g),x=ft.cross(a,c)/m*Bt._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=x,r.angle+=x)}}},Bt.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=i.constraintImpulse;if(!(i.isStatic||r.x===0&&r.y===0&&r.angle===0)){v2e.set(i,!1);for(var n=0;n<i.parts.length;n++){var a=i.parts[n];JL.translate(a.vertices,r),n>0&&(a.position.x+=r.x,a.position.y+=r.y),r.angle!==0&&(JL.rotate(a.vertices,r.angle,i.position),m2e.rotate(a.axes,r.angle),n>0&&ft.rotateAbout(a.position,r.angle,i.position,a.position)),p2e.update(a.bounds,a.vertices,i.velocity)}r.angle*=Bt._warming,r.x*=Bt._warming,r.y*=Bt._warming}}}})();var Qr={},C4=Qr,oi=rl,vs=Pc,To=gt,Bx=Jt,Yu=Da;(function(){Qr.stack=function(e,t,i,r,n,a,s){for(var o=oi.create({label:"Stack"}),l=e,h=t,u,f=0,c=0;c<r;c++){for(var v=0,p=0;p<i;p++){var m=s(l,h,p,c,u,f);if(m){var x=m.bounds.max.y-m.bounds.min.y,g=m.bounds.max.x-m.bounds.min.x;x>v&&(v=x),Bx.translate(m,{x:g*.5,y:x*.5}),l=m.bounds.max.x+n,oi.addBody(o,m),u=m,f+=1}else l+=n}h+=v+a,l=e}return o},Qr.chain=function(e,t,i,r,n,a){for(var s=e.bodies,o=1;o<s.length;o++){var l=s[o-1],h=s[o],u=l.bounds.max.y-l.bounds.min.y,f=l.bounds.max.x-l.bounds.min.x,c=h.bounds.max.y-h.bounds.min.y,v=h.bounds.max.x-h.bounds.min.x,p={bodyA:l,pointA:{x:f*t,y:u*i},bodyB:h,pointB:{x:v*r,y:c*n}},m=To.extend(p,a);oi.addConstraint(e,vs.create(m))}return e.label+=" Chain",e},Qr.mesh=function(e,t,i,r,n){var a=e.bodies,s,o,l,h,u;for(s=0;s<i;s++){for(o=1;o<t;o++)l=a[o-1+s*t],h=a[o+s*t],oi.addConstraint(e,vs.create(To.extend({bodyA:l,bodyB:h},n)));if(s>0)for(o=0;o<t;o++)l=a[o+(s-1)*t],h=a[o+s*t],oi.addConstraint(e,vs.create(To.extend({bodyA:l,bodyB:h},n))),r&&o>0&&(u=a[o-1+(s-1)*t],oi.addConstraint(e,vs.create(To.extend({bodyA:u,bodyB:h},n)))),r&&o<t-1&&(u=a[o+1+(s-1)*t],oi.addConstraint(e,vs.create(To.extend({bodyA:u,bodyB:h},n))))}return e.label+=" Mesh",e},Qr.pyramid=function(e,t,i,r,n,a,s){return Qr.stack(e,t,i,r,n,a,function(o,l,h,u,f,c){var v=Math.min(r,Math.ceil(i/2)),p=f?f.bounds.max.x-f.bounds.min.x:0;if(!(u>v)){u=v-u;var m=u,x=i-1-u;if(!(h<m||h>x)){c===1&&Bx.translate(f,{x:(h+(i%2===1?1:-1))*p,y:0});var g=f?h*p:0;return s(e+g+h*n,l,h,u,f,c)}}})},Qr.newtonsCradle=function(e,t,i,r,n){for(var a=oi.create({label:"Newtons Cradle"}),s=0;s<i;s++){var o=1.9,l=Yu.circle(e+s*(r*o),t+n,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=vs.create({pointA:{x:e+s*(r*o),y:t},bodyB:l});oi.addBody(a,l),oi.addConstraint(a,h)}return a},Qr.car=function(e,t,i,r,n){var a=Bx.nextGroup(!0),s=20,o=-i*.5+s,l=i*.5-s,h=0,u=oi.create({label:"Car"}),f=Yu.rectangle(e,t,i,r,{collisionFilter:{group:a},chamfer:{radius:r*.5},density:2e-4}),c=Yu.circle(e+o,t+h,n,{collisionFilter:{group:a},friction:.8}),v=Yu.circle(e+l,t+h,n,{collisionFilter:{group:a},friction:.8}),p=vs.create({bodyB:f,pointB:{x:o,y:h},bodyA:c,stiffness:1,length:0}),m=vs.create({bodyB:f,pointB:{x:l,y:h},bodyA:v,stiffness:1,length:0});return oi.addBody(u,f),oi.addBody(u,c),oi.addBody(u,v),oi.addConstraint(u,p),oi.addConstraint(u,m),u},Qr.softBody=function(e,t,i,r,n,a,s,o,l,h){l=To.extend({inertia:1/0},l),h=To.extend({stiffness:.2,render:{type:"line",anchors:!1}},h);var u=Qr.stack(e,t,i,r,n,a,function(f,c){return Yu.circle(f,c,o,l)});return Qr.mesh(u,i,r,s,h),u.label="Soft Body",u}})();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g2e={setBounce:function(e){return this.body.restitution=e,this}},x2e=g2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y2e={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var t=0;if(!Array.isArray(e))t=e;else for(var i=0;i<e.length;i++)t|=e[i];return this.body.collisionFilter.mask=t,this}},T2e=y2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xl=Jt,S2e={applyForce:function(e){return this._tempVec2.set(this.body.position.x,this.body.position.y),Xl.applyForce(this.body,this._tempVec2,e),this},applyForceFrom:function(e,t){return Xl.applyForce(this.body,e,t),this},thrust:function(e){var t=this.body.angle;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),Xl.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(e){var t=this.body.angle-Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),Xl.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(e){var t=this.body.angle+Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),Xl.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(e){var t=this.body.angle-Math.PI;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),Xl.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}},C2e=S2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E2e={setFriction:function(e,t,i){return this.body.friction=e,t!==void 0&&(this.body.frictionAir=t),i!==void 0&&(this.body.frictionStatic=i),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}},_2e=E2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A2e={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}},w2e=A2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QL=Jt,M2e=oe,b2e={setMass:function(e){return QL.setMass(this.body,e),this},setDensity:function(e){return QL.setDensity(this.body,e),this},centerOfMass:{get:function(){return new M2e(this.body.render.sprite.xOffset*this.width,this.body.render.sprite.yOffset*this.height)}}},P2e=b2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R2e=Jt,L2e={setStatic:function(e){return R2e.setStatic(this.body,e),this},isStatic:function(){return this.body.isStatic}},F2e=L2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var I2e={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}},O2e=I2e;/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var D2e=Da,vv=Jt,B2e=Vn,Nx=gt,pv=Y,mv=fn,N2e=ar,G2e={parseBody:function(e,t,i,r,n){for(var a=pv(n,"fixtures",[]),s=[],o=0;o<a.length;o++)for(var l=this.parseFixture(a[o]),h=0;h<l.length;h++)s.push(l[h]);var u=Nx.extend({},!1,n);delete u.fixtures,delete u.type;var f=vv.create(u);return vv.setParts(f,s),f.render.sprite.xOffset=f.position.x/i,f.render.sprite.yOffset=f.position.y/r,vv.setPosition(f,{x:e,y:t}),f},parseFixture:function(e){var t=Nx.extend({},!1,e);delete t.circle,delete t.vertices;var i;if(e.circle){var r=pv(e.circle,"x"),n=pv(e.circle,"y"),a=pv(e.circle,"radius");i=[D2e.circle(r,n,a,t)]}else e.vertices&&(i=this.parseVertices(e.vertices,t));return i},parseVertices:function(e,t){var i,r,n,a,s,o=[];for(t=t||{},a=0;a<e.length;a+=1)o.push(vv.create(Nx.extend({position:N2e.centre(e[a]),vertices:e[a]},t)));var l=5;for(i=0;i<o.length;i++){var h=o[i];for(r=i+1;r<o.length;r++){var u=o[r];if(B2e.overlaps(h.bounds,u.bounds)){var f=h.vertices,c=u.vertices;for(n=0;n<h.vertices.length;n++)for(s=0;s<u.vertices.length;s++){var v=mv.magnitudeSquared(mv.sub(f[(n+1)%f.length],c[s])),p=mv.magnitudeSquared(mv.sub(f[n],c[(s+1)%c.length]));v<l&&p<l&&(f[n].isInternal=!0,c[s].isInternal=!0)}}}}return o}},E4=G2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Hu=Da,k2e=Jt,Gi=Y,$2e=E4,z2e=ar,V2e={setRectangle:function(e,t,i){return this.setBody({type:"rectangle",width:e,height:t},i)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,i){return this.setBody({type:"polygon",sides:t,radius:e},i)},setTrapezoid:function(e,t,i,r){return this.setBody({type:"trapezoid",width:e,height:t,slope:i},r)},setExistingBody:function(e,t){t===void 0&&(t=!0),this.body&&this.world.remove(this.body),this.body=e;for(var i=0;i<e.parts.length;i++)e.parts[i].gameObject=this;var r=this;return e.destroy=function(){r.world.remove(r.body),r.body.gameObject=null},t&&this.world.add(e),this._originComponent&&this.setOrigin(e.render.sprite.xOffset,e.render.sprite.yOffset),this},setBody:function(e,t){if(!e)return this;var i;typeof e=="string"&&(e={type:e});var r=Gi(e,"type","rectangle"),n=Gi(e,"x",this._tempVec2.x),a=Gi(e,"y",this._tempVec2.y),s=Gi(e,"width",this.width),o=Gi(e,"height",this.height);switch(r){case"rectangle":i=Hu.rectangle(n,a,s,o,t);break;case"circle":var l=Gi(e,"radius",Math.max(s,o)/2),h=Gi(e,"maxSides",25);i=Hu.circle(n,a,l,t,h);break;case"trapezoid":var u=Gi(e,"slope",.5);i=Hu.trapezoid(n,a,s,o,u,t);break;case"polygon":var f=Gi(e,"sides",5),c=Gi(e,"radius",Math.max(s,o)/2);i=Hu.polygon(n,a,f,c,t);break;case"fromVertices":case"fromVerts":var v=Gi(e,"verts",null);if(v)if(typeof v=="string"&&(v=z2e.fromPath(v)),this.body&&!this.body.hasOwnProperty("temp"))k2e.setVertices(this.body,v),i=this.body;else{var p=Gi(e,"flagInternal",!1),m=Gi(e,"removeCollinear",.01),x=Gi(e,"minimumArea",10);i=Hu.fromVertices(n,a,v,t,p,m,x)}break;case"fromPhysicsEditor":i=$2e.parseBody(n,a,s,o,e);break}return i&&this.setExistingBody(i,e.addToWorld),this}},U2e=V2e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var W2e="afterupdate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Y2e="beforeupdate";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var H2e="collisionactive";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var X2e="collisionend";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var K2e="collisionstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var q2e="dragend";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var J2e="drag";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Z2e="dragstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Q2e="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var j2e="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eRe="sleepend";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tRe="sleepstart";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DE={AFTER_UPDATE:W2e,BEFORE_UPDATE:Y2e,COLLISION_ACTIVE:H2e,COLLISION_END:X2e,COLLISION_START:K2e,DRAG_END:q2e,DRAG:J2e,DRAG_START:Z2e,PAUSE:Q2e,RESUME:j2e,SLEEP_END:eRe,SLEEP_START:tRe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jL=DE,gv=Zh,iRe={setSleepThreshold:function(e){return e===void 0&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(e){if(e){var t=this.world;gv.on(this.body,"sleepStart",function(i){t.emit(jL.SLEEP_START,i,this)})}else gv.off(this.body,"sleepStart");return this},setSleepEndEvent:function(e){if(e){var t=this.world;gv.on(this.body,"sleepEnd",function(i){t.emit(jL.SLEEP_END,i,this)})}else gv.off(this.body,"sleepEnd");return this}},rRe=iRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qi=Jt,eF=et,tF=uC,iF=fC,xv=4,nRe={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),Qi.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),Qi.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleX=e,this._scaleX===0?this.renderFlags&=~xv:this.renderFlags|=xv,Qi.scale(this.body,t,i),Qi.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleY=e,this._scaleY===0?this.renderFlags&=~xv:this.renderFlags|=xv,Qi.scale(this.body,t,i),Qi.scale(this.body,this._scaleX,e)}},angle:{get:function(){return iF(this.body.angle*eF.RAD_TO_DEG)},set:function(e){this.rotation=iF(e)*eF.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=tF(e),Qi.setAngle(this.body,this._rotation)}},setPosition:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this._tempVec2.set(e,t),Qi.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return e===void 0&&(e=0),this._rotation=tF(e),Qi.setAngle(this.body,e),this},setFixedRotation:function(){return Qi.setInertia(this.body,1/0),this},setAngle:function(e){return e===void 0&&(e=0),this.angle=e,Qi.setAngle(this.body,this.rotation),this},setScale:function(e,t,i){e===void 0&&(e=1),t===void 0&&(t=e);var r=1/this._scaleX,n=1/this._scaleY;return this._scaleX=e,this._scaleY=t,Qi.scale(this.body,r,n,i),Qi.scale(this.body,e,t,i),this}},aRe=nRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yv=Jt,sRe={setAngularVelocity:function(e){return yv.setAngularVelocity(this.body,e),this},setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),yv.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),yv.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,t){return this._tempVec2.set(e,t),yv.setVelocity(this.body,this._tempVec2),this}},oRe=sRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var k0={Bounce:x2e,Collision:T2e,Force:C2e,Friction:_2e,Gravity:w2e,Mass:P2e,Static:F2e,Sensor:O2e,SetBody:U2e,Sleep:rRe,Transform:aRe,Velocity:oRe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yr=k0,lRe=Y,hRe=oe;function uRe(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var fRe=function(e,t,i){i===void 0&&(i={});var r=t.x,n=t.y;t.body={temp:!0,position:{x:r,y:n}};var a=[yr.Bounce,yr.Collision,yr.Force,yr.Friction,yr.Gravity,yr.Mass,yr.Sensor,yr.SetBody,yr.Sleep,yr.Static,yr.Transform,yr.Velocity];if(a.forEach(function(o){for(var l in o)uRe(o[l])?Object.defineProperty(t,l,{get:o[l].get,set:o[l].set}):Object.defineProperty(t,l,{value:o[l]})}),t.world=e,t._tempVec2=new hRe(r,n),i.hasOwnProperty("type")&&i.type==="body")t.setExistingBody(i,!0);else{var s=lRe(i,"shape",null);s||(s="rectangle"),t.setBody(s,i)}return t},cRe=fRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dRe=O,Tr=k0,vRe=qe,pRe=Y,mRe=Yh,gRe=c0,xRe=oe,yRe=new dRe({Extends:mRe,Mixins:[Tr.Bounce,Tr.Collision,Tr.Force,Tr.Friction,Tr.Gravity,Tr.Mass,Tr.Sensor,Tr.SetBody,Tr.Sleep,Tr.Static,Tr.Transform,Tr.Velocity,gRe],initialize:function(t,i,r,n,a,s){vRe.call(this,t.scene,"Image"),this.setTexture(n,a),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new xRe(i,r);var o=pRe(s,"shape",null);o?this.setBody(o,s):this.setRectangle(this.width,this.height,s),this.setPosition(i,r),this.initPipeline("TextureTintPipeline")}}),_4=yRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TRe=jD,SRe=O,Sr=k0,CRe=qe,ERe=Y,_Re=c0,ARe=Fa,wRe=oe,MRe=new SRe({Extends:ARe,Mixins:[Sr.Bounce,Sr.Collision,Sr.Force,Sr.Friction,Sr.Gravity,Sr.Mass,Sr.Sensor,Sr.SetBody,Sr.Sleep,Sr.Static,Sr.Transform,Sr.Velocity,_Re],initialize:function(t,i,r,n,a,s){CRe.call(this,t.scene,"Sprite"),this.anims=new TRe(this),this.setTexture(n,a),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new wRe(i,r);var o=ERe(s,"shape",null);o?this.setBody(o,s):this.setRectangle(this.width,this.height,s),this.setPosition(i,r),this.initPipeline("TextureTintPipeline")}}),A4=MRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Tv=Da,bRe=Jt,PRe=O,ps=k0,Sv=Y,Cv=Xh,rF=ar,RRe=new PRe({Mixins:[ps.Bounce,ps.Collision,ps.Friction,ps.Gravity,ps.Mass,ps.Sensor,ps.Sleep,ps.Static],initialize:function(t,i,r){this.tile=i,this.world=t,i.physics.matterBody&&i.physics.matterBody.destroy(),i.physics.matterBody=this;var n=Sv(r,"body",null),a=Sv(r,"addToWorld",!0);if(n)this.setBody(n,a);else{var s=i.getCollisionGroup(),o=Sv(s,"objects",[]);o.length>0?this.setFromTileCollision(r):this.setFromTileRectangle(r)}},setFromTileRectangle:function(e){e===void 0&&(e={}),Cv(e,"isStatic")||(e.isStatic=!0),Cv(e,"addToWorld")||(e.addToWorld=!0);var t=this.tile.getBounds(),i=t.x+t.width/2,r=t.y+t.height/2,n=Tv.rectangle(i,r,t.width,t.height,e);return this.setBody(n,e.addToWorld),this},setFromTileCollision:function(e){e===void 0&&(e={}),Cv(e,"isStatic")||(e.isStatic=!0),Cv(e,"addToWorld")||(e.addToWorld=!0);for(var t=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,r=this.tile.getLeft(),n=this.tile.getTop(),a=this.tile.getCollisionGroup(),s=Sv(a,"objects",[]),o=[],l=0;l<s.length;l++){var h=s[l],u=r+h.x*t,f=n+h.y*i,c=h.width*t,v=h.height*i,p=null;if(h.rectangle)p=Tv.rectangle(u+c/2,f+v/2,c,v,e);else if(h.ellipse)p=Tv.circle(u+c/2,f+v/2,c/2,e);else if(h.polygon||h.polyline){var m=h.polygon?h.polygon:h.polyline,x=m.map(function(S){return{x:S.x*t,y:S.y*i}}),g=rF.create(x),T=rF.centre(g);u+=T.x,f+=T.y,p=Tv.fromVertices(u,f,g,e)}p&&o.push(p)}return o.length===1?this.setBody(o[0],e.addToWorld):o.length>1&&(e.parts=o,this.setBody(bRe.create(e),e.addToWorld)),this},setBody:function(e,t){return t===void 0&&(t=!0),this.body&&this.removeBody(),this.body=e,this.body.gameObject=this,t&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0}}),BE=RRe,Ar={},NE=Ar,Ev=ar,Cr=fn;(function(){Ar.collides=function(e,t,i){var r,n,a,s,o=!1;if(i){var l=e.parent,h=t.parent,u=l.speed*l.speed+l.angularSpeed*l.angularSpeed+h.speed*h.speed+h.angularSpeed*h.angularSpeed;o=i&&i.collided&&u<.2,s=i}else s={collided:!1,bodyA:e,bodyB:t};if(i&&o){var f=s.axisBody,c=f===e?t:e,v=[f.axes[i.axisNumber]];if(a=Ar._overlapAxes(f.vertices,c.vertices,v),s.reused=!0,a.overlap<=0)return s.collided=!1,s}else{if(r=Ar._overlapAxes(e.vertices,t.vertices,e.axes),r.overlap<=0||(n=Ar._overlapAxes(t.vertices,e.vertices,t.axes),n.overlap<=0))return s.collided=!1,s;r.overlap<n.overlap?(a=r,s.axisBody=e):(a=n,s.axisBody=t),s.axisNumber=a.axisNumber}s.bodyA=e.id<t.id?e:t,s.bodyB=e.id<t.id?t:e,s.collided=!0,s.depth=a.overlap,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent,e=s.bodyA,t=s.bodyB,Cr.dot(a.axis,Cr.sub(t.position,e.position))<0?s.normal={x:a.axis.x,y:a.axis.y}:s.normal={x:-a.axis.x,y:-a.axis.y},s.tangent=Cr.perp(s.normal),s.penetration=s.penetration||{},s.penetration.x=s.normal.x*s.depth,s.penetration.y=s.normal.y*s.depth;var p=Ar._findSupports(e,t,s.normal),m=[];if(Ev.contains(e.vertices,p[0])&&m.push(p[0]),Ev.contains(e.vertices,p[1])&&m.push(p[1]),m.length<2){var x=Ar._findSupports(t,e,Cr.neg(s.normal));Ev.contains(t.vertices,x[0])&&m.push(x[0]),m.length<2&&Ev.contains(t.vertices,x[1])&&m.push(x[1])}return m.length<1&&(m=[p[0]]),s.supports=m,s},Ar._overlapAxes=function(e,t,i){for(var r=Cr._temp[0],n=Cr._temp[1],a={overlap:Number.MAX_VALUE},s,o,l=0;l<i.length;l++){if(o=i[l],Ar._projectToAxis(r,e,o),Ar._projectToAxis(n,t,o),s=Math.min(r.max-n.min,n.max-r.min),s<=0)return a.overlap=s,a;s<a.overlap&&(a.overlap=s,a.axis=o,a.axisNumber=l)}return a},Ar._projectToAxis=function(e,t,i){for(var r=Cr.dot(t[0],i),n=r,a=1;a<t.length;a+=1){var s=Cr.dot(t[a],i);s>n?n=s:s<r&&(r=s)}e.min=r,e.max=n},Ar._findSupports=function(e,t,i){for(var r=Number.MAX_VALUE,n=Cr._temp[0],a=t.vertices,s=e.position,o,l,h,u,f=0;f<a.length;f++)l=a[f],n.x=l.x-s.x,n.y=l.y-s.y,o=-Cr.dot(i,n),o<r&&(r=o,h=l);var c=h.index-1>=0?h.index-1:a.length-1;l=a[c],n.x=l.x-s.x,n.y=l.y-s.y,r=-Cr.dot(i,n),u=l;var v=(h.index+1)%a.length;return l=a[v],n.x=l.x-s.x,n.y=l.y-s.y,o=-Cr.dot(i,n),o<r&&(u=l),[h,u]}})();var ia={},$0=ia;(function(){ia.create=function(e,t){var i=e.bodyA,r=e.bodyB,n={id:ia.id(i,r),bodyA:i,bodyB:r,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return ia.update(n,e,t),n},ia.update=function(e,t,i){if(e.collision=t,t.collided){var r=t.supports,n=e.activeContacts,a=t.parentA,s=t.parentB;e.inverseMass=a.inverseMass+s.inverseMass,e.friction=Math.min(a.friction,s.friction),e.frictionStatic=Math.max(a.frictionStatic,s.frictionStatic),e.restitution=Math.max(a.restitution,s.restitution),e.slop=Math.max(a.slop,s.slop);for(var o=0;o<r.length;o++)n[o]=r[o].contact;var l=r.length;l<n.length&&(n.length=l),e.separation=t.depth,ia.setActive(e,!0,i)}else e.isActive===!0&&ia.setActive(e,!1,i)},ia.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},ia.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}})();var fp={},GE=fp,LRe=NE,FRe=$0,nF=Vn;(function(){fp.collisions=function(e,t){for(var i=[],r=t.pairs.table,n=t.metrics,a=0;a<e.length;a++){var s=e[a][0],o=e[a][1];if(!((s.isStatic||s.isSleeping)&&(o.isStatic||o.isSleeping))&&fp.canCollide(s.collisionFilter,o.collisionFilter)&&(n.midphaseTests+=1,nF.overlaps(s.bounds,o.bounds)))for(var l=s.parts.length>1?1:0;l<s.parts.length;l++)for(var h=s.parts[l],u=o.parts.length>1?1:0;u<o.parts.length;u++){var f=o.parts[u];if(h===s&&f===o||nF.overlaps(h.bounds,f.bounds)){var c=FRe.id(h,f),v=r[c],p;v&&v.isActive?p=v.collision:p=null;var m=LRe.collides(h,f,p);n.narrowphaseTests+=1,m.reused&&(n.narrowReuseCount+=1),m.collided&&(i.push(m),n.narrowDetections+=1)}}}return i},fp.canCollide=function(e,t){return e.group===t.group&&e.group!==0?e.group>0:(e.mask&t.category)!==0&&(t.mask&e.category)!==0}})();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IRe=Vn,ORe=O,DRe=rl,BRe=Pc,NRe=GE,Xu=DE,aF=La,GRe=Uh,sF=Mc,kRe=oe,$Re=ar,zRe=new ORe({initialize:function(t,i,r){r===void 0&&(r={});var n={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},damping:0,length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=t,this.world=i,this.camera=null,this.pointer=null,this.active=!0,this.position=new kRe,this.body=null,this.part=null,this.constraint=BRe.create(GRe(r,n)),this.world.on(Xu.BEFORE_UPDATE,this.update,this),t.sys.input.on(aF.POINTER_DOWN,this.onDown,this)},onDown:function(e){this.pointer||this.getBody(e)&&(this.pointer=e,this.camera=e.camera)},getBody:function(e){var t=this.position,i=this.constraint;e.camera.getWorldPoint(e.x,e.y,t);for(var r=DRe.allBodies(this.world.localWorld),n=0;n<r.length;n++){var a=r[n];if(!a.ignorePointer&&IRe.contains(a.bounds,t)&&NRe.canCollide(a.collisionFilter,i.collisionFilter)&&this.hitTestBody(a,t))return this.world.emit(Xu.DRAG_START,this.body,this.part,this),!0}return!1},hitTestBody:function(e,t){for(var i=this.constraint,r=e.parts.length>1?1:0,n=r;n<e.parts.length;n++){var a=e.parts[n];if($Re.contains(a.vertices,t))return i.bodyB=e,i.pointA.x=t.x,i.pointA.y=t.y,i.pointB.x=t.x-e.position.x,i.pointB.y=t.y-e.position.y,i.angleB=e.angle,sF.set(e,!1),this.part=a,this.body=e,!0}return!1},update:function(){var e=this.body,t=this.pointer;if(!(!this.active||!t||!e))if(t.isDown){var i=this.position,r=this.constraint;this.camera.getWorldPoint(t.x,t.y,i),sF.set(e,!1),r.pointA.x=i.x,r.pointA.y=i.y,this.world.emit(Xu.DRAG,e,this)}else this.stopDrag()},stopDrag:function(){var e=this.body,t=this.constraint;e&&(this.world.emit(Xu.DRAG_END,e,this),this.pointer=null,this.body=null,this.part=null,t.bodyB=null)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(Xu.BEFORE_UPDATE,this.update),this.scene.sys.input.off(aF.POINTER_DOWN,this.onDown,this)}}),VRe=zRe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Ku=Da,Gx=Jt,URe=O,ms=C4,oF=Pc,WRe=cRe,lF=_4,YRe=A4,HRe=BE,XRe=VRe,KRe=ar,qRe=new URe({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(e,t,i,r,n){var a=Ku.rectangle(e,t,i,r,n);return this.world.add(a),a},trapezoid:function(e,t,i,r,n,a){var s=Ku.trapezoid(e,t,i,r,n,a);return this.world.add(s),s},circle:function(e,t,i,r,n){var a=Ku.circle(e,t,i,r,n);return this.world.add(a),a},polygon:function(e,t,i,r,n){var a=Ku.polygon(e,t,i,r,n);return this.world.add(a),a},fromVertices:function(e,t,i,r,n,a,s){typeof i=="string"&&(i=KRe.fromPath(i));var o=Ku.fromVertices(e,t,i,r,n,a,s);return this.world.add(o),o},imageStack:function(e,t,i,r,n,a,s,o,l){s===void 0&&(s=0),o===void 0&&(o=0),l===void 0&&(l={});var h=this.world,u=this.sys.displayList;l.addToWorld=!1;var f=ms.stack(i,r,n,a,s,o,function(c,v){var p=new lF(h,c,v,e,t,l);return u.add(p),p.body});return h.add(f),f},stack:function(e,t,i,r,n,a,s){var o=ms.stack(e,t,i,r,n,a,s);return this.world.add(o),o},pyramid:function(e,t,i,r,n,a,s){var o=ms.pyramid(e,t,i,r,n,a,s);return this.world.add(o),o},chain:function(e,t,i,r,n,a){return ms.chain(e,t,i,r,n,a)},mesh:function(e,t,i,r,n){return ms.mesh(e,t,i,r,n)},newtonsCradle:function(e,t,i,r,n){var a=ms.newtonsCradle(e,t,i,r,n);return this.world.add(a),a},car:function(e,t,i,r,n){var a=ms.car(e,t,i,r,n);return this.world.add(a),a},softBody:function(e,t,i,r,n,a,s,o,l,h){var u=ms.softBody(e,t,i,r,n,a,s,o,l,h);return this.world.add(u),u},joint:function(e,t,i,r,n){return this.constraint(e,t,i,r,n)},spring:function(e,t,i,r,n){return this.constraint(e,t,i,r,n)},constraint:function(e,t,i,r,n){r===void 0&&(r=1),n===void 0&&(n={}),n.bodyA=e.type==="body"?e:e.body,n.bodyB=t.type==="body"?t:t.body,isNaN(i)||(n.length=i),n.stiffness=r;var a=oF.create(n);return this.world.add(a),a},worldConstraint:function(e,t,i,r){i===void 0&&(i=1),r===void 0&&(r={}),r.bodyB=e.type==="body"?e:e.body,isNaN(t)||(r.length=t),r.stiffness=i;var n=oF.create(r);return this.world.add(n),n},mouseSpring:function(e){return this.pointerConstraint(e)},pointerConstraint:function(e){e===void 0&&(e={}),e.hasOwnProperty("render")||(e.render={visible:!1});var t=new XRe(this.scene,this.world,e);return this.world.add(t.constraint),t},image:function(e,t,i,r,n){var a=new lF(this.world,e,t,i,r,n);return this.sys.displayList.add(a),a},tileBody:function(e,t){var i=new HRe(this.world,e,t);return i},sprite:function(e,t,i,r,n){var a=new YRe(this.world,e,t,i,r,n);return this.sys.displayList.add(a),this.sys.updateList.add(a),a},gameObject:function(e,t){return WRe(this.world,e,t)},velocity:function(e,t){return Gx.setVelocity(e,t),e},angularVelocity:function(e,t){return Gx.setAngularVelocity(e,t),e},force:function(e,t,i){return Gx.applyForce(e,t,i),e},destroy:function(){this.world=null,this.scene=null,this.sys=null}}),w4=qRe,re={},kE=re,li=gt;(function(){re._registry={},re.register=function(e){if(re.isPlugin(e)||li.warn("Plugin.register:",re.toString(e),"does not implement all required fields."),e.name in re._registry){var t=re._registry[e.name],i=re.versionParse(e.version).number,r=re.versionParse(t.version).number;i>r?(li.warn("Plugin.register:",re.toString(t),"was upgraded to",re.toString(e)),re._registry[e.name]=e):i<r?li.warn("Plugin.register:",re.toString(t),"can not be downgraded to",re.toString(e)):e!==t&&li.warn("Plugin.register:",re.toString(e),"is already registered to different plugin object")}else re._registry[e.name]=e;return e},re.resolve=function(e){return re._registry[re.dependencyParse(e).name]},re.toString=function(e){return typeof e=="string"?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},re.isPlugin=function(e){return e&&e.name&&e.version&&e.install},re.isUsed=function(e,t){return e.used.indexOf(t)>-1},re.isFor=function(e,t){var i=e.for&&re.dependencyParse(e.for);return!e.for||t.name===i.name&&re.versionSatisfies(t.version,i.range)},re.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),e.uses.length===0){li.warn("Plugin.use:",re.toString(e),"does not specify any dependencies to install.");return}for(var i=re.dependencies(e),r=li.topologicalSort(i),n=[],a=0;a<r.length;a+=1)if(r[a]!==e.name){var s=re.resolve(r[a]);if(!s){n.push(" "+r[a]);continue}re.isUsed(e,s.name)||(re.isFor(s,e)||(li.warn("Plugin.use:",re.toString(s),"is for",s.for,"but installed on",re.toString(e)+"."),s._warned=!0),s.install?s.install(e):(li.warn("Plugin.use:",re.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push(" "+re.toString(s)),delete s._warned):n.push(" "+re.toString(s)),e.used.push(s.name))}n.length>0&&!s.silent&&li.info(n.join("  "))},re.dependencies=function(e,t){var i=re.dependencyParse(e),r=i.name;if(t=t||{},!(r in t)){e=re.resolve(e)||e,t[r]=li.map(e.uses||[],function(a){re.isPlugin(a)&&re.register(a);var s=re.dependencyParse(a),o=re.resolve(a);return o&&!re.versionSatisfies(o.version,s.range)?(li.warn("Plugin.dependencies:",re.toString(o),"does not satisfy",re.toString(s),"used by",re.toString(i)+"."),o._warned=!0,e._warned=!0):o||(li.warn("Plugin.dependencies:",re.toString(a),"used by",re.toString(i),"could not be resolved."),e._warned=!0),s.name});for(var n=0;n<t[r].length;n+=1)re.dependencies(t[r][n],t);return t}},re.dependencyParse=function(e){if(li.isString(e)){var t=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return t.test(e)||li.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}}return{name:e.name,range:e.range||e.version}},re.versionParse=function(e){var t=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;t.test(e)||li.warn("Plugin.versionParse:",e,"is not a valid version or range.");var i=e.split("-");e=i[0];var r=isNaN(Number(e[0])),n=r?e.substr(1):e,a=li.map(n.split("."),function(s){return Number(s)});return{isRange:r,version:n,range:e,operator:r?e[0]:"",parts:a,prerelease:i[1],number:a[0]*1e8+a[1]*1e4+a[2]}},re.versionSatisfies=function(e,t){t=t||"*";var i=re.versionParse(t),r=i.parts,n=re.versionParse(e),a=n.parts;if(i.isRange){if(i.operator==="*"||e==="*")return!0;if(i.operator==="~")return a[0]===r[0]&&a[1]===r[1]&&a[2]>=r[2];if(i.operator==="^")return r[0]>0?a[0]===r[0]&&n.number>=i.number:r[1]>0?a[1]===r[1]&&a[2]>=r[2]:a[2]===r[2]}return e===t||e==="*"}})();var jr={},M4=jr,JRe=kE,hF=gt;(function(){jr.name="matter-js",jr.version="0.14.2",jr.uses=[],jr.used=[],jr.use=function(){JRe.use(jr,Array.prototype.slice.call(arguments))},jr.before=function(e,t){return e=e.replace(/^Matter./,""),hF.chainPathBefore(jr,e,t)},jr.after=function(e,t){return e=e.replace(/^Matter./,""),hF.chainPathAfter(jr,e,t)}})();var b4={},$E=b4,ZRe=rl,QRe=gt;(function(){b4.create=function(e){var t=ZRe.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return QRe.extend(t,i,e)}})();var rt={},P4=rt,uF=$0,jRe=GE,kx=gt;(function(){rt.create=function(e){var t={controller:rt,detector:jRe.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return kx.extend(t,e)},rt.update=function(e,t,i,r){var n,a,s,o=i.world,l=e.buckets,h,u,f=!1,c=i.metrics;for(c.broadphaseTests=0,n=0;n<t.length;n++){var v=t[n];if(!(v.isSleeping&&!r)&&!(v.bounds.max.x<o.bounds.min.x||v.bounds.min.x>o.bounds.max.x||v.bounds.max.y<o.bounds.min.y||v.bounds.min.y>o.bounds.max.y)){var p=rt._getRegion(e,v);if(!v.region||p.id!==v.region.id||r){c.broadphaseTests+=1,(!v.region||r)&&(v.region=p);var m=rt._regionUnion(p,v.region);for(a=m.startCol;a<=m.endCol;a++)for(s=m.startRow;s<=m.endRow;s++){u=rt._getBucketId(a,s),h=l[u];var x=a>=p.startCol&&a<=p.endCol&&s>=p.startRow&&s<=p.endRow,g=a>=v.region.startCol&&a<=v.region.endCol&&s>=v.region.startRow&&s<=v.region.endRow;!x&&g&&g&&h&&rt._bucketRemoveBody(e,h,v),(v.region===p||x&&!g||r)&&(h||(h=rt._createBucket(l,u)),rt._bucketAddBody(e,h,v))}v.region=p,f=!0}}}f&&(e.pairsList=rt._createActivePairsList(e))},rt.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},rt._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),n=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return rt._createRegion(i,r,n,a)},rt._getRegion=function(e,t){var i=t.bounds,r=Math.floor(i.min.x/e.bucketWidth),n=Math.floor(i.max.x/e.bucketWidth),a=Math.floor(i.min.y/e.bucketHeight),s=Math.floor(i.max.y/e.bucketHeight);return rt._createRegion(r,n,a,s)},rt._createRegion=function(e,t,i,r){return{id:e+","+t+","+i+","+r,startCol:e,endCol:t,startRow:i,endRow:r}},rt._getBucketId=function(e,t){return"C"+e+"R"+t},rt._createBucket=function(e,t){var i=e[t]=[];return i},rt._bucketAddBody=function(e,t,i){for(var r=0;r<t.length;r++){var n=t[r];if(!(i.id===n.id||i.isStatic&&n.isStatic)){var a=uF.id(i,n),s=e.pairs[a];s?s[2]+=1:e.pairs[a]=[i,n,1]}}t.push(i)},rt._bucketRemoveBody=function(e,t,i){t.splice(kx.indexOf(t,i),1);for(var r=0;r<t.length;r++){var n=t[r],a=uF.id(i,n),s=e.pairs[a];s&&(s[2]-=1)}},rt._createActivePairsList=function(e){var t,i,r=[];t=kx.keys(e.pairs);for(var n=0;n<t.length;n++)i=e.pairs[t[n]],i[2]>0?r.push(i):delete e.pairs[t[n]];return r}})();var Mo={},R4=Mo,_v=$0,eLe=gt;(function(){Mo._pairMaxIdleLife=1e3,Mo.create=function(e){return eLe.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},Mo.update=function(e,t,i){var r=e.list,n=e.table,a=e.collisionStart,s=e.collisionEnd,o=e.collisionActive,l,h,u,f;for(a.length=0,s.length=0,o.length=0,f=0;f<r.length;f++)r[f].confirmedActive=!1;for(f=0;f<t.length;f++)l=t[f],l.collided&&(h=_v.id(l.bodyA,l.bodyB),u=n[h],u?(u.isActive?o.push(u):a.push(u),_v.update(u,l,i),u.confirmedActive=!0):(u=_v.create(l,i),n[h]=u,a.push(u),r.push(u)));for(f=0;f<r.length;f++)u=r[f],u.isActive&&!u.confirmedActive&&(_v.setActive(u,!1,i),s.push(u))},Mo.removeOld=function(e,t){var i=e.list,r=e.table,n=[],a,s,o,l;for(l=0;l<i.length;l++){if(a=i[l],s=a.collision,s.bodyA.isSleeping||s.bodyB.isSleeping){a.timeUpdated=t;continue}t-a.timeUpdated>Mo._pairMaxIdleLife&&n.push(l)}for(l=0;l<n.length;l++)o=n[l]-l,a=i[o],delete r[a.id],i.splice(o,1)},Mo.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}})();var jl={},tLe=jl,$x=fn,iLe=NE,qu=Vn,rLe=Da,nLe=ar;(function(){jl.collides=function(e,t){for(var i=[],r=0;r<t.length;r++){var n=t[r];if(qu.overlaps(n.bounds,e.bounds))for(var a=n.parts.length===1?0:1;a<n.parts.length;a++){var s=n.parts[a];if(qu.overlaps(s.bounds,e.bounds)){var o=iLe.collides(s,e);if(o.collided){i.push(o);break}}}}return i},jl.ray=function(e,t,i,r){r=r||1e-100;for(var n=$x.angle(t,i),a=$x.magnitude($x.sub(t,i)),s=(i.x+t.x)*.5,o=(i.y+t.y)*.5,l=rLe.rectangle(s,o,a,r,{angle:n}),h=jl.collides(l,e),u=0;u<h.length;u+=1){var f=h[u];f.body=f.bodyB=f.bodyA}return h},jl.region=function(e,t,i){for(var r=[],n=0;n<e.length;n++){var a=e[n],s=qu.overlaps(a.bounds,t);(s&&!i||!s&&i)&&r.push(a)}return r},jl.point=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r];if(qu.contains(n.bounds,t))for(var a=n.parts.length===1?0:1;a<n.parts.length;a++){var s=n.parts[a];if(qu.contains(s.bounds,t)&&nLe.contains(s.vertices,t)){i.push(n);break}}}return i}})();var Yt={},L4=Yt,aLe=ar,Fe=fn,Av=gt,sLe=Vn;(function(){Yt._restingThresh=4,Yt._restingThreshTangent=6,Yt._positionDampen=.9,Yt._positionWarming=.8,Yt._frictionNormalMultiplier=5,Yt.preSolvePosition=function(e){var t,i,r;for(t=0;t<e.length;t++)i=e[t],i.isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},Yt.solvePosition=function(e,t,i){var r,n,a,s,o,l,h,u,f,c,v,p,m,x,g,T,S=i*Yt._positionDampen;for(r=0;r<t.length;r++){var E=t[r];E.previousPositionImpulse.x=E.positionImpulse.x,E.previousPositionImpulse.y=E.positionImpulse.y}for(r=0;r<e.length;r++)s=e[r],!(!s.isActive||s.isSensor)&&(o=s.collision,l=o.parentA,h=o.parentB,u=o.normal,v=l.previousPositionImpulse,p=h.previousPositionImpulse,c=o.penetration,x=p.x-v.x+c.x,g=p.y-v.y+c.y,n=u.x,a=u.y,f=n*x+a*g,s.separation=f,T=(f-s.slop)*S,(l.isStatic||h.isStatic)&&(T*=2),l.isStatic||l.isSleeping||(m=T/l.totalContacts,l.positionImpulse.x+=n*m,l.positionImpulse.y+=a*m),h.isStatic||h.isSleeping||(m=T/h.totalContacts,h.positionImpulse.x-=n*m,h.positionImpulse.y-=a*m))},Yt.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.totalContacts=0,i.positionImpulse.x!==0||i.positionImpulse.y!==0){for(var r=0;r<i.parts.length;r++){var n=i.parts[r];aLe.translate(n.vertices,i.positionImpulse),sLe.update(n.bounds,n.vertices,i.velocity),n.position.x+=i.positionImpulse.x,n.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,Fe.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=Yt._positionWarming,i.positionImpulse.y*=Yt._positionWarming)}}},Yt.preSolveVelocity=function(e){var t,i,r,n,a,s,o,l,h,u,f,c,v,p,m=Fe._temp[0],x=Fe._temp[1];for(t=0;t<e.length;t++)if(r=e[t],!(!r.isActive||r.isSensor))for(n=r.activeContacts,a=r.collision,s=a.parentA,o=a.parentB,l=a.normal,h=a.tangent,i=0;i<n.length;i++)u=n[i],f=u.vertex,c=u.normalImpulse,v=u.tangentImpulse,(c!==0||v!==0)&&(m.x=l.x*c+h.x*v,m.y=l.y*c+h.y*v,s.isStatic||s.isSleeping||(p=Fe.sub(f,s.position,x),s.positionPrev.x+=m.x*s.inverseMass,s.positionPrev.y+=m.y*s.inverseMass,s.anglePrev+=Fe.cross(p,m)*s.inverseInertia),o.isStatic||o.isSleeping||(p=Fe.sub(f,o.position,x),o.positionPrev.x-=m.x*o.inverseMass,o.positionPrev.y-=m.y*o.inverseMass,o.anglePrev-=Fe.cross(p,m)*o.inverseInertia))},Yt.solveVelocity=function(e,t){for(var i=t*t,r=Fe._temp[0],n=Fe._temp[1],a=Fe._temp[2],s=Fe._temp[3],o=Fe._temp[4],l=Fe._temp[5],h=0;h<e.length;h++){var u=e[h];if(!(!u.isActive||u.isSensor)){var f=u.collision,c=f.parentA,v=f.parentB,p=f.normal,m=f.tangent,x=u.activeContacts,g=1/x.length;c.velocity.x=c.position.x-c.positionPrev.x,c.velocity.y=c.position.y-c.positionPrev.y,v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,c.angularVelocity=c.angle-c.anglePrev,v.angularVelocity=v.angle-v.anglePrev;for(var T=0;T<x.length;T++){var S=x[T],E=S.vertex,_=Fe.sub(E,c.position,n),w=Fe.sub(E,v.position,a),R=Fe.add(c.velocity,Fe.mult(Fe.perp(_),c.angularVelocity),s),F=Fe.add(v.velocity,Fe.mult(Fe.perp(w),v.angularVelocity),o),k=Fe.sub(R,F,l),B=Fe.dot(p,k),N=Fe.dot(m,k),d=Math.abs(N),y=Av.sign(N),C=(1+u.restitution)*B,M=Av.clamp(u.separation+B,0,1)*Yt._frictionNormalMultiplier,A=N,L=1/0;d>u.friction*u.frictionStatic*M*i&&(L=d,A=Av.clamp(u.friction*y*i,-L,L));var P=Fe.cross(_,p),b=Fe.cross(w,p),I=g/(c.inverseMass+v.inverseMass+c.inverseInertia*P*P+v.inverseInertia*b*b);if(C*=I,A*=I,B<0&&B*B>Yt._restingThresh*i)S.normalImpulse=0;else{var D=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+C,0),C=S.normalImpulse-D}if(N*N>Yt._restingThreshTangent*i)S.tangentImpulse=0;else{var G=S.tangentImpulse;S.tangentImpulse=Av.clamp(S.tangentImpulse+A,-L,L),A=S.tangentImpulse-G}r.x=p.x*C+m.x*A,r.y=p.y*C+m.y*A,c.isStatic||c.isSleeping||(c.positionPrev.x+=r.x*c.inverseMass,c.positionPrev.y+=r.y*c.inverseMass,c.anglePrev+=Fe.cross(_,r)*c.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=r.x*v.inverseMass,v.positionPrev.y-=r.y*v.inverseMass,v.anglePrev-=Fe.cross(w,r)*v.inverseInertia)}}}}})();var cp={},oLe=cp,lLe=rl,hLe=gt;(function(){cp.create=function(e){var t={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return hLe.extend(t,!1,e)},cp.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},cp.update=function(e,t){if(e.extended){var i=t.world,r=lLe.allBodies(i);e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=r.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(r.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}})();var wr={},F4=wr,uLe=$E,zx=Mc,Ju=L4,wv=R4,Vx=oLe,fLe=P4,Zu=Zh,Qu=rl,Kl=Pc,So=gt,cLe=Jt;(function(){wr.create=function(e,t){t=So.isElement(e)?t:e,e=So.isElement(e)?e:null,t=t||{},(e||t.render)&&So.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:fLe}},r=So.extend(i,t);if(e||r.render){var n={element:e,controller:Render};r.render=So.extend(n,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=t.world||uLe.create(r.world),r.pairs=wv.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=Vx.create(r.metrics),r},wr.update=function(e,t,i){t=t||1e3/60,i=i||1;var r=e.world,n=e.timing,a=e.broadphase,s=[],o;n.timestamp+=t*n.timeScale;var l={timestamp:n.timestamp};Zu.trigger(e,"beforeUpdate",l);var h=Qu.allBodies(r),u=Qu.allConstraints(r);for(Vx.reset(e.metrics),e.enableSleeping&&zx.update(h,n.timeScale),wr._bodiesApplyGravity(h,r.gravity),wr._bodiesUpdate(h,t,n.timeScale,i,r.bounds),Kl.preSolveAll(h),o=0;o<e.constraintIterations;o++)Kl.solveAll(u,n.timeScale);Kl.postSolveAll(h),a.controller?(r.isModified&&a.controller.clear(a),a.controller.update(a,h,e,r.isModified),s=a.pairsList):s=h,r.isModified&&Qu.setModified(r,!1,!1,!0);var f=a.detector(s,e),c=e.pairs,v=n.timestamp;for(wv.update(c,f,v),wv.removeOld(c,v),e.enableSleeping&&zx.afterCollisions(c.list,n.timeScale),c.collisionStart.length>0&&Zu.trigger(e,"collisionStart",{pairs:c.collisionStart}),Ju.preSolvePosition(c.list),o=0;o<e.positionIterations;o++)Ju.solvePosition(c.list,h,n.timeScale);for(Ju.postSolvePosition(h),Kl.preSolveAll(h),o=0;o<e.constraintIterations;o++)Kl.solveAll(u,n.timeScale);for(Kl.postSolveAll(h),Ju.preSolveVelocity(c.list),o=0;o<e.velocityIterations;o++)Ju.solveVelocity(c.list,n.timeScale);return c.collisionActive.length>0&&Zu.trigger(e,"collisionActive",{pairs:c.collisionActive}),c.collisionEnd.length>0&&Zu.trigger(e,"collisionEnd",{pairs:c.collisionEnd}),Vx.update(e.metrics,e),wr._bodiesClearForces(h),Zu.trigger(e,"afterUpdate",l),e},wr.merge=function(e,t){if(So.extend(e,t),t.world){e.world=t.world,wr.clear(e);for(var i=Qu.allBodies(e.world),r=0;r<i.length;r++){var n=i[r];zx.set(n,!1),n.id=So.nextId()}}},wr.clear=function(e){var t=e.world;wv.clear(e.pairs);var i=e.broadphase;if(i.controller){var r=Qu.allBodies(t);i.controller.clear(i),i.controller.update(i,r,e,!0)}},wr._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.force.x=0,i.force.y=0,i.torque=0}},wr._bodiesApplyGravity=function(e,t){var i=typeof t.scale<"u"?t.scale:.001;if(!(t.x===0&&t.y===0||i===0))for(var r=0;r<e.length;r++){var n=e[r];n.ignoreGravity||n.isStatic||n.isSleeping||(n.force.y+=n.mass*t.y*i,n.force.x+=n.mass*t.x*i)}},wr._bodiesUpdate=function(e,t,i,r,n){for(var a=0;a<e.length;a++){var s=e[a];s.isStatic||s.isSleeping||cLe.update(s,t,i,r)}}})();var dp={},dLe=dp,vLe=gt;(function(){dp.pathToVertices=function(e,t){typeof window<"u"&&!("SVGPathSeg"in window)&&vLe.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,n,a,s,o,l,h,u,f,c=[],v,p,m=0,x=0,g=0;t=t||15;var T=function(E,_,w){var R=w%2===1&&w>1;if(!u||E!=u.x||_!=u.y){u&&R?(v=u.x,p=u.y):(v=0,p=0);var F={x:v+E,y:p+_};(R||!u)&&(u=F),c.push(F),x=v+E,g=p+_}},S=function(E){var _=E.pathSegTypeAsLetter.toUpperCase();if(_!=="Z"){switch(_){case"M":case"L":case"T":case"C":case"S":case"Q":x=E.x,g=E.y;break;case"H":x=E.x;break;case"V":g=E.y;break}T(x,g,E.pathSegType)}};for(dp._svgPathToAbsolute(e),n=e.getTotalLength(),o=[],i=0;i<e.pathSegList.numberOfItems;i+=1)o.push(e.pathSegList.getItem(i));for(l=o.concat();m<n;){if(f=e.getPathSegAtLength(m),s=o[f],s!=h){for(;l.length&&l[0]!=s;)S(l.shift());h=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(m),T(a.x,a.y,0);break}m+=t}for(i=0,r=l.length;i<r;++i)S(l[i]);return c},dp._svgPathToAbsolute=function(e){for(var t,i,r,n,a,s,o=e.pathSegList,l=0,h=0,u=o.numberOfItems,f=0;f<u;++f){var c=o.getItem(f),v=c.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(v))"x"in c&&(l=c.x),"y"in c&&(h=c.y);else switch("x1"in c&&(r=l+c.x1),"x2"in c&&(a=l+c.x2),"y1"in c&&(n=h+c.y1),"y2"in c&&(s=h+c.y2),"x"in c&&(l+=c.x),"y"in c&&(h+=c.y),v){case"m":o.replaceItem(e.createSVGPathSegMovetoAbs(l,h),f);break;case"l":o.replaceItem(e.createSVGPathSegLinetoAbs(l,h),f);break;case"h":o.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),f);break;case"v":o.replaceItem(e.createSVGPathSegLinetoVerticalAbs(h),f);break;case"c":o.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,h,r,n,a,s),f);break;case"s":o.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,h,a,s),f);break;case"q":o.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,h,r,n),f);break;case"t":o.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),f);break;case"a":o.replaceItem(e.createSVGPathSegArcAbs(l,h,c.r1,c.r2,c.angle,c.largeArcFlag,c.sweepFlag),f);break;case"z":case"Z":l=t,h=i;break}(v=="M"||v=="m")&&(t=l,i=h)}}})();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var pe=M4;pe.Body=Jt;pe.Composite=rl;pe.World=$E;pe.Detector=GE;pe.Grid=P4;pe.Pairs=R4;pe.Pair=$0;pe.Query=tLe;pe.Resolver=L4;pe.SAT=NE;pe.Constraint=Pc;pe.Common=gt;pe.Engine=F4;pe.Events=Zh;pe.Sleeping=Mc;pe.Plugin=kE;pe.Bodies=Da;pe.Composites=C4;pe.Axes=OE;pe.Bounds=Vn;pe.Svg=dLe;pe.Vector=fn;pe.Vertices=ar;pe.World.add=pe.Composite.add;pe.World.remove=pe.Composite.remove;pe.World.addComposite=pe.Composite.addComposite;pe.World.addBody=pe.Composite.addBody;pe.World.addConstraint=pe.Composite.addConstraint;pe.World.clear=pe.Composite.clear;var zE=pe,An=zE,vp={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.13.1",silent:!0,install:function(e){e.after("Body.create",function(){vp.Body.init(this)}),e.before("Engine.update",function(t){vp.Engine.update(t)})},Body:{init:function(e){e.plugin.attractors=e.plugin.attractors||[]}},Engine:{update:function(e){for(var t=e.world,i=An.Composite.allBodies(t),r=0;r<i.length;r+=1){var n=i[r],a=n.plugin.attractors;if(a&&a.length>0)for(var s=r+1;s<i.length;s+=1)for(var o=i[s],l=0;l<a.length;l+=1){var h=a[l],u=h;An.Common.isFunction(h)&&(u=h(n,o)),u&&An.Body.applyForce(o,o.position,u)}}}},Attractors:{gravityConstant:.001,gravity:function(e,t){var i=An.Vector.sub(t.position,e.position),r=An.Vector.magnitudeSquared(i)||1e-4,n=An.Vector.normalise(i),a=-vp.Attractors.gravityConstant*(e.mass*t.mass/r),s=An.Vector.mult(n,a);An.Body.applyForce(e,e.position,An.Vector.neg(s)),An.Body.applyForce(t,t.position,s)}}},pLe=vp,ql=zE,bo={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.13.1",silent:!0,install:function(e){e.after("Engine.update",function(){bo.Engine.update(this)})},Engine:{update:function(e){for(var t=e.world,i=ql.Composite.allBodies(t),r=ql.Composite.allComposites(t),n=0;n<i.length;n+=1){var a=i[n];a.plugin.wrap&&bo.Body.wrap(a,a.plugin.wrap)}for(n=0;n<r.length;n+=1){var s=r[n];s.plugin.wrap&&bo.Composite.wrap(s,s.plugin.wrap)}}},Bounds:{wrap:function(e,t){var i=null,r=null;if(typeof t.min.x<"u"&&typeof t.max.x<"u"&&(e.min.x>t.max.x?i=t.min.x-e.max.x:e.max.x<t.min.x&&(i=t.max.x-e.min.x)),typeof t.min.y<"u"&&typeof t.max.y<"u"&&(e.min.y>t.max.y?r=t.min.y-e.max.y:e.max.y<t.min.y&&(r=t.max.y-e.min.y)),i!==null||r!==null)return{x:i||0,y:r||0}}},Body:{wrap:function(e,t){var i=bo.Bounds.wrap(e.bounds,t);return i&&ql.Body.translate(e,i),i}},Composite:{bounds:function(e){for(var t=ql.Composite.allBodies(e),i=[],r=0;r<t.length;r+=1){var n=t[r];i.push(n.bounds.min,n.bounds.max)}return ql.Bounds.create(i)},wrap:function(e,t){var i=bo.Bounds.wrap(bo.Composite.bounds(e),t);return i&&ql.Composite.translate(e,i),i}}},mLe=bo;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gLe=Da,Ux=Jt,xLe=O,Wx=gt,Mv=rl,bv=F4,fF=Me,Co=DE,He=Y,Jl=me,cF=Jt,Zl=Zh,yLe=BE,ju=$E,ef=fn,TLe=new xLe({Extends:fF,initialize:function(t,i){fF.call(this),this.scene=t,this.engine=bv.create(i),this.localWorld=this.engine.world;var r=Jl(i,"gravity",null);if(r&&this.setGravity(r.x,r.y,r.scale),this.walls={left:null,right:null,top:null,bottom:null},He(i,"setBounds",!1)){var n=i.setBounds;if(typeof n=="boolean")this.setBounds();else{var a=He(n,"x",0),s=He(n,"y",0),o=He(n,"width",t.sys.scale.width),l=He(n,"height",t.sys.scale.height),h=He(n,"thickness",64),u=He(n,"left",!0),f=He(n,"right",!0),c=He(n,"top",!0),v=He(n,"bottom",!0);this.setBounds(a,s,o,l,h,u,f,c,v)}}this.enabled=Jl(i,"enabled",!0),this.correction=Jl(i,"correction",1),this.getDelta=Jl(i,"getDelta",this.update60Hz),this.autoUpdate=Jl(i,"autoUpdate",!0),this.drawDebug=Jl(i,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:He(i,"debugShowBody",!0),debugShowStaticBody:He(i,"debugShowStaticBody",!0),debugShowVelocity:He(i,"debugShowVelocity",!0),bodyDebugColor:He(i,"debugBodyColor",16711935),bodyDebugFillColor:He(i,"debugBodyFillColor",14919651),staticBodyDebugColor:He(i,"debugStaticBodyColor",255),velocityDebugColor:He(i,"debugVelocityColor",65280),debugShowJoint:He(i,"debugShowJoint",!0),jointDebugColor:He(i,"debugJointColor",0),debugWireframes:He(i,"debugWireframes",!0),debugShowInternalEdges:He(i,"debugShowInternalEdges",!1),debugShowConvexHulls:He(i,"debugShowConvexHulls",!1),debugConvexHullColor:He(i,"debugConvexHullColor",11184810),debugShowSleeping:He(i,"debugShowSleeping",!1)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy()},setEventsProxy:function(){var e=this,t=this.engine;Zl.on(t,"beforeUpdate",function(i){e.emit(Co.BEFORE_UPDATE,i)}),Zl.on(t,"afterUpdate",function(i){e.emit(Co.AFTER_UPDATE,i)}),Zl.on(t,"collisionStart",function(i){var r=i.pairs,n,a;r.length>0&&(n=r[0].bodyA,a=r[0].bodyB),e.emit(Co.COLLISION_START,i,n,a)}),Zl.on(t,"collisionActive",function(i){var r=i.pairs,n,a;r.length>0&&(n=r[0].bodyA,a=r[0].bodyB),e.emit(Co.COLLISION_ACTIVE,i,n,a)}),Zl.on(t,"collisionEnd",function(i){var r=i.pairs,n,a;r.length>0&&(n=r[0].bodyA,a=r[0].bodyB),e.emit(Co.COLLISION_END,i,n,a)})},setBounds:function(e,t,i,r,n,a,s,o,l){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=this.scene.sys.scale.width),r===void 0&&(r=this.scene.sys.scale.height),n===void 0&&(n=128),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),this.updateWall(a,"left",e-n,t-n,n,r+n*2),this.updateWall(s,"right",e+i,t-n,n,r+n*2),this.updateWall(o,"top",e,t-n,i,n),this.updateWall(l,"bottom",e,t+r,i,n),this},updateWall:function(e,t,i,r,n,a){var s=this.walls[t];e?(s&&ju.remove(this.localWorld,s),i+=n/2,r+=a/2,this.walls[t]=this.create(i,r,n,a,{isStatic:!0,friction:0,frictionStatic:0})):(s&&ju.remove(this.localWorld,s),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=1),this.localWorld.gravity.x=e,this.localWorld.gravity.y=t,i!==void 0&&(this.localWorld.gravity.scale=i),this},create:function(e,t,i,r,n){var a=gLe.rectangle(e,t,i,r,n);return ju.add(this.localWorld,a),a},add:function(e){return ju.add(this.localWorld,e),this},remove:function(e,t){var i=e.body?e.body:e;return Mv.remove(this.localWorld,i,t),this},removeConstraint:function(e,t){return Mv.remove(this.localWorld,e,t),this},convertTilemapLayer:function(e,t){var i=e.layer,r=e.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(r,t),this},convertTiles:function(e,t){if(e.length===0)return this;for(var i=0;i<e.length;i++)new yLe(this,e[i],t);return this},nextGroup:function(e){return cF.nextGroup(e)},nextCategory:function(){return cF.nextCategory()},pause:function(){return this.enabled=!1,this.emit(Co.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(Co.RESUME),this},update:function(e,t){this.enabled&&this.autoUpdate&&bv.update(this.engine,this.getDelta(e,t),this.correction)},step:function(e,t){bv.update(this.engine,e,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},postUpdate:function(){if(this.drawDebug){this.debugGraphic.clear();var e=Mv.allBodies(this.localWorld);this.defaults.debugWireframes?(this.defaults.debugShowConvexHulls&&this.renderConvexHulls(e),this.renderWireframes(e)):this.renderBodies(e),this.defaults.debugShowJoint&&this.renderJoints()}},renderConvexHulls:function(e){var t=this.debugGraphic;t.lineStyle(1,this.defaults.debugConvexHullColor),t.beginPath();for(var i=0;i<e.length;i++){var r=e[i];if(!(!r.render.visible||r.parts.length===1)){t.moveTo(r.vertices[0].x,r.vertices[0].y);for(var n=1;n<r.vertices.length;n++)t.lineTo(r.vertices[n].x,r.vertices[n].y);t.lineTo(r.vertices[0].x,r.vertices[0].y)}}t.strokePath()},renderWireframes:function(e){var t=this.debugGraphic,i=this.defaults.debugShowInternalEdges;t.lineStyle(1,this.defaults.bodyDebugColor),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];if(n.render.visible)for(var a=n.parts.length>1?1:0;a<n.parts.length;a++){var s=n.parts[a],o=s.vertices.length;t.moveTo(s.vertices[0].x,s.vertices[0].y);for(var l=1;l<o;l++)!s.vertices[l-1].isInternal||i?t.lineTo(s.vertices[l].x,s.vertices[l].y):t.moveTo(s.vertices[l].x,s.vertices[l].y),s.vertices[l].isInternal&&!i&&t.moveTo(s.vertices[(l+1)%o].x,s.vertices[(l+1)%o].y);t.lineTo(s.vertices[0].x,s.vertices[0].y)}}t.strokePath()},renderBodies:function(e){var t=this.debugGraphic,i=this.defaults.debugShowInternalEdges||!this.defaults.debugWireframes,r=this.defaults.debugShowSleeping,n=this.defaults.debugWireframes,a,s,o,l;for(o=0;o<e.length;o++)if(a=e[o],!!a.render.visible){for(l=a.parts.length>1?1:0;l<a.parts.length;l++)if(s=a.parts[l],!!s.render.visible){if(r&&a.isSleeping?(t.lineStyle(1,this.defaults.bodyDebugColor,.5*s.render.opacity),t.fillStyle(this.defaults.bodyDebugColor,.5*s.render.opacity)):(t.lineStyle(1,this.defaults.bodyDebugColor,s.render.opacity),t.fillStyle(this.defaults.bodyDebugColor,s.render.opacity)),s.circleRadius)t.beginPath(),t.arc(s.position.x,s.position.y,s.circleRadius,0,2*Math.PI);else{t.beginPath(),t.moveTo(s.vertices[0].x,s.vertices[0].y);for(var h=s.vertices.length,u=1;u<h;u++)!s.vertices[u-1].isInternal||i?t.lineTo(s.vertices[u].x,s.vertices[u].y):t.moveTo(s.vertices[u].x,s.vertices[u].y),s.vertices[u].isInternal&&!i&&t.moveTo(s.vertices[(u+1)%s.vertices.length].x,s.vertices[(u+1)%s.vertices.length].y);t.lineTo(s.vertices[0].x,s.vertices[0].y),t.closePath()}n?t.strokePath():t.fillPath()}}},renderJoints:function(){var e=this.debugGraphic;e.lineStyle(2,this.defaults.jointDebugColor);for(var t=Mv.allConstraints(this.localWorld),i=0;i<t.length;i++){var r=t[i];if(!(!r.render.visible||!r.pointA||!r.pointB)){r.render.lineWidth&&e.lineStyle(r.render.lineWidth,Wx.colorToNumber(r.render.strokeStyle));var n=r.bodyA,a=r.bodyB,s,o;if(n?s=ef.add(n.position,r.pointA):s=r.pointA,r.render.type==="pin")e.beginPath(),e.arc(s.x,s.y,3,0,2*Math.PI),e.closePath();else{if(a?o=ef.add(a.position,r.pointB):o=r.pointB,e.beginPath(),e.moveTo(s.x,s.y),r.render.type==="spring")for(var l=ef.sub(o,s),h=ef.perp(ef.normalise(l)),u=Math.ceil(Wx.clamp(r.length/5,12,20)),f,c=1;c<u;c+=1)f=c%2===0?1:-1,e.lineTo(s.x+l.x*(c/u)+h.x*f*4,s.y+l.y*(c/u)+h.y*f*4);e.lineTo(o.x,o.y)}r.render.lineWidth&&e.strokePath(),r.render.anchors&&(e.fillStyle(Wx.colorToNumber(r.render.strokeStyle)),e.beginPath(),e.arc(s.x,s.y,6,0,2*Math.PI),e.arc(o.x,o.y,6,0,2*Math.PI),e.closePath(),e.fillPath())}}},fromPath:function(e,t){t===void 0&&(t=[]);var i=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/ig;return e.replace(i,function(r,n,a){t.push({x:parseFloat(n),y:parseFloat(a)})}),t},resetCollisionIDs:function(){return Ux._nextCollidingGroupId=1,Ux._nextNonCollidingGroupId=-1,Ux._nextCategory=1,this},shutdown:function(){Zl.off(this.engine),this.removeAllListeners(),ju.clear(this.localWorld,!1),bv.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}}),I4=TLe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SLe=Jt,CLe=Da,ELe=O,dF=w4,vF=Y,pF=me,Pv=pLe,Rv=M4,Lv=mLe,_Le=Uh,gs=kE,ALe=mt,wn=wt,mF=I4,wLe=ar,O4=new ELe({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.verts=wLe,this.body=SLe,this.bodies=CLe,pF(this.config,"plugins.attractors",!1)&&(gs.register(Pv),gs.use(Rv,Pv)),pF(this.config,"plugins.wrap",!1)&&(gs.register(Lv),gs.use(Rv,Lv)),t.sys.events.once(wn.BOOT,this.boot,this),t.sys.events.on(wn.START,this.start,this)},boot:function(){this.world=new mF(this.scene,this.config),this.add=new dF(this.world),this.systems.events.once(wn.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new mF(this.scene,this.config),this.add=new dF(this.world));var e=this.systems.events;e.on(wn.UPDATE,this.world.update,this.world),e.on(wn.POST_UPDATE,this.world.postUpdate,this.world),e.once(wn.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics,i=_Le(vF(t,"matter",{}),vF(e,"matter",{}));return i},enableAttractorPlugin:function(){return gs.register(Pv),gs.use(Rv,Pv),this},enableWrapPlugin:function(){return gs.register(Lv),gs.use(Rv,Lv),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(e,t){this.world.step(e,t)},shutdown:function(){var e=this.systems.events;this.world&&(e.off(wn.UPDATE,this.world.update,this.world),e.off(wn.POST_UPDATE,this.world.postUpdate,this.world)),e.off(wn.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(wn.START,this.start,this),this.scene=null,this.systems=null}});ALe.register("MatterPhysics",O4,"matterPhysics");var MLe=O4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bLe={Factory:w4,Image:_4,Matter:zE,MatterPhysics:MLe,PolyDecomp:x4,Sprite:A4,TileBody:BE,PhysicsEditorParser:E4,World:I4};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PLe={Arcade:Obe,Impact:HPe,Matter:bLe};/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2019 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var RLe=O,LLe=new RLe({initialize:function(t){this.pluginManager=t,this.game=t.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}}),D4=LLe;/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2019 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var gF=D4,FLe=O,ILe=wt,OLe=new FLe({Extends:gF,initialize:function(t,i){gF.call(this,i),this.scene=t,this.systems=t.sys,t.sys.events.once(ILe.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}}),DLe=OLe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BLe={BasePlugin:D4,DefaultPlugins:DC,PluginCache:mt,PluginManager:oN,ScenePlugin:DLe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NLe={CanvasRenderer:y3,GetBlendModes:x3,SetTransform:Pi};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GLe={Canvas:g3,WebGL:T3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kLe={BitmapMaskPipeline:S3,ForwardDiffuseLightPipeline:M3,TextureTintPipeline:GC,ModelViewProjection:A3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $Le={Utils:Be,WebGLPipeline:BC,WebGLRenderer:b3,Pipelines:kLe,BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zLe={Canvas:NLe,Snapshot:GLe,WebGL:$Le};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var z0=pt,V0=zC,pa={Center:K3,Events:gc,Orientation:q3,ScaleManager:hN,ScaleModes:J3,Zoom:Z3};pa=z0(!1,pa,V0.CENTER);pa=z0(!1,pa,V0.ORIENTATION);pa=z0(!1,pa,V0.SCALE_MODE);pa=z0(!1,pa,V0.ZOOM);var VLe=pa;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ULe=$t,WLe=O,Er=wt,Mn=Y,YLe=mt,B4=new WLe({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once(Er.BOOT,this.boot,this),t.sys.events.on(Er.START,this.pluginStart,this)},boot:function(){this.systems.events.once(Er.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(Er.SHUTDOWN,this.shutdown,this)},start:function(e,t){return e===void 0&&(e=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",e,t),this},restart:function(e){var t=this.key;return this.manager.queueOp("stop",t),this.manager.queueOp("start",t,e),this},transition:function(e){e===void 0&&(e={});var t=Mn(e,"target",!1),i=this.manager.getScene(t);if(!t||!this.checkValidTransition(i))return!1;var r=Mn(e,"duration",1e3);this._elapsed=0,this._target=i,this._duration=r,this._willSleep=Mn(e,"sleep",!1),this._willRemove=Mn(e,"remove",!1);var n=Mn(e,"onUpdate",null);n&&(this._onUpdate=n,this._onUpdateScope=Mn(e,"onUpdateScope",this.scene));var a=Mn(e,"allowInput",!1);this.settings.transitionAllowInput=a;var s=i.sys.settings;return s.isTransition=!0,s.transitionFrom=this.scene,s.transitionDuration=r,s.transitionAllowInput=a,Mn(e,"moveAbove",!1)?this.manager.moveAbove(this.key,t):Mn(e,"moveBelow",!1)&&this.manager.moveBelow(this.key,t),i.sys.isSleeping()?i.sys.wake():this.manager.start(t,Mn(e,"data")),this.systems.events.emit(Er.TRANSITION_OUT,i,r),this.systems.events.on(Er.UPDATE,this.step,this),!0},checkValidTransition:function(e){return!(!e||e.sys.isActive()||e.sys.isTransitioning()||e===this.scene||this.systems.isTransitioning())},step:function(e,t){this._elapsed+=t,this.transitionProgress=ULe(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var e=this._target.sys,t=this._target.sys.settings;this.systems.events.off(Er.UPDATE,this.step,this),e.events.emit(Er.TRANSITION_COMPLETE,this.scene),t.isTransition=!1,t.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(e,t,i,r){return this.manager.add(e,t,i,r)},launch:function(e,t){return e&&e!==this.key&&this.manager.queueOp("start",e,t),this},run:function(e,t){return e&&e!==this.key&&this.manager.queueOp("run",e,t),this},pause:function(e,t){return e===void 0&&(e=this.key),this.manager.queueOp("pause",e,t),this},resume:function(e,t){return e===void 0&&(e=this.key),this.manager.queueOp("resume",e,t),this},sleep:function(e,t){return e===void 0&&(e=this.key),this.manager.queueOp("sleep",e,t),this},wake:function(e,t){return e===void 0&&(e=this.key),this.manager.queueOp("wake",e,t),this},switch:function(e){return e!==this.key&&this.manager.queueOp("switch",this.key,e),this},stop:function(e,t){return e===void 0&&(e=this.key),this.manager.queueOp("stop",e,t),this},setActive:function(e,t,i){t===void 0&&(t=this.key);var r=this.manager.getScene(t);return r&&r.sys.setActive(e,i),this},setVisible:function(e,t){t===void 0&&(t=this.key);var i=this.manager.getScene(t);return i&&i.sys.setVisible(e),this},isSleeping:function(e){return e===void 0&&(e=this.key),this.manager.isSleeping(e)},isActive:function(e){return e===void 0&&(e=this.key),this.manager.isActive(e)},isPaused:function(e){return e===void 0&&(e=this.key),this.manager.isPaused(e)},isVisible:function(e){return e===void 0&&(e=this.key),this.manager.isVisible(e)},swapPosition:function(e,t){return t===void 0&&(t=this.key),e!==t&&this.manager.swapPosition(e,t),this},moveAbove:function(e,t){return t===void 0&&(t=this.key),e!==t&&this.manager.moveAbove(e,t),this},moveBelow:function(e,t){return t===void 0&&(t=this.key),e!==t&&this.manager.moveBelow(e,t),this},remove:function(e){return e===void 0&&(e=this.key),this.manager.remove(e),this},moveUp:function(e){return e===void 0&&(e=this.key),this.manager.moveUp(e),this},moveDown:function(e){return e===void 0&&(e=this.key),this.manager.moveDown(e),this},bringToTop:function(e){return e===void 0&&(e=this.key),this.manager.bringToTop(e),this},sendToBack:function(e){return e===void 0&&(e=this.key),this.manager.sendToBack(e),this},get:function(e){return this.manager.getScene(e)},getIndex:function(e){return e===void 0&&(e=this.key),this.manager.getIndex(e)},shutdown:function(){var e=this.systems.events;e.off(Er.SHUTDOWN,this.shutdown,this),e.off(Er.POST_UPDATE,this.step,this),e.off(Er.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(Er.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});YLe.register("ScenePlugin",B4,"scenePlugin");var HLe=B4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XLe=A0,KLe=pt,JT={Events:wt,SceneManager:cN,ScenePlugin:HLe,Settings:uN,Systems:HC};JT=KLe(!1,JT,XLe);var qLe=JT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var JLe={List:R0,Map:xC,ProcessQueue:ZC,RTree:a4,Set:Wh,Size:lN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZLe={LINEAR:0,NEAREST:1},QLe=ZLe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jLe=pt,N4=QLe,ZT={CanvasTexture:pN,Events:S0,FilterMode:N4,Frame:yc,Parsers:gN,Texture:XC,TextureManager:xN,TextureSource:vN};ZT=jLe(!1,ZT,N4);var eFe=ZT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tFe=function(e,t,i){return e>=0&&e<i.width&&t>=0&&t<i.height},Rc=tFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iFe=Rc,rFe=function(e,t,i,r){if(i===void 0&&(i=!1),iFe(e,t,r)){var n=r.data[t][e]||null;return n===null?null:n.index===-1?i?n:null:n}else return null},U0=rFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tf=U0,nFe=function(e,t,i){var r=tf(e,t,!0,i),n=tf(e,t-1,!0,i),a=tf(e,t+1,!0,i),s=tf(e-1,t,!0,i),o=tf(e+1,t,!0,i),l=r&&r.collides;return l&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),n&&n.collides&&(l&&(r.faceTop=!1),n.faceBottom=!l),a&&a.collides&&(l&&(r.faceBottom=!1),a.faceTop=!l),s&&s.collides&&(l&&(r.faceLeft=!1),s.faceRight=!l),o&&o.collides&&(l&&(r.faceRight=!1),o.faceLeft=!l),r&&!r.collides&&r.resetFaces(),r},VE=nFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Yx=Y,aFe=function(e,t,i,r,n,a){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=a.width),r===void 0&&(r=a.height);var s=Yx(n,"isNotEmpty",!1),o=Yx(n,"isColliding",!1),l=Yx(n,"hasInterestingFace",!1);e<0&&(i+=e,e=0),t<0&&(r+=t,t=0),e+i>a.width&&(i=Math.max(a.width-e,0)),t+r>a.height&&(r=Math.max(a.height-t,0));for(var h=[],u=t;u<t+r;u++)for(var f=e;f<e+i;f++){var c=a.data[u][f];if(c!==null){if(s&&c.index===-1||o&&!c.collides||l&&!c.hasInterestingFace)continue;h.push(c)}}return h},Zt=aFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Fv=U0,sFe=Zt,oFe=function(e,t,i,r,n){for(var a=null,s=null,o=null,l=null,h=sFe(e,t,i,r,null,n),u=0;u<h.length;u++){var f=h[u];f&&(f.collides?(a=Fv(f.x,f.y-1,!0,n),s=Fv(f.x,f.y+1,!0,n),o=Fv(f.x-1,f.y,!0,n),l=Fv(f.x+1,f.y,!0,n),f.faceTop=!(a&&a.collides),f.faceBottom=!(s&&s.collides),f.faceLeft=!(o&&o.collides),f.faceRight=!(l&&l.collides)):f.resetFaces())}},Ba=oFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var lFe=Zt,hFe=Ba,uFe=function(e,t,i,r,n,a,s,o){e<0&&(e=0),t<0&&(t=0),s===void 0&&(s=!0);for(var l=lFe(e,t,i,r,null,o),h=n-e,u=a-t,f=0;f<l.length;f++){var c=l[f].x+h,v=l[f].y+u;c>=0&&c<o.width&&v>=0&&v<o.height&&o.data[v][c]&&o.data[v][c].copy(l[f])}s&&hFe(n-1,a-1,i+2,r+2,o)},fFe=uFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cFe=function(e,t,i){var r=i.baseTileWidth,n=i.tilemapLayer,a=0;return n&&(t===void 0&&(t=n.scene.cameras.main),a=n.x+t.scrollX*(1-n.scrollFactorX),r*=n.scaleX),a+e*r},W0=cFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dFe=function(e,t,i){var r=i.baseTileHeight,n=i.tilemapLayer,a=0;return n&&(t===void 0&&(t=n.scene.cameras.main),a=n.y+t.scrollY*(1-n.scrollFactorY),r*=n.scaleY),a+e*r},Y0=dFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var vFe=Zt,pFe=function(e,t,i,r,n,a,s){for(var o=vFe(i,r,n,a,null,s),l=0;l<o.length;l++)o[l]&&o[l].index===e&&(o[l].index=t)},G4=pFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mFe=W0,gFe=Y0,xFe=Zt,xF=G4,yFe=function(e,t,i,r,n,a){i===void 0&&(i={}),Array.isArray(e)||(e=[e]);var s=a.tilemapLayer;r===void 0&&(r=s.scene),n===void 0&&(n=r.cameras.main);var o=xFe(0,0,a.width,a.height,null,a),l=[],h;for(h=0;h<o.length;h++){var u=o[h];if(e.indexOf(u.index)!==-1){i.x=mFe(u.x,n,a),i.y=gFe(u.y,n,a);var f=r.make.sprite(i);l.push(f)}}if(typeof t=="number")for(h=0;h<e.length;h++)xF(e[h],t,0,0,a.width,a.height,a);else if(Array.isArray(t))for(h=0;h<e.length;h++)xF(e[h],t[h],0,0,a.width,a.height,a);return l},TFe=yFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var yF=xc,TF=n3,SFe=function(e,t,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var n=e.tilemapLayer.tilemap,a=e.tilemapLayer,s=e.data,o=e.width,l=e.height,h=Math.floor(n.tileWidth*a.scaleX),u=Math.floor(n.tileHeight*a.scaleY),f=0,c=o,v=0,p=l;if(!a.skipCull&&a.scrollFactorX===1&&a.scrollFactorY===1){var m=yF(t.worldView.x-a.x,h,0,!0)-a.cullPaddingX,x=TF(t.worldView.right-a.x,h,0,!0)+a.cullPaddingX,g=yF(t.worldView.y-a.y,u,0,!0)-a.cullPaddingY,T=TF(t.worldView.bottom-a.y,u,0,!0)+a.cullPaddingY;f=Math.max(0,m),c=Math.min(o,x),v=Math.max(0,g),p=Math.min(l,T)}var S,E,_;if(r===0)for(E=v;E<p;E++)for(S=f;s[E]&&S<c;S++)_=s[E][S],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);else if(r===1)for(E=v;E<p;E++)for(S=c;s[E]&&S>=f;S--)_=s[E][S],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);else if(r===2)for(E=p;E>=v;E--)for(S=f;s[E]&&S<c;S++)_=s[E][S],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);else if(r===3)for(E=p;E>=v;E--)for(S=c;s[E]&&S>=f;S--)_=s[E][S],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);return a.tilesDrawn=i.length,a.tilesTotal=o*l,i},CFe=SFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var EFe=function(e,t){t?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)},nl=EFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _Fe=Zt,AFe=Ba,wFe=nl,MFe=function(e,t,i,r,n,a,s){for(var o=s.collideIndexes.indexOf(e)!==-1,l=_Fe(t,i,r,n,null,s),h=0;h<l.length;h++)l[h].index=e,wFe(l[h],o);a&&AFe(t-1,i-1,r+2,n+2,s)},bFe=MFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PFe=Zt,RFe=function(e,t,i,r,n,a,s,o){var l=PFe(i,r,n,a,s,o);return l.filter(e,t)},LFe=RFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var FFe=function(e,t,i,r){t===void 0&&(t=0),i===void 0&&(i=!1);var n=0,a,s,o;if(i){for(s=r.height-1;s>=0;s--)for(a=r.width-1;a>=0;a--)if(o=r.data[s][a],o&&o.index===e){if(n===t)return o;n+=1}}else for(s=0;s<r.height;s++)for(a=0;a<r.width;a++)if(o=r.data[s][a],o&&o.index===e){if(n===t)return o;n+=1}return null},IFe=FFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OFe=Zt,DFe=function(e,t,i,r,n,a,s,o){var l=OFe(i,r,n,a,s,o);return l.find(e,t)||null},BFe=DFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NFe=Zt,GFe=function(e,t,i,r,n,a,s,o){var l=NFe(i,r,n,a,s,o);l.forEach(e,t)},kFe=GFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $Fe=function(e,t,i,r){t===void 0&&(t=!0);var n=r.baseTileWidth,a=r.tilemapLayer;return a&&(i===void 0&&(i=a.scene.cameras.main),e=e-(a.x+i.scrollX*(1-a.scrollFactorX)),n*=a.scaleX),t?Math.floor(e/n):e/n},to=$Fe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zFe=function(e,t,i,r){t===void 0&&(t=!0);var n=r.baseTileHeight,a=r.tilemapLayer;return a&&(i===void 0&&(i=a.scene.cameras.main),e=e-(a.y+i.scrollY*(1-a.scrollFactorY)),n*=a.scaleY),t?Math.floor(e/n):e/n},io=zFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VFe=U0,UFe=to,WFe=io,YFe=function(e,t,i,r,n){var a=UFe(e,!0,r,n),s=WFe(t,!0,r,n);return VFe(a,s,i,n)},HFe=YFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rf=Fk,XFe=Zt,pp=Ek,KFe=W,qFe=W0,JFe=Y0,SF=to,CF=io,ZFe=function(e,t){return pp.RectangleToTriangle(t,e)},QFe=function(e,t,i,r){if(e===void 0)return[];var n=KFe;e instanceof rf.Circle?n=pp.CircleToRectangle:e instanceof rf.Rectangle?n=pp.RectangleToRectangle:e instanceof rf.Triangle?n=ZFe:e instanceof rf.Line&&(n=pp.LineToRectangle);var a=SF(e.left,!0,i,r),s=CF(e.top,!0,i,r),o=Math.ceil(SF(e.right,!1,i,r)),l=Math.ceil(CF(e.bottom,!1,i,r)),h=Math.max(o-a,1),u=Math.max(l-s,1),f=XFe(a,s,h,u,t,r),c=r.tileWidth,v=r.tileHeight;r.tilemapLayer&&(c*=r.tilemapLayer.scaleX,v*=r.tilemapLayer.scaleY);for(var p=[],m=new rf.Rectangle(0,0,c,v),x=0;x<f.length;x++){var g=f[x];m.x=qFe(g.x,i,r),m.y=JFe(g.y,i,r),n(e,m)&&p.push(g)}return p},jFe=QFe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var eIe=Zt,EF=to,_F=io,tIe=function(e,t,i,r,n,a,s){var o=EF(e,!0,a,s),l=_F(t,!0,a,s),h=Math.ceil(EF(e+i,!1,a,s)),u=Math.ceil(_F(t+r,!1,a,s));return eIe(o,l,h-o,u-l,n,s)},iIe=tIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rIe=Rc,nIe=function(e,t,i){if(rIe(e,t,i)){var r=i.data[t][e];return r!==null&&r.index>-1}else return!1},k4=nIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aIe=k4,sIe=to,oIe=io,lIe=function(e,t,i,r){var n=sIe(e,!0,i,r),a=oIe(t,!0,i,r);return aIe(n,a,r)},hIe=lIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uIe=O,Hx=Ke,fIe=bk,cIe=new uIe({Mixins:[Hx.Alpha,Hx.Flip,Hx.Visible],initialize:function(t,i,r,n,a,s,o,l){this.layer=t,this.index=i,this.x=r,this.y=n,this.width=a,this.height=s,this.baseWidth=o!==void 0?o:a,this.baseHeight=l!==void 0?l:s,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(e,t){return!(e<this.pixelX||t<this.pixelY||e>this.right||t>this.bottom)},copy:function(e){return this.index=e.index,this.alpha=e.alpha,this.properties=e.properties,this.visible=e.visible,this.setFlip(e.flipX,e.flipY),this.tint=e.tint,this.rotation=e.rotation,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var t=this.tilemapLayer;return t?t.tileToWorldX(this.x,e):this.x*this.baseWidth},getRight:function(e){var t=this.tilemapLayer;return t?this.getLeft(e)+this.width*t.scaleX:this.getLeft(e)+this.width},getTop:function(e){var t=this.tilemapLayer;return t?t.tileToWorldY(this.y,e)-(this.height-this.baseHeight)*t.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(e){var t=this.tilemapLayer;return t?this.getTop(e)+this.height*t.scaleY:this.getTop(e)+this.height},getBounds:function(e,t){return t===void 0&&(t=new fIe),t.x=this.getLeft(),t.y=this.getTop(),t.width=this.getRight()-t.x,t.height=this.getBottom()-t.y,t},getCenterX:function(e){return(this.getLeft(e)+this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(e,t,i,r){return!(i<=this.pixelX||r<=this.pixelY||e>=this.right||t>=this.bottom)},isInteresting:function(e,t){return e&&t?this.canCollide||this.hasInterestingFace:e?this.collides:t?this.hasInterestingFace:!1},resetCollision:function(e){if(e===void 0&&(e=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,e){var t=this.tilemapLayer;t&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(e,t,i,r,n){if(t===void 0&&(t=e),i===void 0&&(i=e),r===void 0&&(r=e),n===void 0&&(n=!0),this.collideLeft=e,this.collideRight=t,this.collideUp=i,this.collideDown=r,this.faceLeft=e,this.faceRight=t,this.faceTop=i,this.faceBottom=r,n){var a=this.tilemapLayer;a&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(e,t){return e===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=e,this.collisionCallbackContext=t),this},setSize:function(e,t,i,r){return e!==void 0&&(this.width=e),t!==void 0&&(this.height=t),i!==void 0&&(this.baseWidth=i),r!==void 0&&(this.baseHeight=r),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;if(e){var t=e.gidMap[this.index];if(t)return t}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}}),al=cIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Xx=al,dIe=Rc,vIe=VE,pIe=nl,mIe=function(e,t,i,r,n){if(!dIe(t,i,n))return null;r===void 0&&(r=!0);var a=n.data[i][t],s=a&&a.collides;if(e instanceof Xx)n.data[i][t]===null&&(n.data[i][t]=new Xx(n,e.index,t,i,e.width,e.height)),n.data[i][t].copy(e);else{var o=e;n.data[i][t]===null?n.data[i][t]=new Xx(n,o,t,i,n.tileWidth,n.tileHeight):n.data[i][t].index=o}var l=n.data[i][t],h=n.collideIndexes.indexOf(l.index)!==-1;return pIe(l,h),r&&s!==l.collides&&vIe(t,i,n),l},UE=mIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gIe=UE,xIe=to,yIe=io,TIe=function(e,t,i,r,n,a){var s=xIe(t,!0,n,a),o=yIe(i,!0,n,a);return gIe(e,s,o,r,a)},SIe=TIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CIe=Ba,EIe=UE,_Ie=function(e,t,i,r,n){if(!Array.isArray(e))return null;r===void 0&&(r=!0),Array.isArray(e[0])||(e=[e]);for(var a=e.length,s=e[0].length,o=0;o<a;o++)for(var l=0;l<s;l++){var h=e[o][l];EIe(h,t+l,i+o,!1,n)}r&&CIe(t-1,i-1,s+2,a+2,n)},AIe=_Ie;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wIe=Zt,MIe=qC,bIe=function(e,t,i,r,n,a){var s,o=wIe(e,t,i,r,null,a);if(n===void 0)for(n=[],s=0;s<o.length;s++)n.indexOf(o[s].index)===-1&&n.push(o[s].index);for(s=0;s<o.length;s++)o[s].index=MIe(n)},PIe=bIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RIe=al,LIe=Rc,FIe=VE,IIe=function(e,t,i,r,n){if(i===void 0&&(i=!1),r===void 0&&(r=!0),!LIe(e,t,n))return null;var a=n.data[t][e];if(a)n.data[t][e]=i?null:new RIe(n,-1,e,t,a.width,a.height);else return null;return r&&a&&a.collides&&FIe(e,t,n),a},$4=IIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var OIe=$4,DIe=to,BIe=io,NIe=function(e,t,i,r,n,a){var s=DIe(e,!0,n,a),o=BIe(t,!0,n,a);return OIe(s,o,i,r,a)},GIe=NIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kIe=Zt,WE=H3,$Ie=new WE(105,210,231,150),zIe=new WE(243,134,48,200),VIe=new WE(40,39,37,150),UIe=function(e,t,i){t===void 0&&(t={});var r=t.tileColor!==void 0?t.tileColor:$Ie,n=t.collidingTileColor!==void 0?t.collidingTileColor:zIe,a=t.faceColor!==void 0?t.faceColor:VIe,s=kIe(0,0,i.width,i.height,null,i);e.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),e.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var o=0;o<s.length;o++){var l=s[o],h=l.width,u=l.height,f=l.pixelX,c=l.pixelY,v=l.collides?n:r;v!==null&&(e.fillStyle(v.color,v.alpha/255),e.fillRect(f,c,h,u)),f+=1,c+=1,h-=2,u-=2,a!==null&&(e.lineStyle(1,a.color,a.alpha/255),l.faceTop&&e.lineBetween(f,c,f+h,c),l.faceRight&&e.lineBetween(f+h,c,f+h,c+u),l.faceBottom&&e.lineBetween(f,c+u,f+h,c+u),l.faceLeft&&e.lineBetween(f,c,f,c+u))}},WIe=UIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YIe=function(e,t,i){var r=i.collideIndexes.indexOf(e);t&&r===-1?i.collideIndexes.push(e):!t&&r!==-1&&i.collideIndexes.splice(r,1)},YE=YIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var HIe=nl,XIe=Ba,KIe=YE,qIe=function(e,t,i,r,n){t===void 0&&(t=!0),i===void 0&&(i=!0),Array.isArray(e)||(e=[e]),n===void 0&&(n=!0);for(var a=0;a<e.length;a++)KIe(e[a],t,r);if(n)for(var s=0;s<r.height;s++)for(var o=0;o<r.width;o++){var l=r.data[s][o];l&&e.indexOf(l.index)!==-1&&HIe(l,t)}i&&XIe(0,0,r.width,r.height,r)},JIe=qIe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZIe=nl,QIe=Ba,jIe=YE,eOe=function(e,t,i,r,n,a){if(i===void 0&&(i=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),!(e>t)){for(var s=e;s<=t;s++)jIe(s,i,n);if(a)for(var o=0;o<n.height;o++)for(var l=0;l<n.width;l++){var h=n.data[o][l];h&&h.index>=e&&h.index<=t&&ZIe(h,i)}r&&QIe(0,0,n.width,n.height,n)}},tOe=eOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var iOe=nl,rOe=Ba,nOe=YE,aOe=function(e,t,i,r){t===void 0&&(t=!0),i===void 0&&(i=!0),Array.isArray(e)||(e=[e]);for(var n=0;n<r.height;n++)for(var a=0;a<r.width;a++){var s=r.data[n][a];s&&e.indexOf(s.index)===-1&&(iOe(s,t),nOe(s.index,t,r))}i&&rOe(0,0,r.width,r.height,r)},sOe=aOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oOe=nl,lOe=Ba,hOe=Xh,uOe=function(e,t,i,r){t===void 0&&(t=!0),i===void 0&&(i=!0);for(var n=0;n<r.height;n++)for(var a=0;a<r.width;a++){var s=r.data[n][a];if(s){for(var o in e)if(hOe(s.properties,o)){var l=e[o];Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++)s.properties[o]===l[h]&&oOe(s,t)}}}i&&lOe(0,0,r.width,r.height,r)},fOe=uOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var cOe=nl,dOe=Ba,vOe=function(e,t,i){e===void 0&&(e=!0),t===void 0&&(t=!0);for(var r=0;r<i.height;r++)for(var n=0;n<i.width;n++){var a=i.data[r][n];if(a){var s=a.getCollisionGroup();s&&s.objects&&s.objects.length>0&&cOe(a,e)}}t&&dOe(0,0,i.width,i.height,i)},pOe=vOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mOe=function(e,t,i,r){if(typeof e=="number")r.callbacks[e]=t!==null?{callback:t,callbackContext:i}:void 0;else for(var n=0,a=e.length;n<a;n++)r.callbacks[e[n]]=t!==null?{callback:t,callbackContext:i}:void 0},gOe=mOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var xOe=Zt,yOe=function(e,t,i,r,n,a,s){for(var o=xOe(e,t,i,r,null,s),l=0;l<o.length;l++)o[l].setCollisionCallback(n,a)},TOe=yOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SOe=Zt,COe=v0,EOe=function(e,t,i,r,n){var a=SOe(e,t,i,r,null,n),s=a.map(function(l){return l.index});COe(s);for(var o=0;o<a.length;o++)a[o].index=s[o]},_Oe=EOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AOe=Zt,wOe=function(e,t,i,r,n,a,s){for(var o=AOe(i,r,n,a,null,s),l=0;l<o.length;l++)o[l]&&(o[l].index===e?o[l].index=t:o[l].index===t&&(o[l].index=e))},MOe=wOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bOe=W0,POe=Y0,ROe=oe,LOe=function(e,t,i,r,n){return i===void 0&&(i=new ROe(0,0)),i.x=bOe(e,r,n),i.y=POe(t,r,n),i},FOe=LOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IOe=Zt,OOe=function(e,t,i,r,n,a){if(n!==void 0){var s,o=IOe(e,t,i,r,null,a),l=0;for(s=0;s<n.length;s++)l+=n[s].weight;if(!(l<=0))for(s=0;s<o.length;s++){for(var h=Math.random()*l,u=0,f=-1,c=0;c<n.length;c++)if(u+=n[c].weight,h<=u){var v=n[c].index;f=Array.isArray(v)?v[Math.floor(Math.random()*v.length)]:v;break}o[s].index=f}}},DOe=OOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var BOe=to,NOe=io,GOe=oe,kOe=function(e,t,i,r,n,a){return r===void 0&&(r=new GOe(0,0)),r.x=BOe(e,i,n,a),r.y=NOe(t,i,n,a),r},$Oe=kOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var H0={CalculateFacesAt:VE,CalculateFacesWithin:Ba,Copy:fFe,CreateFromTiles:TFe,CullTiles:CFe,Fill:bFe,FilterTiles:LFe,FindByIndex:IFe,FindTile:BFe,ForEachTile:kFe,GetTileAt:U0,GetTileAtWorldXY:HFe,GetTilesWithin:Zt,GetTilesWithinShape:jFe,GetTilesWithinWorldXY:iIe,HasTileAt:k4,HasTileAtWorldXY:hIe,IsInLayerBounds:Rc,PutTileAt:UE,PutTileAtWorldXY:SIe,PutTilesAt:AIe,Randomize:PIe,RemoveTileAt:$4,RemoveTileAtWorldXY:GIe,RenderDebug:WIe,ReplaceByIndex:G4,SetCollision:JIe,SetCollisionBetween:tOe,SetCollisionByExclusion:sOe,SetCollisionByProperty:fOe,SetCollisionFromCollisionGroup:pOe,SetTileIndexCallback:gOe,SetTileLocationCallback:TOe,Shuffle:_Oe,SwapByIndex:MOe,TileToWorldX:W0,TileToWorldXY:FOe,TileToWorldY:Y0,WeightedRandomize:DOe,WorldToTileX:to,WorldToTileXY:$Oe,WorldToTileY:io};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var zOe=O,ct=Y,VOe=new zOe({initialize:function(t){t===void 0&&(t={}),this.name=ct(t,"name","layer"),this.x=ct(t,"x",0),this.y=ct(t,"y",0),this.width=ct(t,"width",0),this.height=ct(t,"height",0),this.tileWidth=ct(t,"tileWidth",0),this.tileHeight=ct(t,"tileHeight",0),this.baseTileWidth=ct(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=ct(t,"baseTileHeight",this.tileHeight),this.widthInPixels=ct(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=ct(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=ct(t,"alpha",1),this.visible=ct(t,"visible",!0),this.properties=ct(t,"properties",{}),this.indexes=ct(t,"indexes",[]),this.collideIndexes=ct(t,"collideIndexes",[]),this.callbacks=ct(t,"callbacks",[]),this.bodies=ct(t,"bodies",[]),this.data=ct(t,"data",[]),this.tilemapLayer=ct(t,"tilemapLayer",null)}}),Lc=VOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var UOe=O,dt=Y,WOe=new UOe({initialize:function(t){t===void 0&&(t={}),this.name=dt(t,"name","map"),this.width=dt(t,"width",0),this.height=dt(t,"height",0),this.infinite=dt(t,"infinite",!1),this.tileWidth=dt(t,"tileWidth",0),this.tileHeight=dt(t,"tileHeight",0),this.widthInPixels=dt(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=dt(t,"heightInPixels",this.height*this.tileHeight),this.format=dt(t,"format",null),this.orientation=dt(t,"orientation","orthogonal"),this.renderOrder=dt(t,"renderOrder","right-down"),this.version=dt(t,"version","1"),this.properties=dt(t,"properties",{}),this.layers=dt(t,"layers",[]),this.images=dt(t,"images",[]),this.objects=dt(t,"objects",{}),this.collision=dt(t,"collision",{}),this.tilesets=dt(t,"tilesets",[]),this.imageCollections=dt(t,"imageCollections",[]),this.tiles=dt(t,"tiles",[])}}),Fc=WOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var YOe=Nr,HOe=Lc,XOe=Fc,AF=al,KOe=function(e,t,i,r,n){for(var a=new HOe({tileWidth:i,tileHeight:r}),s=new XOe({name:e,tileWidth:i,tileHeight:r,format:YOe.ARRAY_2D,layers:[a]}),o=[],l=t.length,h=0,u=0;u<t.length;u++){o[u]=[];for(var f=t[u],c=0;c<f.length;c++){var v=parseInt(f[c],10);isNaN(v)||v===-1?o[u][c]=n?null:new AF(a,-1,c,u,i,r):o[u][c]=new AF(a,v,c,u,i,r)}h===0&&(h=f.length)}return s.width=a.width=h,s.height=a.height=l,s.widthInPixels=a.widthInPixels=h*i,s.heightInPixels=a.heightInPixels=l*r,a.data=o,s},HE=KOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qOe=Nr,JOe=HE,ZOe=function(e,t,i,r,n){var a=t.trim().split(`
`).map(function(o){return o.split(",")}),s=JOe(e,a,i,r,n);return s.format=qOe.CSV,s},z4=ZOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QOe=function(e){for(var t=window.atob(e),i=t.length,r=new Array(i/4),n=0;n<i;n+=4)r[n/4]=(t.charCodeAt(n)|t.charCodeAt(n+1)<<8|t.charCodeAt(n+2)<<16|t.charCodeAt(n+3)<<24)>>>0;return r},V4=QOe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var wF=2147483648,MF=1073741824,bF=536870912,jOe=function(e){var t=!!(e&wF),i=!!(e&MF),r=!!(e&bF);e=e&~(wF|MF|bF);var n=0,a=!1;return t&&i&&r?(n=Math.PI/2,a=!0):t&&i&&!r?(n=Math.PI,a=!1):t&&!i&&r?(n=Math.PI/2,a=!1):t&&!i&&!r?(n=0,a=!0):!t&&i&&r?(n=3*Math.PI/2,a=!1):!t&&i&&!r?(n=Math.PI,a=!0):!t&&!i&&r?(n=3*Math.PI/2,a=!0):!t&&!i&&!r&&(n=0,a=!1),{gid:e,flippedHorizontal:t,flippedVertical:i,flippedAntiDiagonal:r,rotation:n,flipped:a}},XE=jOe;/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Iv=Y,eDe=function(e,t,i){if(!t)return{i:0,layers:e.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=t.x+Iv(t,"startx",0)*e.tilewidth+Iv(t,"offsetx",0),n=t.y+Iv(t,"starty",0)*e.tileheight+Iv(t,"offsety",0);return{i:0,layers:t.layers,name:i.name+t.name+"/",opacity:i.opacity*t.opacity,visible:i.visible&&t.visible,x:i.x+r,y:i.y+n}},KE=eDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var PF=V4,ea=Y,RF=Lc,LF=XE,Ov=al,FF=KE,tDe=function(e,t){for(var i=ea(e,"infinite",!1),r=[],n=[],a=FF(e);a.i<a.layers.length||n.length>0;){if(a.i>=a.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=n.pop();continue}var s=a.layers[a.i];if(a.i++,s.type!=="tilelayer"){if(s.type==="group"){var o=FF(e,s,a);n.push(a),a=o}continue}if(s.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+s.name+"'");continue}else if(s.encoding&&s.encoding==="base64"){if(s.chunks)for(var l=0;l<s.chunks.length;l++)s.chunks[l].data=PF(s.chunks[l].data);s.data&&(s.data=PF(s.data)),delete s.encoding}var h,u,f,c,v=[],p=0;if(i){var m=ea(s,"startx",0)+s.x,x=ea(s,"starty",0)+s.y;h=new RF({name:a.name+s.name,x:a.x+ea(s,"offsetx",0)+m*e.tilewidth,y:a.y+ea(s,"offsety",0)+x*e.tileheight,width:s.width,height:s.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:a.opacity*s.opacity,visible:a.visible&&s.visible,properties:ea(s,"properties",{})});for(var g=0;g<s.height;g++){v.push([null]);for(var T=0;T<s.width;T++)v[g][T]=null}for(g=0,y=s.chunks.length;g<y;g++)for(var S=s.chunks[g],E=S.x-m,_=S.y-x,w=0,R=0,F=S.data.length;R<F;R++){var k=p+E,B=w+_;u=LF(S.data[R]),u.gid>0?(f=new Ov(h,u.gid,k,B,e.tilewidth,e.tileheight),f.rotation=u.rotation,f.flipX=u.flipped,v[B][k]=f):(c=t?null:new Ov(h,-1,k,B,e.tilewidth,e.tileheight),v[B][k]=c),p++,p===S.width&&(w++,p=0)}}else{h=new RF({name:a.name+s.name,x:a.x+ea(s,"offsetx",0)+s.x,y:a.y+ea(s,"offsety",0)+s.y,width:s.width,height:s.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:a.opacity*s.opacity,visible:a.visible&&s.visible,properties:ea(s,"properties",{})});for(var N=[],d=0,y=s.data.length;d<y;d++)u=LF(s.data[d]),u.gid>0?(f=new Ov(h,u.gid,p,v.length,e.tilewidth,e.tileheight),f.rotation=u.rotation,f.flipX=u.flipped,N.push(f)):(c=t?null:new Ov(h,-1,p,v.length,e.tilewidth,e.tileheight),N.push(c)),p++,p===s.width&&(v.push(N),p=0,N=[])}h.data=v,r.push(h)}return r},U4=tDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nf=Y,IF=KE,iDe=function(e){for(var t=[],i=[],r=IF(e);r.i<r.layers.length||i.length>0;){if(r.i>=r.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=i.pop();continue}var n=r.layers[r.i];if(r.i++,n.type!=="imagelayer"){if(n.type==="group"){var a=IF(e,n,r);i.push(r),r=a}continue}var s=nf(n,"offsetx",0)+nf(n,"startx",0),o=nf(n,"offsety",0)+nf(n,"starty",0);t.push({name:r.name+n.name,image:n.image,x:r.x+s+n.x,y:r.y+o+n.y,alpha:r.opacity*n.opacity,visible:r.visible&&n.visible,properties:nf(n,"properties",{})})}return t},W4=iDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var rDe=O,nDe=new rDe({initialize:function(t,i,r,n,a,s,o,l){(r===void 0||r<=0)&&(r=32),(n===void 0||n<=0)&&(n=32),a===void 0&&(a=0),s===void 0&&(s=0),o===void 0&&(o={}),l===void 0&&(l={}),this.name=t,this.firstgid=i,this.tileWidth=r,this.tileHeight=n,this.tileMargin=a,this.tileSpacing=s,this.tileProperties=o,this.tileData=l,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(e){return this.containsTileIndex(e)?this.tileProperties[e-this.firstgid]:null},getTileData:function(e){return this.containsTileIndex(e)?this.tileData[e-this.firstgid]:null},getTileCollisionGroup:function(e){var t=this.getTileData(e);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},getTileTextureCoordinates:function(e){return this.containsTileIndex(e)?this.texCoordinates[e-this.firstgid]:null},setImage:function(e){return this.image=e,this.glTexture=e.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(e,t){return e!==void 0&&(this.tileWidth=e),t!==void 0&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(e,t){return e!==void 0&&(this.tileMargin=e),t!==void 0&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(e,t){var i=(t-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(e-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(i%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),r=Math.floor(r),this.rows=i,this.columns=r,this.total=i*r,this.texCoordinates.length=0;for(var n=this.tileMargin,a=this.tileMargin,s=0;s<this.rows;s++){for(var o=0;o<this.columns;o++)this.texCoordinates.push({x:n,y:a}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,a+=this.tileHeight+this.tileSpacing}return this}}),X0=nDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aDe=O,sDe=new aDe({initialize:function(t,i,r,n,a,s,o){(r===void 0||r<=0)&&(r=32),(n===void 0||n<=0)&&(n=32),a===void 0&&(a=0),s===void 0&&(s=0),this.name=t,this.firstgid=i|0,this.imageWidth=r|0,this.imageHeight=n|0,this.imageMargin=a|0,this.imageSpacing=s|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},addImage:function(e,t){return this.images.push({gid:e,image:t}),this.total++,this}}),Y4=sDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oDe=Xh,lDe=function(e,t){for(var i={},r=0;r<t.length;r++){var n=t[r];oDe(e,n)&&(i[n]=e[n])}return i},H4=lDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hDe=H4,uDe=XE,OF=function(e){return{x:e.x,y:e.y}},fDe=["id","name","type","rotation","properties","visible","x","y","width","height"],cDe=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);var r=hDe(e,fDe);if(r.x+=t,r.y+=i,e.gid){var n=uDe(e.gid);r.gid=n.gid,r.flippedHorizontal=n.flippedHorizontal,r.flippedVertical=n.flippedVertical,r.flippedAntiDiagonal=n.flippedAntiDiagonal}else e.polyline?r.polyline=e.polyline.map(OF):e.polygon?r.polygon=e.polygon.map(OF):e.ellipse?(r.ellipse=e.ellipse,r.width=e.width,r.height=e.height):e.text?(r.width=e.width,r.height=e.height,r.text=e.text):(r.rectangle=!0,r.width=e.width,r.height=e.height);return r},qE=cDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var dDe=X0,vDe=Y4,DF=qE,pDe=function(e){for(var t=[],i=[],r=null,n,a=0;a<e.tilesets.length;a++){var s=e.tilesets[a];if(s.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(s.image){var o=new dDe(s.name,s.firstgid,s.tilewidth,s.tileheight,s.margin,s.spacing);if(e.version>1){if(Array.isArray(s.tiles)){for(var l={},h={},u=0;u<s.tiles.length;u++){var f=s.tiles[u];if(f.properties){var c={};f.properties.forEach(function(S){c[S.name]=S.value}),h[f.id]=c}if(f.objectgroup&&(l[f.id]={objectgroup:f.objectgroup},f.objectgroup.objects)){var v=f.objectgroup.objects.map(function(S){return DF(S)});l[f.id].objectgroup.objects=v}f.animation&&(l.hasOwnProperty(f.id)?l[f.id].animation=f.animation:l[f.id]={animation:f.animation})}o.tileData=l,o.tileProperties=h}}else if(s.tileproperties&&(o.tileProperties=s.tileproperties),s.tiles){o.tileData=s.tiles;for(n in o.tileData){var p=o.tileData[n].objectgroup;if(p&&p.objects){var m=p.objects.map(function(S){return DF(S)});o.tileData[n].objectgroup.objects=m}}}o.updateTileData(s.imagewidth,s.imageheight),t.push(o)}else{var x=new vDe(s.name,s.firstgid,s.tilewidth,s.tileheight,s.margin,s.spacing,s.properties);for(n in s.tiles){var g=s.tiles[n].image,T=s.firstgid+parseInt(n,10);x.addImage(T,g)}i.push(x)}r&&(r.lastgid=s.firstgid-1),r=s}return{tilesets:t,imageCollections:i}},X4=pDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mDe=O,Eo=Y,gDe=new mDe({initialize:function(t){t===void 0&&(t={}),this.name=Eo(t,"name","object layer"),this.opacity=Eo(t,"opacity",1),this.properties=Eo(t,"properties",{}),this.propertyTypes=Eo(t,"propertytypes",{}),this.type=Eo(t,"type","objectgroup"),this.visible=Eo(t,"visible",!0),this.objects=Eo(t,"objects",[])}}),K4=gDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Dv=Y,xDe=qE,yDe=K4,BF=KE,TDe=function(e){for(var t=[],i=[],r=BF(e);r.i<r.layers.length||i.length>0;){if(r.i>=r.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=i.pop();continue}var n=r.layers[r.i];if(r.i++,n.opacity*=r.opacity,n.visible=r.visible&&n.visible,n.type!=="objectgroup"){if(n.type==="group"){var a=BF(e,n,r);i.push(r),r=a}continue}n.name=r.name+n.name;for(var s=r.x+Dv(n,"startx",0)+Dv(n,"offsetx",0),o=r.y+Dv(n,"starty",0)+Dv(n,"offsety",0),l=[],h=0;h<n.objects.length;h++){var u=xDe(n.objects[h],s,o);l.push(u)}var f=new yDe(n);f.objects=l,t.push(f)}return t},q4=TDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var SDe=function(e){for(var t=[],i=0;i<e.tilesets.length;i++)for(var r=e.tilesets[i],n=r.tileMargin,a=r.tileMargin,s=0,o=0,l=0,h=r.firstgid;h<r.firstgid+r.total&&(t[h]=[n,a,i],n+=r.tileWidth+r.tileSpacing,s++,!(s===r.total||(o++,o===r.columns&&(n=r.tileMargin,a+=r.tileHeight+r.tileSpacing,o=0,l++,l===r.rows))));h++);return t},J4=SDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var CDe=pt,EDe=function(e){for(var t,i,r,n,a,s=0;s<e.layers.length;s++){t=e.layers[s],n=null;for(var o=0;o<t.data.length;o++){a=t.data[o];for(var l=0;l<a.length;l++)i=a[l],!(i===null||i.index<0)&&(r=e.tiles[i.index][2],n=e.tilesets[r],i.width=n.tileWidth,i.height=n.tileHeight,n.tileProperties&&n.tileProperties[i.index-n.firstgid]&&(i.properties=CDe(i.properties,n.tileProperties[i.index-n.firstgid])))}}},Z4=EDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var _De=Nr,ADe=Fc,wDe=U4,MDe=W4,bDe=X4,PDe=q4,RDe=J4,LDe=Z4,FDe=function(e,t,i){if(t.orientation!=="orthogonal")return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var r=new ADe({width:t.width,height:t.height,name:e,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:t.orientation,format:_De.TILED_JSON,version:t.version,properties:t.properties,renderOrder:t.renderorder,infinite:t.infinite});r.layers=wDe(t,i),r.images=MDe(t);var n=bDe(t);return r.tilesets=n.tilesets,r.imageCollections=n.imageCollections,r.objects=PDe(t),r.tiles=RDe(r),LDe(r),r},Q4=FDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IDe=Lc,NF=al,ODe=function(e,t){for(var i=[],r=0;r<e.layer.length;r++){for(var n=e.layer[r],a=new IDe({name:n.name,width:n.width,height:n.height,tileWidth:n.tilesize,tileHeight:n.tilesize,visible:n.visible===1}),s=[],o=[],l=0;l<n.data.length;l++){for(var h=0;h<n.data[l].length;h++){var u=n.data[l][h]-1,f;u>-1?f=new NF(a,u,h,l,n.tilesize,n.tilesize):f=t?null:new NF(a,-1,h,l,n.tilesize,n.tilesize),s.push(f)}o.push(s),s=[]}a.data=o,i.push(a)}return i},j4=ODe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var DDe=X0,BDe=function(e){for(var t=[],i=[],r=0;r<e.layer.length;r++){var n=e.layer[r],a=n.tilesetName;a!==""&&i.indexOf(a)===-1&&(i.push(a),t.push(new DDe(a,0,n.tilesize,n.tilesize,0,0)))}return t},e$=BDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NDe=Nr,GDe=Fc,kDe=j4,$De=e$,zDe=function(e,t,i){if(t.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var r=0,n=0,a=0;a<t.layer.length;a++)t.layer[a].width>r&&(r=t.layer[a].width),t.layer[a].height>n&&(n=t.layer[a].height);var s=new GDe({width:r,height:n,name:e,tileWidth:t.layer[0].tilesize,tileHeight:t.layer[0].tilesize,format:NDe.WELTMEISTER});return s.layers=kDe(t,i),s.tilesets=$De(t),s},t$=zDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Bv=Nr,VDe=HE,UDe=z4,WDe=Q4,YDe=t$,HDe=function(e,t,i,r,n,a){var s;switch(t){case Bv.ARRAY_2D:s=VDe(e,i,r,n,a);break;case Bv.CSV:s=UDe(e,i,r,n,a);break;case Bv.TILED_JSON:s=WDe(e,i,a);break;case Bv.WELTMEISTER:s=YDe(e,i,a);break;default:console.warn("Unrecognized tilemap data format: "+t),s=null}return s},i$=HDe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XDe={ParseTileLayers:j4,ParseTilesets:e$,ParseWeltmeister:t$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var KDe={AssignTileProperties:Z4,Base64Decode:V4,BuildTilesetIndex:J4,ParseGID:XE,ParseImageLayers:W4,ParseJSONTiled:Q4,ParseObject:qE,ParseObjectLayers:q4,ParseTileLayers:U4,ParseTilesets:X4};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qDe={Parse:i$,Parse2DArray:HE,ParseCSV:z4,Impact:XDe,Tiled:KDe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Kx,GF;function JDe(){if(GF)return Kx;GF=1;var e=Be,t=function(i,r,n,a){r.cull(a);var s=r.culledTiles,o=s.length,l=a.alpha*r.alpha;if(!(o===0||l<=0))for(var h=r.gidMap,u=r.pipeline,f=e.getTintAppendFloatAlpha,c=r.scrollFactorX,v=r.scrollFactorY,p=r.x,m=r.y,x=r.scaleX,g=r.scaleY,T=r.tileset,S=0;S<T.length;S++)for(var E=T[S],_=E.glTexture,w=0;w<o;w++){var R=s[w],F=h[R.index];if(F===E){var k=F.getTileTextureCoordinates(R.index);if(k!==null){var B=R.width,N=R.height,d=k.x,y=k.y,C=R.width*.5,M=R.height*.5,A=f(R.tint,l*R.alpha);u.batchTexture(r,_,_.width,_.height,p+(C+R.pixelX)*x,m+(M+R.pixelY)*g,R.width,R.height,x,g,R.rotation,R.flipX,R.flipY,c,v,C,M,d,y,B,N,A,A,A,A,!1,0,0,a,null,!0)}}}};return Kx=t,Kx}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qx,kF;function ZDe(){if(kF)return qx;kF=1;var e=function(t,i,r,n,a){i.cull(n);var s=i.culledTiles,o=s.length;if(o!==0){var l=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3;h.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),l.copyFrom(n.matrix);var f=t.currentContext,c=i.gidMap;f.save(),a?(l.multiplyWithOffset(a,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),h.e=i.x,h.f=i.y,l.multiply(h,u),u.copyToContext(f)):(h.e-=n.scrollX*i.scrollFactorX,h.f-=n.scrollY*i.scrollFactorY,h.copyToContext(f));var v=n.alpha*i.alpha;(!t.antialias||i.scaleX>1||i.scaleY>1)&&(f.imageSmoothingEnabled=!1);for(var p=0;p<o;p++){var m=s[p],x=c[m.index];if(x){var g=x.image.getSourceImage(),T=x.getTileTextureCoordinates(m.index);if(T){var S=m.width/2,E=m.height/2;f.save(),f.translate(m.pixelX+S,m.pixelY+E),m.rotation!==0&&f.rotate(m.rotation),(m.flipX||m.flipY)&&f.scale(m.flipX?-1:1,m.flipY?-1:1),f.globalAlpha=v*m.alpha,f.drawImage(g,T.x,T.y,m.width,m.height,-S,-E,m.width,m.height),f.restore()}}}f.restore()}};return qx=e,qx}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var r$=W,n$=W;r$=JDe();n$=ZDe();var QDe={renderWebGL:r$,renderCanvas:n$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jDe=O,qr=Ke,eBe=QDe,Jx=qe,le=H0,tBe=new jDe({Extends:Jx,Mixins:[qr.Alpha,qr.BlendMode,qr.ComputedSize,qr.Depth,qr.Flip,qr.GetBounds,qr.Origin,qr.Pipeline,qr.Transform,qr.Visible,qr.ScrollFactor,eBe],initialize:function(t,i,r,n,a,s){Jx.call(this,t,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=i,this.layerIndex=r,this.layer=i.layers[r],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=le.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(a,s),this.setOrigin(),this.setSize(i.tileWidth*this.layer.width,i.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(e){var t=[],i=[],r=this.tilemap;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];if(typeof a=="string"&&(a=r.getTileset(a)),a){i.push(a);for(var s=a.firstgid,o=0;o<a.total;o++)t[s+o]=a}}this.gidMap=t,this.tileset=i},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return typeof e=="string"&&(e=t.indexOf(e)),e>=0&&e<4&&(this._renderOrder=e),this},calculateFacesAt:function(e,t){return le.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,r){return le.CalculateFacesWithin(e,t,i,r,this.layer),this},createFromTiles:function(e,t,i,r,n){return le.CreateFromTiles(e,t,i,r,n,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles,this._renderOrder)},copy:function(e,t,i,r,n,a,s){return le.Copy(e,t,i,r,n,a,s,this.layer),this},destroy:function(e){e===void 0&&(e=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],Jx.prototype.destroy.call(this))},fill:function(e,t,i,r,n,a){return le.Fill(e,t,i,r,n,a,this.layer),this},filterTiles:function(e,t,i,r,n,a,s){return le.FilterTiles(e,t,i,r,n,a,s,this.layer)},findByIndex:function(e,t,i){return le.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,r,n,a,s){return le.FindTile(e,t,i,r,n,a,s,this.layer)},forEachTile:function(e,t,i,r,n,a,s){return le.ForEachTile(e,t,i,r,n,a,s,this.layer),this},getTileAt:function(e,t,i){return le.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,r){return le.GetTileAtWorldXY(e,t,i,r,this.layer)},getTilesWithin:function(e,t,i,r,n){return le.GetTilesWithin(e,t,i,r,n,this.layer)},getTilesWithinShape:function(e,t,i){return le.GetTilesWithinShape(e,t,i,this.layer)},getTilesWithinWorldXY:function(e,t,i,r,n,a){return le.GetTilesWithinWorldXY(e,t,i,r,n,a,this.layer)},hasTileAt:function(e,t){return le.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return le.HasTileAtWorldXY(e,t,i,this.layer)},putTileAt:function(e,t,i,r){return le.PutTileAt(e,t,i,r,this.layer)},putTileAtWorldXY:function(e,t,i,r,n){return le.PutTileAtWorldXY(e,t,i,r,n,this.layer)},putTilesAt:function(e,t,i,r){return le.PutTilesAt(e,t,i,r,this.layer),this},randomize:function(e,t,i,r,n){return le.Randomize(e,t,i,r,n,this.layer),this},removeTileAt:function(e,t,i,r){return le.RemoveTileAt(e,t,i,r,this.layer)},removeTileAtWorldXY:function(e,t,i,r,n){return le.RemoveTileAtWorldXY(e,t,i,r,n,this.layer)},renderDebug:function(e,t){return le.RenderDebug(e,t,this.layer),this},replaceByIndex:function(e,t,i,r,n,a){return le.ReplaceByIndex(e,t,i,r,n,a,this.layer),this},setSkipCull:function(e){return e===void 0&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return e===void 0&&(e=1),t===void 0&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},setCollision:function(e,t,i,r){return le.SetCollision(e,t,i,this.layer,r),this},setCollisionBetween:function(e,t,i,r){return le.SetCollisionBetween(e,t,i,r,this.layer),this},setCollisionByProperty:function(e,t,i){return le.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return le.SetCollisionByExclusion(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return le.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileIndexCallback:function(e,t,i){return le.SetTileIndexCallback(e,t,i,this.layer),this},setTileLocationCallback:function(e,t,i,r,n,a){return le.SetTileLocationCallback(e,t,i,r,n,a,this.layer),this},shuffle:function(e,t,i,r){return le.Shuffle(e,t,i,r,this.layer),this},swapByIndex:function(e,t,i,r,n,a){return le.SwapByIndex(e,t,i,r,n,a,this.layer),this},tileToWorldX:function(e,t){return le.TileToWorldX(e,t,this.layer)},tileToWorldY:function(e,t){return le.TileToWorldY(e,t,this.layer)},tileToWorldXY:function(e,t,i,r){return le.TileToWorldXY(e,t,i,r,this.layer)},weightedRandomize:function(e,t,i,r,n){return le.WeightedRandomize(e,t,i,r,n,this.layer),this},worldToTileX:function(e,t,i){return le.WorldToTileX(e,t,i,this.layer)},worldToTileY:function(e,t,i){return le.WorldToTileY(e,t,i,this.layer)},worldToTileXY:function(e,t,i,r,n){return le.WorldToTileXY(e,t,i,r,n,this.layer)}}),a$=tBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Zx,$F;function iBe(){if($F)return Zx;$F=1;var e=function(t,i,r,n){var a=i.tileset,s=i.pipeline,o=s.vertexBuffer;t.setPipeline(s),s.modelIdentity(),s.modelTranslate(i.x-n.scrollX*i.scrollFactorX,i.y-n.scrollY*i.scrollFactorY,0),s.modelScale(i.scaleX,i.scaleY,1),s.viewLoad2D(n.matrix.matrix);for(var l=0;l<a.length;l++)i.upload(n,l),i.vertexCount[l]>0&&(t.currentPipeline&&t.currentPipeline.vertexCount>0&&t.flush(),s.vertexBuffer=i.vertexBuffer[l],t.setPipeline(s),t.setTexture2D(a[l].glTexture,0),t.gl.drawArrays(s.topology,0,i.vertexCount[l]));s.vertexBuffer=o,s.viewIdentity(),s.modelIdentity()};return Zx=e,Zx}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Qx,zF;function rBe(){if(zF)return Qx;zF=1;var e=function(t,i,r,n,a){i.cull(n);var s=i.culledTiles,o=s.length;if(o!==0){var l=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3;h.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),l.copyFrom(n.matrix);var f=t.currentContext,c=i.gidMap;f.save(),a?(l.multiplyWithOffset(a,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),h.e=i.x,h.f=i.y,l.multiply(h,u),u.copyToContext(f)):(h.e-=n.scrollX*i.scrollFactorX,h.f-=n.scrollY*i.scrollFactorY,h.copyToContext(f));var v=n.alpha*i.alpha;(!t.antialias||i.scaleX>1||i.scaleY>1)&&(f.imageSmoothingEnabled=!1);for(var p=0;p<o;p++){var m=s[p],x=c[m.index];if(x){var g=x.image.getSourceImage(),T=x.getTileTextureCoordinates(m.index);if(T){var S=x.tileWidth,E=x.tileHeight,_=S/2,w=E/2;f.save(),f.translate(m.pixelX+_,m.pixelY+w),m.rotation!==0&&f.rotate(m.rotation),(m.flipX||m.flipY)&&f.scale(m.flipX?-1:1,m.flipY?-1:1),f.globalAlpha=v*m.alpha,f.drawImage(g,T.x,T.y,S,E,-_,-w,S,E),f.restore()}}}f.restore()}};return Qx=e,Qx}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s$=W,o$=W;s$=iBe();o$=rBe();var nBe={renderWebGL:s$,renderCanvas:o$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aBe=O,Jr=Ke,sBe=At,jx=qe,oBe=nBe,Ae=H0,lBe=hn,hBe=Be,uBe=new aBe({Extends:jx,Mixins:[Jr.Alpha,Jr.BlendMode,Jr.ComputedSize,Jr.Depth,Jr.Flip,Jr.GetBounds,Jr.Origin,Jr.Pipeline,Jr.Transform,Jr.Visible,Jr.ScrollFactor,oBe],initialize:function(t,i,r,n,a,s){jx.call(this,t,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=i,this.layerIndex=r,this.layer=i.layers[r],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=Ae.CullTiles,this.renderer=t.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new lBe,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(a,s),this.setOrigin(),this.setSize(i.tileWidth*this.layer.width,i.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),t.sys.game.events.on(sBe.CONTEXT_RESTORED,function(){this.updateVBOData()},this)},setTilesets:function(e){var t=[],i=[],r=this.tilemap;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];if(typeof a=="string"&&(a=r.getTileset(a)),a){i.push(a);for(var s=a.firstgid,o=0;o<a.total;o++)t[s+o]=a}}this.gidMap=t,this.tileset=i},updateVBOData:function(){for(var e=0;e<this.tileset.length;e++)this.dirty[e]=!0,this.vertexCount[e]=0,this.vertexBuffer[e]=null,this.bufferData[e]=null,this.vertexViewF32[e]=null,this.vertexViewU32[e]=null;return this},upload:function(e,t){var i=this.renderer,r=i.gl,n=i.pipelines.TextureTintPipeline;if(this.dirty[t]){var a=this.tileset[t],s=this.layer.width,o=this.layer.height,l=a.image.source[0].width,h=a.image.source[0].height,u=this.layer.data,f,c,v,p=this._renderOrder,m=a.firstgid,x=a.firstgid+a.total,g=this.vertexBuffer[t],T=this.bufferData[t],S=-1,E=s*o*n.vertexSize*6;if(this.vertexCount[t]=0,T===null&&(T=new ArrayBuffer(E),this.bufferData[t]=T,this.vertexViewF32[t]=new Float32Array(T),this.vertexViewU32[t]=new Uint32Array(T)),p===0)for(c=0;c<o;c++)for(v=0;v<s;v++)f=u[c][v],!(!f||f.index<m||f.index>x||!f.visible)&&(S=this.batchTile(S,f,a,l,h,e,t));else if(p===1)for(c=0;c<o;c++)for(v=s-1;v>=0;v--)f=u[c][v],!(!f||f.index<m||f.index>x||!f.visible)&&(S=this.batchTile(S,f,a,l,h,e,t));else if(p===2)for(c=o-1;c>=0;c--)for(v=0;v<s;v++)f=u[c][v],!(!f||f.index<m||f.index>x||!f.visible)&&(S=this.batchTile(S,f,a,l,h,e,t));else if(p===3)for(c=o-1;c>=0;c--)for(v=s-1;v>=0;v--)f=u[c][v],!(!f||f.index<m||f.index>x||!f.visible)&&(S=this.batchTile(S,f,a,l,h,e,t));this.dirty[t]=!1,g===null?(g=i.createVertexBuffer(T,r.STATIC_DRAW),this.vertexBuffer[t]=g):(i.setVertexBuffer(g),r.bufferSubData(r.ARRAY_BUFFER,0,T))}return this},batchTile:function(e,t,i,r,n,a,s){var o=i.getTileTextureCoordinates(t.index);if(!o)return e;var l=i.tileWidth,h=i.tileHeight,u=l/2,f=h/2,c=o.x/r,v=o.y/n,p=(o.x+l)/r,m=(o.y+h)/n,x=this._tempMatrix,g=-u,T=-f;t.flipX&&(l*=-1,g+=i.tileWidth),t.flipY&&(h*=-1,T+=i.tileHeight);var S=g+l,E=T+h;x.applyITRS(u+t.pixelX,f+t.pixelY,t.rotation,1,1);var _=hBe.getTintAppendFloatAlpha(16777215,a.alpha*this.alpha*t.alpha),w=x.getX(g,T),R=x.getY(g,T),F=x.getX(g,E),k=x.getY(g,E),B=x.getX(S,E),N=x.getY(S,E),d=x.getX(S,T),y=x.getY(S,T);a.roundPixels&&(w=Math.round(w),R=Math.round(R),F=Math.round(F),k=Math.round(k),B=Math.round(B),N=Math.round(N),d=Math.round(d),y=Math.round(y));var C=this.vertexViewF32[s],M=this.vertexViewU32[s];return C[++e]=w,C[++e]=R,C[++e]=c,C[++e]=v,C[++e]=0,M[++e]=_,C[++e]=F,C[++e]=k,C[++e]=c,C[++e]=m,C[++e]=0,M[++e]=_,C[++e]=B,C[++e]=N,C[++e]=p,C[++e]=m,C[++e]=0,M[++e]=_,C[++e]=w,C[++e]=R,C[++e]=c,C[++e]=v,C[++e]=0,M[++e]=_,C[++e]=B,C[++e]=N,C[++e]=p,C[++e]=m,C[++e]=0,M[++e]=_,C[++e]=d,C[++e]=y,C[++e]=p,C[++e]=v,C[++e]=0,M[++e]=_,this.vertexCount[s]+=6,e},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];if(typeof e=="string"&&(e=t.indexOf(e)),e>=0&&e<4){this._renderOrder=e;for(var i=0;i<this.tileset.length;i++)this.dirty[i]=!0}return this},calculateFacesAt:function(e,t){return Ae.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,r){return Ae.CalculateFacesWithin(e,t,i,r,this.layer),this},createFromTiles:function(e,t,i,r,n){return Ae.CreateFromTiles(e,t,i,r,n,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles)},setSkipCull:function(e){return e===void 0&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return e===void 0&&(e=1),t===void 0&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},findByIndex:function(e,t,i){return Ae.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,r,n,a,s){return Ae.FindTile(e,t,i,r,n,a,s,this.layer)},filterTiles:function(e,t,i,r,n,a,s){return Ae.FilterTiles(e,t,i,r,n,a,s,this.layer)},forEachTile:function(e,t,i,r,n,a,s){return Ae.ForEachTile(e,t,i,r,n,a,s,this.layer),this},getTileAt:function(e,t,i){return Ae.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,r){return Ae.GetTileAtWorldXY(e,t,i,r,this.layer)},getTilesWithin:function(e,t,i,r,n){return Ae.GetTilesWithin(e,t,i,r,n,this.layer)},getTilesWithinWorldXY:function(e,t,i,r,n,a){return Ae.GetTilesWithinWorldXY(e,t,i,r,n,a,this.layer)},getTilesWithinShape:function(e,t,i){return Ae.GetTilesWithinShape(e,t,i,this.layer)},hasTileAt:function(e,t){return Ae.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return Ae.HasTileAtWorldXY(e,t,i,this.layer)},renderDebug:function(e,t){return Ae.RenderDebug(e,t,this.layer),this},setCollision:function(e,t,i,r){return Ae.SetCollision(e,t,i,this.layer,r),this},setCollisionBetween:function(e,t,i,r){return Ae.SetCollisionBetween(e,t,i,r,this.layer),this},setCollisionByProperty:function(e,t,i){return Ae.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return Ae.SetCollisionByExclusion(e,t,i,this.layer),this},setTileIndexCallback:function(e,t,i){return Ae.SetTileIndexCallback(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return Ae.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileLocationCallback:function(e,t,i,r,n,a){return Ae.SetTileLocationCallback(e,t,i,r,n,a,this.layer),this},tileToWorldX:function(e,t){return Ae.TileToWorldX(e,t,this.layer)},tileToWorldY:function(e,t){return Ae.TileToWorldY(e,t,this.layer)},tileToWorldXY:function(e,t,i,r){return Ae.TileToWorldXY(e,t,i,r,this.layer)},worldToTileX:function(e,t,i){return Ae.WorldToTileX(e,t,i,this.layer)},worldToTileY:function(e,t,i){return Ae.WorldToTileY(e,t,i,this.layer)},worldToTileXY:function(e,t,i,r,n){return Ae.WorldToTileXY(e,t,i,r,n,this.layer)},destroy:function(e){if(e===void 0&&(e=!0),!!this.tilemap){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;this.gidMap=[],this.tileset=[],jx.prototype.destroy.call(this)}}}),l$=uBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var fBe=O,cBe=kn,Nv=a$,dBe=pt,vBe=Nr,pBe=Lc,mBe=l3,VF=$h,Gv=l$,gBe=al,he=H0,xBe=X0,yBe=new fBe({initialize:function(t,i){this.scene=t,this.tileWidth=i.tileWidth,this.tileHeight=i.tileHeight,this.width=i.width,this.height=i.height,this.orientation=i.orientation,this.renderOrder=i.renderOrder,this.format=i.format,this.version=i.version,this.properties=i.properties,this.widthInPixels=i.widthInPixels,this.heightInPixels=i.heightInPixels,this.imageCollections=i.imageCollections,this.images=i.images,this.layers=i.layers,this.tilesets=i.tilesets,this.objects=i.objects,this.currentLayerIndex=0},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return typeof e=="number"&&(e=t[e]),t.indexOf(e)>-1&&(this.renderOrder=e),this},addTilesetImage:function(e,t,i,r,n,a,s){if(e===void 0)return null;if(t==null&&(t=e),!this.scene.sys.textures.exists(t))return console.warn("Invalid Tileset Image: "+t),null;var o=this.scene.sys.textures.get(t),l=this.getTilesetIndex(e);if(l===null&&this.format===vBe.TILED_JSON)return console.warn("No data found for Tileset: "+e),null;var h=this.tilesets[l];return h?(h.setTileSize(i,r),h.setSpacing(n,a),h.setImage(o),h):(i===void 0&&(i=this.tileWidth),r===void 0&&(r=this.tileHeight),n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=0),h=new xBe(e,s,i,r,n,a),h.setImage(o),this.tilesets.push(h),h)},convertLayerToStatic:function(e){if(e=this.getLayer(e),e===null)return null;var t=e.tilemapLayer;if(!t||!(t instanceof Nv))return null;var i=new Gv(t.scene,t.tilemap,t.layerIndex,t.tileset,t.x,t.y);return this.scene.sys.displayList.add(i),t.destroy(),i},copy:function(e,t,i,r,n,a,s,o){return o=this.getLayer(o),this._isStaticCall(o,"copy")?this:o!==null?(he.Copy(e,t,i,r,n,a,s,o),this):null},createBlankDynamicLayer:function(e,t,i,r,n,a,s,o){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=this.width),a===void 0&&(a=this.height),s===void 0&&(s=this.tileWidth),o===void 0&&(o=this.tileHeight);var l=this.getLayerIndex(e);if(l!==null)return console.warn("Invalid Tilemap Layer ID: "+e),null;for(var h=new pBe({name:e,tileWidth:s,tileHeight:o,width:n,height:a}),u,f=0;f<a;f++){u=[];for(var c=0;c<n;c++)u.push(new gBe(h,-1,c,f,s,o,this.tileWidth,this.tileHeight));h.data.push(u)}this.layers.push(h),this.currentLayerIndex=this.layers.length-1;var v=new Nv(this.scene,this,this.currentLayerIndex,t,i,r);return v.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(v),v},createDynamicLayer:function(e,t,i,r){var n=this.getLayerIndex(e);if(n===null)return console.warn("Invalid Tilemap Layer ID: "+e),typeof e=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var a=this.layers[n];if(a.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=n,i===void 0&&(i=a.x),r===void 0&&(r=a.y);var s=new Nv(this.scene,this,n,t,i,r);return s.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(s),s},createFromObjects:function(e,t,i,r){i===void 0&&(i={}),r===void 0&&(r=this.scene);var n=this.getObjectLayer(e);if(!n)return console.warn("Cannot create from object. Invalid objectgroup name given: "+e),typeof layerID=="string"&&console.warn(`Valid objectgroup names:
	`+this.getObjectLayerNames().join(`,
	`)),null;for(var a=n.objects,s=[],o=0;o<a.length;o++){var l=!1,h=a[o];if((h.gid!==void 0&&typeof t=="number"&&h.gid===t||h.id!==void 0&&typeof t=="number"&&h.id===t||h.name!==void 0&&typeof t=="string"&&h.name===t)&&(l=!0),l){var u=dBe({},i,h.properties);u.x=h.x,u.y=h.y;var f=r.make.sprite(u);f.name=h.name,h.width&&(f.displayWidth=h.width),h.height&&(f.displayHeight=h.height);var c={x:f.originX*f.displayWidth,y:(f.originY-1)*f.displayHeight};if(h.rotation){var v=cBe(h.rotation);mBe(c,v),f.rotation=v}f.x+=c.x,f.y+=c.y,(h.flippedHorizontal!==void 0||h.flippedVertical!==void 0)&&f.setFlip(h.flippedHorizontal,h.flippedVertical),h.visible||(f.visible=!1);for(var p in h.properties)f.hasOwnProperty(p)||f.setData(p,h.properties[p]);s.push(f)}}return s},createFromTiles:function(e,t,i,r,n,a){return a=this.getLayer(a),a===null?null:he.CreateFromTiles(e,t,i,r,n,a)},createStaticLayer:function(e,t,i,r){var n=this.getLayerIndex(e);if(n===null)return console.warn("Invalid Tilemap Layer ID: "+e),typeof e=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var a=this.layers[n];if(a.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=n,i===void 0&&this.layers[n].x&&(i=this.layers[n].x),r===void 0&&this.layers[n].y&&(r=this.layers[n].y);var s=new Gv(this.scene,this,n,t,i,r);return s.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(s),s},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(e,t,i,r,n,a,s){return s=this.getLayer(s),s===null?null:this._isStaticCall(s,"fill")?this:(he.Fill(e,t,i,r,n,a,s),this)},filterObjects:function(e,t,i){if(typeof e=="string"){var r=e;if(e=this.getObjectLayer(e),!e)return console.warn("No object layer found with the name: "+r),null}return e.objects.filter(t,i)},filterTiles:function(e,t,i,r,n,a,s,o){return o=this.getLayer(o),o===null?null:he.FilterTiles(e,t,i,r,n,a,s,o)},findByIndex:function(e,t,i,r){return r=this.getLayer(r),r===null?null:he.FindByIndex(e,t,i,r)},findObject:function(e,t,i){if(typeof e=="string"){var r=e;if(e=this.getObjectLayer(e),!e)return console.warn("No object layer found with the name: "+r),null}return e.objects.find(t,i)||null},findTile:function(e,t,i,r,n,a,s,o){return o=this.getLayer(o),o===null?null:he.FindTile(e,t,i,r,n,a,s,o)},forEachTile:function(e,t,i,r,n,a,s,o){return o=this.getLayer(o),o===null?null:(he.ForEachTile(e,t,i,r,n,a,s,o),this)},getImageIndex:function(e){return this.getIndex(this.images,e)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(e){return e.name})},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return null},getLayer:function(e){var t=this.getLayerIndex(e);return t!==null?this.layers[t]:null},getObjectLayer:function(e){var t=this.getIndex(this.objects,e);return t!==null?this.objects[t]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(e){return e.name})},getLayerIndex:function(e){return e===void 0?this.currentLayerIndex:typeof e=="string"?this.getLayerIndexByName(e):typeof e=="number"&&e<this.layers.length?e:e instanceof Gv||e instanceof Nv?e.layerIndex:null},getLayerIndexByName:function(e){return this.getIndex(this.layers,e)},getTileAt:function(e,t,i,r){return r=this.getLayer(r),r===null?null:he.GetTileAt(e,t,i,r)},getTileAtWorldXY:function(e,t,i,r,n){return n=this.getLayer(n),n===null?null:he.GetTileAtWorldXY(e,t,i,r,n)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(e){return e.name})},getTilesWithin:function(e,t,i,r,n,a){return a=this.getLayer(a),a===null?null:he.GetTilesWithin(e,t,i,r,n,a)},getTilesWithinShape:function(e,t,i,r){return r=this.getLayer(r),r===null?null:he.GetTilesWithinShape(e,t,i,r)},getTilesWithinWorldXY:function(e,t,i,r,n,a,s){return s=this.getLayer(s),s===null?null:he.GetTilesWithinWorldXY(e,t,i,r,n,a,s)},getTileset:function(e){var t=this.getIndex(this.tilesets,e);return t!==null?this.tilesets[t]:null},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},hasTileAt:function(e,t,i){return i=this.getLayer(i),i===null?null:he.HasTileAt(e,t,i)},hasTileAtWorldXY:function(e,t,i,r){return r=this.getLayer(r),r===null?null:he.HasTileAtWorldXY(e,t,i,r)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(e){this.setLayer(e)}},putTileAt:function(e,t,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"putTileAt")||n===null?null:he.PutTileAt(e,t,i,r,n)},putTileAtWorldXY:function(e,t,i,r,n,a){return a=this.getLayer(a),this._isStaticCall(a,"putTileAtWorldXY")||a===null?null:he.PutTileAtWorldXY(e,t,i,r,n,a)},putTilesAt:function(e,t,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"putTilesAt")?this:n===null?null:(he.PutTilesAt(e,t,i,r,n),this)},randomize:function(e,t,i,r,n,a){return a=this.getLayer(a),this._isStaticCall(a,"randomize")?this:a===null?null:(he.Randomize(e,t,i,r,n,a),this)},calculateFacesAt:function(e,t,i){return i=this.getLayer(i),i===null?null:(he.CalculateFacesAt(e,t,i),this)},calculateFacesWithin:function(e,t,i,r,n){return n=this.getLayer(n),n===null?null:(he.CalculateFacesWithin(e,t,i,r,n),this)},removeLayer:function(e){var t=this.getLayerIndex(e);if(t!==null){VF(this.layers,t);for(var i=t;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===t&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(e){var t=this.getLayerIndex(e);return t!==null?(e=this.layers[t],e.destroy(),VF(this.layers,t),this.currentLayerIndex===t&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var e=this.layers,t=0;t<e.length;t++)e[t].tilemapLayer&&e[t].tilemapLayer.destroy(!1);return e.length=0,this.currentLayerIndex=0,this},removeTile:function(e,t,i){t===void 0&&(t=-1),i===void 0&&(i=!0);var r=[];Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];r.push(this.removeTileAt(a.x,a.y,!0,i,a.tilemapLayer)),t>-1&&this.putTileAt(t,a.x,a.y,i,a.tilemapLayer)}return r},removeTileAt:function(e,t,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"removeTileAt")||n===null?null:he.RemoveTileAt(e,t,i,r,n)},removeTileAtWorldXY:function(e,t,i,r,n,a){return a=this.getLayer(a),this._isStaticCall(a,"removeTileAtWorldXY")||a===null?null:he.RemoveTileAtWorldXY(e,t,i,r,n,a)},renderDebug:function(e,t,i){return i=this.getLayer(i),i===null?null:(he.RenderDebug(e,t,i),this)},renderDebugFull:function(e,t){for(var i=this.layers,r=0;r<i.length;r++)he.RenderDebug(e,t,i[r]);return this},replaceByIndex:function(e,t,i,r,n,a,s){return s=this.getLayer(s),this._isStaticCall(s,"replaceByIndex")?this:s===null?null:(he.ReplaceByIndex(e,t,i,r,n,a,s),this)},setCollision:function(e,t,i,r,n){return r=this.getLayer(r),r===null?null:(he.SetCollision(e,t,i,r,n),this)},setCollisionBetween:function(e,t,i,r,n){return n=this.getLayer(n),n===null?null:(he.SetCollisionBetween(e,t,i,r,n),this)},setCollisionByProperty:function(e,t,i,r){return r=this.getLayer(r),r===null?null:(he.SetCollisionByProperty(e,t,i,r),this)},setCollisionByExclusion:function(e,t,i,r){return r=this.getLayer(r),r===null?null:(he.SetCollisionByExclusion(e,t,i,r),this)},setCollisionFromCollisionGroup:function(e,t,i){return i=this.getLayer(i),i===null?null:(he.SetCollisionFromCollisionGroup(e,t,i),this)},setTileIndexCallback:function(e,t,i,r){return r=this.getLayer(r),r===null?null:(he.SetTileIndexCallback(e,t,i,r),this)},setTileLocationCallback:function(e,t,i,r,n,a,s){return s=this.getLayer(s),s===null?null:(he.SetTileLocationCallback(e,t,i,r,n,a,s),this)},setLayer:function(e){var t=this.getLayerIndex(e);return t!==null&&(this.currentLayerIndex=t),this},setBaseTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=e,this.layers[i].baseTileHeight=t;for(var r=this.layers[i].data,n=this.layers[i].width,a=this.layers[i].height,s=0;s<a;s++)for(var o=0;o<n;o++){var l=r[s][o];l!==null&&l.setSize(void 0,void 0,e,t)}}return this},setLayerTileSize:function(e,t,i){if(i=this.getLayer(i),i===null)return this;i.tileWidth=e,i.tileHeight=t;for(var r=i.data,n=i.width,a=i.height,s=0;s<a;s++)for(var o=0;o<n;o++){var l=r[s][o];l!==null&&l.setSize(e,t)}return this},shuffle:function(e,t,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"shuffle")?this:n===null?null:(he.Shuffle(e,t,i,r,n),this)},swapByIndex:function(e,t,i,r,n,a,s){return s=this.getLayer(s),this._isStaticCall(s,"swapByIndex")?this:s===null?null:(he.SwapByIndex(e,t,i,r,n,a,s),this)},tileToWorldX:function(e,t,i){return i=this.getLayer(i),i===null?null:he.TileToWorldX(e,t,i)},tileToWorldY:function(e,t,i){return i=this.getLayer(i),i===null?null:he.TileToWorldY(e,t,i)},tileToWorldXY:function(e,t,i,r,n){return n=this.getLayer(n),n===null?null:he.TileToWorldXY(e,t,i,r,n)},weightedRandomize:function(e,t,i,r,n,a){return a=this.getLayer(a),this._isStaticCall(a,"weightedRandomize")?this:a===null?null:(he.WeightedRandomize(e,t,i,r,n,a),this)},worldToTileX:function(e,t,i,r){return r=this.getLayer(r),r===null?null:he.WorldToTileX(e,t,i,r)},worldToTileY:function(e,t,i,r){return r=this.getLayer(r),r===null?null:he.WorldToTileY(e,t,i,r)},worldToTileXY:function(e,t,i,r,n,a){return a=this.getLayer(a),a===null?null:he.WorldToTileXY(e,t,i,r,n,a)},_isStaticCall:function(e,t){return e.tilemapLayer instanceof Gv?(console.warn(t+": You cannot change the tiles in a static tilemap layer"),!0):!1}}),h$=yBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var TBe=Nr,SBe=Fc,UF=i$,CBe=h$,EBe=function(e,t,i,r,n,a,s,o){i===void 0&&(i=32),r===void 0&&(r=32),n===void 0&&(n=10),a===void 0&&(a=10),o===void 0&&(o=!1);var l=null;if(Array.isArray(s)){var h=t!==void 0?t:"map";l=UF(h,TBe.ARRAY_2D,s,i,r,o)}else if(t!==void 0){var u=e.cache.tilemap.get(t);u?l=UF(t,u.format,u.data,i,r,o):console.warn("No map data found for key "+t)}return l===null&&(l=new SBe({tileWidth:i,tileHeight:r,width:n,height:a})),new CBe(e,l)},JE=EBe,_Be={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ABe=at,wBe=JE;ABe.register("tilemap",function(e){var t=e!==void 0?e:{};return wBe(this.scene,t.key,t.tileWidth,t.tileHeight,t.width,t.height,t.data,t.insertNull)});var MBe={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bBe=de,PBe=JE;bBe.register("tilemap",function(e,t,i,r,n,a,s){return e===null&&(e=void 0),t===null&&(t=void 0),i===null&&(i=void 0),r===null&&(r=void 0),n===null&&(n=void 0),PBe(this.scene,e,t,i,r,n,a,s)});/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RBe={Components:H0,Parsers:qDe,Formats:Nr,ImageCollection:Y4,ParseToTilemap:JE,Tile:al,Tilemap:h$,TilemapCreator:_Be,TilemapFactory:MBe,Tileset:X0,LayerData:Lc,MapData:Fc,ObjectLayer:K4,DynamicTilemapLayer:a$,StaticTilemapLayer:l$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var LBe=O,ta=Y,FBe=new LBe({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(e){return this.delay=ta(e,"delay",0),this.repeat=ta(e,"repeat",0),this.loop=ta(e,"loop",!1),this.callback=ta(e,"callback",void 0),this.callbackScope=ta(e,"callbackScope",this.callback),this.args=ta(e,"args",[]),this.timeScale=ta(e,"timeScale",1),this.startAt=ta(e,"startAt",0),this.paused=ta(e,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var e=this.delay+this.delay*this.repeat,t=this.elapsed+this.delay*(this.repeat-this.repeatCount);return t/e}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},remove:function(e){e===void 0&&(e=!1),this.elapsed=this.delay,this.hasDispatched=!e,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}}),u$=FBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var IBe=O,OBe=mt,bn=wt,DBe=u$,f$=new IBe({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once(bn.BOOT,this.boot,this),t.sys.events.on(bn.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(bn.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(bn.PRE_UPDATE,this.preUpdate,this),e.on(bn.UPDATE,this.update,this),e.once(bn.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var t=new DBe(e);return this._pendingInsertion.push(t),t},delayedCall:function(e,t,i,r){return this.addEvent({delay:e,callback:t,args:i,callbackScope:r})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e=this._pendingRemoval.length,t=this._pendingInsertion.length;if(!(e===0&&t===0)){var i,r;for(i=0;i<e;i++){r=this._pendingRemoval[i];var n=this._active.indexOf(r);n>-1&&this._active.splice(n,1),r.destroy()}for(i=0;i<t;i++)r=this._pendingInsertion[i],this._active.push(r);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(e,t){if(this.now=e,!this.paused){t*=this.timeScale;for(var i=0;i<this._active.length;i++){var r=this._active[i];if(!r.paused&&(r.elapsed+=t*r.timeScale,r.elapsed>=r.delay)){var n=r.elapsed-r.delay;r.elapsed=r.delay,!r.hasDispatched&&r.callback&&(r.hasDispatched=!0,r.callback.apply(r.callbackScope,r.args)),r.repeatCount>0?(r.repeatCount--,r.elapsed=n,r.hasDispatched=!1):this._pendingRemoval.push(r)}}}},shutdown:function(){var e;for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var t=this.systems.events;t.off(bn.PRE_UPDATE,this.preUpdate,this),t.off(bn.UPDATE,this.update,this),t.off(bn.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(bn.START,this.start,this),this.scene=null,this.systems=null}});OBe.register("Clock",f$,"time");var BBe=f$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var NBe={Clock:BBe,TimerEvent:u$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GBe=function(e,t,i){var r;if(e.hasOwnProperty(t)){var n=typeof e[t];n==="function"?r=function(a,s,o,l,h,u){return e[t](a,s,o,l,h,u)}:r=function(){return e[t]}}else typeof i=="function"?r=i:r=function(){return i};return r},K0=GBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var kBe=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"];/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var $Be=kBe,zBe=function(e){var t,i=[];if(e.hasOwnProperty("props"))for(t in e.props)t.substr(0,1)!=="_"&&i.push({key:t,value:e.props[t]});else for(t in e)$Be.indexOf(t)===-1&&t.substr(0,1)!=="_"&&i.push({key:t,value:e[t]});return i},c$=zBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var VBe=me,UBe=function(e){var t=VBe(e,"targets",null);return t===null||(typeof t=="function"&&(t=t.call()),Array.isArray(t)||(t=[t])),t},ZE=UBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var WBe=me,YBe=function(e){var t=WBe(e,"tweens",null);return t===null?[]:(typeof t=="function"&&(t=t.call()),Array.isArray(t)||(t=[t]),t)},d$=YBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function v$(e){return!!e.getActive&&typeof e.getActive=="function"}function p$(e){return!!e.getStart&&typeof e.getStart=="function"}function m$(e){return!!e.getEnd&&typeof e.getEnd=="function"}function HBe(e){return p$(e)||m$(e)||v$(e)}var Tf=function(e,t){var i,r=function(p,m,x){return x},n=function(p,m,x){return x},a=null,s=typeof t;if(s==="number")r=function(){return t};else if(s==="string"){var o=t[0],l=parseFloat(t.substr(2));switch(o){case"+":r=function(p,m,x){return x+l};break;case"-":r=function(p,m,x){return x-l};break;case"*":r=function(p,m,x){return x*l};break;case"/":r=function(p,m,x){return x/l};break;default:r=function(){return parseFloat(t)}}}else if(s==="function")r=t;else if(s==="object")if(HBe(t))v$(t)&&(a=t.getActive),m$(t)&&(r=t.getEnd),p$(t)&&(n=t.getStart);else if(t.hasOwnProperty("value"))i=Tf(e,t.value);else{var h=t.hasOwnProperty("to"),u=t.hasOwnProperty("from"),f=t.hasOwnProperty("start");if(h&&(u||f)){if(i=Tf(e,t.to),f){var c=Tf(e,t.start);i.getActive=c.getEnd}if(u){var v=Tf(e,t.from);i.getStart=v.getEnd}}}return i||(i={getActive:a,getEnd:r,getStart:n}),i},QE=Tf;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var XBe={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1},jE=XBe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var KBe="complete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var qBe="loop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var JBe="pause";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZBe="resume";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var QBe="start";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var jBe="update";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e3e="active";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t3e="complete";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var i3e="loop";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var r3e="repeat";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n3e="start";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a3e="update";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s3e="yoyo";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e_={TIMELINE_COMPLETE:KBe,TIMELINE_LOOP:qBe,TIMELINE_PAUSE:JBe,TIMELINE_RESUME:ZBe,TIMELINE_START:QBe,TIMELINE_UPDATE:jBe,TWEEN_ACTIVE:e3e,TWEEN_COMPLETE:t3e,TWEEN_LOOP:i3e,TWEEN_REPEAT:r3e,TWEEN_START:n3e,TWEEN_UPDATE:a3e,TWEEN_YOYO:s3e};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o3e=O,WF=Me,_r=e_,l3e=at,h3e=de,U=dc,u3e=et,g$=new o3e({Extends:WF,initialize:function(t,i,r){WF.call(this),this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=i,this.totalData=i.length,this.targets=r,this.totalTargets=r.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=U.PENDING_ADD,this._pausedState=U.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(e){return e===void 0&&(e=0),this.data[e].current},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===U.ACTIVE},isPaused:function(){return this.state===U.PAUSED},hasTarget:function(e){return this.targets.indexOf(e)!==-1},updateTo:function(e,t,i){i===void 0&&(i=!1);for(var r=0;r<this.totalData;r++){var n=this.data[r];n.key===e&&(n.end=t,i&&(n.start=n.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===U.ACTIVE?this.seek(0):this.state===U.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===U.PENDING_ADD?this:this.play()},calcDuration:function(){for(var e=0,t=u3e.MAX_SAFE_INTEGER,i=this.data,r=0;r<this.totalData;r++){var n=i[r];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,n.repeat===-1?n.totalDuration+=n.t2*999999999999:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>e&&(e=n.totalDuration),n.delay<t&&(t=n.delay)}this.duration=Math.max(e,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=t},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=U.PENDING_ADD,this._pausedState=U.INIT,!1;for(var e=this.data,t=this.totalTargets,i=0;i<this.totalData;i++){var r=e[i],n=r.target,a=r.gen,s=r.key,o=r.index;r.delay=a.delay(n,s,0,o,t,this),r.duration=Math.max(a.duration(n,s,0,o,t,this),.001),r.hold=a.hold(n,s,0,o,t,this),r.repeat=a.repeat(n,s,0,o,t,this),r.repeatDelay=a.repeatDelay(n,s,0,o,t,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=U.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(_r.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=U.LOOP_DELAY):(this.state=U.ACTIVE,this.dispatchTweenEvent(_r.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=U.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=U.PENDING_REMOVE,this.dispatchTweenEvent(_r.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===U.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=U.PAUSED,this)},play:function(e){e===void 0&&(e=!1);var t=this.state;return t===U.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=U.ACTIVE,this):t===U.ACTIVE||t===U.PENDING_ADD&&this._pausedState===U.PENDING_ADD?this:!this.parentIsTimeline&&(t===U.PENDING_REMOVE||t===U.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(e),this.calculatedOffset===0?this.state=U.ACTIVE:(this.countdown=this.calculatedOffset,this.state=U.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(e),this.state=U.ACTIVE,this.makeActive()),this)},resetTweenData:function(e){for(var t=this.data,i=this.totalData,r=this.totalTargets,n=0;n<i;n++){var a=t[n],s=a.target,o=a.key,l=a.index;a.progress=0,a.elapsed=0,a.repeatCounter=a.repeat===-1?999999999999:a.repeat,e?(a.start=a.getStartValue(s,o,a.start,l,r,this),a.end=a.getEndValue(s,o,a.end,l,r,this),a.current=a.start,a.state=U.PLAYING_FORWARD):a.state=U.PENDING_RENDER,a.delay>0&&(a.elapsed=a.delay,a.state=U.DELAY),a.getActiveValue&&(s[o]=a.getActiveValue(a.target,a.key,a.start))}},resume:function(){return this.state===U.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(e,t){if(t===void 0&&(t=16.6),this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===U.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var i=this.data,r=this.totalTargets,n=0;n<this.totalData;n++){var a=i[n],s=a.target,o=a.gen,l=a.key,h=a.index;a.progress=0,a.elapsed=0,a.repeatCounter=a.repeat===-1?999999999999:a.repeat,a.delay=o.delay(s,l,0,h,r,this),a.duration=Math.max(o.duration(s,l,0,h,r,this),.001),a.hold=o.hold(s,l,0,h,r,this),a.repeat=o.repeat(s,l,0,h,r,this),a.repeatDelay=o.repeatDelay(s,l,0,h,r,this),a.current=a.start,a.state=U.PLAYING_FORWARD,this.updateTweenData(this,a,0,h,r),a.delay>0&&(a.elapsed=a.delay,a.state=U.DELAY)}this.calcDuration();var u=!1;this.state===U.PAUSED&&(u=!0,this.state=U.ACTIVE),this.isSeeking=!0;do this.update(0,t);while(this.totalProgress<e);return this.isSeeking=!1,u&&(this.state=U.PAUSED),this},setCallback:function(e,t,i,r){return this.callbacks[e]={func:t,scope:r,params:i},this},complete:function(e){return e===void 0&&(e=0),e?(this.state=U.COMPLETE_DELAY,this.countdown=e):(this.state=U.PENDING_REMOVE,this.dispatchTweenEvent(_r.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(e){return this.state===U.ACTIVE&&e!==void 0&&this.seek(e),this.state!==U.REMOVED&&((this.state===U.PAUSED||this.state===U.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.removeAllListeners(),this.state=U.PENDING_REMOVE),this},update:function(e,t){if(this.state===U.PAUSED)return!1;switch(this.useFrames&&(t=1*this.parent.timeScale),t*=this.timeScale,this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case U.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=t,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(_r.TWEEN_START,this.callbacks.onStart)));for(var i=!1,r=0;r<this.totalData;r++){var n=this.data[r];this.updateTweenData(this,n,t)&&(i=!0)}i||this.nextState();break;case U.LOOP_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=U.ACTIVE,this.dispatchTweenEvent(_r.TWEEN_LOOP,this.callbacks.onLoop));break;case U.OFFSET_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=U.ACTIVE);break;case U.COMPLETE_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=U.PENDING_REMOVE,this.dispatchTweenEvent(_r.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===U.PENDING_REMOVE},dispatchTweenDataEvent:function(e,t,i){this.isSeeking||(this.emit(e,this,i.key,i.target),t&&(t.params[1]=i.target,t.func.apply(t.scope,t.params)))},dispatchTweenEvent:function(e,t){this.isSeeking||(this.emit(e,this,this.targets),t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)))},setStateFromEnd:function(e,t,i){return t.yoyo?(t.elapsed=i,t.progress=i/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),this.dispatchTweenDataEvent(_r.TWEEN_YOYO,e.callbacks.onYoyo,t),t.start=t.getStartValue(t.target,t.key,t.start,t.index,e.totalTargets,e),U.PLAYING_BACKWARD):t.repeatCounter>0?(t.repeatCounter--,t.elapsed=i,t.progress=i/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),t.start=t.getStartValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.end=t.getEndValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.repeatDelay>0?(t.elapsed=t.repeatDelay-i,t.current=t.start,t.target[t.key]=t.current,U.REPEAT_DELAY):(this.dispatchTweenDataEvent(_r.TWEEN_REPEAT,e.callbacks.onRepeat,t),U.PLAYING_FORWARD)):U.COMPLETE},setStateFromStart:function(e,t,i){return t.repeatCounter>0?(t.repeatCounter--,t.elapsed=i,t.progress=i/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),t.end=t.getEndValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.repeatDelay>0?(t.elapsed=t.repeatDelay-i,t.current=t.start,t.target[t.key]=t.current,U.REPEAT_DELAY):(this.dispatchTweenDataEvent(_r.TWEEN_REPEAT,e.callbacks.onRepeat,t),U.PLAYING_FORWARD)):U.COMPLETE},updateTweenData:function(e,t,i){var r=t.target;switch(t.state){case U.PLAYING_FORWARD:case U.PLAYING_BACKWARD:if(!r){t.state=U.COMPLETE;break}var n=t.elapsed,a=t.duration,s=0;n+=i,n>a&&(s=n-a,n=a);var o=t.state===U.PLAYING_FORWARD,l=n/a;if(t.elapsed=n,t.progress=l,l===1)o?(t.current=t.end,r[t.key]=t.end,t.hold>0?(t.elapsed=t.hold-s,t.state=U.HOLD_DELAY):t.state=this.setStateFromEnd(e,t,s)):(t.current=t.start,r[t.key]=t.start,t.state=this.setStateFromStart(e,t,s));else{var h=o?t.ease(l):t.ease(1-l);t.current=t.start+(t.end-t.start)*h,r[t.key]=t.current}this.dispatchTweenDataEvent(_r.TWEEN_UPDATE,e.callbacks.onUpdate,t);break;case U.DELAY:t.elapsed-=i,t.elapsed<=0&&(t.elapsed=Math.abs(t.elapsed),t.state=U.PENDING_RENDER);break;case U.REPEAT_DELAY:t.elapsed-=i,t.elapsed<=0&&(t.elapsed=Math.abs(t.elapsed),t.state=U.PLAYING_FORWARD,this.dispatchTweenDataEvent(_r.TWEEN_REPEAT,e.callbacks.onRepeat,t));break;case U.HOLD_DELAY:t.elapsed-=i,t.elapsed<=0&&(t.state=this.setStateFromEnd(e,t,Math.abs(t.elapsed)));break;case U.PENDING_RENDER:r?(t.start=t.getStartValue(r,t.key,r[t.key],t.index,e.totalTargets,e),t.end=t.getEndValue(r,t.key,t.start,t.index,e.totalTargets,e),t.current=t.start,r[t.key]=t.start,t.state=U.PLAYING_FORWARD):t.state=U.COMPLETE;break}return t.state!==U.COMPLETE}});g$.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"];h3e.register("tween",function(e){return this.scene.sys.tweens.add(e)});l3e.register("tween",function(e){return this.scene.sys.tweens.create(e)});var t_=g$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f3e=function(e,t,i,r,n,a,s,o,l,h,u,f,c,v,p){return{target:e,index:t,key:i,getActiveValue:a,getEndValue:r,getStartValue:n,ease:s,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:v,flipY:p,progress:0,elapsed:0,repeatCounter:0,start:0,current:0,end:0,t1:0,t2:0,gen:{delay:o,duration:l,hold:u,repeat:f,repeatDelay:c},state:0}},i_=f3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c3e=jE,kv=tt,ey=cc,d3e=Hh,af=K0,xs=me,v3e=QE,YF=t_,p3e=i_,m3e=function(e,t,i){i===void 0&&(i=c3e);var r=xs(t,"from",0),n=xs(t,"to",1),a=[{value:r}],s=af(t,"delay",i.delay),o=af(t,"duration",i.duration),l=xs(t,"easeParams",i.easeParams),h=d3e(xs(t,"ease",i.ease),l),u=af(t,"hold",i.hold),f=af(t,"repeat",i.repeat),c=af(t,"repeatDelay",i.repeatDelay),v=ey(t,"yoyo",i.yoyo),p=[],m=v3e("value",n),x=p3e(a[0],0,"value",m.getEnd,m.getStart,m.getActive,h,s,o,v,u,f,c,!1,!1);x.start=r,x.current=r,x.to=n,p.push(x);var g=new YF(e,p,a);g.offset=kv(t,"offset",null),g.completeDelay=kv(t,"completeDelay",0),g.loop=Math.round(kv(t,"loop",0)),g.loopDelay=Math.round(kv(t,"loopDelay",0)),g.paused=ey(t,"paused",!1),g.useFrames=ey(t,"useFrames",!1);for(var T=xs(t,"callbackScope",g),S=[g,null],E=YF.TYPES,_=0;_<E.length;_++){var w=E[_],R=xs(t,w,!1);if(R){var F=xs(t,w+"Scope",T),k=xs(t,w+"Params",[]);g.setCallback(w,R,S.concat(k),F)}}return g},x$=m3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g3e=jE,$v=tt,ys=cc,HF=Hh,Pn=K0,x3e=c$,y3e=ZE,_o=me,T3e=QE,XF=t_,S3e=i_,C3e=function(e,t,i){i===void 0&&(i=g3e);for(var r=i.targets?i.targets:y3e(t),n=x3e(t),a=Pn(t,"delay",i.delay),s=Pn(t,"duration",i.duration),o=_o(t,"easeParams",i.easeParams),l=HF(_o(t,"ease",i.ease),o),h=Pn(t,"hold",i.hold),u=Pn(t,"repeat",i.repeat),f=Pn(t,"repeatDelay",i.repeatDelay),c=ys(t,"yoyo",i.yoyo),v=ys(t,"flipX",i.flipX),p=ys(t,"flipY",i.flipY),m=[],x=0;x<n.length;x++)for(var g=n[x].key,T=n[x].value,S=0;S<r.length;S++){var E=T3e(g,T),_=S3e(r[S],S,g,E.getEnd,E.getStart,E.getActive,HF(_o(T,"ease",l),o),Pn(T,"delay",a),Pn(T,"duration",s),ys(T,"yoyo",c),Pn(T,"hold",h),Pn(T,"repeat",u),Pn(T,"repeatDelay",f),ys(T,"flipX",v),ys(T,"flipY",p));m.push(_)}var w=new XF(e,m,r);w.offset=$v(t,"offset",null),w.completeDelay=$v(t,"completeDelay",0),w.loop=Math.round($v(t,"loop",0)),w.loopDelay=Math.round($v(t,"loopDelay",0)),w.paused=ys(t,"paused",!1),w.useFrames=ys(t,"useFrames",!1);for(var R=_o(t,"callbackScope",w),F=[w,null],k=XF.TYPES,B=0;B<k.length;B++){var N=k[B],d=_o(t,N,!1);if(d){var y=_o(t,N+"Scope",R),C=_o(t,N+"Params",[]);w.setCallback(N,d,F.concat(C),y)}}return w},q0=C3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var E3e=O,KF=Me,Ts=e_,_3e=q0,ot=dc,r_=new E3e({Extends:KF,initialize:function(t){KF.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=ot.PENDING_ADD,this._pausedState=ot.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(e,t){this.emit(e,this),t&&t.func.apply(t.scope,t.params)},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===ot.ACTIVE},add:function(e){return this.queue(_3e(this,e))},queue:function(e){return this.isPlaying()||(e.parent=this,e.parentIsTimeline=!0,this.data.push(e),this.totalData=this.data.length),this},hasOffset:function(e){return e.offset!==null},isOffsetAbsolute:function(e){return typeof e=="number"},isOffsetRelative:function(e){var t=typeof e;if(t==="string"){var i=e[0];if(i==="-"||i==="+")return!0}return!1},getRelativeOffset:function(e,t){var i=e[0],r=parseFloat(e.substr(2)),n=t;switch(i){case"+":n+=r;break;case"-":n-=r;break}return Math.max(0,n)},calcDuration:function(){for(var e=0,t=0,i=0,r=0;r<this.totalData;r++){var n=this.data[r];n.init(),this.hasOffset(n)?this.isOffsetAbsolute(n.offset)?(n.calculatedOffset=n.offset,n.offset===0&&(i=0)):this.isOffsetRelative(n.offset)&&(n.calculatedOffset=this.getRelativeOffset(n.offset,e)):n.calculatedOffset=i,e=n.totalDuration+n.calculatedOffset,t+=n.totalDuration,i+=n.totalDuration}this.duration=t,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=ot.PAUSED,!1):!0},resetTweens:function(e){for(var t=0;t<this.totalData;t++){var i=this.data[t];i.play(e)}},setCallback:function(e,t,i,r){return r_.TYPES.indexOf(e)!==-1&&(this.callbacks[e]={func:t,scope:r,params:i}),this},makeActive:function(e){return this.manager.makeActive(e)},play:function(){if(this.state!==ot.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=ot.ACTIVE;this.dispatchTimelineEvent(Ts.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=ot.LOOP_DELAY):(this.state=ot.ACTIVE,this.dispatchTimelineEvent(Ts.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=ot.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=ot.PENDING_REMOVE,this.dispatchTimelineEvent(Ts.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(e,t){if(this.state!==ot.PAUSED){switch(this.useFrames&&(t=1*this.manager.timeScale),t*=this.timeScale,this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case ot.ACTIVE:for(var i=this.totalData,r=0;r<this.totalData;r++){var n=this.data[r];n.update(e,t)&&i--}this.dispatchTimelineEvent(Ts.TIMELINE_UPDATE,this.callbacks.onUpdate),i===0&&this.nextState();break;case ot.LOOP_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=ot.ACTIVE,this.dispatchTimelineEvent(Ts.TIMELINE_LOOP,this.callbacks.onLoop));break;case ot.COMPLETE_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=ot.PENDING_REMOVE,this.dispatchTimelineEvent(Ts.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===ot.PENDING_REMOVE}},stop:function(){this.state=ot.PENDING_REMOVE},pause:function(){if(this.state!==ot.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=ot.PAUSED,this.emit(Ts.TIMELINE_PAUSE,this),this},resume:function(){return this.state===ot.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(Ts.TIMELINE_RESUME,this)),this},hasTarget:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].hasTarget(e))return!0;return!1},destroy:function(){for(var e=0;e<this.data.length;e++)this.data[e].stop()}});r_.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"];var y$=r_;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A3e=Qo,w3e=jE,zv=tt,sf=cc,M3e=Hh,of=K0,b3e=ZE,P3e=d$,Dt=me,R3e=y$,L3e=q0,F3e=function(e,t){var i=new R3e(e),r=P3e(t);if(r.length===0)return i.paused=!0,i;var n=A3e(w3e);n.targets=b3e(t);var a=zv(t,"totalDuration",0);a>0?n.duration=Math.floor(a/r.length):n.duration=of(t,"duration",n.duration),n.delay=of(t,"delay",n.delay),n.easeParams=Dt(t,"easeParams",n.easeParams),n.ease=M3e(Dt(t,"ease",n.ease),n.easeParams),n.hold=of(t,"hold",n.hold),n.repeat=of(t,"repeat",n.repeat),n.repeatDelay=of(t,"repeatDelay",n.repeatDelay),n.yoyo=sf(t,"yoyo",n.yoyo),n.flipX=sf(t,"flipX",n.flipX),n.flipY=sf(t,"flipY",n.flipY);for(var s=0;s<r.length;s++)i.queue(L3e(i,r[s],n));i.completeDelay=zv(t,"completeDelay",0),i.loop=Math.round(zv(t,"loop",0)),i.loopDelay=Math.round(zv(t,"loopDelay",0)),i.paused=sf(t,"paused",!1),i.useFrames=sf(t,"useFrames",!1);var o=Dt(t,"callbackScope",i),l=[i],h=Dt(t,"onStart",!1);if(h){var u=Dt(t,"onStartScope",o),f=Dt(t,"onStartParams",[]);i.setCallback("onStart",h,l.concat(f),u)}var c=Dt(t,"onUpdate",!1);if(c){var v=Dt(t,"onUpdateScope",o),p=Dt(t,"onUpdateParams",[]);i.setCallback("onUpdate",c,l.concat(p),v)}var m=Dt(t,"onLoop",!1);if(m){var x=Dt(t,"onLoopScope",o),g=Dt(t,"onLoopParams",[]);i.setCallback("onLoop",m,l.concat(g),x)}var T=Dt(t,"onYoyo",!1);if(T){var S=Dt(t,"onYoyoScope",o),E=Dt(t,"onYoyoParams",[]);i.setCallback("onYoyo",T,l.concat(null,E),S)}var _=Dt(t,"onComplete",!1);if(_){var w=Dt(t,"onCompleteScope",o),R=Dt(t,"onCompleteParams",[]);i.setCallback("onComplete",_,l.concat(R),w)}return i},T$=F3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var I3e={GetBoolean:cc,GetEaseFunction:Hh,GetNewValue:K0,GetProps:c$,GetTargets:ZE,GetTweens:d$,GetValueOp:QE,NumberTweenBuilder:x$,TimelineBuilder:T$,TweenBuilder:q0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var O3e=Hh,Vv=me,D3e=et,B3e=function(e,t){t===void 0&&(t={});var i,r=Vv(t,"start",0),n=Vv(t,"ease",null),a=Vv(t,"grid",null),s=Vv(t,"from",0),o=s==="first",l=s==="center",h=s==="last",u=typeof s=="number",f=Array.isArray(e),c=parseFloat(f?e[0]:e),v=f?parseFloat(e[1]):0,p=Math.max(c,v);if(f&&(r+=c),a){var m=a[0],x=a[1],g=0,T=0,S=0,E=0,_=[];h?(g=m-1,T=x-1):u?(g=s%m,T=Math.floor(s/m)):l&&(g=(m-1)/2,T=(x-1)/2);for(var w=D3e.MIN_SAFE_INTEGER,R=0;R<x;R++){_[R]=[];for(var F=0;F<m;F++){S=g-F,E=T-R;var k=Math.sqrt(S*S+E*E);k>w&&(w=k),_[R][F]=k}}}var B=n?O3e(n):null;return a?i=function(N,d,y,C){var M=0,A=C%m,L=Math.floor(C/m);A>=0&&A<m&&L>=0&&L<x&&(M=_[L][A]);var P;if(f){var b=v-c;B?P=M/w*b*B(M/w):P=M/w*b}else B?P=M*c*B(M/w):P=M*c;return P+r}:i=function(N,d,y,C,M){M--;var A;o?A=C:l?A=Math.abs(M/2-C):h?A=M-C:u&&(A=Math.abs(s-C));var L;if(f){var P;l?P=(v-c)/M*(A*2):P=(v-c)/M*A,B?L=P*B(A/M):L=P}else B?L=M*p*B(A/M):L=A*c;return L+r},i},N3e=B3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Uv=E0,G3e=O,k3e=x$,$3e=mt,Rn=wt,z3e=N3e,qF=T$,lf=dc,JF=q0,S$=new G3e({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once(Rn.BOOT,this.boot,this),t.sys.events.on(Rn.START,this.start,this)},boot:function(){this.systems.events.once(Rn.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(Rn.PRE_UPDATE,this.preUpdate,this),e.on(Rn.UPDATE,this.update,this),e.once(Rn.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(e){return qF(this,e)},timeline:function(e){var t=qF(this,e);return t.paused||(this._add.push(t),this._toProcess++),t},create:function(e){return JF(this,e)},add:function(e){var t=JF(this,e);return this._add.push(t),this._toProcess++,t},existing:function(e){return this._add.push(e),this._toProcess++,this},addCounter:function(e){var t=k3e(this,e);return this._add.push(t),this._toProcess++,t},stagger:function(e,t){return z3e(e,t)},preUpdate:function(){if(this._toProcess!==0){var e=this._destroy,t=this._active,i=this._pending,r,n;for(r=0;r<e.length;r++){n=e[r];var a=t.indexOf(n);a===-1?(a=i.indexOf(n),a>-1&&(n.state=lf.REMOVED,i.splice(a,1))):(n.state=lf.REMOVED,t.splice(a,1))}for(e.length=0,e=this._add,r=0;r<e.length;r++)n=e[r],n.state===lf.PENDING_ADD&&(n.init()?(n.play(),this._active.push(n)):this._pending.push(n));e.length=0,this._toProcess=0}},update:function(e,t){var i=this._active,r;t*=this.timeScale;for(var n=0;n<i.length;n++)r=i[n],r.update(e,t)&&(this._destroy.push(r),this._toProcess++)},remove:function(e){return Uv(this._add,e),Uv(this._pending,e),Uv(this._active,e),Uv(this._destroy,e),e.state=lf.REMOVED,this},makeActive:function(e){if(this._add.indexOf(e)!==-1||this._active.indexOf(e)!==-1)return this;var t=this._pending.indexOf(e);return t!==-1&&this._pending.splice(t,1),this._add.push(e),e.state=lf.PENDING_ADD,this._toProcess++,this},each:function(e,t){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[0]=this.list[n],e.apply(t,i)},getAllTweens:function(){for(var e=this._active,t=[],i=0;i<e.length;i++)t.push(e[i]);return t},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(e){var t=this._active,i,r=[],n;if(Array.isArray(e))for(n=0;n<t.length;n++){i=t[n];for(var a=0;a<e.length;a++)i.hasTarget(e[a])&&r.push(i)}else for(n=0;n<t.length;n++)i=t[n],i.hasTarget(e)&&r.push(i);return r},isTweening:function(e){for(var t=this._active,i,r=0;r<t.length;r++)if(i=t[r],i.hasTarget(e)&&i.isPlaying())return!0;return!1},killAll:function(){for(var e=this.getAllTweens(),t=0;t<e.length;t++)e[t].stop();return this},killTweensOf:function(e){for(var t=this.getTweensOf(e),i=0;i<t.length;i++)t[i].stop();return this},pauseAll:function(){for(var e=this._active,t=0;t<e.length;t++)e[t].pause();return this},resumeAll:function(){for(var e=this._active,t=0;t<e.length;t++)e[t].resume();return this},setGlobalTimeScale:function(e){return this.timeScale=e,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var e=this.systems.events;e.off(Rn.PRE_UPDATE,this.preUpdate,this),e.off(Rn.UPDATE,this.update,this),e.off(Rn.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(Rn.START,this.start,this),this.scene=null,this.systems=null}});$3e.register("TweenManager",S$,"tweens");var V3e=S$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var U3e=dc,W3e=pt,QT={Builders:I3e,Events:e_,TweenManager:V3e,Tween:t_,TweenData:i_,Timeline:y$};QT=W3e(!1,QT,U3e);var Y3e=QT;/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var Wv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H3e=function(e,t){for(var i=new Uint8Array(e),r=i.length,n=t?"data:"+t+";base64,":"",a=0;a<r;a+=3)n+=Wv[i[a]>>2],n+=Wv[(i[a]&3)<<4|i[a+1]>>4],n+=Wv[(i[a+1]&15)<<2|i[a+2]>>6],n+=Wv[i[a+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n},X3e=H3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var K3e={ArrayBufferToBase64:X3e,Base64ToArrayBuffer:EN};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var q3e=me,J3e=$t,Z3e=function(e,t,i,r,n){n===void 0&&(n=i);var a=q3e(e,t,n);return J3e(a,i,r)},Q3e=Z3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var j3e=function(e,t){for(var i=0;i<t.length;i++)if(!e.hasOwnProperty(t[i]))return!1;return!0},eNe=j3e;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var tNe=Qo,iNe=function(e,t){var i=tNe(e);for(var r in t)i.hasOwnProperty(r)&&(i[r]=t[r]);return i},rNe=iNe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var nNe={Clone:Qo,Extend:pt,GetAdvancedValue:tt,GetFastValue:Y,GetMinMaxValue:Q3e,GetValue:me,HasAll:eNe,HasAny:uG,HasValue:Xh,IsPlainObject:Te,Merge:Uh,MergeRight:rNe,Pick:H4,SetValue:fk};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aNe=function(e,t){return e.replace(/%([0-9]+)/g,function(i,r){return t[Number(r)-1]})},sNe=aNe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var oNe=function(e){return e.split("").reverse().join("")},lNe=oNe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var hNe={Format:sNe,Pad:yC,Reverse:lNe,UppercaseFirst:WC,UUID:lE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var uNe={Array:JC,Base64:K3e,Objects:nNe,String:hNe};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ty,ZF;function fNe(){return ZF||(ZF=1,ty={SoundManagerCreator:wN(),Events:Qs,BaseSound:M0(),BaseSoundManager:w0(),WebAudioSound:_N(),WebAudioSoundManager:AN(),HTML5AudioSound:yN(),HTML5AudioSoundManager:TN(),NoAudioSound:SN(),NoAudioSoundManager:CN()}),ty}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iy,QF;function J0(){if(QF)return iy;QF=1;var e=O,t=qe,i=Fa,r=oe,n=y0,a=new e({Extends:t,initialize:function(o,l,h,u,f,c){t.call(this,o,"Sprite3D"),this.gameObject=new i(o,0,0,f,c),this.position=new n(l,h,u),this.size=new r(this.gameObject.width,this.gameObject.height),this.scale=new r(1,1),this.adjustScaleX=!0,this.adjustScaleY=!0,this._visible=!0},project:function(s){var o=this.position,l=this.gameObject;s.project(o,l),s.getPointSize(o,this.size,this.scale),this.scale.x<=0||this.scale.y<=0?l.setVisible(!1):(l.visible||l.setVisible(!0),this.adjustScaleX&&(l.scaleX=this.scale.x),this.adjustScaleY&&(l.scaleY=this.scale.y),l.setDepth(l.z*-1))},setVisible:function(s){return this.visible=s,this},visible:{get:function(){return this._visible},set:function(s){this._visible=s,this.gameObject.visible=s}},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},z:{get:function(){return this.position.z},set:function(s){this.position.z=s}}});return iy=a,iy}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ry,jF;function n_(){if(jF)return ry;jF=1;var e=O,t=LC,i=s3,r=o3,n=v3,a=Wh,s=J0(),o=oe,l=kh,h=y0,u=new l,f=new h,c=new l,v=new l,p=new t,m=new e({initialize:function(g){this.scene=g,this.displayList=g.sys.displayList,this.updateList=g.sys.updateList,this.name="",this.direction=new l(0,0,-1),this.up=new l(0,1,0),this.position=new l,this.pixelScale=128,this.projection=new t,this.view=new t,this.combined=new t,this.invProjectionView=new t,this.near=1,this.far=100,this.ray={origin:new l,direction:new l},this.viewportWidth=0,this.viewportHeight=0,this.billboardMatrixDirty=!0,this.children=new a},setPosition:function(x,g,T){return this.position.set(x,g,T),this.update()},setScene:function(x){return this.scene=x,this},setPixelScale:function(x){return this.pixelScale=x,this.update()},add:function(x){return this.children.set(x),this.displayList.add(x.gameObject),this.updateList.add(x.gameObject),this.updateChildren(),x},remove:function(x){return this.displayList.remove(x.gameObject),this.updateList.remove(x.gameObject),this.children.delete(x),this},clear:function(){for(var x=this.getChildren(),g=0;g<x.length;g++)this.remove(x[g]);return this},getChildren:function(){return this.children.entries},create:function(x,g,T,S,E,_){_===void 0&&(_=!0);var w=new s(this.scene,x,g,T,S,E);return this.displayList.add(w.gameObject),this.updateList.add(w.gameObject),w.visible=_,this.children.set(w),this.updateChildren(),w},createMultiple:function(x,g,T,S){S===void 0&&(S=!0);for(var E=[],_=0;_<x;_++){var w=new s(this.scene,0,0,0,g,T);this.displayList.add(w.gameObject),this.updateList.add(w.gameObject),w.visible=S,this.children.set(w),E.push(w)}return E},createRect:function(x,g,T,S){typeof x=="number"&&(x={x,y:x,z:x}),typeof g=="number"&&(g={x:g,y:g,z:g});for(var E=x.x*x.y*x.z,_=this.createMultiple(E,T,S),w=0,R=.5-x.z/2;R<x.z/2;R++)for(var F=.5-x.y/2;F<x.y/2;F++)for(var k=.5-x.x/2;k<x.x/2;k++){var B=k*g.x,N=F*g.y,d=R*g.z;_[w].position.set(B,N,d),w++}return this.update(),_},randomSphere:function(x,g){g===void 0&&(g=this.getChildren());for(var T=0;T<g.length;T++)i(g[T].position,x);return this.update()},randomCube:function(x,g){g===void 0&&(g=this.getChildren());for(var T=0;T<g.length;T++)r(g[T].position,x);return this.update()},translateChildren:function(x,g){g===void 0&&(g=this.getChildren());for(var T=0;T<g.length;T++)g[T].position.add(x);return this.update()},transformChildren:function(x,g){g===void 0&&(g=this.getChildren());for(var T=0;T<g.length;T++)g[T].position.transformMat4(x);return this.update()},setViewport:function(x,g){return this.viewportWidth=x,this.viewportHeight=g,this.update()},translate:function(x,g,T){return typeof x=="object"?(this.position.x+=x.x||0,this.position.y+=x.y||0,this.position.z+=x.z||0):(this.position.x+=x||0,this.position.y+=g||0,this.position.z+=T||0),this.update()},lookAt:function(x,g,T){var S=this.direction,E=this.up;return typeof x=="object"?S.copy(x):S.set(x,g,T),S.subtract(this.position).normalize(),u.copy(S).cross(E).normalize(),E.copy(u).cross(S).normalize(),this.update()},rotate:function(x,g){return n(this.direction,g,x),n(this.up,g,x),this.update()},rotateAround:function(x,g,T){return u.copy(x).subtract(this.position),this.translate(u),this.rotate(g,T),this.translate(u.negate()),this.update()},project:function(x,g){g===void 0&&(g=new h);var T=this.viewportWidth,S=this.viewportHeight,E=m.NEAR_RANGE,_=m.FAR_RANGE;return f.set(x.x,x.y,x.z,1),f.transformMat4(this.combined),f.w===0&&(f.w=1),f.x=f.x/f.w,f.y=f.y/f.w,f.z=f.z/f.w,g.x=T/2*f.x+(0+T/2),g.y=S/2*f.y+(0+S/2),g.z=(_-E)/2*f.z+(_+E)/2,(g.w===0||g.w)&&(g.w=1/f.w),g},unproject:function(x,g){g===void 0&&(g=new l);var T=f.set(0,0,this.viewportWidth,this.viewportHeight);return g.copy(x).unproject(T,this.invProjectionView)},getPickRay:function(x,g){var T=this.ray.origin.set(x,g,0),S=this.ray.direction.set(x,g,1),E=f.set(0,0,this.viewportWidth,this.viewportHeight),_=this.invProjectionView;return T.unproject(E,_),S.unproject(E,_),S.subtract(T).normalize(),this.ray},updateChildren:function(){for(var x=this.children.entries,g=0;g<x.length;g++)x[g].project(this);return this},update:function(){return this.updateChildren()},updateBillboardMatrix:function(){var x=c.set(this.direction).negate(),g=v.set(this.up).cross(x).normalize(),T=u.set(x).cross(g).normalize(),S=p.val;S[0]=g.x,S[1]=g.y,S[2]=g.z,S[3]=0,S[4]=T.x,S[5]=T.y,S[6]=T.z,S[7]=0,S[8]=x.x,S[9]=x.y,S[10]=x.z,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,this.billboardMatrixDirty=!1},getPointSize:function(x,g,T){T===void 0&&(T=new o),this.billboardMatrixDirty&&this.updateBillboardMatrix();var S=u,E=g.x/this.pixelScale/2,_=g.y/this.pixelScale/2;S.set(-E,-_,0).transformMat4(p).add(x),this.project(S,S);var w=S.x,R=S.y;S.set(E,_,0).transformMat4(p).add(x),this.project(S,S);var F=S.x,k=S.y,B=F-w,N=k-R;return T.set(B,N)},destroy:function(){this.children.clear(),this.scene=void 0,this.children=void 0},setX:function(x){return this.position.x=x,this.update()},setY:function(x){return this.position.y=x,this.update()},setZ:function(x){return this.position.z=x,this.update()},x:{get:function(){return this.position.x},set:function(x){this.position.x=x,this.update()}},y:{get:function(){return this.position.y},set:function(x){this.position.y=x,this.update()}},z:{get:function(){return this.position.z},set:function(x){this.position.z=x,this.update()}}});return m.FAR_RANGE=1,m.NEAR_RANGE=0,ry=m,ry}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ny,eI;function C$(){if(eI)return ny;eI=1;var e=n_(),t=O,i=kh,r=new i,n=new t({Extends:e,initialize:function(s,o,l){o===void 0&&(o=0),l===void 0&&(l=0),e.call(this,s),this.viewportWidth=o,this.viewportHeight=l,this._zoom=1,this.near=0,this.update()},setToOrtho:function(a,s,o){s===void 0&&(s=this.viewportWidth),o===void 0&&(o=this.viewportHeight);var l=this.zoom;return this.up.set(0,a?-1:1,0),this.direction.set(0,0,a?1:-1),this.position.set(l*s/2,l*o/2,0),this.viewportWidth=s,this.viewportHeight=o,this.update()},update:function(){var a=this.viewportWidth,s=this.viewportHeight,o=Math.abs(this.near),l=Math.abs(this.far),h=this.zoom;return a===0||s===0?this:(this.projection.ortho(h*-a/2,h*a/2,h*-s/2,h*s/2,o,l),r.copy(this.position).add(this.direction),this.view.lookAt(this.position,r,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this)},zoom:{get:function(){return this._zoom},set:function(a){this._zoom=a,this.update()}}});return ny=n,ny}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ay,tI;function E$(){if(tI)return ay;tI=1;var e=n_(),t=O,i=kh,r=new i,n=new t({Extends:e,initialize:function(s,o,l,h){o===void 0&&(o=80),l===void 0&&(l=0),h===void 0&&(h=0),e.call(this,s),this.viewportWidth=l,this.viewportHeight=h,this.fieldOfView=o*Math.PI/180,this.update()},setFOV:function(a){return this.fieldOfView=a*Math.PI/180,this},update:function(){var a=this.viewportWidth/this.viewportHeight;return this.projection.perspective(this.fieldOfView,a,Math.abs(this.near),Math.abs(this.far)),r.copy(this.position).add(this.direction),this.view.lookAt(this.position,r,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this}});return ay=n,ay}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sy,iI;function cNe(){if(iI)return sy;iI=1;var e=O,t=C$(),i=E$(),r=mt,n=new e({initialize:function(s){this.scene=s,this.systems=s.sys,this.cameras=[],s.sys.events.once("boot",this.boot,this),s.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var a=this.systems.events;a.on("update",this.update,this),a.once("shutdown",this.shutdown,this)},add:function(a,s,o){return this.addPerspectiveCamera(a,s,o)},addOrthographicCamera:function(a,s){var o=this.scene.sys.game.config;a===void 0&&(a=o.width),s===void 0&&(s=o.height);var l=new t(this.scene,a,s);return this.cameras.push(l),l},addPerspectiveCamera:function(a,s,o){var l=this.scene.sys.game.config;a===void 0&&(a=80),s===void 0&&(s=l.width),o===void 0&&(o=l.height);var h=new i(this.scene,a,s,o);return this.cameras.push(h),h},getCamera:function(a){for(var s=0;s<this.cameras.length;s++)if(this.cameras[s].name===a)return this.cameras[s];return null},removeCamera:function(a){var s=this.cameras.indexOf(a);s!==-1&&this.cameras.splice(s,1)},removeAll:function(){for(;this.cameras.length>0;){var a=this.cameras.pop();a.destroy()}return this.main},update:function(a,s){for(var o=0,l=this.cameras.length;o<l;++o)this.cameras[o].update(a,s)},shutdown:function(){var a=this.systems.events;a.off("update",this.update,this),a.off("shutdown",this.shutdown,this),this.removeAll()},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});return r.register("CameraManager3D",n,"cameras3d"),sy=n,sy}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oy,rI;function dNe(){return rI||(rI=1,oy={Camera:n_(),CameraManager:cNe(),OrthographicCamera:C$(),PerspectiveCamera:E$()}),oy}var nI={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aI;function vNe(){if(aI)return nI;aI=1;var e=J0(),t=de;return t.register("sprite3D",function(i,r,n,a,s){var o=new e(this.scene,i,r,n,a,s);return this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o}),nI}var sI={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oI;function pNe(){if(oI)return sI;oI=1;var e=bi,t=QC,i=at,r=tt,n=J0();return i.register("sprite3D",function(a,s){a===void 0&&(a={});var o=r(a,"key",null),l=r(a,"frame",null),h=new n(this.scene,0,0,o,l);return s!==void 0&&(a.add=s),e(this.scene,h,a),t(h,a),h}),sI}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var mNe=Or,gNe=pt,la={Actions:gB,Animations:fX,BlendModes:xa,Cache:SX,Cameras:OJ,Core:Nee,Class:O,Create:Hee,Curves:pte,Data:yte,Display:Tre,DOM:Rre,Events:Ore,Game:Boe,GameObjects:cge,Geom:Fk,Input:DEe,Loader:Mwe,Math:IC,Physics:PLe,Plugins:BLe,Renderer:zLe,Scale:VLe,ScaleModes:eC,Scene:fN,Scenes:qLe,Structs:JLe,Textures:eFe,Tilemaps:RBe,Time:NBe,Tweens:Y3e,Utils:uNe};la.Sound=fNe();la.Cameras.Sprite3D=dNe(),la.GameObjects.Sprite3D=J0(),la.GameObjects.Factories.Sprite3D=vNe(),la.GameObjects.Creators.Sprite3D=pNe();la.FacebookInstantGamesPlugin=MN();la=gNe(!1,la,mNe);var jT=la;const $e=aS(jT),xNe=({options:e})=>{const t=dh.useRef(null),i=dh.useRef(null);return dh.useEffect(()=>(i.current||(i.current=new jT.Game({...e,type:jT.AUTO,parent:t.current})),()=>{i.current||(i.current.destroy(!0),i.current=null)}),[]),Ch.jsx("div",{className:"Game",ref:t})},lI="/crawler/assets/fonts/",_$={default:[`${lI}CasualEncounter.png`,`${lI}CasualEncounter.fnt`]};class yNe extends $e.Scene{constructor(){super({key:"InfoScene"})}preload(){this.load.bitmapFont("default",..._$.default)}create(){this.text=this.add.dynamicBitmapText(25,25,"default","",12),this.text.setAlpha(.7),this.lastUpdate=0}update(t,i){t>this.lastUpdate+100&&(this.text.setText(["Dungeon Dash!","","Use arrow keys to walk around the map!","Press space while moving to dash-attack!","(debug: Q, tilesets: R)","","Credits & more information at","https://github.com/mipearson/dungeondash","","FPS: "+Math.round(this.game.loop.actualFps)]),this.lastUpdate=t)}}const Z0="/crawler/assets/fongoose/",TNe={name:"environment",width:16,height:16,margin:1,spacing:2,file:`${Z0}/RogueEnvironment16x16-extruded.png`,indices:{floor:{outer:[5,5,5,21,7,23],outerCorridor:[13,13,13,29,15,31]},block:23,doors:{horizontal:129,vertical:146,destroyed:53},walls:{alone:20,intersections:{e_s:0,n_e_s_w:1,e_w:2,s_w:3,n_e_s:16,w:17,e:18,n_s_w:19,n_s:32,s:33,e_s_w:34,n_e:48,n_e_w:49,n:50,n_w:51,e_door:101,w_door:103}}}},SNe={name:"player",width:48,height:48,file:`${Z0}/RoguePlayer_48x48.png`,animations:{idle:{key:"playerIdle",frames:{start:1,end:7},frameRate:6,repeat:-1},idleBack:{key:"playerIdleBack",frames:{start:10,end:17},frameRate:6,repeat:-1},walk:{key:"playerWalk",frames:{start:20,end:25},frameRate:10,repeat:-1},walkBack:{key:"playerWalkBack",frames:{start:30,end:35},frameRate:10,repeat:-1},slash:{key:"playerSlash",frames:{frames:[26,26,26,27,28]},frameRate:30},slashUp:{key:"playerSlashUp",frames:{frames:[46,46,46,47,48]},frameRate:30},slashDown:{key:"playerSlashDown",frames:{frames:[36,36,36,37,38]},frameRate:30},stagger:{key:"playerStagger",frames:{frames:[56,56,57,58]},frameRate:30}}},CNe={name:"slime",width:32,height:32,file:`${Z0}/RogueSlime32x32.png`,animations:{idle:{key:"slimeIdle",frames:{start:0,end:5},frameRate:6,repeat:-1},move:{key:"slimeMove",frames:{start:8,end:14},frameRate:8,repeat:-1},death:{key:"slimeDeath",frames:{start:32,end:38},frameRate:16,hideOnComplete:!0}}},ENe={name:"items",width:16,height:16,file:`${Z0}/RogueItems16x16.png`},_Ne={name:"util",width:16,height:16,file:"/crawler/assets/Util.png",indices:{black:0}},ae={environment:TNe,player:SNe,slime:CNe,items:ENe,util:_Ne};var A$={};Object.defineProperty(A$,"__esModule",{value:!0});var ANe=function(){function e(t,i,r){this.mapWidth=t,this.mapHeight=i,this.isTransparent=r}return e.prototype.computeOctantY=function(t,i,r){var n=[],a=[],s=1,o=0,l=0,h=0,u,f,c,v,p,m,x,g,T,S;for(f=r.originY+i;f>=r.minY&&f<=r.maxY;f+=i,l=o,++s)for(c=.5/s,S=-1,v=Math.floor(h*s+.5),u=r.originX+v*t;v<=s&&u>=r.minX&&u<=r.maxX;u+=t,++v,S=T){if(p=!0,m=!1,x=v/s,g=S,T=x+c,l>0){if(!(r.isVisible(u,f-i)&&this.isTransparent(u,f-i))&&!(r.isVisible(u-t,f-i)&&this.isTransparent(u-t,f-i)))p=!1;else for(var E=0;E<l&&p;++E)if(g<=a[E]&&T>=n[E])if(this.isTransparent(u,f)){if(x>n[E]&&x<a[E]){p=!1;break}}else if(g>=n[E]&&T<=a[E]){p=!1;break}else n[E]=Math.min(n[E],g),a[E]=Math.max(a[E],T),m=!0}p&&(r.setVisible(u,f),this.isTransparent(u,f)||(h>=g?h=T:m||(n[o]=g,a[o++]=T)))}},e.prototype.computeOctantX=function(t,i,r){var n=[],a=[],s=1,o=0,l=0,h=0,u,f,c,v,p,m,x,g,T,S;for(u=r.originX+t;u>=r.minX&&u<=r.maxX;u+=t,l=o,++s)for(c=.5/s,S=-1,v=Math.floor(h*s+.5),f=r.originY+v*i;v<=s&&f>=r.minY&&f<=r.maxY;f+=i,++v,S=T){if(p=!0,m=!1,x=v/s,g=S,T=x+c,l>0){if(!(r.isVisible(u-t,f)&&this.isTransparent(u-t,f))&&!(r.isVisible(u-t,f-i)&&this.isTransparent(u-t,f-i)))p=!1;else for(var E=0;E<l&&p;++E)if(g<=a[E]&&T>=n[E])if(this.isTransparent(u,f)){if(x>n[E]&&x<a[E]){p=!1;break}}else if(g>=n[E]&&T<=a[E]){p=!1;break}else n[E]=Math.min(n[E],g),a[E]=Math.max(a[E],T),m=!0}p&&(r.setVisible(u,f),this.isTransparent(u,f)||(h>=g?h=T:m||(n[o]=g,a[o++]=T)))}},e.prototype.setMapDimensions=function(t,i){this.mapWidth=t,this.mapHeight=i},e.prototype.compute=function(t,i,r,n,a){a(t,i);var s={minX:Math.max(0,t-r),minY:Math.max(0,i-r),maxX:Math.min(this.mapWidth-1,t+r),maxY:Math.min(this.mapHeight-1,i+r),originX:t,originY:i,radius:r,isVisible:n,setVisible:a};this.computeOctantY(1,1,s),this.computeOctantX(1,1,s),this.computeOctantY(1,-1,s),this.computeOctantX(1,-1,s),this.computeOctantY(-1,1,s),this.computeOctantX(-1,1,s),this.computeOctantY(-1,-1,s),this.computeOctantX(-1,-1,s)},e}(),wNe=A$.Mrpas=ANe,eS={exports:{}};(function(e,t){(function(){var i=9007199254740992,r=-i,n="0123456789",a="abcdefghijklmnopqrstuvwxyz",s=a.toUpperCase(),o=n+"abcdef";function l(d){this.name="UnsupportedError",this.message=d||"This feature is not supported on this platform"}l.prototype=new Error,l.prototype.constructor=l;var h=Array.prototype.slice;function u(d){if(!(this instanceof u))return d||(d=null),d===null?new u:new u(d);if(typeof d=="function")return this.random=d,this;arguments.length&&(this.seed=0);for(var y=0;y<arguments.length;y++){var C=0;if(Object.prototype.toString.call(arguments[y])==="[object String]")for(var M=0;M<arguments[y].length;M++){for(var A=0,L=0;L<arguments[y].length;L++)A=arguments[y].charCodeAt(L)+(A<<6)+(A<<16)-A;C+=A}else C=arguments[y];this.seed+=(arguments.length-y)*C}return this.mt=this.mersenne_twister(this.seed),this.bimd5=this.blueimp_md5(),this.random=function(){return this.mt.random(this.seed)},this}u.prototype.VERSION="1.1.12";function f(d,y){if(d=d||{},y)for(var C in y)typeof d[C]>"u"&&(d[C]=y[C]);return d}function c(d){return Array.apply(null,Array(d)).map(function(y,C){return C})}function v(d,y){if(d)throw new RangeError(y)}var p=function(){throw new Error("No Base64 encoder available.")};(function(){typeof btoa=="function"?p=btoa:typeof Buffer=="function"&&(p=function(y){return new Buffer(y).toString("base64")})})(),u.prototype.bool=function(d){return d=f(d,{likelihood:50}),v(d.likelihood<0||d.likelihood>100,"Chance: Likelihood accepts values from 0 to 100."),this.random()*100<d.likelihood},u.prototype.falsy=function(d){d=f(d,{pool:[!1,null,0,NaN,"",void 0]});var y=d.pool,C=this.integer({min:0,max:y.length-1}),M=y[C];return M},u.prototype.animal=function(d){if(d=f(d),typeof d.type<"u")return v(!this.get("animals")[d.type.toLowerCase()],"Please pick from desert, ocean, grassland, forest, zoo, pets, farm."),this.pick(this.get("animals")[d.type.toLowerCase()]);var y=["desert","forest","ocean","zoo","farm","pet","grassland"];return this.pick(this.get("animals")[this.pick(y)])},u.prototype.character=function(d){d=f(d);var y="!@#$%^&*()[]",C,M;return d.casing==="lower"?C=a:d.casing==="upper"?C=s:C=a+s,d.pool?M=d.pool:(M="",d.alpha&&(M+=C),d.numeric&&(M+=n),d.symbols&&(M+=y),M||(M=C+n+y)),M.charAt(this.natural({max:M.length-1}))},u.prototype.floating=function(d){d=f(d,{fixed:4}),v(d.fixed&&d.precision,"Chance: Cannot specify both fixed and precision.");var y,C=Math.pow(10,d.fixed),M=i/C,A=-M;v(d.min&&d.fixed&&d.min<A,"Chance: Min specified is out of range with fixed. Min should be, at least, "+A),v(d.max&&d.fixed&&d.max>M,"Chance: Max specified is out of range with fixed. Max should be, at most, "+M),d=f(d,{min:A,max:M}),y=this.integer({min:d.min*C,max:d.max*C});var L=(y/C).toFixed(d.fixed);return parseFloat(L)},u.prototype.integer=function(d){return d=f(d,{min:r,max:i}),v(d.min>d.max,"Chance: Min cannot be greater than Max."),Math.floor(this.random()*(d.max-d.min+1)+d.min)},u.prototype.natural=function(d){if(d=f(d,{min:0,max:i}),typeof d.numerals=="number"&&(v(d.numerals<1,"Chance: Numerals cannot be less than one."),d.min=Math.pow(10,d.numerals-1),d.max=Math.pow(10,d.numerals)-1),v(d.min<0,"Chance: Min cannot be less than zero."),d.exclude){v(!Array.isArray(d.exclude),"Chance: exclude must be an array.");for(var y in d.exclude)v(!Number.isInteger(d.exclude[y]),"Chance: exclude must be numbers.");var C=d.min+this.natural({max:d.max-d.min-d.exclude.length}),M=d.exclude.sort();for(var A in M){if(C<M[A])break;C++}return C}return this.integer(d)},u.prototype.prime=function(d){d=f(d,{min:0,max:1e4}),v(d.min<0,"Chance: Min cannot be less than zero."),v(d.min>d.max,"Chance: Min cannot be greater than Max.");var y=E.primes[E.primes.length-1];if(d.max>y)for(var C=y+2;C<=d.max;++C)this.is_prime(C)&&E.primes.push(C);var M=E.primes.filter(function(A){return A>=d.min&&A<=d.max});return this.pick(M)},u.prototype.is_prime=function(d){if(d%1||d<2)return!1;if(d%2===0)return d===2;if(d%3===0)return d===3;for(var y=Math.sqrt(d),C=5;C<=y;C+=6)if(d%C===0||d%(C+2)===0)return!1;return!0},u.prototype.hex=function(d){d=f(d,{min:0,max:i,casing:"lower"}),v(d.min<0,"Chance: Min cannot be less than zero.");var y=this.natural({min:d.min,max:d.max});return d.casing==="upper"?y.toString(16).toUpperCase():y.toString(16)},u.prototype.letter=function(d){d=f(d,{casing:"lower"});var y="abcdefghijklmnopqrstuvwxyz",C=this.character({pool:y});return d.casing==="upper"&&(C=C.toUpperCase()),C},u.prototype.string=function(d){d=f(d,{min:5,max:20}),d.length!==0&&!d.length&&(d.length=this.natural({min:d.min,max:d.max})),v(d.length<0,"Chance: Length cannot be less than zero.");var y=d.length,C=this.n(this.character,y,d);return C.join("")};function m(d){this.c=d}m.prototype={substitute:function(){return this.c}};function x(d){this.c=d}x.prototype={substitute:function(){if(!/[{}\\]/.test(this.c))throw new Error('Invalid escape sequence: "\\'+this.c+'".');return this.c}};function g(d){this.c=d}g.prototype={replacers:{"#":function(d){return d.character({pool:n})},A:function(d){return d.character({pool:s})},a:function(d){return d.character({pool:a})}},substitute:function(d){var y=this.replacers[this.c];if(!y)throw new Error('Invalid replacement character: "'+this.c+'".');return y(d)}};function T(d){for(var y=[],C="identity",M=0;M<d.length;M++){var A=d[M];switch(C){case"escape":y.push(new x(A)),C="identity";break;case"identity":A==="{"?C="replace":A==="\\"?C="escape":y.push(new m(A));break;case"replace":A==="}"?C="identity":y.push(new g(A));break}}return y}u.prototype.template=function(d){if(!d)throw new Error("Template string is required");var y=this;return T(d).map(function(C){return C.substitute(y)}).join("")},u.prototype.buffer=function(d){if(typeof Buffer>"u")throw new l("Sorry, the buffer() function is not supported on your platform");d=f(d,{length:this.natural({min:5,max:20})}),v(d.length<0,"Chance: Length cannot be less than zero.");var y=d.length,C=this.n(this.character,y,d);return Buffer.from(C)},u.prototype.capitalize=function(d){return d.charAt(0).toUpperCase()+d.substr(1)},u.prototype.mixin=function(d){for(var y in d)this[y]=d[y];return this},u.prototype.unique=function(d,y,C){v(typeof d!="function","Chance: The first argument must be a function.");var M=function(G,H){return G.indexOf(H)!==-1};C&&(M=C.comparator||M);for(var A=[],L=0,P,b=y*50,I=h.call(arguments,2);A.length<y;){var D=JSON.parse(JSON.stringify(I));if(P=d.apply(this,D),M(A,P)||(A.push(P),L=0),++L>b)throw new RangeError("Chance: num is likely too large for sample set")}return A},u.prototype.n=function(d,y){v(typeof d!="function","Chance: The first argument must be a function."),typeof y>"u"&&(y=1);var C=y,M=[],A=h.call(arguments,2);for(C=Math.max(0,C),null;C--;null)M.push(d.apply(this,A));return M},u.prototype.pad=function(d,y,C){return C=C||"0",d=d+"",d.length>=y?d:new Array(y-d.length+1).join(C)+d},u.prototype.pick=function(d,y){if(d.length===0)throw new RangeError("Chance: Cannot pick() from an empty array");return!y||y===1?d[this.natural({max:d.length-1})]:this.shuffle(d).slice(0,y)},u.prototype.pickone=function(d){if(d.length===0)throw new RangeError("Chance: Cannot pickone() from an empty array");return d[this.natural({max:d.length-1})]},u.prototype.pickset=function(d,y){if(y===0)return[];if(d.length===0)throw new RangeError("Chance: Cannot pickset() from an empty array");if(y<0)throw new RangeError("Chance: Count must be a positive number");if(!y||y===1)return[this.pickone(d)];var C=d.slice(0),M=C.length;return this.n(function(){var A=this.natural({max:--M}),L=C[A];return C[A]=C[M],L},Math.min(M,y))},u.prototype.shuffle=function(d){for(var y=[],C=0,M=Number(d.length),A=c(M),L=M-1,P,b=0;b<M;b++)P=this.natural({max:L}),C=A[P],y[b]=d[C],A[P]=A[L],L-=1;return y},u.prototype.weighted=function(d,y,C){if(d.length!==y.length)throw new RangeError("Chance: Length of array and weights must match");for(var M=0,A,L=0;L<y.length;++L){if(A=y[L],isNaN(A))throw new RangeError("Chance: All weights must be numbers");A>0&&(M+=A)}if(M===0)throw new RangeError("Chance: No valid entries in array weights");var P=this.random()*M,b=0,I=-1,D;for(L=0;L<y.length;++L){if(A=y[L],b+=A,A>0){if(P<=b){D=L;break}I=L}L===y.length-1&&(D=I)}var G=d[D];return C=typeof C>"u"?!1:C,C&&(d.splice(D,1),y.splice(D,1)),G},u.prototype.paragraph=function(d){d=f(d);var y=d.sentences||this.natural({min:3,max:7}),C=this.n(this.sentence,y),M=d.linebreak===!0?`
`:" ";return C.join(M)},u.prototype.sentence=function(d){d=f(d);var y=d.words||this.natural({min:12,max:18}),C=d.punctuation,M,A=this.n(this.word,y);return M=A.join(" "),M=this.capitalize(M),C!==!1&&!/^[.?;!:]$/.test(C)&&(C="."),C&&(M+=C),M},u.prototype.syllable=function(d){d=f(d);for(var y=d.length||this.natural({min:2,max:3}),C="bcdfghjklmnprstvwz",M="aeiou",A=C+M,L="",P,b=0;b<y;b++)b===0?P=this.character({pool:A}):C.indexOf(P)===-1?P=this.character({pool:C}):P=this.character({pool:M}),L+=P;return d.capitalize&&(L=this.capitalize(L)),L},u.prototype.word=function(d){d=f(d),v(d.syllables&&d.length,"Chance: Cannot specify both syllables AND length.");var y=d.syllables||this.natural({min:1,max:3}),C="";if(d.length){do C+=this.syllable();while(C.length<d.length);C=C.substring(0,d.length)}else for(var M=0;M<y;M++)C+=this.syllable();return d.capitalize&&(C=this.capitalize(C)),C},u.prototype.emoji=function(d){d=f(d,{category:"all",length:1}),v(d.length<1||BigInt(d.length)>BigInt(i),"Chance: length must be between 1 and "+String(i));var y=this.get("emojis");d.category==="all"&&(d.category=this.pickone(Object.keys(y)));var C=y[d.category];return v(C===void 0,"Chance: Unrecognised emoji category: ["+d.category+"]."),this.pickset(C,d.length).map(function(M){return String.fromCodePoint(M)}).join("")},u.prototype.age=function(d){d=f(d);var y;switch(d.type){case"child":y={min:0,max:12};break;case"teen":y={min:13,max:19};break;case"adult":y={min:18,max:65};break;case"senior":y={min:65,max:100};break;case"all":y={min:0,max:100};break;default:y={min:18,max:65};break}return this.natural(y)},u.prototype.birthday=function(d){var y=this.age(d),C=new Date,M=C.getFullYear();if(d&&d.type){var A=new Date,L=new Date;A.setFullYear(M-y-1),L.setFullYear(M-y),d=f(d,{min:A,max:L})}else if(d&&(d.minAge!==void 0||d.maxAge!==void 0)){v(d.minAge<0,"Chance: MinAge cannot be less than zero."),v(d.minAge>d.maxAge,"Chance: MinAge cannot be greater than MaxAge.");var P=d.minAge!==void 0?d.minAge:0,b=d.maxAge!==void 0?d.maxAge:100,I=new Date(M-b-1,C.getMonth(),C.getDate()),D=new Date(M-P,C.getMonth(),C.getDate());I.setDate(I.getDate()+1),D.setDate(D.getDate()+1),D.setMilliseconds(D.getMilliseconds()-1),d=f(d,{min:I,max:D})}else d=f(d,{year:M-y});return this.date(d)},u.prototype.cpf=function(d){d=f(d,{formatted:!0});var y=this.n(this.natural,9,{max:9}),C=y[8]*2+y[7]*3+y[6]*4+y[5]*5+y[4]*6+y[3]*7+y[2]*8+y[1]*9+y[0]*10;C=11-C%11,C>=10&&(C=0);var M=C*2+y[8]*3+y[7]*4+y[6]*5+y[5]*6+y[4]*7+y[3]*8+y[2]*9+y[1]*10+y[0]*11;M=11-M%11,M>=10&&(M=0);var A=""+y[0]+y[1]+y[2]+"."+y[3]+y[4]+y[5]+"."+y[6]+y[7]+y[8]+"-"+C+M;return d.formatted?A:A.replace(/\D/g,"")},u.prototype.cnpj=function(d){d=f(d,{formatted:!0});var y=this.n(this.natural,12,{max:12}),C=y[11]*2+y[10]*3+y[9]*4+y[8]*5+y[7]*6+y[6]*7+y[5]*8+y[4]*9+y[3]*2+y[2]*3+y[1]*4+y[0]*5;C=11-C%11,C<2&&(C=0);var M=C*2+y[11]*3+y[10]*4+y[9]*5+y[8]*6+y[7]*7+y[6]*8+y[5]*9+y[4]*2+y[3]*3+y[2]*4+y[1]*5+y[0]*6;M=11-M%11,M<2&&(M=0);var A=""+y[0]+y[1]+"."+y[2]+y[3]+y[4]+"."+y[5]+y[6]+y[7]+"/"+y[8]+y[9]+y[10]+y[11]+"-"+C+M;return d.formatted?A:A.replace(/\D/g,"")},u.prototype.first=function(d){return d=f(d,{gender:this.gender(),nationality:"en"}),this.pick(this.get("firstNames")[d.gender.toLowerCase()][d.nationality.toLowerCase()])},u.prototype.profession=function(d){return d=f(d),d.rank?this.pick(["Apprentice ","Junior ","Senior ","Lead "])+this.pick(this.get("profession")):this.pick(this.get("profession"))},u.prototype.company=function(){return this.pick(this.get("company"))},u.prototype.gender=function(d){return d=f(d,{extraGenders:[]}),this.pick(["Male","Female"].concat(d.extraGenders))},u.prototype.last=function(d){if(d=f(d,{nationality:"*"}),d.nationality==="*"){var y=[],C=this.get("lastNames");return Object.keys(C).forEach(function(M){y=y.concat(C[M])}),this.pick(y)}else return this.pick(this.get("lastNames")[d.nationality.toLowerCase()])},u.prototype.israelId=function(){for(var d=this.string({pool:"0123456789",length:8}),y=0,C=0;C<d.length;C++){var M=d[C]*(C/2===parseInt(C/2)?1:2);M=this.pad(M,2).toString(),M=parseInt(M[0])+parseInt(M[1]),y=y+M}return d=d+(10-parseInt(y.toString().slice(-1))).toString().slice(-1),d},u.prototype.mrz=function(d){var y=function(A){var L="<ABCDEFGHIJKLMNOPQRSTUVWXYXZ".split(""),P=[7,3,1],b=0;return typeof A!="string"&&(A=A.toString()),A.split("").forEach(function(I,D){var G=L.indexOf(I);G!==-1?I=G===0?0:G+9:I=parseInt(I,10),I*=P[D%P.length],b+=I}),b%10},C=function(A){var L=function(b){return new Array(b+1).join("<")},P=["P<",A.issuer,A.last.toUpperCase(),"<<",A.first.toUpperCase(),L(39-(A.last.length+A.first.length+2)),A.passportNumber,y(A.passportNumber),A.nationality,A.dob,y(A.dob),A.gender,A.expiry,y(A.expiry),L(14),y(L(14))].join("");return P+y(P.substr(44,10)+P.substr(57,7)+P.substr(65,7))},M=this;return d=f(d,{first:this.first(),last:this.last(),passportNumber:this.integer({min:1e8,max:999999999}),dob:function(){var A=M.birthday({type:"adult"});return[A.getFullYear().toString().substr(2),M.pad(A.getMonth()+1,2),M.pad(A.getDate(),2)].join("")}(),expiry:function(){var A=new Date;return[(A.getFullYear()+5).toString().substr(2),M.pad(A.getMonth()+1,2),M.pad(A.getDate(),2)].join("")}(),gender:this.gender()==="Female"?"F":"M",issuer:"GBR",nationality:"GBR"}),C(d)},u.prototype.name=function(d){d=f(d);var y=this.first(d),C=this.last(d),M;return d.middle?M=y+" "+this.first(d)+" "+C:d.middle_initial?M=y+" "+this.character({alpha:!0,casing:"upper"})+". "+C:M=y+" "+C,d.prefix&&(M=this.prefix(d)+" "+M),d.suffix&&(M=M+" "+this.suffix(d)),M},u.prototype.name_prefixes=function(d){d=d||"all",d=d.toLowerCase();var y=[{name:"Doctor",abbreviation:"Dr."}];return(d==="male"||d==="all")&&y.push({name:"Mister",abbreviation:"Mr."}),(d==="female"||d==="all")&&(y.push({name:"Miss",abbreviation:"Miss"}),y.push({name:"Misses",abbreviation:"Mrs."})),y},u.prototype.prefix=function(d){return this.name_prefix(d)},u.prototype.name_prefix=function(d){return d=f(d,{gender:"all"}),d.full?this.pick(this.name_prefixes(d.gender)).name:this.pick(this.name_prefixes(d.gender)).abbreviation},u.prototype.HIDN=function(){var d="0123456789",y="ABCDEFGHIJKLMNOPQRSTUVWXYXZ",C="";return C+=this.string({pool:d,length:6}),C+=this.string({pool:y,length:2}),C},u.prototype.ssn=function(d){d=f(d,{ssnFour:!1,dashes:!0});var y="1234567890",C,M=d.dashes?"-":"";return d.ssnFour?C=this.string({pool:y,length:4}):C=this.string({pool:y,length:3})+M+this.string({pool:y,length:2})+M+this.string({pool:y,length:4}),C},u.prototype.aadhar=function(d){d=f(d,{onlyLastFour:!1,separatedByWhiteSpace:!0});var y="1234567890",C,M=d.separatedByWhiteSpace?" ":"";return d.onlyLastFour?C=this.string({pool:y,length:4}):C=this.string({pool:y,length:4})+M+this.string({pool:y,length:4})+M+this.string({pool:y,length:4}),C},u.prototype.name_suffixes=function(){var d=[{name:"Doctor of Osteopathic Medicine",abbreviation:"D.O."},{name:"Doctor of Philosophy",abbreviation:"Ph.D."},{name:"Esquire",abbreviation:"Esq."},{name:"Junior",abbreviation:"Jr."},{name:"Juris Doctor",abbreviation:"J.D."},{name:"Master of Arts",abbreviation:"M.A."},{name:"Master of Business Administration",abbreviation:"M.B.A."},{name:"Master of Science",abbreviation:"M.S."},{name:"Medical Doctor",abbreviation:"M.D."},{name:"Senior",abbreviation:"Sr."},{name:"The Third",abbreviation:"III"},{name:"The Fourth",abbreviation:"IV"},{name:"Bachelor of Engineering",abbreviation:"B.E"},{name:"Bachelor of Technology",abbreviation:"B.TECH"}];return d},u.prototype.suffix=function(d){return this.name_suffix(d)},u.prototype.name_suffix=function(d){return d=f(d),d.full?this.pick(this.name_suffixes()).name:this.pick(this.name_suffixes()).abbreviation},u.prototype.nationalities=function(){return this.get("nationalities")},u.prototype.nationality=function(){var d=this.pick(this.nationalities());return d.name},u.prototype.zodiac=function(){const d=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];return this.pickone(d)},u.prototype.android_id=function(){return"APA91"+this.string({pool:"0123456789abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",length:178})},u.prototype.apple_token=function(){return this.string({pool:"abcdef1234567890",length:64})},u.prototype.wp8_anid2=function(){return p(this.hash({length:32}))},u.prototype.wp7_anid=function(){return"A="+this.guid().replace(/-/g,"").toUpperCase()+"&E="+this.hash({length:3})+"&W="+this.integer({min:0,max:9})},u.prototype.bb_pin=function(){return this.hash({length:8})},u.prototype.avatar=function(d){var y=null,C="//www.gravatar.com/avatar/",M={http:"http",https:"https"},A={bmp:"bmp",gif:"gif",jpg:"jpg",png:"png"},L={404:"404",mm:"mm",identicon:"identicon",monsterid:"monsterid",wavatar:"wavatar",retro:"retro",blank:"blank"},P={g:"g",pg:"pg",r:"r",x:"x"},b={protocol:null,email:null,fileExtension:null,size:null,fallback:null,rating:null};if(!d)b.email=this.email(),d={};else if(typeof d=="string")b.email=d,d={};else{if(typeof d!="object")return null;if(d.constructor==="Array")return null}return b=f(d,b),b.email||(b.email=this.email()),b.protocol=M[b.protocol]?b.protocol+":":"",b.size=parseInt(b.size,0)?b.size:"",b.rating=P[b.rating]?b.rating:"",b.fallback=L[b.fallback]?b.fallback:"",b.fileExtension=A[b.fileExtension]?b.fileExtension:"",y=b.protocol+C+this.bimd5.md5(b.email)+(b.fileExtension?"."+b.fileExtension:"")+(b.size||b.rating||b.fallback?"?":"")+(b.size?"&s="+b.size.toString():"")+(b.rating?"&r="+b.rating:"")+(b.fallback?"&d="+b.fallback:""),y},u.prototype.color=function(d){function y(se,ve){return[se,se,se].join(ve||"")}function C(se){var ve=se?"rgba":"rgb",ie=se?","+this.floating({min:X,max:K}):"",ne=A?y(this.natural({min:L,max:P}),","):this.natural({min:D,max:G})+","+this.natural({min:H,max:V})+","+this.natural({max:255});return ve+"("+ne+ie+")"}function M(se,ve,ie){var ne=ie?"#":"",ge="";return A?(ge=y(this.pad(this.hex({min:L,max:P}),2)),d.format==="shorthex"&&(ge=y(this.hex({min:0,max:15})))):d.format==="shorthex"?ge=this.pad(this.hex({min:Math.floor(b/16),max:Math.floor(I/16)}),1)+this.pad(this.hex({min:Math.floor(D/16),max:Math.floor(G/16)}),1)+this.pad(this.hex({min:Math.floor(H/16),max:Math.floor(V/16)}),1):b!==void 0||I!==void 0||D!==void 0||G!==void 0||H!==void 0||V!==void 0?ge=this.pad(this.hex({min:b,max:I}),2)+this.pad(this.hex({min:D,max:G}),2)+this.pad(this.hex({min:H,max:V}),2):ge=this.pad(this.hex({min:L,max:P}),2)+this.pad(this.hex({min:L,max:P}),2)+this.pad(this.hex({min:L,max:P}),2),ne+ge}d=f(d,{format:this.pick(["hex","shorthex","rgb","rgba","0x","name"]),grayscale:!1,casing:"lower",min:0,max:255,min_red:void 0,max_red:void 0,min_green:void 0,max_green:void 0,min_blue:void 0,max_blue:void 0,min_alpha:0,max_alpha:1});var A=d.grayscale,L=d.min,P=d.max,b=d.min_red,I=d.max_red,D=d.min_green,G=d.max_green,H=d.min_blue,V=d.max_blue,X=d.min_alpha,K=d.max_alpha;d.min_red===void 0&&(b=L),d.max_red===void 0&&(I=P),d.min_green===void 0&&(D=L),d.max_green===void 0&&(G=P),d.min_blue===void 0&&(H=L),d.max_blue===void 0&&(V=P),d.min_alpha===void 0&&(X=0),d.max_alpha===void 0&&(K=1),A&&L===0&&P===255&&b!==void 0&&I!==void 0&&(L=(b+D+H)/3,P=(I+G+V)/3);var te;if(d.format==="hex")te=M.call(this,2,6,!0);else if(d.format==="shorthex")te=M.call(this,1,3,!0);else if(d.format==="rgb")te=C.call(this,!1);else if(d.format==="rgba")te=C.call(this,!0);else if(d.format==="0x")te="0x"+M.call(this,2,6);else{if(d.format==="name")return this.pick(this.get("colorNames"));throw new RangeError('Invalid format provided. Please provide one of "hex", "shorthex", "rgb", "rgba", "0x" or "name".')}return d.casing==="upper"&&(te=te.toUpperCase()),te},u.prototype.domain=function(d){return d=f(d),this.word()+"."+(d.tld||this.tld())},u.prototype.email=function(d){return d=f(d),this.word({length:d.length})+"@"+(d.domain||this.domain())},u.prototype.fbid=function(){return"10000"+this.string({pool:"1234567890",length:11})},u.prototype.google_analytics=function(){var d=this.pad(this.natural({max:999999}),6),y=this.pad(this.natural({max:99}),2);return"UA-"+d+"-"+y},u.prototype.hashtag=function(){return"#"+this.word()},u.prototype.ip=function(){return this.natural({min:1,max:254})+"."+this.natural({max:255})+"."+this.natural({max:255})+"."+this.natural({min:1,max:254})},u.prototype.ipv6=function(){var d=this.n(this.hash,8,{length:4});return d.join(":")},u.prototype.klout=function(){return this.natural({min:1,max:99})},u.prototype.mac=function(d){return d=f(d,{delimiter:":"}),this.pad(this.natural({max:255}).toString(16),2)+d.delimiter+this.pad(this.natural({max:255}).toString(16),2)+d.delimiter+this.pad(this.natural({max:255}).toString(16),2)+d.delimiter+this.pad(this.natural({max:255}).toString(16),2)+d.delimiter+this.pad(this.natural({max:255}).toString(16),2)+d.delimiter+this.pad(this.natural({max:255}).toString(16),2)},u.prototype.semver=function(d){d=f(d,{include_prerelease:!0});var y=this.pickone(["^","~","<",">","<=",">=","="]);d.range&&(y=d.range);var C="";return d.include_prerelease&&(C=this.weighted(["","-dev","-beta","-alpha"],[50,10,5,1])),y+this.rpg("3d10").join(".")+C},u.prototype.tlds=function(){return["com","org","edu","gov","co.uk","net","io","ac","ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tr","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yt","za","zm","zw"]},u.prototype.tld=function(){return this.pick(this.tlds())},u.prototype.twitter=function(){return"@"+this.word()},u.prototype.url=function(d){d=f(d,{protocol:"http",domain:this.domain(d),domain_prefix:"",path:this.word(),extensions:[]});var y=d.extensions.length>0?"."+this.pick(d.extensions):"",C=d.domain_prefix?d.domain_prefix+"."+d.domain:d.domain;return d.protocol+"://"+C+"/"+d.path+y},u.prototype.port=function(){return this.integer({min:0,max:65535})},u.prototype.locale=function(d){return d=f(d),d.region?this.pick(this.get("locale_regions")):this.pick(this.get("locale_languages"))},u.prototype.locales=function(d){return d=f(d),d.region?this.get("locale_regions"):this.get("locale_languages")},u.prototype.loremPicsum=function(d){d=f(d,{width:500,height:500,greyscale:!1,blurred:!1});var y=d.greyscale?"g/":"",C=d.blurred?"/?blur":"/?random";return"https://picsum.photos/"+y+d.width+"/"+d.height+C},u.prototype.address=function(d){return d=f(d),this.natural({min:5,max:2e3})+" "+this.street(d)},u.prototype.altitude=function(d){return d=f(d,{fixed:5,min:0,max:8848}),this.floating({min:d.min,max:d.max,fixed:d.fixed})},u.prototype.areacode=function(d){d=f(d,{parens:!0});var y=d.exampleNumber?"555":this.natural({min:2,max:9}).toString()+this.natural({min:0,max:8}).toString()+this.natural({min:0,max:9}).toString();return d.parens?"("+y+")":y},u.prototype.city=function(){return this.capitalize(this.word({syllables:3}))},u.prototype.coordinates=function(d){return this.latitude(d)+", "+this.longitude(d)},u.prototype.countries=function(){return this.get("countries")},u.prototype.country=function(d){d=f(d);var y=this.pick(this.countries());return d.raw?y:d.full?y.name:y.abbreviation},u.prototype.depth=function(d){return d=f(d,{fixed:5,min:-10994,max:0}),this.floating({min:d.min,max:d.max,fixed:d.fixed})},u.prototype.geohash=function(d){return d=f(d,{length:7}),this.string({length:d.length,pool:"0123456789bcdefghjkmnpqrstuvwxyz"})},u.prototype.geojson=function(d){return this.latitude(d)+", "+this.longitude(d)+", "+this.altitude(d)},u.prototype.latitude=function(d){var[y,C,M]=["ddm","dms","dd"];d=f(d,d&&d.format&&[y,C].includes(d.format.toLowerCase())?{min:0,max:89,fixed:4}:{fixed:5,min:-90,max:90,format:M});var A=d.format.toLowerCase();switch((A===y||A===C)&&(v(d.min<0||d.min>89,"Chance: Min specified is out of range. Should be between 0 - 89"),v(d.max<0||d.max>89,"Chance: Max specified is out of range. Should be between 0 - 89"),v(d.fixed>4,"Chance: Fixed specified should be below or equal to 4")),A){case y:return this.integer({min:d.min,max:d.max})+""+this.floating({min:0,max:59,fixed:d.fixed});case C:return this.integer({min:d.min,max:d.max})+""+this.integer({min:0,max:59})+""+this.floating({min:0,max:59,fixed:d.fixed})+"";case M:default:return this.floating({min:d.min,max:d.max,fixed:d.fixed})}},u.prototype.longitude=function(d){var[y,C,M]=["ddm","dms","dd"];d=f(d,d&&d.format&&[y,C].includes(d.format.toLowerCase())?{min:0,max:179,fixed:4}:{fixed:5,min:-180,max:180,format:M});var A=d.format.toLowerCase();switch((A===y||A===C)&&(v(d.min<0||d.min>179,"Chance: Min specified is out of range. Should be between 0 - 179"),v(d.max<0||d.max>179,"Chance: Max specified is out of range. Should be between 0 - 179"),v(d.fixed>4,"Chance: Fixed specified should be below or equal to 4")),A){case y:return this.integer({min:d.min,max:d.max})+""+this.floating({min:0,max:59.9999,fixed:d.fixed});case C:return this.integer({min:d.min,max:d.max})+""+this.integer({min:0,max:59})+""+this.floating({min:0,max:59.9999,fixed:d.fixed})+"";case M:default:return this.floating({min:d.min,max:d.max,fixed:d.fixed})}},u.prototype.phone=function(d){var y=this,C,M=function(H){var V=[];return H.sections.forEach(function(X){V.push(y.string({pool:"0123456789",length:X}))}),H.area+V.join(" ")};d=f(d,{formatted:!0,country:"us",mobile:!1,exampleNumber:!1}),d.formatted||(d.parens=!1);var A;switch(d.country){case"fr":d.mobile?(C=this.pick(["06","07"])+y.string({pool:"0123456789",length:8}),A=d.formatted?C.match(/../g).join(" "):C):(C=this.pick(["01"+this.pick(["30","34","39","40","41","42","43","44","45","46","47","48","49","53","55","56","58","60","64","69","70","72","73","74","75","76","77","78","79","80","81","82","83"])+y.string({pool:"0123456789",length:6}),"02"+this.pick(["14","18","22","23","28","29","30","31","32","33","34","35","36","37","38","40","41","43","44","45","46","47","48","49","50","51","52","53","54","56","57","61","62","69","72","76","77","78","85","90","96","97","98","99"])+y.string({pool:"0123456789",length:6}),"03"+this.pick(["10","20","21","22","23","24","25","26","27","28","29","39","44","45","51","52","54","55","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","80","81","82","83","84","85","86","87","88","89","90"])+y.string({pool:"0123456789",length:6}),"04"+this.pick(["11","13","15","20","22","26","27","30","32","34","37","42","43","44","50","56","57","63","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","88","89","90","91","92","93","94","95","97","98"])+y.string({pool:"0123456789",length:6}),"05"+this.pick(["08","16","17","19","24","31","32","33","34","35","40","45","46","47","49","53","55","56","57","58","59","61","62","63","64","65","67","79","81","82","86","87","90","94"])+y.string({pool:"0123456789",length:6}),"09"+y.string({pool:"0123456789",length:8})]),A=d.formatted?C.match(/../g).join(" "):C);break;case"uk":d.mobile?(C=this.pick([{area:"07"+this.pick(["4","5","7","8","9"]),sections:[2,6]},{area:"07624 ",sections:[6]}]),A=d.formatted?M(C):M(C).replace(" ","")):(C=this.pick([{area:"01"+this.character({pool:"234569"})+"1 ",sections:[3,4]},{area:"020 "+this.character({pool:"378"}),sections:[3,4]},{area:"023 "+this.character({pool:"89"}),sections:[3,4]},{area:"024 7",sections:[3,4]},{area:"028 "+this.pick(["25","28","37","71","82","90","92","95"]),sections:[2,4]},{area:"012"+this.pick(["04","08","54","76","97","98"])+" ",sections:[6]},{area:"013"+this.pick(["63","64","84","86"])+" ",sections:[6]},{area:"014"+this.pick(["04","20","60","61","80","88"])+" ",sections:[6]},{area:"015"+this.pick(["24","27","62","66"])+" ",sections:[6]},{area:"016"+this.pick(["06","29","35","47","59","95"])+" ",sections:[6]},{area:"017"+this.pick(["26","44","50","68"])+" ",sections:[6]},{area:"018"+this.pick(["27","37","84","97"])+" ",sections:[6]},{area:"019"+this.pick(["00","05","35","46","49","63","95"])+" ",sections:[6]}]),A=d.formatted?M(C):M(C).replace(" ","","g"));break;case"za":d.mobile?(C=this.pick(["060"+this.pick(["3","4","5","6","7","8","9"])+y.string({pool:"0123456789",length:6}),"061"+this.pick(["0","1","2","3","4","5","8"])+y.string({pool:"0123456789",length:6}),"06"+y.string({pool:"0123456789",length:7}),"071"+this.pick(["0","1","2","3","4","5","6","7","8","9"])+y.string({pool:"0123456789",length:6}),"07"+this.pick(["2","3","4","6","7","8","9"])+y.string({pool:"0123456789",length:7}),"08"+this.pick(["0","1","2","3","4","5"])+y.string({pool:"0123456789",length:7})]),A=d.formatted||C):(C=this.pick(["01"+this.pick(["0","1","2","3","4","5","6","7","8"])+y.string({pool:"0123456789",length:7}),"02"+this.pick(["1","2","3","4","7","8"])+y.string({pool:"0123456789",length:7}),"03"+this.pick(["1","2","3","5","6","9"])+y.string({pool:"0123456789",length:7}),"04"+this.pick(["1","2","3","4","5","6","7","8","9"])+y.string({pool:"0123456789",length:7}),"05"+this.pick(["1","3","4","6","7","8"])+y.string({pool:"0123456789",length:7})]),A=d.formatted||C);break;case"us":var L=this.areacode(d).toString(),P=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:9}).toString()+this.natural({min:0,max:9}).toString(),b=this.natural({min:1e3,max:9999}).toString();A=d.formatted?L+" "+P+"-"+b:L+P+b;break;case"br":var I=this.pick(["11","12","13","14","15","16","17","18","19","21","22","24","27","28","31","32","33","34","35","37","38","41","42","43","44","45","46","47","48","49","51","53","54","55","61","62","63","64","65","66","67","68","69","71","73","74","75","77","79","81","82","83","84","85","86","87","88","89","91","92","93","94","95","96","97","98","99"]),D;d.mobile?D="9"+y.string({pool:"0123456789",length:4}):D=this.natural({min:2e3,max:5999}).toString();var G=y.string({pool:"0123456789",length:4});A=d.formatted?"("+I+") "+D+"-"+G:I+D+G;break}return A},u.prototype.postal=function(){var d=this.character({pool:"XVTSRPNKLMHJGECBA"}),y=d+this.natural({max:9})+this.character({alpha:!0,casing:"upper"}),C=this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+this.natural({max:9});return y+" "+C},u.prototype.postcode=function(){var d=this.pick(this.get("postcodeAreas")).code,y=this.natural({max:9}),C=this.bool()?this.character({alpha:!0,casing:"upper"}):"",M=d+y+C,A=this.natural({max:9}),L=this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"}),P=A+L;return M+" "+P},u.prototype.counties=function(d){return d=f(d,{country:"uk"}),this.get("counties")[d.country.toLowerCase()]},u.prototype.county=function(d){return this.pick(this.counties(d)).name},u.prototype.provinces=function(d){return d=f(d,{country:"ca"}),this.get("provinces")[d.country.toLowerCase()]},u.prototype.province=function(d){return d&&d.full?this.pick(this.provinces(d)).name:this.pick(this.provinces(d)).abbreviation},u.prototype.state=function(d){return d&&d.full?this.pick(this.states(d)).name:this.pick(this.states(d)).abbreviation},u.prototype.states=function(d){d=f(d,{country:"us",us_states_and_dc:!0});var y;switch(d.country.toLowerCase()){case"us":var C=this.get("us_states_and_dc"),M=this.get("territories"),A=this.get("armed_forces");y=[],d.us_states_and_dc&&(y=y.concat(C)),d.territories&&(y=y.concat(M)),d.armed_forces&&(y=y.concat(A));break;case"it":case"mx":y=this.get("country_regions")[d.country.toLowerCase()];break;case"uk":y=this.get("counties")[d.country.toLowerCase()];break}return y},u.prototype.street=function(d){d=f(d,{country:"us",syllables:2});var y;switch(d.country.toLowerCase()){case"us":y=this.word({syllables:d.syllables}),y=this.capitalize(y),y+=" ",y+=d.short_suffix?this.street_suffix(d).abbreviation:this.street_suffix(d).name;break;case"it":y=this.word({syllables:d.syllables}),y=this.capitalize(y),y=(d.short_suffix?this.street_suffix(d).abbreviation:this.street_suffix(d).name)+" "+y;break}return y},u.prototype.street_suffix=function(d){return d=f(d,{country:"us"}),this.pick(this.street_suffixes(d))},u.prototype.street_suffixes=function(d){return d=f(d,{country:"us"}),this.get("street_suffixes")[d.country.toLowerCase()]},u.prototype.zip=function(d){var y=this.n(this.natural,5,{max:9});return d&&d.plusfour===!0&&(y.push("-"),y=y.concat(this.n(this.natural,4,{max:9}))),y.join("")},u.prototype.ampm=function(){return this.bool()?"am":"pm"},u.prototype.date=function(d){var y,C;if(d&&(d.min||d.max)){d=f(d,{american:!0,string:!1});var M=typeof d.min<"u"?d.min.getTime():1,A=typeof d.max<"u"?d.max.getTime():864e13;C=new Date(this.integer({min:M,max:A}))}else{var L=this.month({raw:!0}),P=L.days;d&&d.month&&(P=this.get("months")[(d.month%12+12)%12].days),d=f(d,{year:parseInt(this.year(),10),month:L.numeric-1,day:this.natural({min:1,max:P}),hour:this.hour({twentyfour:!0}),minute:this.minute(),second:this.second(),millisecond:this.millisecond(),american:!0,string:!1}),C=new Date(d.year,d.month,d.day,d.hour,d.minute,d.second,d.millisecond)}return d.american?y=C.getMonth()+1+"/"+C.getDate()+"/"+C.getFullYear():y=C.getDate()+"/"+(C.getMonth()+1)+"/"+C.getFullYear(),d.string?y:C},u.prototype.hammertime=function(d){return this.date(d).getTime()},u.prototype.hour=function(d){return d=f(d,{min:d&&d.twentyfour?0:1,max:d&&d.twentyfour?23:12}),v(d.min<0,"Chance: Min cannot be less than 0."),v(d.twentyfour&&d.max>23,"Chance: Max cannot be greater than 23 for twentyfour option."),v(!d.twentyfour&&d.max>12,"Chance: Max cannot be greater than 12."),v(d.min>d.max,"Chance: Min cannot be greater than Max."),this.natural({min:d.min,max:d.max})},u.prototype.millisecond=function(){return this.natural({max:999})},u.prototype.minute=u.prototype.second=function(d){return d=f(d,{min:0,max:59}),v(d.min<0,"Chance: Min cannot be less than 0."),v(d.max>59,"Chance: Max cannot be greater than 59."),v(d.min>d.max,"Chance: Min cannot be greater than Max."),this.natural({min:d.min,max:d.max})},u.prototype.month=function(d){d=f(d,{min:1,max:12}),v(d.min<1,"Chance: Min cannot be less than 1."),v(d.max>12,"Chance: Max cannot be greater than 12."),v(d.min>d.max,"Chance: Min cannot be greater than Max.");var y=this.pick(this.months().slice(d.min-1,d.max));return d.raw?y:y.name},u.prototype.months=function(){return this.get("months")},u.prototype.second=function(){return this.natural({max:59})},u.prototype.timestamp=function(){return this.natural({min:1,max:parseInt(new Date().getTime()/1e3,10)})},u.prototype.weekday=function(d){d=f(d,{weekday_only:!1});var y=["Monday","Tuesday","Wednesday","Thursday","Friday"];return d.weekday_only||(y.push("Saturday"),y.push("Sunday")),this.pickone(y)},u.prototype.year=function(d){return d=f(d,{min:new Date().getFullYear()}),d.max=typeof d.max<"u"?d.max:d.min+100,this.natural(d).toString()},u.prototype.cc=function(d){d=f(d);var y,C,M;return y=d.type?this.cc_type({name:d.type,raw:!0}):this.cc_type({raw:!0}),C=y.prefix.split(""),M=y.length-y.prefix.length-1,C=C.concat(this.n(this.integer,M,{min:0,max:9})),C.push(this.luhn_calculate(C.join(""))),C.join("")},u.prototype.cc_types=function(){return this.get("cc_types")},u.prototype.cc_type=function(d){d=f(d);var y=this.cc_types(),C=null;if(d.name){for(var M=0;M<y.length;M++)if(y[M].name===d.name||y[M].short_name===d.name){C=y[M];break}if(C===null)throw new RangeError("Chance: Credit card type '"+d.name+"' is not supported")}else C=this.pick(y);return d.raw?C:C.name},u.prototype.currency_types=function(){return this.get("currency_types")},u.prototype.currency=function(){return this.pick(this.currency_types())},u.prototype.timezones=function(){return this.get("timezones")},u.prototype.timezone=function(){return this.pick(this.timezones())},u.prototype.currency_pair=function(d){var y=this.unique(this.currency,2,{comparator:function(C,M){return C.reduce(function(A,L){return A||L.code===M.code},!1)}});return d?y[0].code+"/"+y[1].code:y},u.prototype.dollar=function(d){d=f(d,{max:1e4,min:0});var y=this.floating({min:d.min,max:d.max,fixed:2}).toString(),C=y.split(".")[1];return C===void 0?y+=".00":C.length<2&&(y=y+"0"),y<0?"-$"+y.replace("-",""):"$"+y},u.prototype.euro=function(d){return Number(this.dollar(d).replace("$","")).toLocaleString()+""},u.prototype.exp=function(d){d=f(d);var y={};return y.year=this.exp_year(),y.year===new Date().getFullYear().toString()?y.month=this.exp_month({future:!0}):y.month=this.exp_month(),d.raw?y:y.month+"/"+y.year},u.prototype.exp_month=function(d){d=f(d);var y,C,M=new Date().getMonth()+1;if(d.future&&M!==12)do y=this.month({raw:!0}).numeric,C=parseInt(y,10);while(C<=M);else y=this.month({raw:!0}).numeric;return y},u.prototype.exp_year=function(){var d=new Date().getMonth()+1,y=new Date().getFullYear();return this.year({min:d===12?y+1:y,max:y+10})},u.prototype.vat=function(d){switch(d=f(d,{country:"it"}),d.country.toLowerCase()){case"it":return this.it_vat()}},u.prototype.iban=function(){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ",y=d+"0123456789",C=this.string({length:2,pool:d})+this.pad(this.integer({min:0,max:99}),2)+this.string({length:4,pool:y})+this.pad(this.natural(),this.natural({min:6,max:26}));return C},u.prototype.it_vat=function(){var d=this.natural({min:1,max:18e5});return d=this.pad(d,7)+this.pad(this.pick(this.provinces({country:"it"})).code,3),d+this.luhn_calculate(d)},u.prototype.cf=function(d){d=d||{};var y=d.gender?d.gender:this.gender(),C=d.first?d.first:this.first({gender:y,nationality:"it"}),M=d.last?d.last:this.last({nationality:"it"}),A=d.birthday?d.birthday:this.birthday(),L=d.city?d.city:this.pickone(["A","B","C","D","E","F","G","H","I","L","M","Z"])+this.pad(this.natural({max:999}),3),P=[],b=function(G,H){var V,X=[];return G.length<3?X=G.split("").concat("XXX".split("")).splice(0,3):(V=G.toUpperCase().split("").map(function(K){return"BCDFGHJKLMNPRSTVWZ".indexOf(K)!==-1?K:void 0}).join(""),V.length>3&&(H?V=V.substr(0,3):V=V[0]+V.substr(2,2)),V.length<3&&(X=V,V=G.toUpperCase().split("").map(function(K){return"AEIOU".indexOf(K)!==-1?K:void 0}).join("").substr(0,3-X.length)),X=X+V),X},I=function(G,H,V){var X=["A","B","C","D","E","H","L","M","P","R","S","T"];return G.getFullYear().toString().substr(2)+X[G.getMonth()]+V.pad(G.getDate()+(H.toLowerCase()==="female"?40:0),2)},D=function(G){for(var H="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",V="ABCDEFGHIJABCDEFGHIJKLMNOPQRSTUVWXYZ",X="ABCDEFGHIJKLMNOPQRSTUVWXYZ",K="BAKPLCQDREVOSFTGUHMINJWZYX",te=0,se=0;se<15;se++)se%2!==0?te+=X.indexOf(V[H.indexOf(G[se])]):te+=K.indexOf(V[H.indexOf(G[se])]);return X[te%26]};return P=P.concat(b(M,!0),b(C),I(A,y,this),L.toUpperCase().split("")).join(""),P+=D(P.toUpperCase()),P.toUpperCase()},u.prototype.pl_pesel=function(){for(var d=this.natural({min:1,max:9999999999}),y=this.pad(d,10).split(""),C=0;C<y.length;C++)y[C]=parseInt(y[C]);var M=(1*y[0]+3*y[1]+7*y[2]+9*y[3]+1*y[4]+3*y[5]+7*y[6]+9*y[7]+1*y[8]+3*y[9])%10;return M!==0&&(M=10-M),y.join("")+M},u.prototype.pl_nip=function(){for(var d=this.natural({min:1,max:999999999}),y=this.pad(d,9).split(""),C=0;C<y.length;C++)y[C]=parseInt(y[C]);var M=(6*y[0]+5*y[1]+7*y[2]+2*y[3]+3*y[4]+4*y[5]+5*y[6]+6*y[7]+7*y[8])%11;return M===10?this.pl_nip():y.join("")+M},u.prototype.pl_regon=function(){for(var d=this.natural({min:1,max:99999999}),y=this.pad(d,8).split(""),C=0;C<y.length;C++)y[C]=parseInt(y[C]);var M=(8*y[0]+9*y[1]+2*y[2]+3*y[3]+4*y[4]+5*y[5]+6*y[6]+7*y[7])%11;return M===10&&(M=0),y.join("")+M},u.prototype.music_genre=function(d="general"){if(!(d.toLowerCase()in E.music_genres))throw new Error(`Unsupported genre: ${d}`);const y=E.music_genres[d.toLowerCase()],C=this.integer({min:0,max:y.length-1});return y[C]},u.prototype.note=function(d){d=f(d,{notes:"flatKey"});var y={naturals:["C","D","E","F","G","A","B"],flats:["D","E","G","A","B"],sharps:["C","D","F","G","A"]};return y.all=y.naturals.concat(y.flats.concat(y.sharps)),y.flatKey=y.naturals.concat(y.flats),y.sharpKey=y.naturals.concat(y.sharps),this.pickone(y[d.notes])},u.prototype.midi_note=function(d){var y=0,C=127;return d=f(d,{min:y,max:C}),this.integer({min:d.min,max:d.max})},u.prototype.chord_quality=function(d){d=f(d,{jazz:!0});var y=["maj","min","aug","dim"];return d.jazz&&(y=["maj7","min7","7","sus","dim",""]),this.pickone(y)},u.prototype.chord=function(d){return d=f(d),this.note(d)+this.chord_quality(d)},u.prototype.tempo=function(d){var y=40,C=320;return d=f(d,{min:y,max:C}),this.integer({min:d.min,max:d.max})},u.prototype.coin=function(){return this.bool()?"heads":"tails"};function S(d){return function(){return this.natural(d)}}u.prototype.d4=S({min:1,max:4}),u.prototype.d6=S({min:1,max:6}),u.prototype.d8=S({min:1,max:8}),u.prototype.d10=S({min:1,max:10}),u.prototype.d12=S({min:1,max:12}),u.prototype.d20=S({min:1,max:20}),u.prototype.d30=S({min:1,max:30}),u.prototype.d100=S({min:1,max:100}),u.prototype.rpg=function(d,y){if(y=f(y),d){var C=d.toLowerCase().split("d"),M=[];if(C.length!==2||!parseInt(C[0],10)||!parseInt(C[1],10))throw new Error("Chance: Invalid format provided. Please provide #d# where the first # is the number of dice to roll, the second # is the max of each die");for(var A=C[0];A>0;A--)M[A-1]=this.natural({min:1,max:C[1]});return typeof y.sum<"u"&&y.sum?M.reduce(function(L,P){return L+P}):M}else throw new RangeError("Chance: A type of die roll must be included")},u.prototype.guid=function(d){d=f(d,{version:5});var y="abcdef1234567890",C="ab89",M=this.string({pool:y,length:8})+"-"+this.string({pool:y,length:4})+"-"+d.version+this.string({pool:y,length:3})+"-"+this.string({pool:C,length:1})+this.string({pool:y,length:3})+"-"+this.string({pool:y,length:12});return M},u.prototype.hash=function(d){d=f(d,{length:40,casing:"lower"});var y=d.casing==="upper"?o.toUpperCase():o;return this.string({pool:y,length:d.length})},u.prototype.luhn_check=function(d){var y=d.toString(),C=+y.substring(y.length-1);return C===this.luhn_calculate(+y.substring(0,y.length-1))},u.prototype.luhn_calculate=function(d){for(var y=d.toString().split("").reverse(),C=0,M,A=0,L=y.length;L>A;++A)M=+y[A],A%2===0&&(M*=2,M>9&&(M-=9)),C+=M;return C*9%10},u.prototype.md5=function(d){var y={str:"",key:null,raw:!1};if(!d)y.str=this.string(),d={};else if(typeof d=="string")y.str=d,d={};else{if(typeof d!="object")return null;if(d.constructor==="Array")return null}if(y=f(d,y),!y.str)throw new Error("A parameter is required to return an md5 hash.");return this.bimd5.md5(y.str,y.key,y.raw)},u.prototype.file=function(d){var y=d||{},C="fileExtension",M=Object.keys(this.get("fileExtension")),A,L;if(A=this.word({length:y.length}),y.extension)return L=y.extension,A+"."+L;if(y.extensions){if(Array.isArray(y.extensions))return L=this.pickone(y.extensions),A+"."+L;if(y.extensions.constructor===Object){var P=y.extensions,b=Object.keys(P);return L=this.pickone(P[this.pickone(b)]),A+"."+L}throw new Error("Chance: Extensions must be an Array or Object")}if(y.fileType){var I=y.fileType;if(M.indexOf(I)!==-1)return L=this.pickone(this.get(C)[I]),A+"."+L;throw new RangeError("Chance: Expect file type value to be 'raster', 'vector', '3d' or 'document'")}return L=this.pickone(this.get(C)[this.pickone(M)]),A+"."+L},u.prototype.fileWithContent=function(d){var y=d||{},C="fileName"in y?y.fileName:this.file().split(".")[0];if(C+="."+("fileExtension"in y?y.fileExtension:this.file().split(".")[1]),typeof y.fileSize!="number")throw new Error("File size must be an integer");var M={fileData:this.buffer({length:y.fileSize}),fileName:C};return M};var E={firstNames:{male:{en:["James","John","Robert","Michael","William","David","Richard","Joseph","Charles","Thomas","Christopher","Daniel","Matthew","George","Donald","Anthony","Paul","Mark","Edward","Steven","Kenneth","Andrew","Brian","Joshua","Kevin","Ronald","Timothy","Jason","Jeffrey","Frank","Gary","Ryan","Nicholas","Eric","Stephen","Jacob","Larry","Jonathan","Scott","Raymond","Justin","Brandon","Gregory","Samuel","Benjamin","Patrick","Jack","Henry","Walter","Dennis","Jerry","Alexander","Peter","Tyler","Douglas","Harold","Aaron","Jose","Adam","Arthur","Zachary","Carl","Nathan","Albert","Kyle","Lawrence","Joe","Willie","Gerald","Roger","Keith","Jeremy","Terry","Harry","Ralph","Sean","Jesse","Roy","Louis","Billy","Austin","Bruce","Eugene","Christian","Bryan","Wayne","Russell","Howard","Fred","Ethan","Jordan","Philip","Alan","Juan","Randy","Vincent","Bobby","Dylan","Johnny","Phillip","Victor","Clarence","Ernest","Martin","Craig","Stanley","Shawn","Travis","Bradley","Leonard","Earl","Gabriel","Jimmy","Francis","Todd","Noah","Danny","Dale","Cody","Carlos","Allen","Frederick","Logan","Curtis","Alex","Joel","Luis","Norman","Marvin","Glenn","Tony","Nathaniel","Rodney","Melvin","Alfred","Steve","Cameron","Chad","Edwin","Caleb","Evan","Antonio","Lee","Herbert","Jeffery","Isaac","Derek","Ricky","Marcus","Theodore","Elijah","Luke","Jesus","Eddie","Troy","Mike","Dustin","Ray","Adrian","Bernard","Leroy","Angel","Randall","Wesley","Ian","Jared","Mason","Hunter","Calvin","Oscar","Clifford","Jay","Shane","Ronnie","Barry","Lucas","Corey","Manuel","Leo","Tommy","Warren","Jackson","Isaiah","Connor","Don","Dean","Jon","Julian","Miguel","Bill","Lloyd","Charlie","Mitchell","Leon","Jerome","Darrell","Jeremiah","Alvin","Brett","Seth","Floyd","Jim","Blake","Micheal","Gordon","Trevor","Lewis","Erik","Edgar","Vernon","Devin","Gavin","Jayden","Chris","Clyde","Tom","Derrick","Mario","Brent","Marc","Herman","Chase","Dominic","Ricardo","Franklin","Maurice","Max","Aiden","Owen","Lester","Gilbert","Elmer","Gene","Francisco","Glen","Cory","Garrett","Clayton","Sam","Jorge","Chester","Alejandro","Jeff","Harvey","Milton","Cole","Ivan","Andre","Duane","Landon"],it:["Adolfo","Alberto","Aldo","Alessandro","Alessio","Alfredo","Alvaro","Andrea","Angelo","Angiolo","Antonino","Antonio","Attilio","Benito","Bernardo","Bruno","Carlo","Cesare","Christian","Claudio","Corrado","Cosimo","Cristian","Cristiano","Daniele","Dario","David","Davide","Diego","Dino","Domenico","Duccio","Edoardo","Elia","Elio","Emanuele","Emiliano","Emilio","Enrico","Enzo","Ettore","Fabio","Fabrizio","Federico","Ferdinando","Fernando","Filippo","Francesco","Franco","Gabriele","Giacomo","Giampaolo","Giampiero","Giancarlo","Gianfranco","Gianluca","Gianmarco","Gianni","Gino","Giorgio","Giovanni","Giuliano","Giulio","Giuseppe","Graziano","Gregorio","Guido","Iacopo","Jacopo","Lapo","Leonardo","Lorenzo","Luca","Luciano","Luigi","Manuel","Marcello","Marco","Marino","Mario","Massimiliano","Massimo","Matteo","Mattia","Maurizio","Mauro","Michele","Mirko","Mohamed","Nello","Neri","Niccol","Nicola","Osvaldo","Otello","Paolo","Pier Luigi","Piero","Pietro","Raffaele","Remo","Renato","Renzo","Riccardo","Roberto","Rolando","Romano","Salvatore","Samuele","Sandro","Sergio","Silvano","Simone","Stefano","Thomas","Tommaso","Ubaldo","Ugo","Umberto","Valerio","Valter","Vasco","Vincenzo","Vittorio"],nl:["Aaron","Abel","Adam","Adriaan","Albert","Alexander","Ali","Arjen","Arno","Bart","Bas","Bastiaan","Benjamin","Bob","Boris","Bram","Brent","Cas","Casper","Chris","Christiaan","Cornelis","Daan","Daley","Damian","Dani","Daniel","Danil","David","Dean","Dirk","Dylan","Egbert","Elijah","Erik","Erwin","Evert","Ezra","Fabian","Fedde","Finn","Florian","Floris","Frank","Frans","Frederik","Freek","Geert","Gerard","Gerben","Gerrit","Gijs","Guus","Hans","Hendrik","Henk","Herman","Hidde","Hugo","Jaap","Jan Jaap","Jan-Willem","Jack","Jacob","Jan","Jason","Jasper","Jayden","Jelle","Jelte","Jens","Jeroen","Jesse","Jim","Job","Joep","Johannes","John","Jonathan","Joris","Joshua","Jol","Julian","Kees","Kevin","Koen","Lars","Laurens","Leendert","Lennard","Lodewijk","Luc","Luca","Lucas","Lukas","Luuk","Maarten","Marcus","Martijn","Martin","Matthijs","Maurits","Max","Mees","Melle","Mick","Mika","Milan","Mohamed","Mohammed","Morris","Muhammed","Nathan","Nick","Nico","Niek","Niels","Noah","Noud","Olivier","Oscar","Owen","Paul","Pepijn","Peter","Pieter","Pim","Quinten","Reinier","Rens","Robin","Ruben","Sam","Samuel","Sander","Sebastiaan","Sem","Sep","Sepp","Siem","Simon","Stan","Stef","Steven","Stijn","Sven","Teun","Thijmen","Thijs","Thomas","Tijn","Tim","Timo","Tobias","Tom","Victor","Vince","Willem","Wim","Wouter","Yusuf"],fr:["Aaron","Abdon","Abel","Ablard","Abelin","Abondance","Abraham","Absalon","Acace","Achaire","Achille","Adalard","Adalbald","Adalbron","Adalbert","Adalric","Adam","Adegrin","Adel","Adelin","Andelin","Adelphe","Adam","Adodat","Adhmar","Adjutor","Adolphe","Adonis","Adon","Adrien","Agapet","Agathange","Agathon","Agilbert","Agnor","Agnan","Aignan","Agrippin","Aimable","Aim","Alain","Alban","Albin","Aubin","Albric","Albert","Albertet","Alcibiade","Alcide","Alce","Alcime","Aldonce","Aldric","Aldric","Aleaume","Alexandre","Alexis","Alix","Alliaume","Aleaume","Almine","Almire","Alos","Alphe","Alphonse","Alpinien","Alverde","Amalric","Amaury","Amandin","Amant","Ambroise","Amde","Amlien","Amiel","Amour","Anal","Anastase","Anatole","Ancelin","Andol","Andoche","Andr","Andoche","Ange","Angelin","Angilbe","Anglebert","Angoustan","Anicet","Anne","Annibal","Ansbert","Anselme","Anthelme","Antheaume","Anthime","Antide","Antoine","Antonius","Antonin","Apollinaire","Apollon","Aquilin","Arcade","Archambaud","Archambeau","Archange","Archibald","Arian","Ariel","Ariste","Aristide","Armand","Armel","Armin","Arnould","Arnaud","Arolde","Arsne","Arsino","Arthaud","Arthme","Arthur","Ascelin","Athanase","Aubry","Audebert","Audouin","Audran","Audric","Auguste","Augustin","Aurle","Aurlien","Aurian","Auxence","Axel","Aymard","Aymeric","Aymon","Aymond","Balthazar","Baptiste","Barnab","Barthlemy","Bartime","Basile","Bastien","Baudouin","Bnigne","Benjamin","Benot","Brenger","Brard","Bernard","Bertrand","Blaise","Bon","Boniface","Bouchard","Brice","Brieuc","Bruno","Brunon","Calixte","Calliste","Camlien","Camille","Camillien","Candide","Caribert","Carloman","Cassandre","Cassien","Cdric","Cleste","Clestin","Clien","Csaire","Csar","Charles","Charlemagne","Childebert","Chilpric","Chrtien","Christian","Christodule","Christophe","Chrysostome","Clarence","Claude","Claudien","Clandre","Clment","Clotaire","Cme","Constance","Constant","Constantin","Corentin","Cyprien","Cyriaque","Cyrille","Cyril","Damien","Daniel","David","Delphin","Denis","Dsir","Didier","Dieudonn","Dimitri","Dominique","Dorian","Dorothe","Edgard","Edmond","douard","leuthre","lie","lise","meric","mile","milien","Emmanuel","Enguerrand","piphane","ric","Esprit","Ernest","tienne","Eubert","Eudes","Eudoxe","Eugne","Eusbe","Eustache","variste","vrard","Fabien","Fabrice","Falba","Flicit","Flix","Ferdinand","Fiacre","Fidle","Firmin","Flavien","Flodoard","Florent","Florentin","Florestan","Florian","Fortun","Foulques","Francisque","Franois","Franais","Franciscus","Francs","Frdric","Fulbert","Fulcran","Fulgence","Gabin","Gabriel","Gal","Garnier","Gaston","Gaspard","Gatien","Gaud","Gautier","Gdon","Geoffroy","Georges","Graud","Grard","Gerbert","Germain","Gervais","Ghislain","Gilbert","Gilles","Girart","Gislebert","Gondebaud","Gonthier","Gontran","Gonzague","Grgoire","Gurin","Gui","Guillaume","Gustave","Guy","Guyot","Hardouin","Hector","Hdelin","Hlier","Henri","Herbert","Herluin","Herv","Hilaire","Hildebert","Hincmar","Hippolyte","Honor","Hubert","Hugues","Innocent","Isabeau","Isidore","Jacques","Japhet","Jason","Jean","Jeannel","Jeannot","Jrmie","Jrme","Joachim","Joanny","Job","Jocelyn","Jol","Johan","Jonas","Jonathan","Joseph","Josse","Josselin","Jourdain","Jude","Judical","Jules","Julien","Juste","Justin","Lambert","Landry","Laurent","Lazare","Landre","Lon","Lonard","Lopold","Leu","Loup","Leufroy","Libre","Litald","Lionel","Loc","Longin","Lorrain","Lorraine","Lothaire","Louis","Loup","Luc","Lucas","Lucien","Ludolphe","Ludovic","Macaire","Malo","Mamert","Manass","Marc","Marceau","Marcel","Marcelin","Marius","Marseille","Martial","Martin","Mathurin","Matthias","Mathias","Matthieu","Maugis","Maurice","Mauricet","Maxence","Maxime","Maximilien","Mayeul","Mdric","Melchior","Mence","Merlin","Mrove","Michal","Michel","Mose","Morgan","Nathan","Nathanal","Narcisse","Nhmie","Nestor","Nestor","Nicphore","Nicolas","No","Nol","Norbert","Normand","Normands","Octave","Odilon","Odon","Oger","Olivier","Oury","Pacme","Palmon","Parfait","Pascal","Paterne","Patrice","Paul","Ppin","Perceval","Philmon","Philibert","Philippe","Philothe","Pie","Pierre","Pierrick","Prosper","Quentin","Raoul","Raphal","Raymond","Rgis","Rjean","Rmi","Renaud","Ren","Reybaud","Richard","Robert","Roch","Rodolphe","Rodrigue","Roger","Roland","Romain","Romuald","Romo","Rome","Ronan","Roselin","Salomon","Samuel","Savin","Savinien","Scholastique","Sbastien","Sraphin","Serge","Sverin","Sidoine","Sigebert","Sigismond","Silvre","Simon","Simon","Sixte","Stanislas","Stphane","Stephan","Sylvain","Sylvestre","Tancrde","Tanguy","Taurin","Thodore","Thodose","Thophile","Thophraste","Thibault","Thibert","Thierry","Thomas","Timolon","Timothe","Titien","Tonnin","Toussaint","Trajan","Tristan","Turold","Tim","Ulysse","Urbain","Valentin","Valre","Valry","Venance","Venant","Venceslas","Vianney","Victor","Victorien","Victorin","Vigile","Vincent","Vital","Vitalien","Vivien","Waleran","Wandrille","Xavier","Xnophon","Yves","Zacharie","Zach","Zphirin"]},female:{en:["Mary","Emma","Elizabeth","Minnie","Margaret","Ida","Alice","Bertha","Sarah","Annie","Clara","Ella","Florence","Cora","Martha","Laura","Nellie","Grace","Carrie","Maude","Mabel","Bessie","Jennie","Gertrude","Julia","Hattie","Edith","Mattie","Rose","Catherine","Lillian","Ada","Lillie","Helen","Jessie","Louise","Ethel","Lula","Myrtle","Eva","Frances","Lena","Lucy","Edna","Maggie","Pearl","Daisy","Fannie","Josephine","Dora","Rosa","Katherine","Agnes","Marie","Nora","May","Mamie","Blanche","Stella","Ellen","Nancy","Effie","Sallie","Nettie","Della","Lizzie","Flora","Susie","Maud","Mae","Etta","Harriet","Sadie","Caroline","Katie","Lydia","Elsie","Kate","Susan","Mollie","Alma","Addie","Georgia","Eliza","Lulu","Nannie","Lottie","Amanda","Belle","Charlotte","Rebecca","Ruth","Viola","Olive","Amelia","Hannah","Jane","Virginia","Emily","Matilda","Irene","Kathryn","Esther","Willie","Henrietta","Ollie","Amy","Rachel","Sara","Estella","Theresa","Augusta","Ora","Pauline","Josie","Lola","Sophia","Leona","Anne","Mildred","Ann","Beulah","Callie","Lou","Delia","Eleanor","Barbara","Iva","Louisa","Maria","Mayme","Evelyn","Estelle","Nina","Betty","Marion","Bettie","Dorothy","Luella","Inez","Lela","Rosie","Allie","Millie","Janie","Cornelia","Victoria","Ruby","Winifred","Alta","Celia","Christine","Beatrice","Birdie","Harriett","Mable","Myra","Sophie","Tillie","Isabel","Sylvia","Carolyn","Isabelle","Leila","Sally","Ina","Essie","Bertie","Nell","Alberta","Katharine","Lora","Rena","Mina","Rhoda","Mathilda","Abbie","Eula","Dollie","Hettie","Eunice","Fanny","Ola","Lenora","Adelaide","Christina","Lelia","Nelle","Sue","Johanna","Lilly","Lucinda","Minerva","Lettie","Roxie","Cynthia","Helena","Hilda","Hulda","Bernice","Genevieve","Jean","Cordelia","Marian","Francis","Jeanette","Adeline","Gussie","Leah","Lois","Lura","Mittie","Hallie","Isabella","Olga","Phoebe","Teresa","Hester","Lida","Lina","Winnie","Claudia","Marguerite","Vera","Cecelia","Bess","Emilie","Rosetta","Verna","Myrtie","Cecilia","Elva","Olivia","Ophelia","Georgie","Elnora","Violet","Adele","Lily","Linnie","Loretta","Madge","Polly","Virgie","Eugenia","Lucile","Lucille","Mabelle","Rosalie"],it:["Ada","Adriana","Alessandra","Alessia","Alice","Angela","Anna","Anna Maria","Annalisa","Annita","Annunziata","Antonella","Arianna","Asia","Assunta","Aurora","Barbara","Beatrice","Benedetta","Bianca","Bruna","Camilla","Carla","Carlotta","Carmela","Carolina","Caterina","Catia","Cecilia","Chiara","Cinzia","Clara","Claudia","Costanza","Cristina","Daniela","Debora","Diletta","Dina","Donatella","Elena","Eleonora","Elisa","Elisabetta","Emanuela","Emma","Eva","Federica","Fernanda","Fiorella","Fiorenza","Flora","Franca","Francesca","Gabriella","Gaia","Gemma","Giada","Gianna","Gina","Ginevra","Giorgia","Giovanna","Giulia","Giuliana","Giuseppa","Giuseppina","Grazia","Graziella","Greta","Ida","Ilaria","Ines","Iolanda","Irene","Irma","Isabella","Jessica","Laura","Lea","Letizia","Licia","Lidia","Liliana","Lina","Linda","Lisa","Livia","Loretta","Luana","Lucia","Luciana","Lucrezia","Luisa","Manuela","Mara","Marcella","Margherita","Maria","Maria Cristina","Maria Grazia","Maria Luisa","Maria Pia","Maria Teresa","Marina","Marisa","Marta","Martina","Marzia","Matilde","Melissa","Michela","Milena","Mirella","Monica","Natalina","Nella","Nicoletta","Noemi","Olga","Paola","Patrizia","Piera","Pierina","Raffaella","Rebecca","Renata","Rina","Rita","Roberta","Rosa","Rosanna","Rossana","Rossella","Sabrina","Sandra","Sara","Serena","Silvana","Silvia","Simona","Simonetta","Sofia","Sonia","Stefania","Susanna","Teresa","Tina","Tiziana","Tosca","Valentina","Valeria","Vanda","Vanessa","Vanna","Vera","Veronica","Vilma","Viola","Virginia","Vittoria"],nl:["Ada","Arianne","Afke","Amanda","Amber","Amy","Aniek","Anita","Anja","Anna","Anne","Annelies","Annemarie","Annette","Anouk","Astrid","Aukje","Barbara","Bianca","Carla","Carlijn","Carolien","Chantal","Charlotte","Claudia","Danille","Debora","Diane","Dora","Eline","Elise","Ella","Ellen","Emma","Esmee","Evelien","Esther","Erica","Eva","Femke","Fleur","Floor","Froukje","Gea","Gerda","Hanna","Hanneke","Heleen","Hilde","Ilona","Ina","Inge","Ingrid","Iris","Isabel","Isabelle","Janneke","Jasmijn","Jeanine","Jennifer","Jessica","Johanna","Joke","Julia","Julie","Karen","Karin","Katja","Kim","Lara","Laura","Lena","Lianne","Lieke","Lilian","Linda","Lisa","Lisanne","Lotte","Louise","Maaike","Manon","Marga","Maria","Marissa","Marit","Marjolein","Martine","Marleen","Melissa","Merel","Miranda","Michelle","Mirjam","Mirthe","Naomi","Natalie","Nienke","Nina","Noortje","Olivia","Patricia","Paula","Paulien","Ramona","Ria","Rianne","Roos","Rosanne","Ruth","Sabrina","Sandra","Sanne","Sara","Saskia","Silvia","Sofia","Sophie","Sonja","Suzanne","Tamara","Tess","Tessa","Tineke","Valerie","Vanessa","Veerle","Vera","Victoria","Wendy","Willeke","Yvonne","Zo"],fr:["Abdon","Abel","Abigalle","Abigal","Acacius","Acanthe","Adalbert","Adalsinde","Adegrine","Adlade","Adle","Adlie","Adeline","Adeltrude","Adolphe","Adonis","Adraste","Adrehilde","Adrienne","Agathe","Agilbert","Agla","Aignan","Agneflte","Agns","Agrippine","Aim","Alaine","Alas","Albane","Albrade","Alberte","Alcide","Alcine","Alcyone","Aldegonde","Aleth","Alexandrine","Alexine","Alice","Alinor","Aliette","Aline","Alix","Aliz","Alose","Aloyse","Alphonsine","Althe","Amaliane","Amalthe","Amande","Amandine","Amant","Amarande","Amaranthe","Amaryllis","Ambre","Ambroisie","Amlie","Amthyste","Aminte","Anal","Anas","Anastasie","Anatole","Ancelin","Andre","Anmone","Angadrme","Angle","Angeline","Anglique","Angilbert","Anicet","Annabelle","Anne","Annette","Annick","Annie","Annonciade","Ansbert","Anstrudie","Anthelme","Antigone","Antoinette","Antonine","Aphlie","Apolline","Apollonie","Aquiline","Arabelle","Arcadie","Archange","Argine","Ariane","Aricie","Ariel","Arielle","Arlette","Armance","Armande","Armandine","Armelle","Armide","Armelle","Armin","Arnaud","Arsne","Arsino","Artmis","Arthur","Ascelin","Ascension","Assomption","Astart","Astrie","Astre","Astrid","Athalie","Athanasie","Athina","Aube","Albert","Aude","Audrey","Augustine","Aure","Aurlie","Aurlien","Aurle","Aurore","Auxence","Aveline","Abigalle","Avoye","Axelle","Aymard","Azale","Adle","Adeline","Barbe","Basilisse","Bathilde","Batrice","Batrix","Bndicte","Brengre","Bernadette","Berthe","Bertille","Beuve","Blanche","Blanc","Blandine","Brigitte","Brune","Brunehilde","Callista","Camille","Capucine","Carine","Caroline","Cassandre","Catherine","Ccile","Cleste","Clestine","Cline","Chantal","Charlne","Charline","Charlotte","Chlo","Christelle","Christiane","Christine","Claire","Clara","Claude","Claudine","Clarisse","Clmence","Clmentine","Clo","Clio","Clotilde","Coline","Conception","Constance","Coralie","Coraline","Corentine","Corinne","Cyrielle","Daniel","Daniel","Daphn","Dbora","Delphine","Denise","Diane","Dieudonn","Dominique","Doriane","Dorothe","Douce","dith","Edme","lonore","liane","lia","liette","lisabeth","lise","Ella","lodie","lose","Elsa","meline","mrance","mrentienne","mrencie","milie","Emma","Emmanuelle","Emmelie","Ernestine","Esther","Estelle","Eudoxie","Eugnie","Eulalie","Euphrasie","Eusbie","vangline","Eva","ve","velyne","Fanny","Fantine","Faustine","Flicie","Fernande","Flavie","Fleur","Flore","Florence","Florie","Fortun","France","Francia","Franoise","Francine","Gabrielle","Galle","Garance","Genevive","Georgette","Gerberge","Germaine","Gertrude","Gisle","Guenivre","Guilhemine","Guillemette","Gustave","Gwenael","Hlne","Hlose","Henriette","Hermine","Hermione","Hippolyte","Honorine","Hortense","Huguette","Ines","Irne","Irina","Iris","Isabeau","Isabelle","Iseult","Isolde","Ismrie","Jacinthe","Jacqueline","Jade","Janine","Jeanne","Jocelyne","Jolle","Josphine","Judith","Julia","Julie","Jules","Juliette","Justine","Katy","Kathy","Katie","Laura","Laure","Laureline","Laurence","Laurene","Lauriane","Laurianne","Laurine","La","Lna","Lonie","Lon","Lontine","Lorraine","Lucie","Lucienne","Lucille","Ludivine","Lydie","Lydie","Megane","Madeleine","Magali","Maguelone","Mallaury","Manon","Marceline","Margot","Marguerite","Marianne","Marie","Myriam","Marie","Marine","Marion","Marlne","Marthe","Martine","Mathilde","Maud","Maureen","Mauricette","Maxime","Mlanie","Melissa","Mlissandre","Mlisande","Mlodie","Michel","Micheline","Mireille","Miriam","Mose","Monique","Morgane","Muriel","Mylne","Nadge","Nadine","Nathalie","Nicole","Nicolette","Nine","Nol","Nomie","Ocane","Odette","Odile","Olive","Olivia","Olympe","Ombline","Ombeline","Ophlie","Oriande","Oriane","Ozanne","Pascale","Pascaline","Paule","Paulette","Pauline","Priscille","Prisca","Prisque","Pcine","Plagie","Pnlope","Perrine","Ptronille","Philippine","Philomne","Philothe","Primerose","Prudence","Pulchrie","Quentine","Quita","Quintia","Quintilla","Rachel","Raphalle","Raymonde","Rebecca","Rgine","Rjeanne","Ren","Rita","Rita","Rolande","Romane","Rosalie","Rose","Roseline","Sabine","Salom","Sandra","Sandrine","Sarah","Sgolne","Sverine","Sibylle","Simone","Sixt","Solange","Soline","Solne","Sophie","Stphanie","Suzanne","Sylvain","Sylvie","Tatiana","Thas","Thodora","Thrse","Tiphaine","Ursule","Valentine","Valrie","Vronique","Victoire","Victorine","Vinciane","Violette","Virginie","Viviane","Xavire","Yolande","Ysaline","Yvette","Yvonne","Zlie","Zita","Zo"]}},lastNames:{en:["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans","Edwards","Collins","Stewart","Sanchez","Morris","Rogers","Reed","Cook","Morgan","Bell","Murphy","Bailey","Rivera","Cooper","Richardson","Cox","Howard","Ward","Torres","Peterson","Gray","Ramirez","James","Watson","Brooks","Kelly","Sanders","Price","Bennett","Wood","Barnes","Ross","Henderson","Coleman","Jenkins","Perry","Powell","Long","Patterson","Hughes","Flores","Washington","Butler","Simmons","Foster","Gonzales","Bryant","Alexander","Russell","Griffin","Diaz","Hayes","Myers","Ford","Hamilton","Graham","Sullivan","Wallace","Woods","Cole","West","Jordan","Owens","Reynolds","Fisher","Ellis","Harrison","Gibson","McDonald","Cruz","Marshall","Ortiz","Gomez","Murray","Freeman","Wells","Webb","Simpson","Stevens","Tucker","Porter","Hunter","Hicks","Crawford","Henry","Boyd","Mason","Morales","Kennedy","Warren","Dixon","Ramos","Reyes","Burns","Gordon","Shaw","Holmes","Rice","Robertson","Hunt","Black","Daniels","Palmer","Mills","Nichols","Grant","Knight","Ferguson","Rose","Stone","Hawkins","Dunn","Perkins","Hudson","Spencer","Gardner","Stephens","Payne","Pierce","Berry","Matthews","Arnold","Wagner","Willis","Ray","Watkins","Olson","Carroll","Duncan","Snyder","Hart","Cunningham","Bradley","Lane","Andrews","Ruiz","Harper","Fox","Riley","Armstrong","Carpenter","Weaver","Greene","Lawrence","Elliott","Chavez","Sims","Austin","Peters","Kelley","Franklin","Lawson","Fields","Gutierrez","Ryan","Schmidt","Carr","Vasquez","Castillo","Wheeler","Chapman","Oliver","Montgomery","Richards","Williamson","Johnston","Banks","Meyer","Bishop","McCoy","Howell","Alvarez","Morrison","Hansen","Fernandez","Garza","Harvey","Little","Burton","Stanley","Nguyen","George","Jacobs","Reid","Kim","Fuller","Lynch","Dean","Gilbert","Garrett","Romero","Welch","Larson","Frazier","Burke","Hanson","Day","Mendoza","Moreno","Bowman","Medina","Fowler","Brewer","Hoffman","Carlson","Silva","Pearson","Holland","Douglas","Fleming","Jensen","Vargas","Byrd","Davidson","Hopkins","May","Terry","Herrera","Wade","Soto","Walters","Curtis","Neal","Caldwell","Lowe","Jennings","Barnett","Graves","Jimenez","Horton","Shelton","Barrett","Obrien","Castro","Sutton","Gregory","McKinney","Lucas","Miles","Craig","Rodriquez","Chambers","Holt","Lambert","Fletcher","Watts","Bates","Hale","Rhodes","Pena","Beck","Newman","Haynes","McDaniel","Mendez","Bush","Vaughn","Parks","Dawson","Santiago","Norris","Hardy","Love","Steele","Curry","Powers","Schultz","Barker","Guzman","Page","Munoz","Ball","Keller","Chandler","Weber","Leonard","Walsh","Lyons","Ramsey","Wolfe","Schneider","Mullins","Benson","Sharp","Bowen","Daniel","Barber","Cummings","Hines","Baldwin","Griffith","Valdez","Hubbard","Salazar","Reeves","Warner","Stevenson","Burgess","Santos","Tate","Cross","Garner","Mann","Mack","Moss","Thornton","Dennis","McGee","Farmer","Delgado","Aguilar","Vega","Glover","Manning","Cohen","Harmon","Rodgers","Robbins","Newton","Todd","Blair","Higgins","Ingram","Reese","Cannon","Strickland","Townsend","Potter","Goodwin","Walton","Rowe","Hampton","Ortega","Patton","Swanson","Joseph","Francis","Goodman","Maldonado","Yates","Becker","Erickson","Hodges","Rios","Conner","Adkins","Webster","Norman","Malone","Hammond","Flowers","Cobb","Moody","Quinn","Blake","Maxwell","Pope","Floyd","Osborne","Paul","McCarthy","Guerrero","Lindsey","Estrada","Sandoval","Gibbs","Tyler","Gross","Fitzgerald","Stokes","Doyle","Sherman","Saunders","Wise","Colon","Gill","Alvarado","Greer","Padilla","Simon","Waters","Nunez","Ballard","Schwartz","McBride","Houston","Christensen","Klein","Pratt","Briggs","Parsons","McLaughlin","Zimmerman","French","Buchanan","Moran","Copeland","Roy","Pittman","Brady","McCormick","Holloway","Brock","Poole","Frank","Logan","Owen","Bass","Marsh","Drake","Wong","Jefferson","Park","Morton","Abbott","Sparks","Patrick","Norton","Huff","Clayton","Massey","Lloyd","Figueroa","Carson","Bowers","Roberson","Barton","Tran","Lamb","Harrington","Casey","Boone","Cortez","Clarke","Mathis","Singleton","Wilkins","Cain","Bryan","Underwood","Hogan","McKenzie","Collier","Luna","Phelps","McGuire","Allison","Bridges","Wilkerson","Nash","Summers","Atkins"],it:["Acciai","Aglietti","Agostini","Agresti","Ahmed","Aiazzi","Albanese","Alberti","Alessi","Alfani","Alinari","Alterini","Amato","Ammannati","Ancillotti","Andrei","Andreini","Andreoni","Angeli","Anichini","Antonelli","Antonini","Arena","Ariani","Arnetoli","Arrighi","Baccani","Baccetti","Bacci","Bacherini","Badii","Baggiani","Baglioni","Bagni","Bagnoli","Baldassini","Baldi","Baldini","Ballerini","Balli","Ballini","Balloni","Bambi","Banchi","Bandinelli","Bandini","Bani","Barbetti","Barbieri","Barchielli","Bardazzi","Bardelli","Bardi","Barducci","Bargellini","Bargiacchi","Barni","Baroncelli","Baroncini","Barone","Baroni","Baronti","Bartalesi","Bartoletti","Bartoli","Bartolini","Bartoloni","Bartolozzi","Basagni","Basile","Bassi","Batacchi","Battaglia","Battaglini","Bausi","Becagli","Becattini","Becchi","Becucci","Bellandi","Bellesi","Belli","Bellini","Bellucci","Bencini","Benedetti","Benelli","Beni","Benini","Bensi","Benucci","Benvenuti","Berlincioni","Bernacchioni","Bernardi","Bernardini","Berni","Bernini","Bertelli","Berti","Bertini","Bessi","Betti","Bettini","Biagi","Biagini","Biagioni","Biagiotti","Biancalani","Bianchi","Bianchini","Bianco","Biffoli","Bigazzi","Bigi","Biliotti","Billi","Binazzi","Bindi","Bini","Biondi","Bizzarri","Bocci","Bogani","Bolognesi","Bonaiuti","Bonanni","Bonciani","Boncinelli","Bondi","Bonechi","Bongini","Boni","Bonini","Borchi","Boretti","Borghi","Borghini","Borgioli","Borri","Borselli","Boschi","Bottai","Bracci","Braccini","Brandi","Braschi","Bravi","Brazzini","Breschi","Brilli","Brizzi","Brogelli","Brogi","Brogioni","Brunelli","Brunetti","Bruni","Bruno","Brunori","Bruschi","Bucci","Bucciarelli","Buccioni","Bucelli","Bulli","Burberi","Burchi","Burgassi","Burroni","Bussotti","Buti","Caciolli","Caiani","Calabrese","Calamai","Calamandrei","Caldini","Calo'","Calonaci","Calosi","Calvelli","Cambi","Camiciottoli","Cammelli","Cammilli","Campolmi","Cantini","Capanni","Capecchi","Caponi","Cappelletti","Cappelli","Cappellini","Cappugi","Capretti","Caputo","Carbone","Carboni","Cardini","Carlesi","Carletti","Carli","Caroti","Carotti","Carrai","Carraresi","Carta","Caruso","Casalini","Casati","Caselli","Casini","Castagnoli","Castellani","Castelli","Castellucci","Catalano","Catarzi","Catelani","Cavaciocchi","Cavallaro","Cavallini","Cavicchi","Cavini","Ceccarelli","Ceccatelli","Ceccherelli","Ceccherini","Cecchi","Cecchini","Cecconi","Cei","Cellai","Celli","Cellini","Cencetti","Ceni","Cenni","Cerbai","Cesari","Ceseri","Checcacci","Checchi","Checcucci","Cheli","Chellini","Chen","Cheng","Cherici","Cherubini","Chiaramonti","Chiarantini","Chiarelli","Chiari","Chiarini","Chiarugi","Chiavacci","Chiesi","Chimenti","Chini","Chirici","Chiti","Ciabatti","Ciampi","Cianchi","Cianfanelli","Cianferoni","Ciani","Ciapetti","Ciappi","Ciardi","Ciatti","Cicali","Ciccone","Cinelli","Cini","Ciobanu","Ciolli","Cioni","Cipriani","Cirillo","Cirri","Ciucchi","Ciuffi","Ciulli","Ciullini","Clemente","Cocchi","Cognome","Coli","Collini","Colombo","Colzi","Comparini","Conforti","Consigli","Conte","Conti","Contini","Coppini","Coppola","Corsi","Corsini","Corti","Cortini","Cosi","Costa","Costantini","Costantino","Cozzi","Cresci","Crescioli","Cresti","Crini","Curradi","D'Agostino","D'Alessandro","D'Amico","D'Angelo","Daddi","Dainelli","Dallai","Danti","Davitti","De Angelis","De Luca","De Marco","De Rosa","De Santis","De Simone","De Vita","Degl'Innocenti","Degli Innocenti","Dei","Del Lungo","Del Re","Di Marco","Di Stefano","Dini","Diop","Dobre","Dolfi","Donati","Dondoli","Dong","Donnini","Ducci","Dumitru","Ermini","Esposito","Evangelisti","Fabbri","Fabbrini","Fabbrizzi","Fabbroni","Fabbrucci","Fabiani","Facchini","Faggi","Fagioli","Failli","Faini","Falciani","Falcini","Falcone","Fallani","Falorni","Falsini","Falugiani","Fancelli","Fanelli","Fanetti","Fanfani","Fani","Fantappie'","Fantechi","Fanti","Fantini","Fantoni","Farina","Fattori","Favilli","Fedi","Fei","Ferrante","Ferrara","Ferrari","Ferraro","Ferretti","Ferri","Ferrini","Ferroni","Fiaschi","Fibbi","Fiesoli","Filippi","Filippini","Fini","Fioravanti","Fiore","Fiorentini","Fiorini","Fissi","Focardi","Foggi","Fontana","Fontanelli","Fontani","Forconi","Formigli","Forte","Forti","Fortini","Fossati","Fossi","Francalanci","Franceschi","Franceschini","Franchi","Franchini","Franci","Francini","Francioni","Franco","Frassineti","Frati","Fratini","Frilli","Frizzi","Frosali","Frosini","Frullini","Fusco","Fusi","Gabbrielli","Gabellini","Gagliardi","Galanti","Galardi","Galeotti","Galletti","Galli","Gallo","Gallori","Gambacciani","Gargani","Garofalo","Garuglieri","Gashi","Gasperini","Gatti","Gelli","Gensini","Gentile","Gentili","Geri","Gerini","Gheri","Ghini","Giachetti","Giachi","Giacomelli","Gianassi","Giani","Giannelli","Giannetti","Gianni","Giannini","Giannoni","Giannotti","Giannozzi","Gigli","Giordano","Giorgetti","Giorgi","Giovacchini","Giovannelli","Giovannetti","Giovannini","Giovannoni","Giuliani","Giunti","Giuntini","Giusti","Gonnelli","Goretti","Gori","Gradi","Gramigni","Grassi","Grasso","Graziani","Grazzini","Greco","Grifoni","Grillo","Grimaldi","Grossi","Gualtieri","Guarducci","Guarino","Guarnieri","Guasti","Guerra","Guerri","Guerrini","Guidi","Guidotti","He","Hoxha","Hu","Huang","Iandelli","Ignesti","Innocenti","Jin","La Rosa","Lai","Landi","Landini","Lanini","Lapi","Lapini","Lari","Lascialfari","Lastrucci","Latini","Lazzeri","Lazzerini","Lelli","Lenzi","Leonardi","Leoncini","Leone","Leoni","Lepri","Li","Liao","Lin","Linari","Lippi","Lisi","Livi","Lombardi","Lombardini","Lombardo","Longo","Lopez","Lorenzi","Lorenzini","Lorini","Lotti","Lu","Lucchesi","Lucherini","Lunghi","Lupi","Madiai","Maestrini","Maffei","Maggi","Maggini","Magherini","Magini","Magnani","Magnelli","Magni","Magnolfi","Magrini","Malavolti","Malevolti","Manca","Mancini","Manetti","Manfredi","Mangani","Mannelli","Manni","Mannini","Mannucci","Manuelli","Manzini","Marcelli","Marchese","Marchetti","Marchi","Marchiani","Marchionni","Marconi","Marcucci","Margheri","Mari","Mariani","Marilli","Marinai","Marinari","Marinelli","Marini","Marino","Mariotti","Marsili","Martelli","Martinelli","Martini","Martino","Marzi","Masi","Masini","Masoni","Massai","Materassi","Mattei","Matteini","Matteucci","Matteuzzi","Mattioli","Mattolini","Matucci","Mauro","Mazzanti","Mazzei","Mazzetti","Mazzi","Mazzini","Mazzocchi","Mazzoli","Mazzoni","Mazzuoli","Meacci","Mecocci","Meini","Melani","Mele","Meli","Mengoni","Menichetti","Meoni","Merlini","Messeri","Messina","Meucci","Miccinesi","Miceli","Micheli","Michelini","Michelozzi","Migliori","Migliorini","Milani","Miniati","Misuri","Monaco","Montagnani","Montagni","Montanari","Montelatici","Monti","Montigiani","Montini","Morandi","Morandini","Morelli","Moretti","Morganti","Mori","Morini","Moroni","Morozzi","Mugnai","Mugnaini","Mustafa","Naldi","Naldini","Nannelli","Nanni","Nannini","Nannucci","Nardi","Nardini","Nardoni","Natali","Ndiaye","Nencetti","Nencini","Nencioni","Neri","Nesi","Nesti","Niccolai","Niccoli","Niccolini","Nigi","Nistri","Nocentini","Noferini","Novelli","Nucci","Nuti","Nutini","Oliva","Olivieri","Olmi","Orlandi","Orlandini","Orlando","Orsini","Ortolani","Ottanelli","Pacciani","Pace","Paci","Pacini","Pagani","Pagano","Paggetti","Pagliai","Pagni","Pagnini","Paladini","Palagi","Palchetti","Palloni","Palmieri","Palumbo","Pampaloni","Pancani","Pandolfi","Pandolfini","Panerai","Panichi","Paoletti","Paoli","Paolini","Papi","Papini","Papucci","Parenti","Parigi","Parisi","Parri","Parrini","Pasquini","Passeri","Pecchioli","Pecorini","Pellegrini","Pepi","Perini","Perrone","Peruzzi","Pesci","Pestelli","Petri","Petrini","Petrucci","Pettini","Pezzati","Pezzatini","Piani","Piazza","Piazzesi","Piazzini","Piccardi","Picchi","Piccini","Piccioli","Pieraccini","Pieraccioni","Pieralli","Pierattini","Pieri","Pierini","Pieroni","Pietrini","Pini","Pinna","Pinto","Pinzani","Pinzauti","Piras","Pisani","Pistolesi","Poggesi","Poggi","Poggiali","Poggiolini","Poli","Pollastri","Porciani","Pozzi","Pratellesi","Pratesi","Prosperi","Pruneti","Pucci","Puccini","Puccioni","Pugi","Pugliese","Puliti","Querci","Quercioli","Raddi","Radu","Raffaelli","Ragazzini","Ranfagni","Ranieri","Rastrelli","Raugei","Raveggi","Renai","Renzi","Rettori","Ricci","Ricciardi","Ridi","Ridolfi","Rigacci","Righi","Righini","Rinaldi","Risaliti","Ristori","Rizzo","Rocchi","Rocchini","Rogai","Romagnoli","Romanelli","Romani","Romano","Romei","Romeo","Romiti","Romoli","Romolini","Rontini","Rosati","Roselli","Rosi","Rossetti","Rossi","Rossini","Rovai","Ruggeri","Ruggiero","Russo","Sabatini","Saccardi","Sacchetti","Sacchi","Sacco","Salerno","Salimbeni","Salucci","Salvadori","Salvestrini","Salvi","Salvini","Sanesi","Sani","Sanna","Santi","Santini","Santoni","Santoro","Santucci","Sardi","Sarri","Sarti","Sassi","Sbolci","Scali","Scarpelli","Scarselli","Scopetani","Secci","Selvi","Senatori","Senesi","Serafini","Sereni","Serra","Sestini","Sguanci","Sieni","Signorini","Silvestri","Simoncini","Simonetti","Simoni","Singh","Sodi","Soldi","Somigli","Sorbi","Sorelli","Sorrentino","Sottili","Spina","Spinelli","Staccioli","Staderini","Stefanelli","Stefani","Stefanini","Stella","Susini","Tacchi","Tacconi","Taddei","Tagliaferri","Tamburini","Tanganelli","Tani","Tanini","Tapinassi","Tarchi","Tarchiani","Targioni","Tassi","Tassini","Tempesti","Terzani","Tesi","Testa","Testi","Tilli","Tinti","Tirinnanzi","Toccafondi","Tofanari","Tofani","Tognaccini","Tonelli","Tonini","Torelli","Torrini","Tosi","Toti","Tozzi","Trambusti","Trapani","Tucci","Turchi","Ugolini","Ulivi","Valente","Valenti","Valentini","Vangelisti","Vanni","Vannini","Vannoni","Vannozzi","Vannucchi","Vannucci","Ventura","Venturi","Venturini","Vestri","Vettori","Vichi","Viciani","Vieri","Vigiani","Vignoli","Vignolini","Vignozzi","Villani","Vinci","Visani","Vitale","Vitali","Viti","Viviani","Vivoli","Volpe","Volpi","Wang","Wu","Xu","Yang","Ye","Zagli","Zani","Zanieri","Zanobini","Zecchi","Zetti","Zhang","Zheng","Zhou","Zhu","Zingoni","Zini","Zoppi"],nl:["Albers","Alblas","Appelman","Baars","Baas","Bakker","Blank","Bleeker","Blok","Blom","Boer","Boers","Boldewijn","Boon","Boot","Bos","Bosch","Bosma","Bosman","Bouma","Bouman","Bouwman","Brands","Brouwer","Burger","Buijs","Buitenhuis","Ceder","Cohen","Dekker","Dekkers","Dijkman","Dijkstra","Driessen","Drost","Engel","Evers","Faber","Franke","Gerritsen","Goedhart","Goossens","Groen","Groenenberg","Groot","Haan","Hart","Heemskerk","Hendriks","Hermans","Hoekstra","Hofman","Hopman","Huisman","Jacobs","Jansen","Janssen","Jonker","Jaspers","Keijzer","Klaassen","Klein","Koek","Koenders","Kok","Kool","Koopman","Koopmans","Koning","Koster","Kramer","Kroon","Kuijpers","Kuiper","Kuipers","Kurt","Koster","Kwakman","Los","Lubbers","Maas","Markus","Martens","Meijer","Mol","Molenaar","Mulder","Nieuwenhuis","Peeters","Peters","Pengel","Pieters","Pool","Post","Postma","Prins","Pronk","Reijnders","Rietveld","Roest","Roos","Sanders","Schaap","Scheffer","Schenk","Schilder","Schipper","Schmidt","Scholten","Schouten","Schut","Schutte","Schuurman","Simons","Smeets","Smit","Smits","Snel","Swinkels","Tas","Terpstra","Timmermans","Tol","Tromp","Troost","Valk","Veenstra","Veldkamp","Verbeek","Verheul","Verhoeven","Vermeer","Vermeulen","Verweij","Vink","Visser","Voorn","Vos","Wagenaar","Wiersema","Willems","Willemsen","Witteveen","Wolff","Wolters","Zijlstra","Zwart","de Beer","de Boer","de Bruijn","de Bruin","de Graaf","de Groot","de Haan","de Haas","de Jager","de Jong","de Jonge","de Koning","de Lange","de Leeuw","de Ridder","de Rooij","de Ruiter","de Vos","de Vries","de Waal","de Wit","de Zwart","van Beek","van Boven","van Dam","van Dijk","van Dongen","van Doorn","van Egmond","van Eijk","van Es","van Gelder","van Gelderen","van Houten","van Hulst","van Kempen","van Kesteren","van Leeuwen","van Loon","van Mill","van Noord","van Ommen","van Ommeren","van Oosten","van Oostveen","van Rijn","van Schaik","van Veen","van Vliet","van Wijk","van Wijngaarden","van den Poel","van de Pol","van den Ploeg","van de Ven","van den Berg","van den Bosch","van den Brink","van den Broek","van den Heuvel","van der Heijden","van der Horst","van der Hulst","van der Kroon","van der Laan","van der Linden","van der Meer","van der Meij","van der Meulen","van der Molen","van der Sluis","van der Spek","van der Veen","van der Velde","van der Velden","van der Vliet","van der Wal"],uk:["Smith","Jones","Williams","Taylor","Brown","Davies","Evans","Wilson","Thomas","Johnson","Roberts","Robinson","Thompson","Wright","Walker","White","Edwards","Hughes","Green","Hall","Lewis","Harris","Clarke","Patel","Jackson","Wood","Turner","Martin","Cooper","Hill","Ward","Morris","Moore","Clark","Lee","King","Baker","Harrison","Morgan","Allen","James","Scott","Phillips","Watson","Davis","Parker","Price","Bennett","Young","Griffiths","Mitchell","Kelly","Cook","Carter","Richardson","Bailey","Collins","Bell","Shaw","Murphy","Miller","Cox","Richards","Khan","Marshall","Anderson","Simpson","Ellis","Adams","Singh","Begum","Wilkinson","Foster","Chapman","Powell","Webb","Rogers","Gray","Mason","Ali","Hunt","Hussain","Campbell","Matthews","Owen","Palmer","Holmes","Mills","Barnes","Knight","Lloyd","Butler","Russell","Barker","Fisher","Stevens","Jenkins","Murray","Dixon","Harvey","Graham","Pearson","Ahmed","Fletcher","Walsh","Kaur","Gibson","Howard","Andrews","Stewart","Elliott","Reynolds","Saunders","Payne","Fox","Ford","Pearce","Day","Brooks","West","Lawrence","Cole","Atkinson","Bradley","Spencer","Gill","Dawson","Ball","Burton","O'brien","Watts","Rose","Booth","Perry","Ryan","Grant","Wells","Armstrong","Francis","Rees","Hayes","Hart","Hudson","Newman","Barrett","Webster","Hunter","Gregory","Carr","Lowe","Page","Marsh","Riley","Dunn","Woods","Parsons","Berry","Stone","Reid","Holland","Hawkins","Harding","Porter","Robertson","Newton","Oliver","Reed","Kennedy","Williamson","Bird","Gardner","Shah","Dean","Lane","Cooke","Bates","Henderson","Parry","Burgess","Bishop","Walton","Burns","Nicholson","Shepherd","Ross","Cross","Long","Freeman","Warren","Nicholls","Hamilton","Byrne","Sutton","Mcdonald","Yates","Hodgson","Robson","Curtis","Hopkins","O'connor","Harper","Coleman","Watkins","Moss","Mccarthy","Chambers","O'neill","Griffin","Sharp","Hardy","Wheeler","Potter","Osborne","Johnston","Gordon","Doyle","Wallace","George","Jordan","Hutchinson","Rowe","Burke","May","Pritchard","Gilbert","Willis","Higgins","Read","Miles","Stevenson","Stephenson","Hammond","Arnold","Buckley","Walters","Hewitt","Barber","Nelson","Slater","Austin","Sullivan","Whitehead","Mann","Frost","Lambert","Stephens","Blake","Akhtar","Lynch","Goodwin","Barton","Woodward","Thomson","Cunningham","Quinn","Barnett","Baxter","Bibi","Clayton","Nash","Greenwood","Jennings","Holt","Kemp","Poole","Gallagher","Bond","Stokes","Tucker","Davidson","Fowler","Heath","Norman","Middleton","Lawson","Banks","French","Stanley","Jarvis","Gibbs","Ferguson","Hayward","Carroll","Douglas","Dickinson","Todd","Barlow","Peters","Lucas","Knowles","Hartley","Miah","Simmons","Morton","Alexander","Field","Morrison","Norris","Townsend","Preston","Hancock","Thornton","Baldwin","Burrows","Briggs","Parkinson","Reeves","Macdonald","Lamb","Black","Abbott","Sanders","Thorpe","Holden","Tomlinson","Perkins","Ashton","Rhodes","Fuller","Howe","Bryant","Vaughan","Dale","Davey","Weston","Bartlett","Whittaker","Davison","Kent","Skinner","Birch","Morley","Daniels","Glover","Howell","Cartwright","Pugh","Humphreys","Goddard","Brennan","Wall","Kirby","Bowen","Savage","Bull","Wong","Dobson","Smart","Wilkins","Kirk","Fraser","Duffy","Hicks","Patterson","Bradshaw","Little","Archer","Warner","Waters","O'sullivan","Farrell","Brookes","Atkins","Kay","Dodd","Bentley","Flynn","John","Schofield","Short","Haynes","Wade","Butcher","Henry","Sanderson","Crawford","Sheppard","Bolton","Coates","Giles","Gould","Houghton","Gibbons","Pratt","Manning","Law","Hooper","Noble","Dyer","Rahman","Clements","Moran","Sykes","Chan","Doherty","Connolly","Joyce","Franklin","Hobbs","Coles","Herbert","Steele","Kerr","Leach","Winter","Owens","Duncan","Naylor","Fleming","Horton","Finch","Fitzgerald","Randall","Carpenter","Marsden","Browne","Garner","Pickering","Hale","Dennis","Vincent","Chadwick","Chandler","Sharpe","Nolan","Lyons","Hurst","Collier","Peacock","Howarth","Faulkner","Rice","Pollard","Welch","Norton","Gough","Sinclair","Blackburn","Bryan","Conway","Power","Cameron","Daly","Allan","Hanson","Gardiner","Boyle","Myers","Turnbull","Wallis","Mahmood","Sims","Swift","Iqbal","Pope","Brady","Chamberlain","Rowley","Tyler","Farmer","Metcalfe","Hilton","Godfrey","Holloway","Parkin","Bray","Talbot","Donnelly","Nixon","Charlton","Benson","Whitehouse","Barry","Hope","Lord","North","Storey","Connor","Potts","Bevan","Hargreaves","Mclean","Mistry","Bruce","Howells","Hyde","Parkes","Wyatt","Fry","Lees","O'donnell","Craig","Forster","Mckenzie","Humphries","Mellor","Carey","Ingram","Summers","Leonard"],de:["Mller","Schmidt","Schneider","Fischer","Weber","Meyer","Wagner","Becker","Schulz","Hoffmann","Schfer","Koch","Bauer","Richter","Klein","Wolf","Schrder","Neumann","Schwarz","Zimmermann","Braun","Krger","Hofmann","Hartmann","Lange","Schmitt","Werner","Schmitz","Krause","Meier","Lehmann","Schmid","Schulze","Maier","Khler","Herrmann","Knig","Walter","Mayer","Huber","Kaiser","Fuchs","Peters","Lang","Scholz","Mller","Wei","Jung","Hahn","Schubert","Vogel","Friedrich","Keller","Gnther","Frank","Berger","Winkler","Roth","Beck","Lorenz","Baumann","Franke","Albrecht","Schuster","Simon","Ludwig","Bhm","Winter","Kraus","Martin","Schumacher","Krmer","Vogt","Stein","Jger","Otto","Sommer","Gro","Seidel","Heinrich","Brandt","Haas","Schreiber","Graf","Schulte","Dietrich","Ziegler","Kuhn","Khn","Pohl","Engel","Horn","Busch","Bergmann","Thomas","Voigt","Sauer","Arnold","Wolff","Pfeiffer"],jp:["Sato","Suzuki","Takahashi","Tanaka","Watanabe","Ito","Yamamoto","Nakamura","Kobayashi","Kato","Yoshida","Yamada","Sasaki","Yamaguchi","Saito","Matsumoto","Inoue","Kimura","Hayashi","Shimizu","Yamazaki","Mori","Abe","Ikeda","Hashimoto","Yamashita","Ishikawa","Nakajima","Maeda","Fujita","Ogawa","Goto","Okada","Hasegawa","Murakami","Kondo","Ishii","Saito","Sakamoto","Endo","Aoki","Fujii","Nishimura","Fukuda","Ota","Miura","Fujiwara","Okamoto","Matsuda","Nakagawa","Nakano","Harada","Ono","Tamura","Takeuchi","Kaneko","Wada","Nakayama","Ishida","Ueda","Morita","Hara","Shibata","Sakai","Kudo","Yokoyama","Miyazaki","Miyamoto","Uchida","Takagi","Ando","Taniguchi","Ohno","Maruyama","Imai","Takada","Fujimoto","Takeda","Murata","Ueno","Sugiyama","Masuda","Sugawara","Hirano","Kojima","Otsuka","Chiba","Kubo","Matsui","Iwasaki","Sakurai","Kinoshita","Noguchi","Matsuo","Nomura","Kikuchi","Sano","Onishi","Sugimoto","Arai"],es:["Garcia","Fernandez","Lopez","Martinez","Gonzalez","Rodriguez","Sanchez","Perez","Martin","Gomez","Ruiz","Diaz","Hernandez","Alvarez","Jimenez","Moreno","Munoz","Alonso","Romero","Navarro","Gutierrez","Torres","Dominguez","Gil","Vazquez","Blanco","Serrano","Ramos","Castro","Suarez","Sanz","Rubio","Ortega","Molina","Delgado","Ortiz","Morales","Ramirez","Marin","Iglesias","Santos","Castillo","Garrido","Calvo","Pena","Cruz","Cano","Nunez","Prieto","Diez","Lozano","Vidal","Pascual","Ferrer","Medina","Vega","Leon","Herrero","Vicente","Mendez","Guerrero","Fuentes","Campos","Nieto","Cortes","Caballero","Ibanez","Lorenzo","Pastor","Gimenez","Saez","Soler","Marquez","Carrasco","Herrera","Montero","Arias","Crespo","Flores","Andres","Aguilar","Hidalgo","Cabrera","Mora","Duran","Velasco","Rey","Pardo","Roman","Vila","Bravo","Merino","Moya","Soto","Izquierdo","Reyes","Redondo","Marcos","Carmona","Menendez"],fr:["Martin","Bernard","Thomas","Petit","Robert","Richard","Durand","Dubois","Moreau","Laurent","Simon","Michel","Lefvre","Leroy","Roux","David","Bertrand","Morel","Fournier","Girard","Bonnet","Dupont","Lambert","Fontaine","Rousseau","Vincent","Mller","Lefvre","Faure","Andr","Mercier","Blanc","Gurin","Boyer","Garnier","Chevalier","Franois","Legrand","Gauthier","Garcia","Perrin","Robin","Clment","Morin","Nicolas","Henry","Roussel","Matthieu","Gautier","Masson","Marchand","Duval","Denis","Dumont","Marie","Lemaire","Nol","Meyer","Dufour","Meunier","Brun","Blanchard","Giraud","Joly","Rivire","Lucas","Brunet","Gaillard","Barbier","Arnaud","Martnez","Grard","Roche","Renard","Schmitt","Roy","Leroux","Colin","Vidal","Caron","Picard","Roger","Fabre","Aubert","Lemoine","Renaud","Dumas","Lacroix","Olivier","Philippe","Bourgeois","Pierre","Benot","Rey","Leclerc","Payet","Rolland","Leclercq","Guillaume","Lecomte","Lpez","Jean","Dupuy","Guillot","Hubert","Berger","Carpentier","Snchez","Dupuis","Moulin","Louis","Deschamps","Huet","Vasseur","Perez","Boucher","Fleury","Royer","Klein","Jacquet","Adam","Paris","Poirier","Marty","Aubry","Guyot","Carr","Charles","Renault","Charpentier","Mnard","Maillard","Baron","Bertin","Bailly","Herv","Schneider","Fernndez","Le GallGall","Collet","Lger","Bouvier","Julien","Prvost","Millet","Perrot","Daniel","Le RouxRoux","Cousin","Germain","Breton","Besson","Langlois","Rmi","Le GoffGoff","Pelletier","Lvque","Perrier","Leblanc","Barr","Lebrun","Marchal","Weber","Mallet","Hamon","Boulanger","Jacob","Monnier","Michaud","Rodrguez","Guichard","Gillet","tienne","Grondin","Poulain","Tessier","Chevallier","Collin","Chauvin","Da SilvaSilva","Bouchet","Gay","Lematre","Bnard","Marchal","Humbert","Reynaud","Antoine","Hoarau","Perret","Barthlemy","Cordier","Pichon","Lejeune","Gilbert","Lamy","Delaunay","Pasquier","Carlier","LaporteLaporte"]},postcodeAreas:[{code:"AB"},{code:"AL"},{code:"B"},{code:"BA"},{code:"BB"},{code:"BD"},{code:"BH"},{code:"BL"},{code:"BN"},{code:"BR"},{code:"BS"},{code:"BT"},{code:"CA"},{code:"CB"},{code:"CF"},{code:"CH"},{code:"CM"},{code:"CO"},{code:"CR"},{code:"CT"},{code:"CV"},{code:"CW"},{code:"DA"},{code:"DD"},{code:"DE"},{code:"DG"},{code:"DH"},{code:"DL"},{code:"DN"},{code:"DT"},{code:"DY"},{code:"E"},{code:"EC"},{code:"EH"},{code:"EN"},{code:"EX"},{code:"FK"},{code:"FY"},{code:"G"},{code:"GL"},{code:"GU"},{code:"GY"},{code:"HA"},{code:"HD"},{code:"HG"},{code:"HP"},{code:"HR"},{code:"HS"},{code:"HU"},{code:"HX"},{code:"IG"},{code:"IM"},{code:"IP"},{code:"IV"},{code:"JE"},{code:"KA"},{code:"KT"},{code:"KW"},{code:"KY"},{code:"L"},{code:"LA"},{code:"LD"},{code:"LE"},{code:"LL"},{code:"LN"},{code:"LS"},{code:"LU"},{code:"M"},{code:"ME"},{code:"MK"},{code:"ML"},{code:"N"},{code:"NE"},{code:"NG"},{code:"NN"},{code:"NP"},{code:"NR"},{code:"NW"},{code:"OL"},{code:"OX"},{code:"PA"},{code:"PE"},{code:"PH"},{code:"PL"},{code:"PO"},{code:"PR"},{code:"RG"},{code:"RH"},{code:"RM"},{code:"S"},{code:"SA"},{code:"SE"},{code:"SG"},{code:"SK"},{code:"SL"},{code:"SM"},{code:"SN"},{code:"SO"},{code:"SP"},{code:"SR"},{code:"SS"},{code:"ST"},{code:"SW"},{code:"SY"},{code:"TA"},{code:"TD"},{code:"TF"},{code:"TN"},{code:"TQ"},{code:"TR"},{code:"TS"},{code:"TW"},{code:"UB"},{code:"W"},{code:"WA"},{code:"WC"},{code:"WD"},{code:"WF"},{code:"WN"},{code:"WR"},{code:"WS"},{code:"WV"},{code:"YO"},{code:"ZE"}],countries:[{name:"Afghanistan",abbreviation:"AF"},{name:"land Islands",abbreviation:"AX"},{name:"Albania",abbreviation:"AL"},{name:"Algeria",abbreviation:"DZ"},{name:"American Samoa",abbreviation:"AS"},{name:"Andorra",abbreviation:"AD"},{name:"Angola",abbreviation:"AO"},{name:"Anguilla",abbreviation:"AI"},{name:"Antarctica",abbreviation:"AQ"},{name:"Antigua and Barbuda",abbreviation:"AG"},{name:"Argentina",abbreviation:"AR"},{name:"Armenia",abbreviation:"AM"},{name:"Aruba",abbreviation:"AW"},{name:"Australia",abbreviation:"AU"},{name:"Austria",abbreviation:"AT"},{name:"Azerbaijan",abbreviation:"AZ"},{name:"Bahamas",abbreviation:"BS"},{name:"Bahrain",abbreviation:"BH"},{name:"Bangladesh",abbreviation:"BD"},{name:"Barbados",abbreviation:"BB"},{name:"Belarus",abbreviation:"BY"},{name:"Belgium",abbreviation:"BE"},{name:"Belize",abbreviation:"BZ"},{name:"Benin",abbreviation:"BJ"},{name:"Bermuda",abbreviation:"BM"},{name:"Bhutan",abbreviation:"BT"},{name:"Plurinational State of Bolivia",abbreviation:"BO"},{name:"Bonaire, Sint Eustatius and Saba",abbreviation:"BQ"},{name:"Bosnia and Herzegovina",abbreviation:"BA"},{name:"Botswana",abbreviation:"BW"},{name:"Bouvet Island",abbreviation:"BV"},{name:"Brazil",abbreviation:"BR"},{name:"British Indian Ocean Territory",abbreviation:"IO"},{name:"Brunei Darussalam",abbreviation:"BN"},{name:"Bulgaria",abbreviation:"BG"},{name:"Burkina Faso",abbreviation:"BF"},{name:"Burundi",abbreviation:"BI"},{name:"Cabo Verde",abbreviation:"CV"},{name:"Cambodia",abbreviation:"KH"},{name:"Cameroon",abbreviation:"CM"},{name:"Canada",abbreviation:"CA"},{name:"Cayman Islands",abbreviation:"KY"},{name:"Central African Republic",abbreviation:"CF"},{name:"Chad",abbreviation:"TD"},{name:"Chile",abbreviation:"CL"},{name:"China",abbreviation:"CN"},{name:"Christmas Island",abbreviation:"CX"},{name:"Cocos (Keeling) Islands",abbreviation:"CC"},{name:"Colombia",abbreviation:"CO"},{name:"Comoros",abbreviation:"KM"},{name:"Congo",abbreviation:"CG"},{name:"Democratic Republic of the Congo",abbreviation:"CD"},{name:"Cook Islands",abbreviation:"CK"},{name:"Costa Rica",abbreviation:"CR"},{name:"Cte d'Ivoire",abbreviation:"CI"},{name:"Croatia",abbreviation:"HR"},{name:"Cuba",abbreviation:"CU"},{name:"Curaao",abbreviation:"CW"},{name:"Cyprus",abbreviation:"CY"},{name:"Czechia",abbreviation:"CZ"},{name:"Denmark",abbreviation:"DK"},{name:"Djibouti",abbreviation:"DJ"},{name:"Dominica",abbreviation:"DM"},{name:"Dominican Republic",abbreviation:"DO"},{name:"Ecuador",abbreviation:"EC"},{name:"Egypt",abbreviation:"EG"},{name:"El Salvador",abbreviation:"SV"},{name:"Equatorial Guinea",abbreviation:"GQ"},{name:"Eritrea",abbreviation:"ER"},{name:"Estonia",abbreviation:"EE"},{name:"Eswatini",abbreviation:"SZ"},{name:"Ethiopia",abbreviation:"ET"},{name:"Falkland Islands (Malvinas)",abbreviation:"FK"},{name:"Faroe Islands",abbreviation:"FO"},{name:"Fiji",abbreviation:"FJ"},{name:"Finland",abbreviation:"FI"},{name:"France",abbreviation:"FR"},{name:"French Guiana",abbreviation:"GF"},{name:"French Polynesia",abbreviation:"PF"},{name:"French Southern Territories",abbreviation:"TF"},{name:"Gabon",abbreviation:"GA"},{name:"Gambia",abbreviation:"GM"},{name:"Georgia",abbreviation:"GE"},{name:"Germany",abbreviation:"DE"},{name:"Ghana",abbreviation:"GH"},{name:"Gibraltar",abbreviation:"GI"},{name:"Greece",abbreviation:"GR"},{name:"Greenland",abbreviation:"GL"},{name:"Grenada",abbreviation:"GD"},{name:"Guadeloupe",abbreviation:"GP"},{name:"Guam",abbreviation:"GU"},{name:"Guatemala",abbreviation:"GT"},{name:"Guernsey",abbreviation:"GG"},{name:"Guinea",abbreviation:"GN"},{name:"Guinea-Bissau",abbreviation:"GW"},{name:"Guyana",abbreviation:"GY"},{name:"Haiti",abbreviation:"HT"},{name:"Heard Island and McDonald Islands",abbreviation:"HM"},{name:"Holy See",abbreviation:"VA"},{name:"Honduras",abbreviation:"HN"},{name:"Hong Kong",abbreviation:"HK"},{name:"Hungary",abbreviation:"HU"},{name:"Iceland",abbreviation:"IS"},{name:"India",abbreviation:"IN"},{name:"Indonesia",abbreviation:"ID"},{name:"Islamic Republic of Iran",abbreviation:"IR"},{name:"Iraq",abbreviation:"IQ"},{name:"Ireland",abbreviation:"IE"},{name:"Isle of Man",abbreviation:"IM"},{name:"Israel",abbreviation:"IL"},{name:"Italy",abbreviation:"IT"},{name:"Jamaica",abbreviation:"JM"},{name:"Japan",abbreviation:"JP"},{name:"Jersey",abbreviation:"JE"},{name:"Jordan",abbreviation:"JO"},{name:"Kazakhstan",abbreviation:"KZ"},{name:"Kenya",abbreviation:"KE"},{name:"Kiribati",abbreviation:"KI"},{name:"Democratic People's Republic of Korea",abbreviation:"KP"},{name:"Republic of Korea",abbreviation:"KR"},{name:"Kuwait",abbreviation:"KW"},{name:"Kyrgyzstan",abbreviation:"KG"},{name:"Lao People's Democratic Republic",abbreviation:"LA"},{name:"Latvia",abbreviation:"LV"},{name:"Lebanon",abbreviation:"LB"},{name:"Lesotho",abbreviation:"LS"},{name:"Liberia",abbreviation:"LR"},{name:"Libya",abbreviation:"LY"},{name:"Liechtenstein",abbreviation:"LI"},{name:"Lithuania",abbreviation:"LT"},{name:"Luxembourg",abbreviation:"LU"},{name:"Macao",abbreviation:"MO"},{name:"Madagascar",abbreviation:"MG"},{name:"Malawi",abbreviation:"MW"},{name:"Malaysia",abbreviation:"MY"},{name:"Maldives",abbreviation:"MV"},{name:"Mali",abbreviation:"ML"},{name:"Malta",abbreviation:"MT"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Martinique",abbreviation:"MQ"},{name:"Mauritania",abbreviation:"MR"},{name:"Mauritius",abbreviation:"MU"},{name:"Mayotte",abbreviation:"YT"},{name:"Mexico",abbreviation:"MX"},{name:"Federated States of Micronesia",abbreviation:"FM"},{name:"Republic of Moldova",abbreviation:"MD"},{name:"Monaco",abbreviation:"MC"},{name:"Mongolia",abbreviation:"MN"},{name:"Montenegro",abbreviation:"ME"},{name:"Montserrat",abbreviation:"MS"},{name:"Morocco",abbreviation:"MA"},{name:"Mozambique",abbreviation:"MZ"},{name:"Myanmar",abbreviation:"MM"},{name:"Namibia",abbreviation:"NA"},{name:"Nauru",abbreviation:"NR"},{name:"Nepal",abbreviation:"NP"},{name:"Kingdom of the Netherlands",abbreviation:"NL"},{name:"New Caledonia",abbreviation:"NC"},{name:"New Zealand",abbreviation:"NZ"},{name:"Nicaragua",abbreviation:"NI"},{name:"Niger",abbreviation:"NE"},{name:"Nigeria",abbreviation:"NG"},{name:"Niue",abbreviation:"NU"},{name:"Norfolk Island",abbreviation:"NF"},{name:"North Macedonia",abbreviation:"MK"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Norway",abbreviation:"NO"},{name:"Oman",abbreviation:"OM"},{name:"Pakistan",abbreviation:"PK"},{name:"Palau",abbreviation:"PW"},{name:"State of Palestine",abbreviation:"PS"},{name:"Panama",abbreviation:"PA"},{name:"Papua New Guinea",abbreviation:"PG"},{name:"Paraguay",abbreviation:"PY"},{name:"Peru",abbreviation:"PE"},{name:"Philippines",abbreviation:"PH"},{name:"Pitcairn",abbreviation:"PN"},{name:"Poland",abbreviation:"PL"},{name:"Portugal",abbreviation:"PT"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Qatar",abbreviation:"QA"},{name:"Runion",abbreviation:"RE"},{name:"Romania",abbreviation:"RO"},{name:"Russian Federation",abbreviation:"RU"},{name:"Rwanda",abbreviation:"RW"},{name:"Saint Barthlemy",abbreviation:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",abbreviation:"SH"},{name:"Saint Kitts and Nevis",abbreviation:"KN"},{name:"Saint Lucia",abbreviation:"LC"},{name:"Saint Martin (French part)",abbreviation:"MF"},{name:"Saint Pierre and Miquelon",abbreviation:"PM"},{name:"Saint Vincent and the Grenadines",abbreviation:"VC"},{name:"Samoa",abbreviation:"WS"},{name:"San Marino",abbreviation:"SM"},{name:"Sao Tome and Principe",abbreviation:"ST"},{name:"Saudi Arabia",abbreviation:"SA"},{name:"Senegal",abbreviation:"SN"},{name:"Serbia",abbreviation:"RS"},{name:"Seychelles",abbreviation:"SC"},{name:"Sierra Leone",abbreviation:"SL"},{name:"Singapore",abbreviation:"SG"},{name:"Sint Maarten (Dutch part)",abbreviation:"SX"},{name:"Slovakia",abbreviation:"SK"},{name:"Slovenia",abbreviation:"SI"},{name:"Solomon Islands",abbreviation:"SB"},{name:"Somalia",abbreviation:"SO"},{name:"South Africa",abbreviation:"ZA"},{name:"South Georgia and the South Sandwich Islands",abbreviation:"GS"},{name:"South Sudan",abbreviation:"SS"},{name:"Spain",abbreviation:"ES"},{name:"Sri Lanka",abbreviation:"LK"},{name:"Sudan",abbreviation:"SD"},{name:"Suriname",abbreviation:"SR"},{name:"Svalbard and Jan Mayen",abbreviation:"SJ"},{name:"Sweden",abbreviation:"SE"},{name:"Switzerland",abbreviation:"CH"},{name:"Syrian Arab Republic",abbreviation:"SY"},{name:"Taiwan, Province of China",abbreviation:"TW"},{name:"Tajikistan",abbreviation:"TJ"},{name:"United Republic of Tanzania",abbreviation:"TZ"},{name:"Thailand",abbreviation:"TH"},{name:"Timor-Leste",abbreviation:"TL"},{name:"Togo",abbreviation:"TG"},{name:"Tokelau",abbreviation:"TK"},{name:"Tonga",abbreviation:"TO"},{name:"Trinidad and Tobago",abbreviation:"TT"},{name:"Tunisia",abbreviation:"TN"},{name:"Trkiye",abbreviation:"TR"},{name:"Turkmenistan",abbreviation:"TM"},{name:"Turks and Caicos Islands",abbreviation:"TC"},{name:"Tuvalu",abbreviation:"TV"},{name:"Uganda",abbreviation:"UG"},{name:"Ukraine",abbreviation:"UA"},{name:"United Arab Emirates",abbreviation:"AE"},{name:"United Kingdom of Great Britain and Northern Ireland",abbreviation:"GB"},{name:"United States Minor Outlying Islands",abbreviation:"UM"},{name:"United States of America",abbreviation:"US"},{name:"Uruguay",abbreviation:"UY"},{name:"Uzbekistan",abbreviation:"UZ"},{name:"Vanuatu",abbreviation:"VU"},{name:"Bolivarian Republic of Venezuela",abbreviation:"VE"},{name:"Viet Nam",abbreviation:"VN"},{name:"Virgin Islands (British)",abbreviation:"VG"},{name:"Virgin Islands (U.S.)",abbreviation:"VI"},{name:"Wallis and Futuna",abbreviation:"WF"},{name:"Western Sahara",abbreviation:"EH"},{name:"Yemen",abbreviation:"YE"},{name:"Zambia",abbreviation:"ZM"},{name:"Zimbabwe",abbreviation:"ZW"}],counties:{uk:[{name:"Bath and North East Somerset"},{name:"Aberdeenshire"},{name:"Anglesey"},{name:"Angus"},{name:"Bedford"},{name:"Blackburn with Darwen"},{name:"Blackpool"},{name:"Bournemouth"},{name:"Bracknell Forest"},{name:"Brighton & Hove"},{name:"Bristol"},{name:"Buckinghamshire"},{name:"Cambridgeshire"},{name:"Carmarthenshire"},{name:"Central Bedfordshire"},{name:"Ceredigion"},{name:"Cheshire East"},{name:"Cheshire West and Chester"},{name:"Clackmannanshire"},{name:"Conwy"},{name:"Cornwall"},{name:"County Antrim"},{name:"County Armagh"},{name:"County Down"},{name:"County Durham"},{name:"County Fermanagh"},{name:"County Londonderry"},{name:"County Tyrone"},{name:"Cumbria"},{name:"Darlington"},{name:"Denbighshire"},{name:"Derby"},{name:"Derbyshire"},{name:"Devon"},{name:"Dorset"},{name:"Dumfries and Galloway"},{name:"Dundee"},{name:"East Lothian"},{name:"East Riding of Yorkshire"},{name:"East Sussex"},{name:"Edinburgh?"},{name:"Essex"},{name:"Falkirk"},{name:"Fife"},{name:"Flintshire"},{name:"Gloucestershire"},{name:"Greater London"},{name:"Greater Manchester"},{name:"Gwent"},{name:"Gwynedd"},{name:"Halton"},{name:"Hampshire"},{name:"Hartlepool"},{name:"Herefordshire"},{name:"Hertfordshire"},{name:"Highlands"},{name:"Hull"},{name:"Isle of Wight"},{name:"Isles of Scilly"},{name:"Kent"},{name:"Lancashire"},{name:"Leicester"},{name:"Leicestershire"},{name:"Lincolnshire"},{name:"Lothian"},{name:"Luton"},{name:"Medway"},{name:"Merseyside"},{name:"Mid Glamorgan"},{name:"Middlesbrough"},{name:"Milton Keynes"},{name:"Monmouthshire"},{name:"Moray"},{name:"Norfolk"},{name:"North East Lincolnshire"},{name:"North Lincolnshire"},{name:"North Somerset"},{name:"North Yorkshire"},{name:"Northamptonshire"},{name:"Northumberland"},{name:"Nottingham"},{name:"Nottinghamshire"},{name:"Oxfordshire"},{name:"Pembrokeshire"},{name:"Perth and Kinross"},{name:"Peterborough"},{name:"Plymouth"},{name:"Poole"},{name:"Portsmouth"},{name:"Powys"},{name:"Reading"},{name:"Redcar and Cleveland"},{name:"Rutland"},{name:"Scottish Borders"},{name:"Shropshire"},{name:"Slough"},{name:"Somerset"},{name:"South Glamorgan"},{name:"South Gloucestershire"},{name:"South Yorkshire"},{name:"Southampton"},{name:"Southend-on-Sea"},{name:"Staffordshire"},{name:"Stirlingshire"},{name:"Stockton-on-Tees"},{name:"Stoke-on-Trent"},{name:"Strathclyde"},{name:"Suffolk"},{name:"Surrey"},{name:"Swindon"},{name:"Telford and Wrekin"},{name:"Thurrock"},{name:"Torbay"},{name:"Tyne and Wear"},{name:"Warrington"},{name:"Warwickshire"},{name:"West Berkshire"},{name:"West Glamorgan"},{name:"West Lothian"},{name:"West Midlands"},{name:"West Sussex"},{name:"West Yorkshire"},{name:"Western Isles"},{name:"Wiltshire"},{name:"Windsor and Maidenhead"},{name:"Wokingham"},{name:"Worcestershire"},{name:"Wrexham"},{name:"York"}]},provinces:{ca:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nunavut",abbreviation:"NU"},{name:"Yukon",abbreviation:"YT"}],it:[{name:"Agrigento",abbreviation:"AG",code:84},{name:"Alessandria",abbreviation:"AL",code:6},{name:"Ancona",abbreviation:"AN",code:42},{name:"Aosta",abbreviation:"AO",code:7},{name:"L'Aquila",abbreviation:"AQ",code:66},{name:"Arezzo",abbreviation:"AR",code:51},{name:"Ascoli-Piceno",abbreviation:"AP",code:44},{name:"Asti",abbreviation:"AT",code:5},{name:"Avellino",abbreviation:"AV",code:64},{name:"Bari",abbreviation:"BA",code:72},{name:"Barletta-Andria-Trani",abbreviation:"BT",code:72},{name:"Belluno",abbreviation:"BL",code:25},{name:"Benevento",abbreviation:"BN",code:62},{name:"Bergamo",abbreviation:"BG",code:16},{name:"Biella",abbreviation:"BI",code:96},{name:"Bologna",abbreviation:"BO",code:37},{name:"Bolzano",abbreviation:"BZ",code:21},{name:"Brescia",abbreviation:"BS",code:17},{name:"Brindisi",abbreviation:"BR",code:74},{name:"Cagliari",abbreviation:"CA",code:92},{name:"Caltanissetta",abbreviation:"CL",code:85},{name:"Campobasso",abbreviation:"CB",code:70},{name:"Carbonia Iglesias",abbreviation:"CI",code:70},{name:"Caserta",abbreviation:"CE",code:61},{name:"Catania",abbreviation:"CT",code:87},{name:"Catanzaro",abbreviation:"CZ",code:79},{name:"Chieti",abbreviation:"CH",code:69},{name:"Como",abbreviation:"CO",code:13},{name:"Cosenza",abbreviation:"CS",code:78},{name:"Cremona",abbreviation:"CR",code:19},{name:"Crotone",abbreviation:"KR",code:101},{name:"Cuneo",abbreviation:"CN",code:4},{name:"Enna",abbreviation:"EN",code:86},{name:"Fermo",abbreviation:"FM",code:86},{name:"Ferrara",abbreviation:"FE",code:38},{name:"Firenze",abbreviation:"FI",code:48},{name:"Foggia",abbreviation:"FG",code:71},{name:"Forli-Cesena",abbreviation:"FC",code:71},{name:"Frosinone",abbreviation:"FR",code:60},{name:"Genova",abbreviation:"GE",code:10},{name:"Gorizia",abbreviation:"GO",code:31},{name:"Grosseto",abbreviation:"GR",code:53},{name:"Imperia",abbreviation:"IM",code:8},{name:"Isernia",abbreviation:"IS",code:94},{name:"La-Spezia",abbreviation:"SP",code:66},{name:"Latina",abbreviation:"LT",code:59},{name:"Lecce",abbreviation:"LE",code:75},{name:"Lecco",abbreviation:"LC",code:97},{name:"Livorno",abbreviation:"LI",code:49},{name:"Lodi",abbreviation:"LO",code:98},{name:"Lucca",abbreviation:"LU",code:46},{name:"Macerata",abbreviation:"MC",code:43},{name:"Mantova",abbreviation:"MN",code:20},{name:"Massa-Carrara",abbreviation:"MS",code:45},{name:"Matera",abbreviation:"MT",code:77},{name:"Medio Campidano",abbreviation:"VS",code:77},{name:"Messina",abbreviation:"ME",code:83},{name:"Milano",abbreviation:"MI",code:15},{name:"Modena",abbreviation:"MO",code:36},{name:"Monza-Brianza",abbreviation:"MB",code:36},{name:"Napoli",abbreviation:"NA",code:63},{name:"Novara",abbreviation:"NO",code:3},{name:"Nuoro",abbreviation:"NU",code:91},{name:"Ogliastra",abbreviation:"OG",code:91},{name:"Olbia Tempio",abbreviation:"OT",code:91},{name:"Oristano",abbreviation:"OR",code:95},{name:"Padova",abbreviation:"PD",code:28},{name:"Palermo",abbreviation:"PA",code:82},{name:"Parma",abbreviation:"PR",code:34},{name:"Pavia",abbreviation:"PV",code:18},{name:"Perugia",abbreviation:"PG",code:54},{name:"Pesaro-Urbino",abbreviation:"PU",code:41},{name:"Pescara",abbreviation:"PE",code:68},{name:"Piacenza",abbreviation:"PC",code:33},{name:"Pisa",abbreviation:"PI",code:50},{name:"Pistoia",abbreviation:"PT",code:47},{name:"Pordenone",abbreviation:"PN",code:93},{name:"Potenza",abbreviation:"PZ",code:76},{name:"Prato",abbreviation:"PO",code:100},{name:"Ragusa",abbreviation:"RG",code:88},{name:"Ravenna",abbreviation:"RA",code:39},{name:"Reggio-Calabria",abbreviation:"RC",code:35},{name:"Reggio-Emilia",abbreviation:"RE",code:35},{name:"Rieti",abbreviation:"RI",code:57},{name:"Rimini",abbreviation:"RN",code:99},{name:"Roma",abbreviation:"Roma",code:58},{name:"Rovigo",abbreviation:"RO",code:29},{name:"Salerno",abbreviation:"SA",code:65},{name:"Sassari",abbreviation:"SS",code:90},{name:"Savona",abbreviation:"SV",code:9},{name:"Siena",abbreviation:"SI",code:52},{name:"Siracusa",abbreviation:"SR",code:89},{name:"Sondrio",abbreviation:"SO",code:14},{name:"Taranto",abbreviation:"TA",code:73},{name:"Teramo",abbreviation:"TE",code:67},{name:"Terni",abbreviation:"TR",code:55},{name:"Torino",abbreviation:"TO",code:1},{name:"Trapani",abbreviation:"TP",code:81},{name:"Trento",abbreviation:"TN",code:22},{name:"Treviso",abbreviation:"TV",code:26},{name:"Trieste",abbreviation:"TS",code:32},{name:"Udine",abbreviation:"UD",code:30},{name:"Varese",abbreviation:"VA",code:12},{name:"Venezia",abbreviation:"VE",code:27},{name:"Verbania",abbreviation:"VB",code:27},{name:"Vercelli",abbreviation:"VC",code:2},{name:"Verona",abbreviation:"VR",code:23},{name:"Vibo-Valentia",abbreviation:"VV",code:102},{name:"Vicenza",abbreviation:"VI",code:24},{name:"Viterbo",abbreviation:"VT",code:56}]},nationalities:[{name:"Afghan"},{name:"Albanian"},{name:"Algerian"},{name:"American"},{name:"Andorran"},{name:"Angolan"},{name:"Antiguans"},{name:"Argentinean"},{name:"Armenian"},{name:"Australian"},{name:"Austrian"},{name:"Azerbaijani"},{name:"Bahami"},{name:"Bahraini"},{name:"Bangladeshi"},{name:"Barbadian"},{name:"Barbudans"},{name:"Batswana"},{name:"Belarusian"},{name:"Belgian"},{name:"Belizean"},{name:"Beninese"},{name:"Bhutanese"},{name:"Bolivian"},{name:"Bosnian"},{name:"Brazilian"},{name:"British"},{name:"Bruneian"},{name:"Bulgarian"},{name:"Burkinabe"},{name:"Burmese"},{name:"Burundian"},{name:"Cambodian"},{name:"Cameroonian"},{name:"Canadian"},{name:"Cape Verdean"},{name:"Central African"},{name:"Chadian"},{name:"Chilean"},{name:"Chinese"},{name:"Colombian"},{name:"Comoran"},{name:"Congolese"},{name:"Costa Rican"},{name:"Croatian"},{name:"Cuban"},{name:"Cypriot"},{name:"Czech"},{name:"Danish"},{name:"Djibouti"},{name:"Dominican"},{name:"Dutch"},{name:"East Timorese"},{name:"Ecuadorean"},{name:"Egyptian"},{name:"Emirian"},{name:"Equatorial Guinean"},{name:"Eritrean"},{name:"Estonian"},{name:"Ethiopian"},{name:"Fijian"},{name:"Filipino"},{name:"Finnish"},{name:"French"},{name:"Gabonese"},{name:"Gambian"},{name:"Georgian"},{name:"German"},{name:"Ghanaian"},{name:"Greek"},{name:"Grenadian"},{name:"Guatemalan"},{name:"Guinea-Bissauan"},{name:"Guinean"},{name:"Guyanese"},{name:"Haitian"},{name:"Herzegovinian"},{name:"Honduran"},{name:"Hungarian"},{name:"I-Kiribati"},{name:"Icelander"},{name:"Indian"},{name:"Indonesian"},{name:"Iranian"},{name:"Iraqi"},{name:"Irish"},{name:"Israeli"},{name:"Italian"},{name:"Ivorian"},{name:"Jamaican"},{name:"Japanese"},{name:"Jordanian"},{name:"Kazakhstani"},{name:"Kenyan"},{name:"Kittian and Nevisian"},{name:"Kuwaiti"},{name:"Kyrgyz"},{name:"Laotian"},{name:"Latvian"},{name:"Lebanese"},{name:"Liberian"},{name:"Libyan"},{name:"Liechtensteiner"},{name:"Lithuanian"},{name:"Luxembourger"},{name:"Macedonian"},{name:"Malagasy"},{name:"Malawian"},{name:"Malaysian"},{name:"Maldivan"},{name:"Malian"},{name:"Maltese"},{name:"Marshallese"},{name:"Mauritanian"},{name:"Mauritian"},{name:"Mexican"},{name:"Micronesian"},{name:"Moldovan"},{name:"Monacan"},{name:"Mongolian"},{name:"Moroccan"},{name:"Mosotho"},{name:"Motswana"},{name:"Mozambican"},{name:"Namibian"},{name:"Nauruan"},{name:"Nepalese"},{name:"New Zealander"},{name:"Nicaraguan"},{name:"Nigerian"},{name:"Nigerien"},{name:"North Korean"},{name:"Northern Irish"},{name:"Norwegian"},{name:"Omani"},{name:"Pakistani"},{name:"Palauan"},{name:"Panamanian"},{name:"Papua New Guinean"},{name:"Paraguayan"},{name:"Peruvian"},{name:"Polish"},{name:"Portuguese"},{name:"Qatari"},{name:"Romani"},{name:"Russian"},{name:"Rwandan"},{name:"Saint Lucian"},{name:"Salvadoran"},{name:"Samoan"},{name:"San Marinese"},{name:"Sao Tomean"},{name:"Saudi"},{name:"Scottish"},{name:"Senegalese"},{name:"Serbian"},{name:"Seychellois"},{name:"Sierra Leonean"},{name:"Singaporean"},{name:"Slovakian"},{name:"Slovenian"},{name:"Solomon Islander"},{name:"Somali"},{name:"South African"},{name:"South Korean"},{name:"Spanish"},{name:"Sri Lankan"},{name:"Sudanese"},{name:"Surinamer"},{name:"Swazi"},{name:"Swedish"},{name:"Swiss"},{name:"Syrian"},{name:"Taiwanese"},{name:"Tajik"},{name:"Tanzanian"},{name:"Thai"},{name:"Togolese"},{name:"Tongan"},{name:"Trinidadian or Tobagonian"},{name:"Tunisian"},{name:"Turkish"},{name:"Tuvaluan"},{name:"Ugandan"},{name:"Ukrainian"},{name:"Uruguaya"},{name:"Uzbekistani"},{name:"Venezuela"},{name:"Vietnamese"},{name:"Wels"},{name:"Yemenit"},{name:"Zambia"},{name:"Zimbabwe"}],locale_languages:["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"],locale_regions:["agq-CM","asa-TZ","ast-ES","bas-CM","bem-ZM","bez-TZ","brx-IN","cgg-UG","chr-US","dav-KE","dje-NE","dsb-DE","dua-CM","dyo-SN","ebu-KE","ewo-CM","fil-PH","fur-IT","gsw-CH","gsw-FR","gsw-LI","guz-KE","haw-US","hsb-DE","jgo-CM","jmc-TZ","kab-DZ","kam-KE","kde-TZ","kea-CV","khq-ML","kkj-CM","kln-KE","kok-IN","ksb-TZ","ksf-CM","ksh-DE","lag-TZ","lkt-US","luo-KE","luy-KE","mas-KE","mas-TZ","mer-KE","mfe-MU","mgh-MZ","mgo-CM","mua-CM","naq-NA","nmg-CM","nnh-CM","nus-SD","nyn-UG","rof-TZ","rwk-TZ","sah-RU","saq-KE","sbp-TZ","seh-MZ","ses-ML","shi-Latn","shi-Latn-MA","shi-Tfng","shi-Tfng-MA","smn-FI","teo-KE","teo-UG","twq-NE","tzm-Latn","tzm-Latn-MA","vai-Latn","vai-Latn-LR","vai-Vaii","vai-Vaii-LR","vun-TZ","wae-CH","xog-UG","yav-CM","zgh-MA","af-NA","af-ZA","ak-GH","am-ET","ar-001","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","as-IN","az-Cyrl","az-Cyrl-AZ","az-Latn","az-Latn-AZ","be-BY","bg-BG","bm-Latn","bm-Latn-ML","bn-BD","bn-IN","bo-CN","bo-IN","br-FR","bs-Cyrl","bs-Cyrl-BA","bs-Latn","bs-Latn-BA","ca-AD","ca-ES","ca-ES-VALENCIA","ca-FR","ca-IT","cs-CZ","cy-GB","da-DK","da-GL","de-AT","de-BE","de-CH","de-DE","de-LI","de-LU","dz-BT","ee-GH","ee-TG","el-CY","el-GR","en-001","en-150","en-AG","en-AI","en-AS","en-AU","en-BB","en-BE","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-US-POSIX","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","eo-001","es-419","es-AR","es-BO","es-CL","es-CO","es-CR","es-CU","es-DO","es-EA","es-EC","es-ES","es-GQ","es-GT","es-HN","es-IC","es-MX","es-NI","es-PA","es-PE","es-PH","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","et-EE","eu-ES","fa-AF","fa-IR","ff-CM","ff-GN","ff-MR","ff-SN","fi-FI","fo-FO","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-FR","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fy-NL","ga-IE","gd-GB","gl-ES","gu-IN","gv-IM","ha-Latn","ha-Latn-GH","ha-Latn-NE","ha-Latn-NG","he-IL","hi-IN","hr-BA","hr-HR","hu-HU","hy-AM","id-ID","ig-NG","ii-CN","is-IS","it-CH","it-IT","it-SM","ja-JP","ka-GE","ki-KE","kk-Cyrl","kk-Cyrl-KZ","kl-GL","km-KH","kn-IN","ko-KP","ko-KR","ks-Arab","ks-Arab-IN","kw-GB","ky-Cyrl","ky-Cyrl-KG","lb-LU","lg-UG","ln-AO","ln-CD","ln-CF","ln-CG","lo-LA","lt-LT","lu-CD","lv-LV","mg-MG","mk-MK","ml-IN","mn-Cyrl","mn-Cyrl-MN","mr-IN","ms-Latn","ms-Latn-BN","ms-Latn-MY","ms-Latn-SG","mt-MT","my-MM","nb-NO","nb-SJ","nd-ZW","ne-IN","ne-NP","nl-AW","nl-BE","nl-BQ","nl-CW","nl-NL","nl-SR","nl-SX","nn-NO","om-ET","om-KE","or-IN","os-GE","os-RU","pa-Arab","pa-Arab-PK","pa-Guru","pa-Guru-IN","pl-PL","ps-AF","pt-AO","pt-BR","pt-CV","pt-GW","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","qu-BO","qu-EC","qu-PE","rm-CH","rn-BI","ro-MD","ro-RO","ru-BY","ru-KG","ru-KZ","ru-MD","ru-RU","ru-UA","rw-RW","se-FI","se-NO","se-SE","sg-CF","si-LK","sk-SK","sl-SI","sn-ZW","so-DJ","so-ET","so-KE","so-SO","sq-AL","sq-MK","sq-XK","sr-Cyrl","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-RS","sr-Cyrl-XK","sr-Latn","sr-Latn-BA","sr-Latn-ME","sr-Latn-RS","sr-Latn-XK","sv-AX","sv-FI","sv-SE","sw-CD","sw-KE","sw-TZ","sw-UG","ta-IN","ta-LK","ta-MY","ta-SG","te-IN","th-TH","ti-ER","ti-ET","to-TO","tr-CY","tr-TR","ug-Arab","ug-Arab-CN","uk-UA","ur-IN","ur-PK","uz-Arab","uz-Arab-AF","uz-Cyrl","uz-Cyrl-UZ","uz-Latn","uz-Latn-UZ","vi-VN","yi-001","yo-BJ","yo-NG","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW","zu-ZA"],us_states_and_dc:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District of Columbia",abbreviation:"DC"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],territories:[{name:"American Samoa",abbreviation:"AS"},{name:"Federated States of Micronesia",abbreviation:"FM"},{name:"Guam",abbreviation:"GU"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Virgin Islands, U.S.",abbreviation:"VI"}],armed_forces:[{name:"Armed Forces Europe",abbreviation:"AE"},{name:"Armed Forces Pacific",abbreviation:"AP"},{name:"Armed Forces the Americas",abbreviation:"AA"}],country_regions:{it:[{name:"Valle d'Aosta",abbreviation:"VDA"},{name:"Piemonte",abbreviation:"PIE"},{name:"Lombardia",abbreviation:"LOM"},{name:"Veneto",abbreviation:"VEN"},{name:"Trentino Alto Adige",abbreviation:"TAA"},{name:"Friuli Venezia Giulia",abbreviation:"FVG"},{name:"Liguria",abbreviation:"LIG"},{name:"Emilia Romagna",abbreviation:"EMR"},{name:"Toscana",abbreviation:"TOS"},{name:"Umbria",abbreviation:"UMB"},{name:"Marche",abbreviation:"MAR"},{name:"Abruzzo",abbreviation:"ABR"},{name:"Lazio",abbreviation:"LAZ"},{name:"Campania",abbreviation:"CAM"},{name:"Puglia",abbreviation:"PUG"},{name:"Basilicata",abbreviation:"BAS"},{name:"Molise",abbreviation:"MOL"},{name:"Calabria",abbreviation:"CAL"},{name:"Sicilia",abbreviation:"SIC"},{name:"Sardegna",abbreviation:"SAR"}],mx:[{name:"Aguascalientes",abbreviation:"AGU"},{name:"Baja California",abbreviation:"BCN"},{name:"Baja California Sur",abbreviation:"BCS"},{name:"Campeche",abbreviation:"CAM"},{name:"Chiapas",abbreviation:"CHP"},{name:"Chihuahua",abbreviation:"CHH"},{name:"Ciudad de Mxico",abbreviation:"DIF"},{name:"Coahuila",abbreviation:"COA"},{name:"Colima",abbreviation:"COL"},{name:"Durango",abbreviation:"DUR"},{name:"Guanajuato",abbreviation:"GUA"},{name:"Guerrero",abbreviation:"GRO"},{name:"Hidalgo",abbreviation:"HID"},{name:"Jalisco",abbreviation:"JAL"},{name:"Mxico",abbreviation:"MEX"},{name:"Michoacn",abbreviation:"MIC"},{name:"Morelos",abbreviation:"MOR"},{name:"Nayarit",abbreviation:"NAY"},{name:"Nuevo Len",abbreviation:"NLE"},{name:"Oaxaca",abbreviation:"OAX"},{name:"Puebla",abbreviation:"PUE"},{name:"Quertaro",abbreviation:"QUE"},{name:"Quintana Roo",abbreviation:"ROO"},{name:"San Luis Potos",abbreviation:"SLP"},{name:"Sinaloa",abbreviation:"SIN"},{name:"Sonora",abbreviation:"SON"},{name:"Tabasco",abbreviation:"TAB"},{name:"Tamaulipas",abbreviation:"TAM"},{name:"Tlaxcala",abbreviation:"TLA"},{name:"Veracruz",abbreviation:"VER"},{name:"Yucatn",abbreviation:"YUC"},{name:"Zacatecas",abbreviation:"ZAC"}]},street_suffixes:{us:[{name:"Avenue",abbreviation:"Ave"},{name:"Boulevard",abbreviation:"Blvd"},{name:"Center",abbreviation:"Ctr"},{name:"Circle",abbreviation:"Cir"},{name:"Court",abbreviation:"Ct"},{name:"Drive",abbreviation:"Dr"},{name:"Extension",abbreviation:"Ext"},{name:"Glen",abbreviation:"Gln"},{name:"Grove",abbreviation:"Grv"},{name:"Heights",abbreviation:"Hts"},{name:"Highway",abbreviation:"Hwy"},{name:"Junction",abbreviation:"Jct"},{name:"Key",abbreviation:"Key"},{name:"Lane",abbreviation:"Ln"},{name:"Loop",abbreviation:"Loop"},{name:"Manor",abbreviation:"Mnr"},{name:"Mill",abbreviation:"Mill"},{name:"Park",abbreviation:"Park"},{name:"Parkway",abbreviation:"Pkwy"},{name:"Pass",abbreviation:"Pass"},{name:"Path",abbreviation:"Path"},{name:"Pike",abbreviation:"Pike"},{name:"Place",abbreviation:"Pl"},{name:"Plaza",abbreviation:"Plz"},{name:"Point",abbreviation:"Pt"},{name:"Ridge",abbreviation:"Rdg"},{name:"River",abbreviation:"Riv"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Trail",abbreviation:"Trl"},{name:"Turnpike",abbreviation:"Tpke"},{name:"View",abbreviation:"Vw"},{name:"Way",abbreviation:"Way"}],it:[{name:"Accesso",abbreviation:"Acc."},{name:"Alzaia",abbreviation:"Alz."},{name:"Arco",abbreviation:"Arco"},{name:"Archivolto",abbreviation:"Acv."},{name:"Arena",abbreviation:"Arena"},{name:"Argine",abbreviation:"Argine"},{name:"Bacino",abbreviation:"Bacino"},{name:"Banchi",abbreviation:"Banchi"},{name:"Banchina",abbreviation:"Ban."},{name:"Bastioni",abbreviation:"Bas."},{name:"Belvedere",abbreviation:"Belv."},{name:"Borgata",abbreviation:"B.ta"},{name:"Borgo",abbreviation:"B.go"},{name:"Calata",abbreviation:"Cal."},{name:"Calle",abbreviation:"Calle"},{name:"Campiello",abbreviation:"Cam."},{name:"Campo",abbreviation:"Cam."},{name:"Canale",abbreviation:"Can."},{name:"Carraia",abbreviation:"Carr."},{name:"Cascina",abbreviation:"Cascina"},{name:"Case sparse",abbreviation:"c.s."},{name:"Cavalcavia",abbreviation:"Cv."},{name:"Circonvallazione",abbreviation:"Cv."},{name:"Complanare",abbreviation:"C.re"},{name:"Contrada",abbreviation:"C.da"},{name:"Corso",abbreviation:"C.so"},{name:"Corte",abbreviation:"C.te"},{name:"Cortile",abbreviation:"C.le"},{name:"Diramazione",abbreviation:"Dir."},{name:"Fondaco",abbreviation:"F.co"},{name:"Fondamenta",abbreviation:"F.ta"},{name:"Fondo",abbreviation:"F.do"},{name:"Frazione",abbreviation:"Fr."},{name:"Isola",abbreviation:"Is."},{name:"Largo",abbreviation:"L.go"},{name:"Litoranea",abbreviation:"Lit."},{name:"Lungolago",abbreviation:"L.go lago"},{name:"Lungo Po",abbreviation:"l.go Po"},{name:"Molo",abbreviation:"Molo"},{name:"Mura",abbreviation:"Mura"},{name:"Passaggio privato",abbreviation:"pass. priv."},{name:"Passeggiata",abbreviation:"Pass."},{name:"Piazza",abbreviation:"P.zza"},{name:"Piazzale",abbreviation:"P.le"},{name:"Ponte",abbreviation:"P.te"},{name:"Portico",abbreviation:"P.co"},{name:"Rampa",abbreviation:"Rampa"},{name:"Regione",abbreviation:"Reg."},{name:"Rione",abbreviation:"R.ne"},{name:"Rio",abbreviation:"Rio"},{name:"Ripa",abbreviation:"Ripa"},{name:"Riva",abbreviation:"Riva"},{name:"Rond",abbreviation:"Rond"},{name:"Rotonda",abbreviation:"Rot."},{name:"Sagrato",abbreviation:"Sagr."},{name:"Salita",abbreviation:"Sal."},{name:"Scalinata",abbreviation:"Scal."},{name:"Scalone",abbreviation:"Scal."},{name:"Slargo",abbreviation:"Sl."},{name:"Sottoportico",abbreviation:"Sott."},{name:"Strada",abbreviation:"Str."},{name:"Stradale",abbreviation:"Str.le"},{name:"Strettoia",abbreviation:"Strett."},{name:"Traversa",abbreviation:"Trav."},{name:"Via",abbreviation:"V."},{name:"Viale",abbreviation:"V.le"},{name:"Vicinale",abbreviation:"Vic.le"},{name:"Vicolo",abbreviation:"Vic."}],uk:[{name:"Avenue",abbreviation:"Ave"},{name:"Close",abbreviation:"Cl"},{name:"Court",abbreviation:"Ct"},{name:"Crescent",abbreviation:"Cr"},{name:"Drive",abbreviation:"Dr"},{name:"Garden",abbreviation:"Gdn"},{name:"Gardens",abbreviation:"Gdns"},{name:"Green",abbreviation:"Gn"},{name:"Grove",abbreviation:"Gr"},{name:"Lane",abbreviation:"Ln"},{name:"Mount",abbreviation:"Mt"},{name:"Place",abbreviation:"Pl"},{name:"Park",abbreviation:"Pk"},{name:"Ridge",abbreviation:"Rdg"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Valley",abbreviation:"Val"}]},months:[{name:"January",short_name:"Jan",numeric:"01",days:31},{name:"February",short_name:"Feb",numeric:"02",days:28},{name:"March",short_name:"Mar",numeric:"03",days:31},{name:"April",short_name:"Apr",numeric:"04",days:30},{name:"May",short_name:"May",numeric:"05",days:31},{name:"June",short_name:"Jun",numeric:"06",days:30},{name:"July",short_name:"Jul",numeric:"07",days:31},{name:"August",short_name:"Aug",numeric:"08",days:31},{name:"September",short_name:"Sep",numeric:"09",days:30},{name:"October",short_name:"Oct",numeric:"10",days:31},{name:"November",short_name:"Nov",numeric:"11",days:30},{name:"December",short_name:"Dec",numeric:"12",days:31}],cc_types:[{name:"American Express",short_name:"amex",prefix:"34",length:15},{name:"Bankcard",short_name:"bankcard",prefix:"5610",length:16},{name:"China UnionPay",short_name:"chinaunion",prefix:"62",length:16},{name:"Diners Club Carte Blanche",short_name:"dccarte",prefix:"300",length:14},{name:"Diners Club enRoute",short_name:"dcenroute",prefix:"2014",length:15},{name:"Diners Club International",short_name:"dcintl",prefix:"36",length:14},{name:"Diners Club United States & Canada",short_name:"dcusc",prefix:"54",length:16},{name:"Discover Card",short_name:"discover",prefix:"6011",length:16},{name:"InstaPayment",short_name:"instapay",prefix:"637",length:16},{name:"JCB",short_name:"jcb",prefix:"3528",length:16},{name:"Laser",short_name:"laser",prefix:"6304",length:16},{name:"Maestro",short_name:"maestro",prefix:"5018",length:16},{name:"Mastercard",short_name:"mc",prefix:"51",length:16},{name:"Solo",short_name:"solo",prefix:"6334",length:16},{name:"Switch",short_name:"switch",prefix:"4903",length:16},{name:"Visa",short_name:"visa",prefix:"4",length:16},{name:"Visa Electron",short_name:"electron",prefix:"4026",length:16}],currency_types:[{code:"AED",name:"United Arab Emirates Dirham"},{code:"AFN",name:"Afghanistan Afghani"},{code:"ALL",name:"Albania Lek"},{code:"AMD",name:"Armenia Dram"},{code:"ANG",name:"Netherlands Antilles Guilder"},{code:"AOA",name:"Angola Kwanza"},{code:"ARS",name:"Argentina Peso"},{code:"AUD",name:"Australia Dollar"},{code:"AWG",name:"Aruba Guilder"},{code:"AZN",name:"Azerbaijan New Manat"},{code:"BAM",name:"Bosnia and Herzegovina Convertible Marka"},{code:"BBD",name:"Barbados Dollar"},{code:"BDT",name:"Bangladesh Taka"},{code:"BGN",name:"Bulgaria Lev"},{code:"BHD",name:"Bahrain Dinar"},{code:"BIF",name:"Burundi Franc"},{code:"BMD",name:"Bermuda Dollar"},{code:"BND",name:"Brunei Darussalam Dollar"},{code:"BOB",name:"Bolivia Boliviano"},{code:"BRL",name:"Brazil Real"},{code:"BSD",name:"Bahamas Dollar"},{code:"BTN",name:"Bhutan Ngultrum"},{code:"BWP",name:"Botswana Pula"},{code:"BYR",name:"Belarus Ruble"},{code:"BZD",name:"Belize Dollar"},{code:"CAD",name:"Canada Dollar"},{code:"CDF",name:"Congo/Kinshasa Franc"},{code:"CHF",name:"Switzerland Franc"},{code:"CLP",name:"Chile Peso"},{code:"CNY",name:"China Yuan Renminbi"},{code:"COP",name:"Colombia Peso"},{code:"CRC",name:"Costa Rica Colon"},{code:"CUC",name:"Cuba Convertible Peso"},{code:"CUP",name:"Cuba Peso"},{code:"CVE",name:"Cape Verde Escudo"},{code:"CZK",name:"Czech Republic Koruna"},{code:"DJF",name:"Djibouti Franc"},{code:"DKK",name:"Denmark Krone"},{code:"DOP",name:"Dominican Republic Peso"},{code:"DZD",name:"Algeria Dinar"},{code:"EGP",name:"Egypt Pound"},{code:"ERN",name:"Eritrea Nakfa"},{code:"ETB",name:"Ethiopia Birr"},{code:"EUR",name:"Euro Member Countries"},{code:"FJD",name:"Fiji Dollar"},{code:"FKP",name:"Falkland Islands (Malvinas) Pound"},{code:"GBP",name:"United Kingdom Pound"},{code:"GEL",name:"Georgia Lari"},{code:"GGP",name:"Guernsey Pound"},{code:"GHS",name:"Ghana Cedi"},{code:"GIP",name:"Gibraltar Pound"},{code:"GMD",name:"Gambia Dalasi"},{code:"GNF",name:"Guinea Franc"},{code:"GTQ",name:"Guatemala Quetzal"},{code:"GYD",name:"Guyana Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"HNL",name:"Honduras Lempira"},{code:"HRK",name:"Croatia Kuna"},{code:"HTG",name:"Haiti Gourde"},{code:"HUF",name:"Hungary Forint"},{code:"IDR",name:"Indonesia Rupiah"},{code:"ILS",name:"Israel Shekel"},{code:"IMP",name:"Isle of Man Pound"},{code:"INR",name:"India Rupee"},{code:"IQD",name:"Iraq Dinar"},{code:"IRR",name:"Iran Rial"},{code:"ISK",name:"Iceland Krona"},{code:"JEP",name:"Jersey Pound"},{code:"JMD",name:"Jamaica Dollar"},{code:"JOD",name:"Jordan Dinar"},{code:"JPY",name:"Japan Yen"},{code:"KES",name:"Kenya Shilling"},{code:"KGS",name:"Kyrgyzstan Som"},{code:"KHR",name:"Cambodia Riel"},{code:"KMF",name:"Comoros Franc"},{code:"KPW",name:"Korea (North) Won"},{code:"KRW",name:"Korea (South) Won"},{code:"KWD",name:"Kuwait Dinar"},{code:"KYD",name:"Cayman Islands Dollar"},{code:"KZT",name:"Kazakhstan Tenge"},{code:"LAK",name:"Laos Kip"},{code:"LBP",name:"Lebanon Pound"},{code:"LKR",name:"Sri Lanka Rupee"},{code:"LRD",name:"Liberia Dollar"},{code:"LSL",name:"Lesotho Loti"},{code:"LTL",name:"Lithuania Litas"},{code:"LYD",name:"Libya Dinar"},{code:"MAD",name:"Morocco Dirham"},{code:"MDL",name:"Moldova Leu"},{code:"MGA",name:"Madagascar Ariary"},{code:"MKD",name:"Macedonia Denar"},{code:"MMK",name:"Myanmar (Burma) Kyat"},{code:"MNT",name:"Mongolia Tughrik"},{code:"MOP",name:"Macau Pataca"},{code:"MRO",name:"Mauritania Ouguiya"},{code:"MUR",name:"Mauritius Rupee"},{code:"MVR",name:"Maldives (Maldive Islands) Rufiyaa"},{code:"MWK",name:"Malawi Kwacha"},{code:"MXN",name:"Mexico Peso"},{code:"MYR",name:"Malaysia Ringgit"},{code:"MZN",name:"Mozambique Metical"},{code:"NAD",name:"Namibia Dollar"},{code:"NGN",name:"Nigeria Naira"},{code:"NIO",name:"Nicaragua Cordoba"},{code:"NOK",name:"Norway Krone"},{code:"NPR",name:"Nepal Rupee"},{code:"NZD",name:"New Zealand Dollar"},{code:"OMR",name:"Oman Rial"},{code:"PAB",name:"Panama Balboa"},{code:"PEN",name:"Peru Nuevo Sol"},{code:"PGK",name:"Papua New Guinea Kina"},{code:"PHP",name:"Philippines Peso"},{code:"PKR",name:"Pakistan Rupee"},{code:"PLN",name:"Poland Zloty"},{code:"PYG",name:"Paraguay Guarani"},{code:"QAR",name:"Qatar Riyal"},{code:"RON",name:"Romania New Leu"},{code:"RSD",name:"Serbia Dinar"},{code:"RUB",name:"Russia Ruble"},{code:"RWF",name:"Rwanda Franc"},{code:"SAR",name:"Saudi Arabia Riyal"},{code:"SBD",name:"Solomon Islands Dollar"},{code:"SCR",name:"Seychelles Rupee"},{code:"SDG",name:"Sudan Pound"},{code:"SEK",name:"Sweden Krona"},{code:"SGD",name:"Singapore Dollar"},{code:"SHP",name:"Saint Helena Pound"},{code:"SLL",name:"Sierra Leone Leone"},{code:"SOS",name:"Somalia Shilling"},{code:"SPL",name:"Seborga Luigino"},{code:"SRD",name:"Suriname Dollar"},{code:"STD",name:"So Tom and Prncipe Dobra"},{code:"SVC",name:"El Salvador Colon"},{code:"SYP",name:"Syria Pound"},{code:"SZL",name:"Swaziland Lilangeni"},{code:"THB",name:"Thailand Baht"},{code:"TJS",name:"Tajikistan Somoni"},{code:"TMT",name:"Turkmenistan Manat"},{code:"TND",name:"Tunisia Dinar"},{code:"TOP",name:"Tonga Pa'anga"},{code:"TRY",name:"Turkey Lira"},{code:"TTD",name:"Trinidad and Tobago Dollar"},{code:"TVD",name:"Tuvalu Dollar"},{code:"TWD",name:"Taiwan New Dollar"},{code:"TZS",name:"Tanzania Shilling"},{code:"UAH",name:"Ukraine Hryvnia"},{code:"UGX",name:"Uganda Shilling"},{code:"USD",name:"United States Dollar"},{code:"UYU",name:"Uruguay Peso"},{code:"UZS",name:"Uzbekistan Som"},{code:"VEF",name:"Venezuela Bolivar"},{code:"VND",name:"Viet Nam Dong"},{code:"VUV",name:"Vanuatu Vatu"},{code:"WST",name:"Samoa Tala"},{code:"XAF",name:"Communaut Financire Africaine (BEAC) CFA Franc BEAC"},{code:"XCD",name:"East Caribbean Dollar"},{code:"XDR",name:"International Monetary Fund (IMF) Special Drawing Rights"},{code:"XOF",name:"Communaut Financire Africaine (BCEAO) Franc"},{code:"XPF",name:"Comptoirs Franais du Pacifique (CFP) Franc"},{code:"YER",name:"Yemen Rial"},{code:"ZAR",name:"South Africa Rand"},{code:"ZMW",name:"Zambia Kwacha"},{code:"ZWD",name:"Zimbabwe Dollar"}],colorNames:["AliceBlue","Black","Navy","DarkBlue","MediumBlue","Blue","DarkGreen","Green","Teal","DarkCyan","DeepSkyBlue","DarkTurquoise","MediumSpringGreen","Lime","SpringGreen","Aqua","Cyan","MidnightBlue","DodgerBlue","LightSeaGreen","ForestGreen","SeaGreen","DarkSlateGray","LimeGreen","MediumSeaGreen","Turquoise","RoyalBlue","SteelBlue","DarkSlateBlue","MediumTurquoise","Indigo","DarkOliveGreen","CadetBlue","CornflowerBlue","RebeccaPurple","MediumAquaMarine","DimGray","SlateBlue","OliveDrab","SlateGray","LightSlateGray","MediumSlateBlue","LawnGreen","Chartreuse","Aquamarine","Maroon","Purple","Olive","Gray","SkyBlue","LightSkyBlue","BlueViolet","DarkRed","DarkMagenta","SaddleBrown","Ivory","White","DarkSeaGreen","LightGreen","MediumPurple","DarkViolet","PaleGreen","DarkOrchid","YellowGreen","Sienna","Brown","DarkGray","LightBlue","GreenYellow","PaleTurquoise","LightSteelBlue","PowderBlue","FireBrick","DarkGoldenRod","MediumOrchid","RosyBrown","DarkKhaki","Silver","MediumVioletRed","IndianRed","Peru","Chocolate","Tan","LightGray","Thistle","Orchid","GoldenRod","PaleVioletRed","Crimson","Gainsboro","Plum","BurlyWood","LightCyan","Lavender","DarkSalmon","Violet","PaleGoldenRod","LightCoral","Khaki","AliceBlue","HoneyDew","Azure","SandyBrown","Wheat","Beige","WhiteSmoke","MintCream","GhostWhite","Salmon","AntiqueWhite","Linen","LightGoldenRodYellow","OldLace","Red","Fuchsia","Magenta","DeepPink","OrangeRed","Tomato","HotPink","Coral","DarkOrange","LightSalmon","Orange","LightPink","Pink","Gold","PeachPuff","NavajoWhite","Moccasin","Bisque","MistyRose","BlanchedAlmond","PapayaWhip","LavenderBlush","SeaShell","Cornsilk","LemonChiffon","FloralWhite","Snow","Yellow","LightYellow"],company:["3Com Corp","3M Company","A.G. Edwards Inc.","Abbott Laboratories","Abercrombie & Fitch Co.","ABM Industries Incorporated","Ace Hardware Corporation","ACT Manufacturing Inc.","Acterna Corp.","Adams Resources & Energy, Inc.","ADC Telecommunications, Inc.","Adelphia Communications Corporation","Administaff, Inc.","Adobe Systems Incorporated","Adolph Coors Company","Advance Auto Parts, Inc.","Advanced Micro Devices, Inc.","AdvancePCS, Inc.","Advantica Restaurant Group, Inc.","The AES Corporation","Aetna Inc.","Affiliated Computer Services, Inc.","AFLAC Incorporated","AGCO Corporation","Agilent Technologies, Inc.","Agway Inc.","Apartment Investment and Management Company","Air Products and Chemicals, Inc.","Airborne, Inc.","Airgas, Inc.","AK Steel Holding Corporation","Alaska Air Group, Inc.","Alberto-Culver Company","Albertson's, Inc.","Alcoa Inc.","Alleghany Corporation","Allegheny Energy, Inc.","Allegheny Technologies Incorporated","Allergan, Inc.","ALLETE, Inc.","Alliant Energy Corporation","Allied Waste Industries, Inc.","Allmerica Financial Corporation","The Allstate Corporation","ALLTEL Corporation","The Alpine Group, Inc.","Amazon.com, Inc.","AMC Entertainment Inc.","American Power Conversion Corporation","Amerada Hess Corporation","AMERCO","Ameren Corporation","America West Holdings Corporation","American Axle & Manufacturing Holdings, Inc.","American Eagle Outfitters, Inc.","American Electric Power Company, Inc.","American Express Company","American Financial Group, Inc.","American Greetings Corporation","American International Group, Inc.","American Standard Companies Inc.","American Water Works Company, Inc.","AmerisourceBergen Corporation","Ames Department Stores, Inc.","Amgen Inc.","Amkor Technology, Inc.","AMR Corporation","AmSouth Bancorp.","Amtran, Inc.","Anadarko Petroleum Corporation","Analog Devices, Inc.","Anheuser-Busch Companies, Inc.","Anixter International Inc.","AnnTaylor Inc.","Anthem, Inc.","AOL Time Warner Inc.","Aon Corporation","Apache Corporation","Apple Computer, Inc.","Applera Corporation","Applied Industrial Technologies, Inc.","Applied Materials, Inc.","Aquila, Inc.","ARAMARK Corporation","Arch Coal, Inc.","Archer Daniels Midland Company","Arkansas Best Corporation","Armstrong Holdings, Inc.","Arrow Electronics, Inc.","ArvinMeritor, Inc.","Ashland Inc.","Astoria Financial Corporation","AT&T Corp.","Atmel Corporation","Atmos Energy Corporation","Audiovox Corporation","Autoliv, Inc.","Automatic Data Processing, Inc.","AutoNation, Inc.","AutoZone, Inc.","Avaya Inc.","Avery Dennison Corporation","Avista Corporation","Avnet, Inc.","Avon Products, Inc.","Baker Hughes Incorporated","Ball Corporation","Bank of America Corporation","The Bank of New York Company, Inc.","Bank One Corporation","Banknorth Group, Inc.","Banta Corporation","Barnes & Noble, Inc.","Bausch & Lomb Incorporated","Baxter International Inc.","BB&T Corporation","The Bear Stearns Companies Inc.","Beazer Homes USA, Inc.","Beckman Coulter, Inc.","Becton, Dickinson and Company","Bed Bath & Beyond Inc.","Belk, Inc.","Bell Microproducts Inc.","BellSouth Corporation","Belo Corp.","Bemis Company, Inc.","Benchmark Electronics, Inc.","Berkshire Hathaway Inc.","Best Buy Co., Inc.","Bethlehem Steel Corporation","Beverly Enterprises, Inc.","Big Lots, Inc.","BJ Services Company","BJ's Wholesale Club, Inc.","The Black & Decker Corporation","Black Hills Corporation","BMC Software, Inc.","The Boeing Company","Boise Cascade Corporation","Borders Group, Inc.","BorgWarner Inc.","Boston Scientific Corporation","Bowater Incorporated","Briggs & Stratton Corporation","Brightpoint, Inc.","Brinker International, Inc.","Bristol-Myers Squibb Company","Broadwing, Inc.","Brown Shoe Company, Inc.","Brown-Forman Corporation","Brunswick Corporation","Budget Group, Inc.","Burlington Coat Factory Warehouse Corporation","Burlington Industries, Inc.","Burlington Northern Santa Fe Corporation","Burlington Resources Inc.","C. H. Robinson Worldwide Inc.","Cablevision Systems Corp","Cabot Corp","Cadence Design Systems, Inc.","Calpine Corp.","Campbell Soup Co.","Capital One Financial Corp.","Cardinal Health Inc.","Caremark Rx Inc.","Carlisle Cos. Inc.","Carpenter Technology Corp.","Casey's General Stores Inc.","Caterpillar Inc.","CBRL Group Inc.","CDI Corp.","CDW Computer Centers Inc.","CellStar Corp.","Cendant Corp","Cenex Harvest States Cooperatives","Centex Corp.","CenturyTel Inc.","Ceridian Corp.","CH2M Hill Cos. Ltd.","Champion Enterprises Inc.","Charles Schwab Corp.","Charming Shoppes Inc.","Charter Communications Inc.","Charter One Financial Inc.","ChevronTexaco Corp.","Chiquita Brands International Inc.","Chubb Corp","Ciena Corp.","Cigna Corp","Cincinnati Financial Corp.","Cinergy Corp.","Cintas Corp.","Circuit City Stores Inc.","Cisco Systems Inc.","Citigroup, Inc","Citizens Communications Co.","CKE Restaurants Inc.","Clear Channel Communications Inc.","The Clorox Co.","CMGI Inc.","CMS Energy Corp.","CNF Inc.","Coca-Cola Co.","Coca-Cola Enterprises Inc.","Colgate-Palmolive Co.","Collins & Aikman Corp.","Comcast Corp.","Comdisco Inc.","Comerica Inc.","Comfort Systems USA Inc.","Commercial Metals Co.","Community Health Systems Inc.","Compass Bancshares Inc","Computer Associates International Inc.","Computer Sciences Corp.","Compuware Corp.","Comverse Technology Inc.","ConAgra Foods Inc.","Concord EFS Inc.","Conectiv, Inc","Conoco Inc","Conseco Inc.","Consolidated Freightways Corp.","Consolidated Edison Inc.","Constellation Brands Inc.","Constellation Emergy Group Inc.","Continental Airlines Inc.","Convergys Corp.","Cooper Cameron Corp.","Cooper Industries Ltd.","Cooper Tire & Rubber Co.","Corn Products International Inc.","Corning Inc.","Costco Wholesale Corp.","Countrywide Credit Industries Inc.","Coventry Health Care Inc.","Cox Communications Inc.","Crane Co.","Crompton Corp.","Crown Cork & Seal Co. Inc.","CSK Auto Corp.","CSX Corp.","Cummins Inc.","CVS Corp.","Cytec Industries Inc.","D&K Healthcare Resources, Inc.","D.R. Horton Inc.","Dana Corporation","Danaher Corporation","Darden Restaurants Inc.","DaVita Inc.","Dean Foods Company","Deere & Company","Del Monte Foods Co","Dell Computer Corporation","Delphi Corp.","Delta Air Lines Inc.","Deluxe Corporation","Devon Energy Corporation","Di Giorgio Corporation","Dial Corporation","Diebold Incorporated","Dillard's Inc.","DIMON Incorporated","Dole Food Company, Inc.","Dollar General Corporation","Dollar Tree Stores, Inc.","Dominion Resources, Inc.","Domino's Pizza LLC","Dover Corporation, Inc.","Dow Chemical Company","Dow Jones & Company, Inc.","DPL Inc.","DQE Inc.","Dreyer's Grand Ice Cream, Inc.","DST Systems, Inc.","DTE Energy Co.","E.I. Du Pont de Nemours and Company","Duke Energy Corp","Dun & Bradstreet Inc.","DURA Automotive Systems Inc.","DynCorp","Dynegy Inc.","E*Trade Group, Inc.","E.W. Scripps Company","Earthlink, Inc.","Eastman Chemical Company","Eastman Kodak Company","Eaton Corporation","Echostar Communications Corporation","Ecolab Inc.","Edison International","EGL Inc.","El Paso Corporation","Electronic Arts Inc.","Electronic Data Systems Corp.","Eli Lilly and Company","EMC Corporation","Emcor Group Inc.","Emerson Electric Co.","Encompass Services Corporation","Energizer Holdings Inc.","Energy East Corporation","Engelhard Corporation","Enron Corp.","Entergy Corporation","Enterprise Products Partners L.P.","EOG Resources, Inc.","Equifax Inc.","Equitable Resources Inc.","Equity Office Properties Trust","Equity Residential Properties Trust","Estee Lauder Companies Inc.","Exelon Corporation","Exide Technologies","Expeditors International of Washington Inc.","Express Scripts Inc.","ExxonMobil Corporation","Fairchild Semiconductor International Inc.","Family Dollar Stores Inc.","Farmland Industries Inc.","Federal Mogul Corp.","Federated Department Stores Inc.","Federal Express Corp.","Felcor Lodging Trust Inc.","Ferro Corp.","Fidelity National Financial Inc.","Fifth Third Bancorp","First American Financial Corp.","First Data Corp.","First National of Nebraska Inc.","First Tennessee National Corp.","FirstEnergy Corp.","Fiserv Inc.","Fisher Scientific International Inc.","FleetBoston Financial Co.","Fleetwood Enterprises Inc.","Fleming Companies Inc.","Flowers Foods Inc.","Flowserv Corp","Fluor Corp","FMC Corp","Foamex International Inc","Foot Locker Inc","Footstar Inc.","Ford Motor Co","Forest Laboratories Inc.","Fortune Brands Inc.","Foster Wheeler Ltd.","FPL Group Inc.","Franklin Resources Inc.","Freeport McMoran Copper & Gold Inc.","Frontier Oil Corp","Furniture Brands International Inc.","Gannett Co., Inc.","Gap Inc.","Gateway Inc.","GATX Corporation","Gemstar-TV Guide International Inc.","GenCorp Inc.","General Cable Corporation","General Dynamics Corporation","General Electric Company","General Mills Inc","General Motors Corporation","Genesis Health Ventures Inc.","Gentek Inc.","Gentiva Health Services Inc.","Genuine Parts Company","Genuity Inc.","Genzyme Corporation","Georgia Gulf Corporation","Georgia-Pacific Corporation","Gillette Company","Gold Kist Inc.","Golden State Bancorp Inc.","Golden West Financial Corporation","Goldman Sachs Group Inc.","Goodrich Corporation","The Goodyear Tire & Rubber Company","Granite Construction Incorporated","Graybar Electric Company Inc.","Great Lakes Chemical Corporation","Great Plains Energy Inc.","GreenPoint Financial Corp.","Greif Bros. Corporation","Grey Global Group Inc.","Group 1 Automotive Inc.","Guidant Corporation","H&R Block Inc.","H.B. Fuller Company","H.J. Heinz Company","Halliburton Co.","Harley-Davidson Inc.","Harman International Industries Inc.","Harrah's Entertainment Inc.","Harris Corp.","Harsco Corp.","Hartford Financial Services Group Inc.","Hasbro Inc.","Hawaiian Electric Industries Inc.","HCA Inc.","Health Management Associates Inc.","Health Net Inc.","Healthsouth Corp","Henry Schein Inc.","Hercules Inc.","Herman Miller Inc.","Hershey Foods Corp.","Hewlett-Packard Company","Hibernia Corp.","Hillenbrand Industries Inc.","Hilton Hotels Corp.","Hollywood Entertainment Corp.","Home Depot Inc.","Hon Industries Inc.","Honeywell International Inc.","Hormel Foods Corp.","Host Marriott Corp.","Household International Corp.","Hovnanian Enterprises Inc.","Hub Group Inc.","Hubbell Inc.","Hughes Supply Inc.","Humana Inc.","Huntington Bancshares Inc.","Idacorp Inc.","IDT Corporation","IKON Office Solutions Inc.","Illinois Tool Works Inc.","IMC Global Inc.","Imperial Sugar Company","IMS Health Inc.","Ingles Market Inc","Ingram Micro Inc.","Insight Enterprises Inc.","Integrated Electrical Services Inc.","Intel Corporation","International Paper Co.","Interpublic Group of Companies Inc.","Interstate Bakeries Corporation","International Business Machines Corp.","International Flavors & Fragrances Inc.","International Multifoods Corporation","Intuit Inc.","IT Group Inc.","ITT Industries Inc.","Ivax Corp.","J.B. Hunt Transport Services Inc.","J.C. Penny Co.","J.P. Morgan Chase & Co.","Jabil Circuit Inc.","Jack In The Box Inc.","Jacobs Engineering Group Inc.","JDS Uniphase Corp.","Jefferson-Pilot Co.","John Hancock Financial Services Inc.","Johnson & Johnson","Johnson Controls Inc.","Jones Apparel Group Inc.","KB Home","Kellogg Company","Kellwood Company","Kelly Services Inc.","Kemet Corp.","Kennametal Inc.","Kerr-McGee Corporation","KeyCorp","KeySpan Corp.","Kimball International Inc.","Kimberly-Clark Corporation","Kindred Healthcare Inc.","KLA-Tencor Corporation","K-Mart Corp.","Knight-Ridder Inc.","Kohl's Corp.","KPMG Consulting Inc.","Kroger Co.","L-3 Communications Holdings Inc.","Laboratory Corporation of America Holdings","Lam Research Corporation","LandAmerica Financial Group Inc.","Lands' End Inc.","Landstar System Inc.","La-Z-Boy Inc.","Lear Corporation","Legg Mason Inc.","Leggett & Platt Inc.","Lehman Brothers Holdings Inc.","Lennar Corporation","Lennox International Inc.","Level 3 Communications Inc.","Levi Strauss & Co.","Lexmark International Inc.","Limited Inc.","Lincoln National Corporation","Linens 'n Things Inc.","Lithia Motors Inc.","Liz Claiborne Inc.","Lockheed Martin Corporation","Loews Corporation","Longs Drug Stores Corporation","Louisiana-Pacific Corporation","Lowe's Companies Inc.","LSI Logic Corporation","The LTV Corporation","The Lubrizol Corporation","Lucent Technologies Inc.","Lyondell Chemical Company","M & T Bank Corporation","Magellan Health Services Inc.","Mail-Well Inc.","Mandalay Resort Group","Manor Care Inc.","Manpower Inc.","Marathon Oil Corporation","Mariner Health Care Inc.","Markel Corporation","Marriott International Inc.","Marsh & McLennan Companies Inc.","Marsh Supermarkets Inc.","Marshall & Ilsley Corporation","Martin Marietta Materials Inc.","Masco Corporation","Massey Energy Company","MasTec Inc.","Mattel Inc.","Maxim Integrated Products Inc.","Maxtor Corporation","Maxxam Inc.","The May Department Stores Company","Maytag Corporation","MBNA Corporation","McCormick & Company Incorporated","McDonald's Corporation","The McGraw-Hill Companies Inc.","McKesson Corporation","McLeodUSA Incorporated","M.D.C. Holdings Inc.","MDU Resources Group Inc.","MeadWestvaco Corporation","Medtronic Inc.","Mellon Financial Corporation","The Men's Wearhouse Inc.","Merck & Co., Inc.","Mercury General Corporation","Merrill Lynch & Co. Inc.","Metaldyne Corporation","Metals USA Inc.","MetLife Inc.","Metris Companies Inc","MGIC Investment Corporation","MGM Mirage","Michaels Stores Inc.","Micron Technology Inc.","Microsoft Corporation","Milacron Inc.","Millennium Chemicals Inc.","Mirant Corporation","Mohawk Industries Inc.","Molex Incorporated","The MONY Group Inc.","Morgan Stanley Dean Witter & Co.","Motorola Inc.","MPS Group Inc.","Murphy Oil Corporation","Nabors Industries Inc","Nacco Industries Inc","Nash Finch Company","National City Corp.","National Commerce Financial Corporation","National Fuel Gas Company","National Oilwell Inc","National Rural Utilities Cooperative Finance Corporation","National Semiconductor Corporation","National Service Industries Inc","Navistar International Corporation","NCR Corporation","The Neiman Marcus Group Inc.","New Jersey Resources Corporation","New York Times Company","Newell Rubbermaid Inc","Newmont Mining Corporation","Nextel Communications Inc","Nicor Inc","Nike Inc","NiSource Inc","Noble Energy Inc","Nordstrom Inc","Norfolk Southern Corporation","Nortek Inc","North Fork Bancorporation Inc","Northeast Utilities System","Northern Trust Corporation","Northrop Grumman Corporation","NorthWestern Corporation","Novellus Systems Inc","NSTAR","NTL Incorporated","Nucor Corp","Nvidia Corp","NVR Inc","Northwest Airlines Corp","Occidental Petroleum Corp","Ocean Energy Inc","Office Depot Inc.","OfficeMax Inc","OGE Energy Corp","Oglethorpe Power Corp.","Ohio Casualty Corp.","Old Republic International Corp.","Olin Corp.","OM Group Inc","Omnicare Inc","Omnicom Group","On Semiconductor Corp","ONEOK Inc","Oracle Corp","Oshkosh Truck Corp","Outback Steakhouse Inc.","Owens & Minor Inc.","Owens Corning","Owens-Illinois Inc","Oxford Health Plans Inc","Paccar Inc","PacifiCare Health Systems Inc","Packaging Corp. of America","Pactiv Corp","Pall Corp","Pantry Inc","Park Place Entertainment Corp","Parker Hannifin Corp.","Pathmark Stores Inc.","Paychex Inc","Payless Shoesource Inc","Penn Traffic Co.","Pennzoil-Quaker State Company","Pentair Inc","Peoples Energy Corp.","PeopleSoft Inc","Pep Boys Manny, Moe & Jack","Potomac Electric Power Co.","Pepsi Bottling Group Inc.","PepsiAmericas Inc.","PepsiCo Inc.","Performance Food Group Co.","Perini Corp","PerkinElmer Inc","Perot Systems Corp","Petco Animal Supplies Inc.","Peter Kiewit Sons', Inc.","PETsMART Inc","Pfizer Inc","Pacific Gas & Electric Corp.","Pharmacia Corp","Phar Mor Inc.","Phelps Dodge Corp.","Philip Morris Companies Inc.","Phillips Petroleum Co","Phillips Van Heusen Corp.","Phoenix Companies Inc","Pier 1 Imports Inc.","Pilgrim's Pride Corporation","Pinnacle West Capital Corp","Pioneer-Standard Electronics Inc.","Pitney Bowes Inc.","Pittston Brinks Group","Plains All American Pipeline LP","PNC Financial Services Group Inc.","PNM Resources Inc","Polaris Industries Inc.","Polo Ralph Lauren Corp","PolyOne Corp","Popular Inc","Potlatch Corp","PPG Industries Inc","PPL Corp","Praxair Inc","Precision Castparts Corp","Premcor Inc.","Pride International Inc","Primedia Inc","Principal Financial Group Inc.","Procter & Gamble Co.","Pro-Fac Cooperative Inc.","Progress Energy Inc","Progressive Corporation","Protective Life Corp","Provident Financial Group","Providian Financial Corp.","Prudential Financial Inc.","PSS World Medical Inc","Public Service Enterprise Group Inc.","Publix Super Markets Inc.","Puget Energy Inc.","Pulte Homes Inc","Qualcomm Inc","Quanta Services Inc.","Quantum Corp","Quest Diagnostics Inc.","Questar Corp","Quintiles Transnational","Qwest Communications Intl Inc","R.J. Reynolds Tobacco Company","R.R. Donnelley & Sons Company","Radio Shack Corporation","Raymond James Financial Inc.","Raytheon Company","Reader's Digest Association Inc.","Reebok International Ltd.","Regions Financial Corp.","Regis Corporation","Reliance Steel & Aluminum Co.","Reliant Energy Inc.","Rent A Center Inc","Republic Services Inc","Revlon Inc","RGS Energy Group Inc","Rite Aid Corp","Riverwood Holding Inc.","RoadwayCorp","Robert Half International Inc.","Rock-Tenn Co","Rockwell Automation Inc","Rockwell Collins Inc","Rohm & Haas Co.","Ross Stores Inc","RPM Inc.","Ruddick Corp","Ryder System Inc","Ryerson Tull Inc","Ryland Group Inc.","Sabre Holdings Corp","Safeco Corp","Safeguard Scientifics Inc.","Safeway Inc","Saks Inc","Sanmina-SCI Inc","Sara Lee Corp","SBC Communications Inc","Scana Corp.","Schering-Plough Corp","Scholastic Corp","SCI Systems Onc.","Science Applications Intl. Inc.","Scientific-Atlanta Inc","Scotts Company","Seaboard Corp","Sealed Air Corp","Sears Roebuck & Co","Sempra Energy","Sequa Corp","Service Corp. International","ServiceMaster Co","Shaw Group Inc","Sherwin-Williams Company","Shopko Stores Inc","Siebel Systems Inc","Sierra Health Services Inc","Sierra Pacific Resources","Silgan Holdings Inc.","Silicon Graphics Inc","Simon Property Group Inc","SLM Corporation","Smith International Inc","Smithfield Foods Inc","Smurfit-Stone Container Corp","Snap-On Inc","Solectron Corp","Solutia Inc","Sonic Automotive Inc.","Sonoco Products Co.","Southern Company","Southern Union Company","SouthTrust Corp.","Southwest Airlines Co","Southwest Gas Corp","Sovereign Bancorp Inc.","Spartan Stores Inc","Spherion Corp","Sports Authority Inc","Sprint Corp.","SPX Corp","St. Jude Medical Inc","St. Paul Cos.","Staff Leasing Inc.","StanCorp Financial Group Inc","Standard Pacific Corp.","Stanley Works","Staples Inc","Starbucks Corp","Starwood Hotels & Resorts Worldwide Inc","State Street Corp.","Stater Bros. Holdings Inc.","Steelcase Inc","Stein Mart Inc","Stewart & Stevenson Services Inc","Stewart Information Services Corp","Stilwell Financial Inc","Storage Technology Corporation","Stryker Corp","Sun Healthcare Group Inc.","Sun Microsystems Inc.","SunGard Data Systems Inc.","Sunoco Inc.","SunTrust Banks Inc","Supervalu Inc","Swift Transportation, Co., Inc","Symbol Technologies Inc","Synovus Financial Corp.","Sysco Corp","Systemax Inc.","Target Corp.","Tech Data Corporation","TECO Energy Inc","Tecumseh Products Company","Tektronix Inc","Teleflex Incorporated","Telephone & Data Systems Inc","Tellabs Inc.","Temple-Inland Inc","Tenet Healthcare Corporation","Tenneco Automotive Inc.","Teradyne Inc","Terex Corp","Tesoro Petroleum Corp.","Texas Industries Inc.","Texas Instruments Incorporated","Textron Inc","Thermo Electron Corporation","Thomas & Betts Corporation","Tiffany & Co","Timken Company","TJX Companies Inc","TMP Worldwide Inc","Toll Brothers Inc","Torchmark Corporation","Toro Company","Tower Automotive Inc.","Toys 'R' Us Inc","Trans World Entertainment Corp.","TransMontaigne Inc","Transocean Inc","TravelCenters of America Inc.","Triad Hospitals Inc","Tribune Company","Trigon Healthcare Inc.","Trinity Industries Inc","Trump Hotels & Casino Resorts Inc.","TruServ Corporation","TRW Inc","TXU Corp","Tyson Foods Inc","U.S. Bancorp","U.S. Industries Inc.","UAL Corporation","UGI Corporation","Unified Western Grocers Inc","Union Pacific Corporation","Union Planters Corp","Unisource Energy Corp","Unisys Corporation","United Auto Group Inc","United Defense Industries Inc.","United Parcel Service Inc","United Rentals Inc","United Stationers Inc","United Technologies Corporation","UnitedHealth Group Incorporated","Unitrin Inc","Universal Corporation","Universal Forest Products Inc","Universal Health Services Inc","Unocal Corporation","Unova Inc","UnumProvident Corporation","URS Corporation","US Airways Group Inc","US Oncology Inc","USA Interactive","USFreighways Corporation","USG Corporation","UST Inc","Valero Energy Corporation","Valspar Corporation","Value City Department Stores Inc","Varco International Inc","Vectren Corporation","Veritas Software Corporation","Verizon Communications Inc","VF Corporation","Viacom Inc","Viad Corp","Viasystems Group Inc","Vishay Intertechnology Inc","Visteon Corporation","Volt Information Sciences Inc","Vulcan Materials Company","W.R. Berkley Corporation","W.R. Grace & Co","W.W. Grainger Inc","Wachovia Corporation","Wakenhut Corporation","Walgreen Co","Wallace Computer Services Inc","Wal-Mart Stores Inc","Walt Disney Co","Walter Industries Inc","Washington Mutual Inc","Washington Post Co.","Waste Management Inc","Watsco Inc","Weatherford International Inc","Weis Markets Inc.","Wellpoint Health Networks Inc","Wells Fargo & Company","Wendy's International Inc","Werner Enterprises Inc","WESCO International Inc","Western Digital Inc","Western Gas Resources Inc","WestPoint Stevens Inc","Weyerhauser Company","WGL Holdings Inc","Whirlpool Corporation","Whole Foods Market Inc","Willamette Industries Inc.","Williams Companies Inc","Williams Sonoma Inc","Winn Dixie Stores Inc","Wisconsin Energy Corporation","Wm Wrigley Jr Company","World Fuel Services Corporation","WorldCom Inc","Worthington Industries Inc","WPS Resources Corporation","Wyeth","Wyndham International Inc","Xcel Energy Inc","Xerox Corp","Xilinx Inc","XO Communications Inc","Yellow Corporation","York International Corp","Yum Brands Inc.","Zale Corporation","Zions Bancorporation"],fileExtension:{raster:["bmp","gif","gpl","ico","jpeg","psd","png","psp","raw","tiff"],vector:["3dv","amf","awg","ai","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","odg","svg","xar"],"3d":["3dmf","3dm","3mf","3ds","an8","aoi","blend","cal3d","cob","ctm","iob","jas","max","mb","mdx","obj","x","x3d"],document:["doc","docx","dot","html","xml","odt","odm","ott","csv","rtf","tex","xhtml","xps"]},timezones:[{name:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{name:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{name:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{name:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{name:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{name:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse"]},{name:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{name:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{name:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{name:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{name:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{name:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{name:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{name:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{name:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{name:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{name:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{name:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{name:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{name:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{name:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{name:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{name:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{name:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{name:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{name:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{name:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{name:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{name:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{name:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{name:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{name:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{name:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{name:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{name:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{name:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{name:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{name:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{name:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{name:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{name:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{name:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{name:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{name:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{name:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{name:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{name:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{name:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{name:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{name:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{name:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{name:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{name:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{name:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{name:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{name:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{name:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{name:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{name:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{name:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{name:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{name:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{name:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{name:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{name:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{name:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{name:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{name:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{name:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{name:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{name:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{name:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{name:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{name:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{name:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{name:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{name:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{name:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{name:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{name:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{name:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{name:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{name:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{name:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{name:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{name:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{name:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{name:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{name:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{name:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{name:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{name:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{name:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{name:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{name:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{name:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{name:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{name:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{name:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{name:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{name:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{name:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{name:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{name:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{name:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{name:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}],profession:["Airline Pilot","Academic Team","Accountant","Account Executive","Actor","Actuary","Acquisition Analyst","Administrative Asst.","Administrative Analyst","Administrator","Advertising Director","Aerospace Engineer","Agent","Agricultural Inspector","Agricultural Scientist","Air Traffic Controller","Animal Trainer","Anthropologist","Appraiser","Architect","Art Director","Artist","Astronomer","Athletic Coach","Auditor","Author","Baker","Banker","Bankruptcy Attorney","Benefits Manager","Biologist","Bio-feedback Specialist","Biomedical Engineer","Biotechnical Researcher","Broadcaster","Broker","Building Manager","Building Contractor","Building Inspector","Business Analyst","Business Planner","Business Manager","Buyer","Call Center Manager","Career Counselor","Cash Manager","Ceramic Engineer","Chief Executive Officer","Chief Operation Officer","Chef","Chemical Engineer","Chemist","Child Care Manager","Chief Medical Officer","Chiropractor","Cinematographer","City Housing Manager","City Manager","Civil Engineer","Claims Manager","Clinical Research Assistant","Collections Manager","Compliance Manager","Comptroller","Computer Manager","Commercial Artist","Communications Affairs Director","Communications Director","Communications Engineer","Compensation Analyst","Computer Programmer","Computer Ops. Manager","Computer Engineer","Computer Operator","Computer Graphics Specialist","Construction Engineer","Construction Manager","Consultant","Consumer Relations Manager","Contract Administrator","Copyright Attorney","Copywriter","Corporate Planner","Corrections Officer","Cosmetologist","Credit Analyst","Cruise Director","Chief Information Officer","Chief Technology Officer","Customer Service Manager","Cryptologist","Dancer","Data Security Manager","Database Manager","Day Care Instructor","Dentist","Designer","Design Engineer","Desktop Publisher","Developer","Development Officer","Diamond Merchant","Dietitian","Direct Marketer","Director","Distribution Manager","Diversity Manager","Economist","EEO Compliance Manager","Editor","Education Adminator","Electrical Engineer","Electro Optical Engineer","Electronics Engineer","Embassy Management","Employment Agent","Engineer Technician","Entrepreneur","Environmental Analyst","Environmental Attorney","Environmental Engineer","Environmental Specialist","Escrow Officer","Estimator","Executive Assistant","Executive Director","Executive Recruiter","Facilities Manager","Family Counselor","Fashion Events Manager","Fashion Merchandiser","Fast Food Manager","Film Producer","Film Production Assistant","Financial Analyst","Financial Planner","Financier","Fine Artist","Wildlife Specialist","Fitness Consultant","Flight Attendant","Flight Engineer","Floral Designer","Food & Beverage Director","Food Service Manager","Forestry Technician","Franchise Management","Franchise Sales","Fraud Investigator","Freelance Writer","Fund Raiser","General Manager","Geologist","General Counsel","Geriatric Specialist","Gerontologist","Glamour Photographer","Golf Club Manager","Gourmet Chef","Graphic Designer","Grounds Keeper","Hazardous Waste Manager","Health Care Manager","Health Therapist","Health Service Administrator","Hearing Officer","Home Economist","Horticulturist","Hospital Administrator","Hotel Manager","Human Resources Manager","Importer","Industrial Designer","Industrial Engineer","Information Director","Inside Sales","Insurance Adjuster","Interior Decorator","Internal Controls Director","International Acct.","International Courier","International Lawyer","Interpreter","Investigator","Investment Banker","Investment Manager","IT Architect","IT Project Manager","IT Systems Analyst","Jeweler","Joint Venture Manager","Journalist","Labor Negotiator","Labor Organizer","Labor Relations Manager","Lab Services Director","Lab Technician","Land Developer","Landscape Architect","Law Enforcement Officer","Lawyer","Lead Software Engineer","Lead Software Test Engineer","Leasing Manager","Legal Secretary","Library Manager","Litigation Attorney","Loan Officer","Lobbyist","Logistics Manager","Maintenance Manager","Management Consultant","Managed Care Director","Managing Partner","Manufacturing Director","Manpower Planner","Marine Biologist","Market Res. Analyst","Marketing Director","Materials Manager","Mathematician","Membership Chairman","Mechanic","Mechanical Engineer","Media Buyer","Medical Investor","Medical Secretary","Medical Technician","Mental Health Counselor","Merchandiser","Metallurgical Engineering","Meteorologist","Microbiologist","MIS Manager","Motion Picture Director","Multimedia Director","Musician","Network Administrator","Network Specialist","Network Operator","New Product Manager","Novelist","Nuclear Engineer","Nuclear Specialist","Nutritionist","Nursing Administrator","Occupational Therapist","Oceanographer","Office Manager","Operations Manager","Operations Research Director","Optical Technician","Optometrist","Organizational Development Manager","Outplacement Specialist","Paralegal","Park Ranger","Patent Attorney","Payroll Specialist","Personnel Specialist","Petroleum Engineer","Pharmacist","Photographer","Physical Therapist","Physician","Physician Assistant","Physicist","Planning Director","Podiatrist","Political Analyst","Political Scientist","Politician","Portfolio Manager","Preschool Management","Preschool Teacher","Principal","Private Banker","Private Investigator","Probation Officer","Process Engineer","Producer","Product Manager","Product Engineer","Production Engineer","Production Planner","Professional Athlete","Professional Coach","Professor","Project Engineer","Project Manager","Program Manager","Property Manager","Public Administrator","Public Safety Director","PR Specialist","Publisher","Purchasing Agent","Publishing Director","Quality Assurance Specialist","Quality Control Engineer","Quality Control Inspector","Radiology Manager","Railroad Engineer","Real Estate Broker","Recreational Director","Recruiter","Redevelopment Specialist","Regulatory Affairs Manager","Registered Nurse","Rehabilitation Counselor","Relocation Manager","Reporter","Research Specialist","Restaurant Manager","Retail Store Manager","Risk Analyst","Safety Engineer","Sales Engineer","Sales Trainer","Sales Promotion Manager","Sales Representative","Sales Manager","Service Manager","Sanitation Engineer","Scientific Programmer","Scientific Writer","Securities Analyst","Security Consultant","Security Director","Seminar Presenter","Ship's Officer","Singer","Social Director","Social Program Planner","Social Research","Social Scientist","Social Worker","Sociologist","Software Developer","Software Engineer","Software Test Engineer","Soil Scientist","Special Events Manager","Special Education Teacher","Special Projects Director","Speech Pathologist","Speech Writer","Sports Event Manager","Statistician","Store Manager","Strategic Alliance Director","Strategic Planning Director","Stress Reduction Specialist","Stockbroker","Surveyor","Structural Engineer","Superintendent","Supply Chain Director","System Engineer","Systems Analyst","Systems Programmer","System Administrator","Tax Specialist","Teacher","Technical Support Specialist","Technical Illustrator","Technical Writer","Technology Director","Telecom Analyst","Telemarketer","Theatrical Director","Title Examiner","Tour Escort","Tour Guide Director","Traffic Manager","Trainer Translator","Transportation Manager","Travel Agent","Treasurer","TV Programmer","Underwriter","Union Representative","University Administrator","University Dean","Urban Planner","Veterinarian","Vendor Relations Director","Viticulturist","Warehouse Manager"],animals:{ocean:["Acantharea","Anemone","Angelfish King","Ahi Tuna","Albacore","American Oyster","Anchovy","Armored Snail","Arctic Char","Atlantic Bluefin Tuna","Atlantic Cod","Atlantic Goliath Grouper","Atlantic Trumpetfish","Atlantic Wolffish","Baleen Whale","Banded Butterflyfish","Banded Coral Shrimp","Banded Sea Krait","Barnacle","Barndoor Skate","Barracuda","Basking Shark","Bass","Beluga Whale","Bluebanded Goby","Bluehead Wrasse","Bluefish","Bluestreak Cleaner-Wrasse","Blue Marlin","Blue Shark","Blue Spiny Lobster","Blue Tang","Blue Whale","Broadclub Cuttlefish","Bull Shark","Chambered Nautilus","Chilean Basket Star","Chilean Jack Mackerel","Chinook Salmon","Christmas Tree Worm","Clam","Clown Anemonefish","Clown Triggerfish","Cod","Coelacanth","Cockscomb Cup Coral","Common Fangtooth","Conch","Cookiecutter Shark","Copepod","Coral","Corydoras","Cownose Ray","Crab","Crown-of-Thorns Starfish","Cushion Star","Cuttlefish","California Sea Otters","Dolphin","Dolphinfish","Dory","Devil Fish","Dugong","Dumbo Octopus","Dungeness Crab","Eccentric Sand Dollar","Edible Sea Cucumber","Eel","Elephant Seal","Elkhorn Coral","Emperor Shrimp","Estuarine Crocodile","Fathead Sculpin","Fiddler Crab","Fin Whale","Flameback","Flamingo Tongue Snail","Flashlight Fish","Flatback Turtle","Flatfish","Flying Fish","Flounder","Fluke","French Angelfish","Frilled Shark","Fugu (also called Pufferfish)","Gar","Geoduck","Giant Barrel Sponge","Giant Caribbean Sea Anemone","Giant Clam","Giant Isopod","Giant Kingfish","Giant Oarfish","Giant Pacific Octopus","Giant Pyrosome","Giant Sea Star","Giant Squid","Glowing Sucker Octopus","Giant Tube Worm","Goblin Shark","Goosefish","Great White Shark","Greenland Shark","Grey Atlantic Seal","Grouper","Grunion","Guineafowl Puffer","Haddock","Hake","Halibut","Hammerhead Shark","Hapuka","Harbor Porpoise","Harbor Seal","Hatchetfish","Hawaiian Monk Seal","Hawksbill Turtle","Hector's Dolphin","Hermit Crab","Herring","Hoki","Horn Shark","Horseshoe Crab","Humpback Anglerfish","Humpback Whale","Icefish","Imperator Angelfish","Irukandji Jellyfish","Isopod","Ivory Bush Coral","Japanese Spider Crab","Jellyfish","John Dory","Juan Fernandez Fur Seal","Killer Whale","Kiwa Hirsuta","Krill","Lagoon Triggerfish","Lamprey","Leafy Seadragon","Leopard Seal","Limpet","Ling","Lionfish","Lions Mane Jellyfish","Lobe Coral","Lobster","Loggerhead Turtle","Longnose Sawshark","Longsnout Seahorse","Lophelia Coral","Marrus Orthocanna","Manatee","Manta Ray","Marlin","Megamouth Shark","Mexican Lookdown","Mimic Octopus","Moon Jelly","Mollusk","Monkfish","Moray Eel","Mullet","Mussel","Megaladon","Napoleon Wrasse","Nassau Grouper","Narwhal","Nautilus","Needlefish","Northern Seahorse","North Atlantic Right Whale","Northern Red Snapper","Norway Lobster","Nudibranch","Nurse Shark","Oarfish","Ocean Sunfish","Oceanic Whitetip Shark","Octopus","Olive Sea Snake","Orange Roughy","Ostracod","Otter","Oyster","Pacific Angelshark","Pacific Blackdragon","Pacific Halibut","Pacific Sardine","Pacific Sea Nettle Jellyfish","Pacific White Sided Dolphin","Pantropical Spotted Dolphin","Patagonian Toothfish","Peacock Mantis Shrimp","Pelagic Thresher Shark","Penguin","Peruvian Anchoveta","Pilchard","Pink Salmon","Pinniped","Plankton","Porpoise","Polar Bear","Portuguese Man o' War","Pycnogonid Sea Spider","Quahog","Queen Angelfish","Queen Conch","Queen Parrotfish","Queensland Grouper","Ragfish","Ratfish","Rattail Fish","Ray","Red Drum","Red King Crab","Ringed Seal","Risso's Dolphin","Ross Seals","Sablefish","Salmon","Sand Dollar","Sandbar Shark","Sawfish","Sarcastic Fringehead","Scalloped Hammerhead Shark","Seahorse","Sea Cucumber","Sea Lion","Sea Urchin","Seal","Shark","Shortfin Mako Shark","Shovelnose Guitarfish","Shrimp","Silverside Fish","Skipjack Tuna","Slender Snipe Eel","Smalltooth Sawfish","Smelts","Sockeye Salmon","Southern Stingray","Sponge","Spotted Porcupinefish","Spotted Dolphin","Spotted Eagle Ray","Spotted Moray","Squid","Squidworm","Starfish","Stickleback","Stonefish","Stoplight Loosejaw","Sturgeon","Swordfish","Tan Bristlemouth","Tasseled Wobbegong","Terrible Claw Lobster","Threespot Damselfish","Tiger Prawn","Tiger Shark","Tilefish","Toadfish","Tropical Two-Wing Flyfish","Tuna","Umbrella Squid","Velvet Crab","Venus Flytrap Sea Anemone","Vigtorniella Worm","Viperfish","Vampire Squid","Vaquita","Wahoo","Walrus","West Indian Manatee","Whale","Whale Shark","Whiptail Gulper","White-Beaked Dolphin","White-Ring Garden Eel","White Shrimp","Wobbegong","Wrasse","Wreckfish","Xiphosura","Yellowtail Damselfish","Yelloweye Rockfish","Yellow Cup Black Coral","Yellow Tube Sponge","Yellowfin Tuna","Zebrashark","Zooplankton"],desert:["Aardwolf","Addax","African Wild Ass","Ant","Antelope","Armadillo","Baboon","Badger","Bat","Bearded Dragon","Beetle","Bird","Black-footed Cat","Boa","Brown Bear","Bustard","Butterfly","Camel","Caracal","Caracara","Caterpillar","Centipede","Cheetah","Chipmunk","Chuckwalla","Climbing Mouse","Coati","Cobra","Cotton Rat","Cougar","Courser","Crane Fly","Crow","Dassie Rat","Dove","Dunnart","Eagle","Echidna","Elephant","Emu","Falcon","Fly","Fox","Frogmouth","Gecko","Geoffroy's Cat","Gerbil","Grasshopper","Guanaco","Gundi","Hamster","Hawk","Hedgehog","Hyena","Hyrax","Jackal","Kangaroo","Kangaroo Rat","Kestrel","Kowari","Kultarr","Leopard","Lion","Macaw","Meerkat","Mouse","Oryx","Ostrich","Owl","Pronghorn","Python","Rabbit","Raccoon","Rattlesnake","Rhinoceros","Sand Cat","Spectacled Bear","Spiny Mouse","Starling","Stick Bug","Tarantula","Tit","Toad","Tortoise","Tyrant Flycatcher","Viper","Vulture","Waxwing","Xerus","Zebra"],grassland:["Aardvark","Aardwolf","Accentor","African Buffalo","African Wild Dog","Alpaca","Anaconda","Ant","Anteater","Antelope","Armadillo","Baboon","Badger","Bandicoot","Barbet","Bat","Bee","Bee-eater","Beetle","Bird","Bison","Black-footed Cat","Black-footed Ferret","Bluebird","Boa","Bowerbird","Brown Bear","Bush Dog","Bushshrike","Bustard","Butterfly","Buzzard","Caracal","Caracara","Cardinal","Caterpillar","Cheetah","Chipmunk","Civet","Climbing Mouse","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Common Genet","Cotton Rat","Cougar","Courser","Coyote","Crane","Crane Fly","Cricket","Crow","Culpeo","Death Adder","Deer","Deer Mouse","Dingo","Dinosaur","Dove","Drongo","Duck","Duiker","Dunnart","Eagle","Echidna","Elephant","Elk","Emu","Falcon","Finch","Flea","Fly","Flying Frog","Fox","Frog","Frogmouth","Garter Snake","Gazelle","Gecko","Geoffroy's Cat","Gerbil","Giant Tortoise","Giraffe","Grasshopper","Grison","Groundhog","Grouse","Guanaco","Guinea Pig","Hamster","Harrier","Hartebeest","Hawk","Hedgehog","Helmetshrike","Hippopotamus","Hornbill","Hyena","Hyrax","Impala","Jackal","Jaguar","Jaguarundi","Kangaroo","Kangaroo Rat","Kestrel","Kultarr","Ladybug","Leopard","Lion","Macaw","Meerkat","Mouse","Newt","Oryx","Ostrich","Owl","Pangolin","Pheasant","Prairie Dog","Pronghorn","Przewalski's Horse","Python","Quoll","Rabbit","Raven","Rhinoceros","Shelduck","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Tamandua","Tasmanian Devil","Thornbill","Thrush","Toad","Tortoise"],forest:["Agouti","Anaconda","Anoa","Ant","Anteater","Antelope","Armadillo","Asian Black Bear","Aye-aye","Babirusa","Baboon","Badger","Bandicoot","Banteng","Barbet","Basilisk","Bat","Bearded Dragon","Bee","Bee-eater","Beetle","Bettong","Binturong","Bird-of-paradise","Bongo","Bowerbird","Bulbul","Bush Dog","Bushbaby","Bushshrike","Butterfly","Buzzard","Caecilian","Cardinal","Cassowary","Caterpillar","Centipede","Chameleon","Chimpanzee","Cicada","Civet","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Colugo","Cotinga","Cotton Rat","Cougar","Crane Fly","Cricket","Crocodile","Crow","Cuckoo","Cuscus","Death Adder","Deer","Dhole","Dingo","Dinosaur","Drongo","Duck","Duiker","Eagle","Echidna","Elephant","Finch","Flat-headed Cat","Flea","Flowerpecker","Fly","Flying Frog","Fossa","Frog","Frogmouth","Gaur","Gecko","Gorilla","Grison","Hawaiian Honeycreeper","Hawk","Hedgehog","Helmetshrike","Hornbill","Hyrax","Iguana","Jackal","Jaguar","Jaguarundi","Kestrel","Ladybug","Lemur","Leopard","Lion","Macaw","Mandrill","Margay","Monkey","Mouse","Mouse Deer","Newt","Okapi","Old World Flycatcher","Orangutan","Owl","Pangolin","Peafowl","Pheasant","Possum","Python","Quokka","Rabbit","Raccoon","Red Panda","Red River Hog","Rhinoceros","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Sun Bear","Tamandua","Tamarin","Tapir","Tarantula","Thrush","Tiger","Tit","Toad","Tortoise","Toucan","Trogon","Trumpeter","Turaco","Turtle","Tyrant Flycatcher","Viper","Vulture","Wallaby","Warbler","Wasp","Waxwing","Weaver","Weaver-finch","Whistler","White-eye","Whydah","Woodswallow","Worm","Wren","Xenops","Yellowjacket","Accentor","African Buffalo","American Black Bear","Anole","Bird","Bison","Boa","Brown Bear","Chipmunk","Common Genet","Copperhead","Coyote","Deer Mouse","Dormouse","Elk","Emu","Fisher","Fox","Garter Snake","Giant Panda","Giant Tortoise","Groundhog","Grouse","Guanaco","Himalayan Tahr","Kangaroo","Koala","Numbat","Quoll","Raccoon dog","Tasmanian Devil","Thornbill","Turkey","Vole","Weasel","Wildcat","Wolf","Wombat","Woodchuck","Woodpecker"],farm:["Alpaca","Buffalo","Banteng","Cow","Cat","Chicken","Carp","Camel","Donkey","Dog","Duck","Emu","Goat","Gayal","Guinea","Goose","Horse","Honey","Llama","Pig","Pigeon","Rhea","Rabbit","Sheep","Silkworm","Turkey","Yak","Zebu"],pet:["Bearded Dragon","Birds","Burro","Cats","Chameleons","Chickens","Chinchillas","Chinese Water Dragon","Cows","Dogs","Donkey","Ducks","Ferrets","Fish","Geckos","Geese","Gerbils","Goats","Guinea Fowl","Guinea Pigs","Hamsters","Hedgehogs","Horses","Iguanas","Llamas","Lizards","Mice","Mule","Peafowl","Pigs and Hogs","Pigeons","Ponies","Pot Bellied Pig","Rabbits","Rats","Sheep","Skinks","Snakes","Stick Insects","Sugar Gliders","Tarantula","Turkeys","Turtles"],zoo:["Aardvark","African Wild Dog","Aldabra Tortoise","American Alligator","American Bison","Amur Tiger","Anaconda","Andean Condor","Asian Elephant","Baby Doll Sheep","Bald Eagle","Barred Owl","Blue Iguana","Boer Goat","California Sea Lion","Caribbean Flamingo","Chinchilla","Collared Lemur","Coquerel's Sifaka","Cuban Amazon Parrot","Ebony Langur","Fennec Fox","Fossa","Gelada","Giant Anteater","Giraffe","Gorilla","Grizzly Bear","Henkel's Leaf-tailed Gecko","Indian Gharial","Indian Rhinoceros","King Cobra","King Vulture","Komodo Dragon","Linne's Two-toed Sloth","Lion","Little Penguin","Madagascar Tree Boa","Magellanic Penguin","Malayan Tapir","Malayan Tiger","Matschies Tree Kangaroo","Mini Donkey","Monarch Butterfly","Nile crocodile","North American Porcupine","Nubian Ibex","Okapi","Poison Dart Frog","Polar Bear","Pygmy Marmoset","Radiated Tortoise","Red Panda","Red Ruffed Lemur","Ring-tailed Lemur","Ring-tailed Mongoose","Rock Hyrax","Small Clawed Asian Otter","Snow Leopard","Snowy Owl","Southern White-faced Owl","Southern White Rhinocerous","Squirrel Monkey","Tufted Puffin","White Cheeked Gibbon","White-throated Bee Eater","Zebra"]},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919,7927,7933,7937,7949,7951,7963,7993,8009,8011,8017,8039,8053,8059,8069,8081,8087,8089,8093,8101,8111,8117,8123,8147,8161,8167,8171,8179,8191,8209,8219,8221,8231,8233,8237,8243,8263,8269,8273,8287,8291,8293,8297,8311,8317,8329,8353,8363,8369,8377,8387,8389,8419,8423,8429,8431,8443,8447,8461,8467,8501,8513,8521,8527,8537,8539,8543,8563,8573,8581,8597,8599,8609,8623,8627,8629,8641,8647,8663,8669,8677,8681,8689,8693,8699,8707,8713,8719,8731,8737,8741,8747,8753,8761,8779,8783,8803,8807,8819,8821,8831,8837,8839,8849,8861,8863,8867,8887,8893,8923,8929,8933,8941,8951,8963,8969,8971,8999,9001,9007,9011,9013,9029,9041,9043,9049,9059,9067,9091,9103,9109,9127,9133,9137,9151,9157,9161,9173,9181,9187,9199,9203,9209,9221,9227,9239,9241,9257,9277,9281,9283,9293,9311,9319,9323,9337,9341,9343,9349,9371,9377,9391,9397,9403,9413,9419,9421,9431,9433,9437,9439,9461,9463,9467,9473,9479,9491,9497,9511,9521,9533,9539,9547,9551,9587,9601,9613,9619,9623,9629,9631,9643,9649,9661,9677,9679,9689,9697,9719,9721,9733,9739,9743,9749,9767,9769,9781,9787,9791,9803,9811,9817,9829,9833,9839,9851,9857,9859,9871,9883,9887,9901,9907,9923,9929,9931,9941,9949,9967,9973,10007],emotions:["love","joy","surprise","anger","sadness","fear"],music_genres:{general:["Rock","Pop","Hip-Hop","Jazz","Classical","Electronic","Country","R&B","Reggae","Blues","Metal","Folk","Alternative","Punk","Disco","Funk","Techno","Indie","Gospel","Dance","Children's","World"],alternative:["Art Punk","Alternative Rock","Britpunk","College Rock","Crossover Thrash","Crust Punk","Emo / Emocore","Experimental Rock","Folk Punk","Goth / Gothic Rock","Grunge","Hardcore Punk","Hard Rock","Indie Rock","Lo-fi","Musique Concrte","New Wave","Progressive Rock","Punk","Shoegaze","Steampunk"],blues:["Acoustic Blues","African Blues","Blues Rock","Blues Shouter","British Blues","Canadian Blues","Chicago Blues","Classic Blues","Classic Female Blues","Contemporary Blues","Country Blues","Dark Blues","Delta Blues","Detroit Blues","Doom Blues","Electric Blues","Folk Blues","Gospel Blues","Harmonica Blues","Hill Country Blues","Hokum Blues","Jazz Blues","Jump Blues","Kansas City Blues","Louisiana Blues","Memphis Blues","Modern Blues","New Orlean Blues","NY Blues","Piano Blues","Piedmont Blues","Punk Blues","Ragtime Blues","Rhythm Blues","Soul Blues","St.Louis Blues","Soul Blues","Swamp Blues","Texas Blues","Urban Blues","Vandeville","West Coast Blues"],"children's":["Lullabies","Sing - Along","Stories"],classical:["Avant-Garde","Ballet","Baroque","Cantata","Chamber Music","String Quartet","Chant","Choral","Classical Crossover","Concerto","Concerto Grosso","Contemporary Classical","Early Music","Expressionist","High Classical","Impressionist","Mass Requiem","Medieval","Minimalism","Modern Composition","Modern Classical","Opera","Oratorio","Orchestral","Organum","Renaissance","Romantic (early period)","Romantic (later period)","Sonata","Symphonic","Symphony","Twelve-tone","Wedding Music"],country:["Alternative Country","Americana","Australian Country","Bakersfield Sound","Bluegrass","Blues Country","Cajun Fiddle Tunes","Christian Country","Classic Country","Close Harmony","Contemporary Bluegrass","Contemporary Country","Country Gospel","Country Pop","Country Rap","Country Rock","Country Soul","Cowboy / Western","Cowpunk","Dansband","Honky Tonk","Franco-Country","Gulf and Western","Hellbilly Music","Honky Tonk","Instrumental Country","Lubbock Sound","Nashville Sound","Neotraditional Country","Outlaw Country","Progressive","Psychobilly / Punkabilly","Red Dirt","Sertanejo","Texas County","Traditional Bluegrass","Traditional Country","Truck-Driving Country","Urban Cowboy","Western Swing"],dance:["Club / Club Dance","Breakcore","Breakbeat / Breakstep","Chillstep","Deep House","Dubstep","Dancehall","Electro House","Electroswing","Exercise","Future Garage","Garage","Glitch Hop","Glitch Pop","Grime","Hardcore","Hard Dance","Hi-NRG / Eurodance","Horrorcore","House","Jackin House","Jungle / Drum n bass","Liquid Dub","Regstep","Speedcore","Techno","Trance","Trap"],electronic:["2-Step","8bit","Ambient","Asian Underground","Bassline","Chillwave","Chiptune","Crunk","Downtempo","Drum & Bass","Hard Step","Electro","Electro-swing","Electroacoustic","Electronica","Electronic Rock","Eurodance","Hardstyle","Hi-Nrg","IDM/Experimental","Industrial","Trip Hop","Vaporwave","UK Garage","House","Dubstep","Deep House","EDM","Future Bass","Psychedelic trance"],jazz:["Acid Jazz","Afro-Cuban Jazz","Avant-Garde Jazz","Bebop","Big Band","Blue Note","British Dance Band (Jazz)","Cape Jazz","Chamber Jazz","Contemporary Jazz","Continental Jazz","Cool Jazz","Crossover Jazz","Dark Jazz","Dixieland","Early Jazz","Electro Swing (Jazz)","Ethio-jazz","Ethno-Jazz","European Free Jazz","Free Funk (Avant-Garde / Funk Jazz)","Free Jazz","Fusion","Gypsy Jazz","Hard Bop","Indo Jazz","Jazz Blues","Jazz-Funk (see Free Funk)","Jazz-Fusion","Jazz Rap","Jazz Rock","Kansas City Jazz","Latin Jazz","M-Base Jazz","Mainstream Jazz","Modal Jazz","Neo-Bop","Neo-Swing","Nu Jazz","Orchestral Jazz","Post-Bop","Punk Jazz","Ragtime","Ska Jazz","Skiffle (also Folk)","Smooth Jazz","Soul Jazz","Swing Jazz","Straight-Ahead Jazz","Trad Jazz","Third Stream","Jazz-Funk","Free Jazz","West Coast Jazz"],metal:["Heavy Metal","Speed Metal","Thrash Metal","Power Metal","Death Metal","Black Metal","Pagan Metal","Viking Metal","Folk Metal","Symphonic Metal","Gothic Metal","Glam Metal","Hair Metal","Doom Metal","Groove Metal","Industrial Metal","Modern Metal","Neoclassical Metal","New Wave Of British Heavy Metal","Post Metal","Progressive Metal","Avantgarde Metal","Sludge","Djent","Drone","Kawaii Metal","Pirate Metal","Nu Metal","Neue Deutsche Hrte","Math Metal","Crossover","Grindcore","Hardcore","Metalcore","Deathcore","Post Hardcore","Mathcore"],folk:["American Folk Revival","Anti - Folk","British Folk Revival","Contemporary Folk","Filk Music","Freak Folk","Indie Folk","Industrial Folk","Neofolk","Progressive Folk","Psychedelic Folk","Sung Poetry","Techno - Folk","Folk Rock","Old-time Music","Bluegrass","Appalachian","Roots Revival","Celtic","Indie Folk"],pop:["Adult Contemporary","Arab Pop","Baroque","Britpop","Bubblegum Pop","Chamber Pop","Chanson","Christian Pop","Classical Crossover","Europop","Austropop","Balkan Pop","French Pop","Korean Pop","Japanese Pop","Chinese Pop","Latin Pop","Lak","Nederpop","Russian Pop","Dance Pop","Dream Pop","Electro Pop","Iranian Pop","Jangle Pop","Latin Ballad","Levenslied","Louisiana Swamp Pop","Mexican Pop","Motorpop","New Romanticism","Orchestral Pop","Pop Rap","Popera","Pop / Rock","Pop Punk","Power Pop","Psychedelic Pop","Russian Pop","Schlager","Soft Rock","Sophisti - Pop","Space Age Pop","Sunshine Pop","Surf Pop","Synthpop","Teen Pop","Traditional Pop Music","Turkish Pop","Vispop","Wonky Pop"],"r&b":["(Carolina) Beach Music","Contemporary R & B","Disco","Doo Wop","Funk","Modern Soul","Motown","Neo - Soul","Northern Soul","Psychedelic Soul","Quiet Storm","Soul","Soul Blues","Southern Soul"],reggae:["2 - Tone","Dub","Roots Reggae","Reggae Fusion","Reggae en Espaol","Spanish Reggae","Reggae 110","Reggae Bultrn","Romantic Flow","Lovers Rock","Raggamuffin","Ragga","Dancehall","Ska"],rock:["Acid Rock","Adult - Oriented Rock","Afro Punk","Adult Alternative","Alternative Rock","American Traditional Rock","Anatolian Rock","Arena Rock","Art Rock","Blues - Rock","British Invasion","Cock Rock","Death Metal / Black Metal","Doom Metal","Glam Rock","Gothic Metal","Grind Core","Hair Metal","Hard Rock","Math Metal","Math Rock","Metal","Metal Core","Noise Rock","Jam Bands","Post Punk","Post Rock","Prog - Rock / Art Rock","Progressive Metal","Psychedelic","Rock & Roll","Rockabilly","Roots Rock","Singer / Songwriter","Southern Rock","Spazzcore","Stoner Metal","Surf","Technical Death Metal","Tex - Mex","Thrash Metal","Time Lord Rock(Trock)","Trip - hop","Yacht Rock","School House Rock"],"hip-hop":["Alternative Rap","Avant - Garde","Bounce","Chap Hop","Christian Hip Hop","Conscious Hip Hop","Country - Rap","Grunk","Crunkcore","Cumbia Rap","Dirty South","East Coast","Brick City Club","Hardcore Hip Hop","Mafioso Rap","New Jersey Hip Hop","Freestyle Rap","G - Funk","Gangsta Rap","Golden Age","Grime","Hardcore Rap","Hip - Hop","Hip Pop","Horrorcore","Hyphy","Industrial Hip Hop","Instrumental Hip Hop","Jazz Rap","Latin Rap","Low Bap","Lyrical Hip Hop","Merenrap","Midwest Hip Hop","Chicago Hip Hop","Detroit Hip Hop","Horrorcore","St.Louis Hip Hop","Twin Cities Hip Hop","Motswako","Nerdcore","New Jack Swing","New School Hip Hop","Old School Rap","Rap","Trap","Turntablism","Underground Rap","West Coast Rap","East Coast Rap","Trap","UK Grime","Hyphy","Emo-rap","Cloud rap","G-funk","Boom Bap","Mumble","Drill","UK Drill","Soundcloud Rap","Lo-fi"],punk:["Afro-punk","Anarcho punk","Art punk","Christian punk","Crust punk","Deathrock","Egg punk","Garage punk","Glam punk","Hardcore punk","Horror punk","Incelcore/e-punk","Oi!","Peace punk","Punk pathetique","Queercore","Riot Grrrl","Skate punk","Street punk","Taqwacore","Trallpunk"],disco:["Nu-disco","Disco-funk","Hi-NRG","Italo Disco","Eurodisco","Boogie","Space Disco","Post-disco","Electro Disco","Disco House","Disco Pop","Soulful House"],funk:["Funk Rock","P-Funk (Parliament-Funkadelic)","Psychedelic Funk","Funk Metal","Electro-Funk","Go-go","Boogie-Funk","Jazz-Funk","Soul-Funk","Funky Disco","Nu-Funk","Afrobeat","Latin Funk","G-Funk","Acid Jazz","Funktronica","Folk-Funk","Space Funk","Ambient Funk","Hard Funk","Fusion Funk"],techno:["Acid Techno","Ambient Techno","Detroit Techno","Dub Techno","Minimal Techno","Industrial Techno","Hard Techno","Trance","Progressive Techno","Tech House","Electronica","Breakbeat Techno","Electro Techno","Melodic Techno","Experimental Techno","Dark Techno","Ebm","Hypnotic Techno","Psychedelic Techno","Rave Techno","Techno-Pop"],indie:["Indie Rock","Indie Pop","Indie Folk","Indie Electronic","Indie Punk","Indie Hip-Hop","Dream Pop","Shoegaze","Lo-fi","Chillwave","Freak Folk","Noise Pop","Math Rock","Post-Punk","Garage Rock","Experimental Indie","Surf Rock","Alternative Country","Indie Soul","Art Rock","Indie R&B","Indietronica","Emo","Post-Rock","Indie Pop-Rock","Indie Synthpop","Noise Rock","Psych Folk","Indie Blues"],gospel:["Traditional Gospel","Contemporary Gospel","Southern Gospel","Black Gospel","Urban Contemporary Gospel","Gospel Blues","Bluegrass Gospel","Country Gospel","Praise and Worship","Christian Hip-Hop","Gospel Jazz","Reggae Gospel","African Gospel","Latin Gospel","R&B Gospel","Gospel Choir","Acappella Gospel","Instrumental Gospel","Gospel Rap"],world:["African","Arabic","Asian","Caribbean","Celtic","European","Latin American","Middle Eastern","Native American","Polynesian","Reggae","Ska","Salsa","Flamenco","Bossa Nova","Tango","Fado","Klezmer","Balkan","Afrobeat","Mongolian Throat Singing","Indian Classical","Gamelan","Sufi Music","Zydeco","Kora Music","Andean Music","Irish Traditional","Gypsy Jazz","Bollywood","Bhangra","Jawaiian","Hawaiian Slack Key Guitar","Calypso","Cuban Son","Taiko Drumming","African Highlife","Merengue","Tuvan Throat Singing"]},emojis:{smileys_and_emotion:["0x1f600","0x1f603","0x1f604","0x1f601","0x1f606","0x1f605","0x1f923","0x1f602","0x1f642","0x1f643","0x1fae0","0x1f609","0x1f60a","0x1f607","0x1f970","0x1f60d","0x1f929","0x1f618","0x1f617","0x263a","0x1f61a","0x1f619","0x1f972","0x1f60b","0x1f61b","0x1f61c","0x1f92a","0x1f61d","0x1f911","0x1f917","0x1f92d","0x1fae2","0x1fae3","0x1f92b","0x1f914","0x1fae1","0x1f910","0x1f928","0x1f610","0x1f611","0x1f636","0x1fae5","0x1f636","0x200d","0x1f32b","0xfe0f","0x1f60f","0x1f612","0x1f644","0x1f62c","0x1f62e","0x200d","0x1f4a8","0x1f925","0x1fae8","0x1f642","0x200d","0x2194","0xfe0f","0x1f642","0x200d","0x2195","0xfe0f","0x1f60c","0x1f614","0x1f62a","0x1f924","0x1f634","0x1f637","0x1f912","0x1f915","0x1f922","0x1f92e","0x1f927","0x1f975","0x1f976","0x1f974","0x1f635","0x1f635","0x200d","0x1f4ab","0x1f92f","0x1f920","0x1f973","0x1f978","0x1f60e","0x1f913","0x1f9d0","0x1f615","0x1fae4","0x1f61f","0x1f641","0x2639","0x1f62e","0x1f62f","0x1f632","0x1f633","0x1f97a","0x1f979","0x1f626","0x1f627","0x1f628","0x1f630","0x1f625","0x1f622","0x1f62d","0x1f631","0x1f616","0x1f623","0x1f61e","0x1f613","0x1f629","0x1f62b","0x1f971","0x1f624","0x1f621","0x1f620","0x1f92c","0x1f608","0x1f47f","0x1f480","0x2620","0x1f4a9","0x1f921","0x1f479","0x1f47a","0x1f47b","0x1f47d","0x1f47e","0x1f916","0x1f63a","0x1f638","0x1f639","0x1f63b","0x1f63c","0x1f63d","0x1f640","0x1f63f","0x1f63e","0x1f648","0x1f649","0x1f64a","0x1f48c","0x1f498","0x1f49d","0x1f496","0x1f497","0x1f493","0x1f49e","0x1f495","0x1f49f","0x2763","0x1f494","0x2764","0xfe0f","0x200d","0x1f525","0x2764","0xfe0f","0x200d","0x1fa79","0x2764","0x1fa77","0x1f9e1","0x1f49b","0x1f49a","0x1f499","0x1fa75","0x1f49c","0x1f90e","0x1f5a4","0x1fa76","0x1f90d","0x1f48b","0x1f4af","0x1f4a2","0x1f4a5","0x1f4ab","0x1f4a6","0x1f4a8","0x1f573","0x1f4ac","0x1f441","0xfe0f","0x200d","0x1f5e8","0xfe0f","0x1f5e8","0x1f5ef","0x1f4ad","0x1f4a4"],people_and_body:["0x1f44b","0x1f91a","0x1f590","0x270b","0x1f596","0x1faf1","0x1faf2","0x1faf3","0x1faf4","0x1faf7","0x1faf8","0x1f44c","0x1f90c","0x1f90f","0x270c","0x1f91e","0x1faf0","0x1f91f","0x1f918","0x1f919","0x1f448","0x1f449","0x1f446","0x1f595","0x1f447","0x261d","0x1faf5","0x1f44d","0x1f44e","0x270a","0x1f44a","0x1f91b","0x1f91c","0x1f44f","0x1f64c","0x1faf6","0x1f450","0x1f932","0x1f91d","0x1f64f","0x270d","0x1f485","0x1f933","0x1f4aa","0x1f9be","0x1f9bf","0x1f9b5","0x1f9b6","0x1f442","0x1f9bb","0x1f443","0x1f9e0","0x1fac0","0x1fac1","0x1f9b7","0x1f9b4","0x1f440","0x1f441","0x1f445","0x1f444","0x1fae6","0x1f476","0x1f9d2","0x1f466","0x1f467","0x1f9d1","0x1f471","0x1f468","0x1f9d4","0x1f9d4","0x200d","0x2642","0xfe0f","0x1f9d4","0x200d","0x2640","0xfe0f","0x1f468","0x200d","0x1f9b0","0x1f468","0x200d","0x1f9b1","0x1f468","0x200d","0x1f9b3","0x1f468","0x200d","0x1f9b2","0x1f469","0x1f469","0x200d","0x1f9b0","0x1f9d1","0x200d","0x1f9b0","0x1f469","0x200d","0x1f9b1","0x1f9d1","0x200d","0x1f9b1","0x1f469","0x200d","0x1f9b3","0x1f9d1","0x200d","0x1f9b3","0x1f469","0x200d","0x1f9b2","0x1f9d1","0x200d","0x1f9b2","0x1f471","0x200d","0x2640","0xfe0f","0x1f471","0x200d","0x2642","0xfe0f","0x1f9d3","0x1f474","0x1f475","0x1f64d","0x1f64d","0x200d","0x2642","0xfe0f","0x1f64d","0x200d","0x2640","0xfe0f","0x1f64e","0x1f64e","0x200d","0x2642","0xfe0f","0x1f64e","0x200d","0x2640","0xfe0f","0x1f645","0x1f645","0x200d","0x2642","0xfe0f","0x1f645","0x200d","0x2640","0xfe0f","0x1f646","0x1f646","0x200d","0x2642","0xfe0f","0x1f646","0x200d","0x2640","0xfe0f","0x1f481","0x1f481","0x200d","0x2642","0xfe0f","0x1f481","0x200d","0x2640","0xfe0f","0x1f64b","0x1f64b","0x200d","0x2642","0xfe0f","0x1f64b","0x200d","0x2640","0xfe0f","0x1f9cf","0x1f9cf","0x200d","0x2642","0xfe0f","0x1f9cf","0x200d","0x2640","0xfe0f","0x1f647","0x1f647","0x200d","0x2642","0xfe0f","0x1f647","0x200d","0x2640","0xfe0f","0x1f926","0x1f926","0x200d","0x2642","0xfe0f","0x1f926","0x200d","0x2640","0xfe0f","0x1f937","0x1f937","0x200d","0x2642","0xfe0f","0x1f937","0x200d","0x2640","0xfe0f","0x1f9d1","0x200d","0x2695","0xfe0f","0x1f468","0x200d","0x2695","0xfe0f","0x1f469","0x200d","0x2695","0xfe0f","0x1f9d1","0x200d","0x1f393","0x1f468","0x200d","0x1f393","0x1f469","0x200d","0x1f393","0x1f9d1","0x200d","0x1f3eb","0x1f468","0x200d","0x1f3eb","0x1f469","0x200d","0x1f3eb","0x1f9d1","0x200d","0x2696","0xfe0f","0x1f468","0x200d","0x2696","0xfe0f","0x1f469","0x200d","0x2696","0xfe0f","0x1f9d1","0x200d","0x1f33e","0x1f468","0x200d","0x1f33e","0x1f469","0x200d","0x1f33e","0x1f9d1","0x200d","0x1f373","0x1f468","0x200d","0x1f373","0x1f469","0x200d","0x1f373","0x1f9d1","0x200d","0x1f527","0x1f468","0x200d","0x1f527","0x1f469","0x200d","0x1f527","0x1f9d1","0x200d","0x1f3ed","0x1f468","0x200d","0x1f3ed","0x1f469","0x200d","0x1f3ed","0x1f9d1","0x200d","0x1f4bc","0x1f468","0x200d","0x1f4bc","0x1f469","0x200d","0x1f4bc","0x1f9d1","0x200d","0x1f52c","0x1f468","0x200d","0x1f52c","0x1f469","0x200d","0x1f52c","0x1f9d1","0x200d","0x1f4bb","0x1f468","0x200d","0x1f4bb","0x1f469","0x200d","0x1f4bb","0x1f9d1","0x200d","0x1f3a4","0x1f468","0x200d","0x1f3a4","0x1f469","0x200d","0x1f3a4","0x1f9d1","0x200d","0x1f3a8","0x1f468","0x200d","0x1f3a8","0x1f469","0x200d","0x1f3a8","0x1f9d1","0x200d","0x2708","0xfe0f","0x1f468","0x200d","0x2708","0xfe0f","0x1f469","0x200d","0x2708","0xfe0f","0x1f9d1","0x200d","0x1f680","0x1f468","0x200d","0x1f680","0x1f469","0x200d","0x1f680","0x1f9d1","0x200d","0x1f692","0x1f468","0x200d","0x1f692","0x1f469","0x200d","0x1f692","0x1f46e","0x1f46e","0x200d","0x2642","0xfe0f","0x1f46e","0x200d","0x2640","0xfe0f","0x1f575","0x1f575","0xfe0f","0x200d","0x2642","0xfe0f","0x1f575","0xfe0f","0x200d","0x2640","0xfe0f","0x1f482","0x1f482","0x200d","0x2642","0xfe0f","0x1f482","0x200d","0x2640","0xfe0f","0x1f977","0x1f477","0x1f477","0x200d","0x2642","0xfe0f","0x1f477","0x200d","0x2640","0xfe0f","0x1fac5","0x1f934","0x1f478","0x1f473","0x1f473","0x200d","0x2642","0xfe0f","0x1f473","0x200d","0x2640","0xfe0f","0x1f472","0x1f9d5","0x1f935","0x1f935","0x200d","0x2642","0xfe0f","0x1f935","0x200d","0x2640","0xfe0f","0x1f470","0x1f470","0x200d","0x2642","0xfe0f","0x1f470","0x200d","0x2640","0xfe0f","0x1f930","0x1fac3","0x1fac4","0x1f931","0x1f469","0x200d","0x1f37c","0x1f468","0x200d","0x1f37c","0x1f9d1","0x200d","0x1f37c","0x1f47c","0x1f385","0x1f936","0x1f9d1","0x200d","0x1f384","0x1f9b8","0x1f9b8","0x200d","0x2642","0xfe0f","0x1f9b8","0x200d","0x2640","0xfe0f","0x1f9b9","0x1f9b9","0x200d","0x2642","0xfe0f","0x1f9b9","0x200d","0x2640","0xfe0f","0x1f9d9","0x1f9d9","0x200d","0x2642","0xfe0f","0x1f9d9","0x200d","0x2640","0xfe0f","0x1f9da","0x1f9da","0x200d","0x2642","0xfe0f","0x1f9da","0x200d","0x2640","0xfe0f","0x1f9db","0x1f9db","0x200d","0x2642","0xfe0f","0x1f9db","0x200d","0x2640","0xfe0f","0x1f9dc","0x1f9dc","0x200d","0x2642","0xfe0f","0x1f9dc","0x200d","0x2640","0xfe0f","0x1f9dd","0x1f9dd","0x200d","0x2642","0xfe0f","0x1f9dd","0x200d","0x2640","0xfe0f","0x1f9de","0x1f9de","0x200d","0x2642","0xfe0f","0x1f9de","0x200d","0x2640","0xfe0f","0x1f9df","0x1f9df","0x200d","0x2642","0xfe0f","0x1f9df","0x200d","0x2640","0xfe0f","0x1f9cc","0x1f486","0x1f486","0x200d","0x2642","0xfe0f","0x1f486","0x200d","0x2640","0xfe0f","0x1f487","0x1f487","0x200d","0x2642","0xfe0f","0x1f487","0x200d","0x2640","0xfe0f","0x1f6b6","0x1f6b6","0x200d","0x2642","0xfe0f","0x1f6b6","0x200d","0x2640","0xfe0f","0x1f6b6","0x200d","0x27a1","0xfe0f","0x1f6b6","0x200d","0x2640","0xfe0f","0x200d","0x27a1","0xfe0f","0x1f6b6","0x200d","0x2642","0xfe0f","0x200d","0x27a1","0xfe0f","0x1f9cd","0x1f9cd","0x200d","0x2642","0xfe0f","0x1f9cd","0x200d","0x2640","0xfe0f","0x1f9ce","0x1f9ce","0x200d","0x2642","0xfe0f","0x1f9ce","0x200d","0x2640","0xfe0f","0x1f9ce","0x200d","0x27a1","0xfe0f","0x1f9ce","0x200d","0x2640","0xfe0f","0x200d","0x27a1","0xfe0f","0x1f9ce","0x200d","0x2642","0xfe0f","0x200d","0x27a1","0xfe0f","0x1f9d1","0x200d","0x1f9af","0x1f9d1","0x200d","0x1f9af","0x200d","0x27a1","0xfe0f","0x1f468","0x200d","0x1f9af","0x1f468","0x200d","0x1f9af","0x200d","0x27a1","0xfe0f","0x1f469","0x200d","0x1f9af","0x1f469","0x200d","0x1f9af","0x200d","0x27a1","0xfe0f","0x1f9d1","0x200d","0x1f9bc","0x1f9d1","0x200d","0x1f9bc","0x200d","0x27a1","0xfe0f","0x1f468","0x200d","0x1f9bc","0x1f468","0x200d","0x1f9bc","0x200d","0x27a1","0xfe0f","0x1f469","0x200d","0x1f9bc","0x1f469","0x200d","0x1f9bc","0x200d","0x27a1","0xfe0f","0x1f9d1","0x200d","0x1f9bd","0x1f9d1","0x200d","0x1f9bd","0x200d","0x27a1","0xfe0f","0x1f468","0x200d","0x1f9bd","0x1f468","0x200d","0x1f9bd","0x200d","0x27a1","0xfe0f","0x1f469","0x200d","0x1f9bd","0x1f469","0x200d","0x1f9bd","0x200d","0x27a1","0xfe0f","0x1f3c3","0x1f3c3","0x200d","0x2642","0xfe0f","0x1f3c3","0x200d","0x2640","0xfe0f","0x1f3c3","0x200d","0x27a1","0xfe0f","0x1f3c3","0x200d","0x2640","0xfe0f","0x200d","0x27a1","0xfe0f","0x1f3c3","0x200d","0x2642","0xfe0f","0x200d","0x27a1","0xfe0f","0x1f483","0x1f57a","0x1f574","0x1f46f","0x1f46f","0x200d","0x2642","0xfe0f","0x1f46f","0x200d","0x2640","0xfe0f","0x1f9d6","0x1f9d6","0x200d","0x2642","0xfe0f","0x1f9d6","0x200d","0x2640","0xfe0f","0x1f9d7","0x1f9d7","0x200d","0x2642","0xfe0f","0x1f9d7","0x200d","0x2640","0xfe0f","0x1f93a","0x1f3c7","0x26f7","0x1f3c2","0x1f3cc","0x1f3cc","0xfe0f","0x200d","0x2642","0xfe0f","0x1f3cc","0xfe0f","0x200d","0x2640","0xfe0f","0x1f3c4","0x1f3c4","0x200d","0x2642","0xfe0f","0x1f3c4","0x200d","0x2640","0xfe0f","0x1f6a3","0x1f6a3","0x200d","0x2642","0xfe0f","0x1f6a3","0x200d","0x2640","0xfe0f","0x1f3ca","0x1f3ca","0x200d","0x2642","0xfe0f","0x1f3ca","0x200d","0x2640","0xfe0f","0x26f9","0x26f9","0xfe0f","0x200d","0x2642","0xfe0f","0x26f9","0xfe0f","0x200d","0x2640","0xfe0f","0x1f3cb","0x1f3cb","0xfe0f","0x200d","0x2642","0xfe0f","0x1f3cb","0xfe0f","0x200d","0x2640","0xfe0f","0x1f6b4","0x1f6b4","0x200d","0x2642","0xfe0f","0x1f6b4","0x200d","0x2640","0xfe0f","0x1f6b5","0x1f6b5","0x200d","0x2642","0xfe0f","0x1f6b5","0x200d","0x2640","0xfe0f","0x1f938","0x1f938","0x200d","0x2642","0xfe0f","0x1f938","0x200d","0x2640","0xfe0f","0x1f93c","0x1f93c","0x200d","0x2642","0xfe0f","0x1f93c","0x200d","0x2640","0xfe0f","0x1f93d","0x1f93d","0x200d","0x2642","0xfe0f","0x1f93d","0x200d","0x2640","0xfe0f","0x1f93e","0x1f93e","0x200d","0x2642","0xfe0f","0x1f93e","0x200d","0x2640","0xfe0f","0x1f939","0x1f939","0x200d","0x2642","0xfe0f","0x1f939","0x200d","0x2640","0xfe0f","0x1f9d8","0x1f9d8","0x200d","0x2642","0xfe0f","0x1f9d8","0x200d","0x2640","0xfe0f","0x1f6c0","0x1f6cc","0x1f9d1","0x200d","0x1f91d","0x200d","0x1f9d1","0x1f46d","0x1f46b","0x1f46c","0x1f48f","0x1f469","0x200d","0x2764","0xfe0f","0x200d","0x1f48b","0x200d","0x1f468","0x1f468","0x200d","0x2764","0xfe0f","0x200d","0x1f48b","0x200d","0x1f468","0x1f469","0x200d","0x2764","0xfe0f","0x200d","0x1f48b","0x200d","0x1f469","0x1f491","0x1f469","0x200d","0x2764","0xfe0f","0x200d","0x1f468","0x1f468","0x200d","0x2764","0xfe0f","0x200d","0x1f468","0x1f469","0x200d","0x2764","0xfe0f","0x200d","0x1f469","0x1f468","0x200d","0x1f469","0x200d","0x1f466","0x1f468","0x200d","0x1f469","0x200d","0x1f467","0x1f468","0x200d","0x1f469","0x200d","0x1f467","0x200d","0x1f466","0x1f468","0x200d","0x1f469","0x200d","0x1f466","0x200d","0x1f466","0x1f468","0x200d","0x1f469","0x200d","0x1f467","0x200d","0x1f467","0x1f468","0x200d","0x1f468","0x200d","0x1f466","0x1f468","0x200d","0x1f468","0x200d","0x1f467","0x1f468","0x200d","0x1f468","0x200d","0x1f467","0x200d","0x1f466","0x1f468","0x200d","0x1f468","0x200d","0x1f466","0x200d","0x1f466","0x1f468","0x200d","0x1f468","0x200d","0x1f467","0x200d","0x1f467","0x1f469","0x200d","0x1f469","0x200d","0x1f466","0x1f469","0x200d","0x1f469","0x200d","0x1f467","0x1f469","0x200d","0x1f469","0x200d","0x1f467","0x200d","0x1f466","0x1f469","0x200d","0x1f469","0x200d","0x1f466","0x200d","0x1f466","0x1f469","0x200d","0x1f469","0x200d","0x1f467","0x200d","0x1f467","0x1f468","0x200d","0x1f466","0x1f468","0x200d","0x1f466","0x200d","0x1f466","0x1f468","0x200d","0x1f467","0x1f468","0x200d","0x1f467","0x200d","0x1f466","0x1f468","0x200d","0x1f467","0x200d","0x1f467","0x1f469","0x200d","0x1f466","0x1f469","0x200d","0x1f466","0x200d","0x1f466","0x1f469","0x200d","0x1f467","0x1f469","0x200d","0x1f467","0x200d","0x1f466","0x1f469","0x200d","0x1f467","0x200d","0x1f467","0x1f5e3","0x1f464","0x1f465","0x1fac2","0x1f46a","0x1f9d1","0x200d","0x1f9d1","0x200d","0x1f9d2","0x1f9d1","0x200d","0x1f9d1","0x200d","0x1f9d2","0x200d","0x1f9d2","0x1f9d1","0x200d","0x1f9d2","0x1f9d1","0x200d","0x1f9d2","0x200d","0x1f9d2","0x1f463"],animals_and_nature:["0x1f435","0x1f412","0x1f98d","0x1f9a7","0x1f436","0x1f415","0x1f9ae","0x1f415","0x200d","0x1f9ba","0x1f429","0x1f43a","0x1f98a","0x1f99d","0x1f431","0x1f408","0x1f408","0x200d","0x2b1b","0x1f981","0x1f42f","0x1f405","0x1f406","0x1f434","0x1face","0x1facf","0x1f40e","0x1f984","0x1f993","0x1f98c","0x1f9ac","0x1f42e","0x1f402","0x1f403","0x1f404","0x1f437","0x1f416","0x1f417","0x1f43d","0x1f40f","0x1f411","0x1f410","0x1f42a","0x1f42b","0x1f999","0x1f992","0x1f418","0x1f9a3","0x1f98f","0x1f99b","0x1f42d","0x1f401","0x1f400","0x1f439","0x1f430","0x1f407","0x1f43f","0x1f9ab","0x1f994","0x1f987","0x1f43b","0x1f43b","0x200d","0x2744","0xfe0f","0x1f428","0x1f43c","0x1f9a5","0x1f9a6","0x1f9a8","0x1f998","0x1f9a1","0x1f43e","0x1f983","0x1f414","0x1f413","0x1f423","0x1f424","0x1f425","0x1f426","0x1f427","0x1f54a","0x1f985","0x1f986","0x1f9a2","0x1f989","0x1f9a4","0x1fab6","0x1f9a9","0x1f99a","0x1f99c","0x1fabd","0x1f426","0x200d","0x2b1b","0x1fabf","0x1f426","0x200d","0x1f525","0x1f438","0x1f40a","0x1f422","0x1f98e","0x1f40d","0x1f432","0x1f409","0x1f995","0x1f996","0x1f433","0x1f40b","0x1f42c","0x1f9ad","0x1f41f","0x1f420","0x1f421","0x1f988","0x1f419","0x1f41a","0x1fab8","0x1fabc","0x1f40c","0x1f98b","0x1f41b","0x1f41c","0x1f41d","0x1fab2","0x1f41e","0x1f997","0x1fab3","0x1f577","0x1f578","0x1f982","0x1f99f","0x1fab0","0x1fab1","0x1f9a0","0x1f490","0x1f338","0x1f4ae","0x1fab7","0x1f3f5","0x1f339","0x1f940","0x1f33a","0x1f33b","0x1f33c","0x1f337","0x1fabb","0x1f331","0x1fab4","0x1f332","0x1f333","0x1f334","0x1f335","0x1f33e","0x1f33f","0x2618","0x1f340","0x1f341","0x1f342","0x1f343","0x1fab9","0x1faba","0x1f344"],food_and_drink:["0x1f347","0x1f348","0x1f349","0x1f34a","0x1f34b","0x1f34b","0x200d","0x1f7e9","0x1f34c","0x1f34d","0x1f96d","0x1f34e","0x1f34f","0x1f350","0x1f351","0x1f352","0x1f353","0x1fad0","0x1f95d","0x1f345","0x1fad2","0x1f965","0x1f951","0x1f346","0x1f954","0x1f955","0x1f33d","0x1f336","0x1fad1","0x1f952","0x1f96c","0x1f966","0x1f9c4","0x1f9c5","0x1f95c","0x1fad8","0x1f330","0x1fada","0x1fadb","0x1f344","0x200d","0x1f7eb","0x1f35e","0x1f950","0x1f956","0x1fad3","0x1f968","0x1f96f","0x1f95e","0x1f9c7","0x1f9c0","0x1f356","0x1f357","0x1f969","0x1f953","0x1f354","0x1f35f","0x1f355","0x1f32d","0x1f96a","0x1f32e","0x1f32f","0x1fad4","0x1f959","0x1f9c6","0x1f95a","0x1f373","0x1f958","0x1f372","0x1fad5","0x1f963","0x1f957","0x1f37f","0x1f9c8","0x1f9c2","0x1f96b","0x1f371","0x1f358","0x1f359","0x1f35a","0x1f35b","0x1f35c","0x1f35d","0x1f360","0x1f362","0x1f363","0x1f364","0x1f365","0x1f96e","0x1f361","0x1f95f","0x1f960","0x1f961","0x1f980","0x1f99e","0x1f990","0x1f991","0x1f9aa","0x1f366","0x1f367","0x1f368","0x1f369","0x1f36a","0x1f382","0x1f370","0x1f9c1","0x1f967","0x1f36b","0x1f36c","0x1f36d","0x1f36e","0x1f36f","0x1f37c","0x1f95b","0x2615","0x1fad6","0x1f375","0x1f376","0x1f37e","0x1f377","0x1f378","0x1f379","0x1f37a","0x1f37b","0x1f942","0x1f943","0x1fad7","0x1f964","0x1f9cb","0x1f9c3","0x1f9c9","0x1f9ca","0x1f962","0x1f37d","0x1f374","0x1f944","0x1f52a","0x1fad9","0x1f3fa"],travel_and_places:["0x1f30d","0x1f30e","0x1f30f","0x1f310","0x1f5fa","0x1f5fe","0x1f9ed","0x1f3d4","0x26f0","0x1f30b","0x1f5fb","0x1f3d5","0x1f3d6","0x1f3dc","0x1f3dd","0x1f3de","0x1f3df","0x1f3db","0x1f3d7","0x1f9f1","0x1faa8","0x1fab5","0x1f6d6","0x1f3d8","0x1f3da","0x1f3e0","0x1f3e1","0x1f3e2","0x1f3e3","0x1f3e4","0x1f3e5","0x1f3e6","0x1f3e8","0x1f3e9","0x1f3ea","0x1f3eb","0x1f3ec","0x1f3ed","0x1f3ef","0x1f3f0","0x1f492","0x1f5fc","0x1f5fd","0x26ea","0x1f54c","0x1f6d5","0x1f54d","0x26e9","0x1f54b","0x26f2","0x26fa","0x1f301","0x1f303","0x1f3d9","0x1f304","0x1f305","0x1f306","0x1f307","0x1f309","0x2668","0x1f3a0","0x1f6dd","0x1f3a1","0x1f3a2","0x1f488","0x1f3aa","0x1f682","0x1f683","0x1f684","0x1f685","0x1f686","0x1f687","0x1f688","0x1f689","0x1f68a","0x1f69d","0x1f69e","0x1f68b","0x1f68c","0x1f68d","0x1f68e","0x1f690","0x1f691","0x1f692","0x1f693","0x1f694","0x1f695","0x1f696","0x1f697","0x1f698","0x1f699","0x1f6fb","0x1f69a","0x1f69b","0x1f69c","0x1f3ce","0x1f3cd","0x1f6f5","0x1f9bd","0x1f9bc","0x1f6fa","0x1f6b2","0x1f6f4","0x1f6f9","0x1f6fc","0x1f68f","0x1f6e3","0x1f6e4","0x1f6e2","0x26fd","0x1f6de","0x1f6a8","0x1f6a5","0x1f6a6","0x1f6d1","0x1f6a7","0x2693","0x1f6df","0x26f5","0x1f6f6","0x1f6a4","0x1f6f3","0x26f4","0x1f6e5","0x1f6a2","0x2708","0x1f6e9","0x1f6eb","0x1f6ec","0x1fa82","0x1f4ba","0x1f681","0x1f69f","0x1f6a0","0x1f6a1","0x1f6f0","0x1f680","0x1f6f8","0x1f6ce","0x1f9f3","0x231b","0x23f3","0x231a","0x23f0","0x23f1","0x23f2","0x1f570","0x1f55b","0x1f567","0x1f550","0x1f55c","0x1f551","0x1f55d","0x1f552","0x1f55e","0x1f553","0x1f55f","0x1f554","0x1f560","0x1f555","0x1f561","0x1f556","0x1f562","0x1f557","0x1f563","0x1f558","0x1f564","0x1f559","0x1f565","0x1f55a","0x1f566","0x1f311","0x1f312","0x1f313","0x1f314","0x1f315","0x1f316","0x1f317","0x1f318","0x1f319","0x1f31a","0x1f31b","0x1f31c","0x1f321","0x2600","0x1f31d","0x1f31e","0x1fa90","0x2b50","0x1f31f","0x1f320","0x1f30c","0x2601","0x26c5","0x26c8","0x1f324","0x1f325","0x1f326","0x1f327","0x1f328","0x1f329","0x1f32a","0x1f32b","0x1f32c","0x1f300","0x1f308","0x1f302","0x2602","0x2614","0x26f1","0x26a1","0x2744","0x2603","0x26c4","0x2604","0x1f525","0x1f4a7","0x1f30a"],activities:["0x1f383","0x1f384","0x1f386","0x1f387","0x1f9e8","0x2728","0x1f388","0x1f389","0x1f38a","0x1f38b","0x1f38d","0x1f38e","0x1f38f","0x1f390","0x1f391","0x1f9e7","0x1f380","0x1f381","0x1f397","0x1f39f","0x1f3ab","0x1f396","0x1f3c6","0x1f3c5","0x1f947","0x1f948","0x1f949","0x26bd","0x26be","0x1f94e","0x1f3c0","0x1f3d0","0x1f3c8","0x1f3c9","0x1f3be","0x1f94f","0x1f3b3","0x1f3cf","0x1f3d1","0x1f3d2","0x1f94d","0x1f3d3","0x1f3f8","0x1f94a","0x1f94b","0x1f945","0x26f3","0x26f8","0x1f3a3","0x1f93f","0x1f3bd","0x1f3bf","0x1f6f7","0x1f94c","0x1f3af","0x1fa80","0x1fa81","0x1f52b","0x1f3b1","0x1f52e","0x1fa84","0x1f3ae","0x1f579","0x1f3b0","0x1f3b2","0x1f9e9","0x1f9f8","0x1fa85","0x1faa9","0x1fa86","0x2660","0x2665","0x2666","0x2663","0x265f","0x1f0cf","0x1f004","0x1f3b4","0x1f3ad","0x1f5bc","0x1f3a8","0x1f9f5","0x1faa1","0x1f9f6","0x1faa2"],objects:["0x1f453","0x1f576","0x1f97d","0x1f97c","0x1f9ba","0x1f454","0x1f455","0x1f456","0x1f9e3","0x1f9e4","0x1f9e5","0x1f9e6","0x1f457","0x1f458","0x1f97b","0x1fa71","0x1fa72","0x1fa73","0x1f459","0x1f45a","0x1faad","0x1f45b","0x1f45c","0x1f45d","0x1f6cd","0x1f392","0x1fa74","0x1f45e","0x1f45f","0x1f97e","0x1f97f","0x1f460","0x1f461","0x1fa70","0x1f462","0x1faae","0x1f451","0x1f452","0x1f3a9","0x1f393","0x1f9e2","0x1fa96","0x26d1","0x1f4ff","0x1f484","0x1f48d","0x1f48e","0x1f507","0x1f508","0x1f509","0x1f50a","0x1f4e2","0x1f4e3","0x1f4ef","0x1f514","0x1f515","0x1f3bc","0x1f3b5","0x1f3b6","0x1f399","0x1f39a","0x1f39b","0x1f3a4","0x1f3a7","0x1f4fb","0x1f3b7","0x1fa97","0x1f3b8","0x1f3b9","0x1f3ba","0x1f3bb","0x1fa95","0x1f941","0x1fa98","0x1fa87","0x1fa88","0x1f4f1","0x1f4f2","0x260e","0x1f4de","0x1f4df","0x1f4e0","0x1f50b","0x1faab","0x1f50c","0x1f4bb","0x1f5a5","0x1f5a8","0x2328","0x1f5b1","0x1f5b2","0x1f4bd","0x1f4be","0x1f4bf","0x1f4c0","0x1f9ee","0x1f3a5","0x1f39e","0x1f4fd","0x1f3ac","0x1f4fa","0x1f4f7","0x1f4f8","0x1f4f9","0x1f4fc","0x1f50d","0x1f50e","0x1f56f","0x1f4a1","0x1f526","0x1f3ee","0x1fa94","0x1f4d4","0x1f4d5","0x1f4d6","0x1f4d7","0x1f4d8","0x1f4d9","0x1f4da","0x1f4d3","0x1f4d2","0x1f4c3","0x1f4dc","0x1f4c4","0x1f4f0","0x1f5de","0x1f4d1","0x1f516","0x1f3f7","0x1f4b0","0x1fa99","0x1f4b4","0x1f4b5","0x1f4b6","0x1f4b7","0x1f4b8","0x1f4b3","0x1f9fe","0x1f4b9","0x2709","0x1f4e7","0x1f4e8","0x1f4e9","0x1f4e4","0x1f4e5","0x1f4e6","0x1f4eb","0x1f4ea","0x1f4ec","0x1f4ed","0x1f4ee","0x1f5f3","0x270f","0x2712","0x1f58b","0x1f58a","0x1f58c","0x1f58d","0x1f4dd","0x1f4bc","0x1f4c1","0x1f4c2","0x1f5c2","0x1f4c5","0x1f4c6","0x1f5d2","0x1f5d3","0x1f4c7","0x1f4c8","0x1f4c9","0x1f4ca","0x1f4cb","0x1f4cc","0x1f4cd","0x1f4ce","0x1f587","0x1f4cf","0x1f4d0","0x2702","0x1f5c3","0x1f5c4","0x1f5d1","0x1f512","0x1f513","0x1f50f","0x1f510","0x1f511","0x1f5dd","0x1f528","0x1fa93","0x26cf","0x2692","0x1f6e0","0x1f5e1","0x2694","0x1f4a3","0x1fa83","0x1f3f9","0x1f6e1","0x1fa9a","0x1f527","0x1fa9b","0x1f529","0x2699","0x1f5dc","0x2696","0x1f9af","0x1f517","0x26d3","0xfe0f","0x200d","0x1f4a5","0x26d3","0x1fa9d","0x1f9f0","0x1f9f2","0x1fa9c","0x2697","0x1f9ea","0x1f9eb","0x1f9ec","0x1f52c","0x1f52d","0x1f4e1","0x1f489","0x1fa78","0x1f48a","0x1fa79","0x1fa7c","0x1fa7a","0x1fa7b","0x1f6aa","0x1f6d7","0x1fa9e","0x1fa9f","0x1f6cf","0x1f6cb","0x1fa91","0x1f6bd","0x1faa0","0x1f6bf","0x1f6c1","0x1faa4","0x1fa92","0x1f9f4","0x1f9f7","0x1f9f9","0x1f9fa","0x1f9fb","0x1faa3","0x1f9fc","0x1fae7","0x1faa5","0x1f9fd","0x1f9ef","0x1f6d2","0x1f6ac","0x26b0","0x1faa6","0x26b1","0x1f9ff","0x1faac","0x1f5ff","0x1faa7","0x1faaa"],symbols:["0x1f3e7","0x1f6ae","0x1f6b0","0x267f","0x1f6b9","0x1f6ba","0x1f6bb","0x1f6bc","0x1f6be","0x1f6c2","0x1f6c3","0x1f6c4","0x1f6c5","0x26a0","0x1f6b8","0x26d4","0x1f6ab","0x1f6b3","0x1f6ad","0x1f6af","0x1f6b1","0x1f6b7","0x1f4f5","0x1f51e","0x2622","0x2623","0x2b06","0x2197","0x27a1","0x2198","0x2b07","0x2199","0x2b05","0x2196","0x2195","0x2194","0x21a9","0x21aa","0x2934","0x2935","0x1f503","0x1f504","0x1f519","0x1f51a","0x1f51b","0x1f51c","0x1f51d","0x1f6d0","0x269b","0x1f549","0x2721","0x2638","0x262f","0x271d","0x2626","0x262a","0x262e","0x1f54e","0x1f52f","0x1faaf","0x2648","0x2649","0x264a","0x264b","0x264c","0x264d","0x264e","0x264f","0x2650","0x2651","0x2652","0x2653","0x26ce","0x1f500","0x1f501","0x1f502","0x25b6","0x23e9","0x23ed","0x23ef","0x25c0","0x23ea","0x23ee","0x1f53c","0x23eb","0x1f53d","0x23ec","0x23f8","0x23f9","0x23fa","0x23cf","0x1f3a6","0x1f505","0x1f506","0x1f4f6","0x1f6dc","0x1f4f3","0x1f4f4","0x2640","0x2642","0x26a7","0x2716","0x2795","0x2796","0x2797","0x1f7f0","0x267e","0x203c","0x2049","0x2753","0x2754","0x2755","0x2757","0x3030","0x1f4b1","0x1f4b2","0x2695","0x267b","0x269c","0x1f531","0x1f4db","0x1f530","0x2b55","0x2705","0x2611","0x2714","0x274c","0x274e","0x27b0","0x27bf","0x303d","0x2733","0x2734","0x2747","0x00a9","0x00ae","0x2122","0x0023","0xfe0f","0x20e3","0x002a","0xfe0f","0x20e3","0x0030","0xfe0f","0x20e3","0x0031","0xfe0f","0x20e3","0x0032","0xfe0f","0x20e3","0x0033","0xfe0f","0x20e3","0x0034","0xfe0f","0x20e3","0x0035","0xfe0f","0x20e3","0x0036","0xfe0f","0x20e3","0x0037","0xfe0f","0x20e3","0x0038","0xfe0f","0x20e3","0x0039","0xfe0f","0x20e3","0x1f51f","0x1f520","0x1f521","0x1f522","0x1f523","0x1f524","0x1f170","0x1f18e","0x1f171","0x1f191","0x1f192","0x1f193","0x2139","0x1f194","0x24c2","0x1f195","0x1f196","0x1f17e","0x1f197","0x1f17f","0x1f198","0x1f199","0x1f19a","0x1f201","0x1f202","0x1f237","0x1f236","0x1f22f","0x1f250","0x1f239","0x1f21a","0x1f232","0x1f251","0x1f238","0x1f234","0x1f233","0x3297","0x3299","0x1f23a","0x1f235","0x1f534","0x1f7e0","0x1f7e1","0x1f7e2","0x1f535","0x1f7e3","0x1f7e4","0x26ab","0x26aa","0x1f7e5","0x1f7e7","0x1f7e8","0x1f7e9","0x1f7e6","0x1f7ea","0x1f7eb","0x2b1b","0x2b1c","0x25fc","0x25fb","0x25fe","0x25fd","0x25aa","0x25ab","0x1f536","0x1f537","0x1f538","0x1f539","0x1f53a","0x1f53b","0x1f4a0","0x1f518","0x1f533","0x1f532"],flags:["0x1f3c1","0x1f6a9","0x1f38c","0x1f3f4","0x1f3f3","0x1f3f3","0xfe0f","0x200d","0x1f308","0x1f3f3","0xfe0f","0x200d","0x26a7","0xfe0f","0x1f3f4","0x200d","0x2620","0xfe0f","0x1f1e6","0x1f1e8","0x1f1e6","0x1f1e9","0x1f1e6","0x1f1ea","0x1f1e6","0x1f1eb","0x1f1e6","0x1f1ec","0x1f1e6","0x1f1ee","0x1f1e6","0x1f1f1","0x1f1e6","0x1f1f2","0x1f1e6","0x1f1f4","0x1f1e6","0x1f1f6","0x1f1e6","0x1f1f7","0x1f1e6","0x1f1f8","0x1f1e6","0x1f1f9","0x1f1e6","0x1f1fa","0x1f1e6","0x1f1fc","0x1f1e6","0x1f1fd","0x1f1e6","0x1f1ff","0x1f1e7","0x1f1e6","0x1f1e7","0x1f1e7","0x1f1e7","0x1f1e9","0x1f1e7","0x1f1ea","0x1f1e7","0x1f1eb","0x1f1e7","0x1f1ec","0x1f1e7","0x1f1ed","0x1f1e7","0x1f1ee","0x1f1e7","0x1f1ef","0x1f1e7","0x1f1f1","0x1f1e7","0x1f1f2","0x1f1e7","0x1f1f3","0x1f1e7","0x1f1f4","0x1f1e7","0x1f1f6","0x1f1e7","0x1f1f7","0x1f1e7","0x1f1f8","0x1f1e7","0x1f1f9","0x1f1e7","0x1f1fb","0x1f1e7","0x1f1fc","0x1f1e7","0x1f1fe","0x1f1e7","0x1f1ff","0x1f1e8","0x1f1e6","0x1f1e8","0x1f1e8","0x1f1e8","0x1f1e9","0x1f1e8","0x1f1eb","0x1f1e8","0x1f1ec","0x1f1e8","0x1f1ed","0x1f1e8","0x1f1ee","0x1f1e8","0x1f1f0","0x1f1e8","0x1f1f1","0x1f1e8","0x1f1f2","0x1f1e8","0x1f1f3","0x1f1e8","0x1f1f4","0x1f1e8","0x1f1f5","0x1f1e8","0x1f1f7","0x1f1e8","0x1f1fa","0x1f1e8","0x1f1fb","0x1f1e8","0x1f1fc","0x1f1e8","0x1f1fd","0x1f1e8","0x1f1fe","0x1f1e8","0x1f1ff","0x1f1e9","0x1f1ea","0x1f1e9","0x1f1ec","0x1f1e9","0x1f1ef","0x1f1e9","0x1f1f0","0x1f1e9","0x1f1f2","0x1f1e9","0x1f1f4","0x1f1e9","0x1f1ff","0x1f1ea","0x1f1e6","0x1f1ea","0x1f1e8","0x1f1ea","0x1f1ea","0x1f1ea","0x1f1ec","0x1f1ea","0x1f1ed","0x1f1ea","0x1f1f7","0x1f1ea","0x1f1f8","0x1f1ea","0x1f1f9","0x1f1ea","0x1f1fa","0x1f1eb","0x1f1ee","0x1f1eb","0x1f1ef","0x1f1eb","0x1f1f0","0x1f1eb","0x1f1f2","0x1f1eb","0x1f1f4","0x1f1eb","0x1f1f7","0x1f1ec","0x1f1e6","0x1f1ec","0x1f1e7","0x1f1ec","0x1f1e9","0x1f1ec","0x1f1ea","0x1f1ec","0x1f1eb","0x1f1ec","0x1f1ec","0x1f1ec","0x1f1ed","0x1f1ec","0x1f1ee","0x1f1ec","0x1f1f1","0x1f1ec","0x1f1f2","0x1f1ec","0x1f1f3","0x1f1ec","0x1f1f5","0x1f1ec","0x1f1f6","0x1f1ec","0x1f1f7","0x1f1ec","0x1f1f8","0x1f1ec","0x1f1f9","0x1f1ec","0x1f1fa","0x1f1ec","0x1f1fc","0x1f1ec","0x1f1fe","0x1f1ed","0x1f1f0","0x1f1ed","0x1f1f2","0x1f1ed","0x1f1f3","0x1f1ed","0x1f1f7","0x1f1ed","0x1f1f9","0x1f1ed","0x1f1fa","0x1f1ee","0x1f1e8","0x1f1ee","0x1f1e9","0x1f1ee","0x1f1ea","0x1f1ee","0x1f1f1","0x1f1ee","0x1f1f2","0x1f1ee","0x1f1f3","0x1f1ee","0x1f1f4","0x1f1ee","0x1f1f6","0x1f1ee","0x1f1f7","0x1f1ee","0x1f1f8","0x1f1ee","0x1f1f9","0x1f1ef","0x1f1ea","0x1f1ef","0x1f1f2","0x1f1ef","0x1f1f4","0x1f1ef","0x1f1f5","0x1f1f0","0x1f1ea","0x1f1f0","0x1f1ec","0x1f1f0","0x1f1ed","0x1f1f0","0x1f1ee","0x1f1f0","0x1f1f2","0x1f1f0","0x1f1f3","0x1f1f0","0x1f1f5","0x1f1f0","0x1f1f7","0x1f1f0","0x1f1fc","0x1f1f0","0x1f1fe","0x1f1f0","0x1f1ff","0x1f1f1","0x1f1e6","0x1f1f1","0x1f1e7","0x1f1f1","0x1f1e8","0x1f1f1","0x1f1ee","0x1f1f1","0x1f1f0","0x1f1f1","0x1f1f7","0x1f1f1","0x1f1f8","0x1f1f1","0x1f1f9","0x1f1f1","0x1f1fa","0x1f1f1","0x1f1fb","0x1f1f1","0x1f1fe","0x1f1f2","0x1f1e6","0x1f1f2","0x1f1e8","0x1f1f2","0x1f1e9","0x1f1f2","0x1f1ea","0x1f1f2","0x1f1eb","0x1f1f2","0x1f1ec","0x1f1f2","0x1f1ed","0x1f1f2","0x1f1f0","0x1f1f2","0x1f1f1","0x1f1f2","0x1f1f2","0x1f1f2","0x1f1f3","0x1f1f2","0x1f1f4","0x1f1f2","0x1f1f5","0x1f1f2","0x1f1f6","0x1f1f2","0x1f1f7","0x1f1f2","0x1f1f8","0x1f1f2","0x1f1f9","0x1f1f2","0x1f1fa","0x1f1f2","0x1f1fb","0x1f1f2","0x1f1fc","0x1f1f2","0x1f1fd","0x1f1f2","0x1f1fe","0x1f1f2","0x1f1ff","0x1f1f3","0x1f1e6","0x1f1f3","0x1f1e8","0x1f1f3","0x1f1ea","0x1f1f3","0x1f1eb","0x1f1f3","0x1f1ec","0x1f1f3","0x1f1ee","0x1f1f3","0x1f1f1","0x1f1f3","0x1f1f4","0x1f1f3","0x1f1f5","0x1f1f3","0x1f1f7","0x1f1f3","0x1f1fa","0x1f1f3","0x1f1ff","0x1f1f4","0x1f1f2","0x1f1f5","0x1f1e6","0x1f1f5","0x1f1ea","0x1f1f5","0x1f1eb","0x1f1f5","0x1f1ec","0x1f1f5","0x1f1ed","0x1f1f5","0x1f1f0","0x1f1f5","0x1f1f1","0x1f1f5","0x1f1f2","0x1f1f5","0x1f1f3","0x1f1f5","0x1f1f7","0x1f1f5","0x1f1f8","0x1f1f5","0x1f1f9","0x1f1f5","0x1f1fc","0x1f1f5","0x1f1fe","0x1f1f6","0x1f1e6","0x1f1f7","0x1f1ea","0x1f1f7","0x1f1f4","0x1f1f7","0x1f1f8","0x1f1f7","0x1f1fa","0x1f1f7","0x1f1fc","0x1f1f8","0x1f1e6","0x1f1f8","0x1f1e7","0x1f1f8","0x1f1e8","0x1f1f8","0x1f1e9","0x1f1f8","0x1f1ea","0x1f1f8","0x1f1ec","0x1f1f8","0x1f1ed","0x1f1f8","0x1f1ee","0x1f1f8","0x1f1ef","0x1f1f8","0x1f1f0","0x1f1f8","0x1f1f1","0x1f1f8","0x1f1f2","0x1f1f8","0x1f1f3","0x1f1f8","0x1f1f4","0x1f1f8","0x1f1f7","0x1f1f8","0x1f1f8","0x1f1f8","0x1f1f9","0x1f1f8","0x1f1fb","0x1f1f8","0x1f1fd","0x1f1f8","0x1f1fe","0x1f1f8","0x1f1ff","0x1f1f9","0x1f1e6","0x1f1f9","0x1f1e8","0x1f1f9","0x1f1e9","0x1f1f9","0x1f1eb","0x1f1f9","0x1f1ec","0x1f1f9","0x1f1ed","0x1f1f9","0x1f1ef","0x1f1f9","0x1f1f0","0x1f1f9","0x1f1f1","0x1f1f9","0x1f1f2","0x1f1f9","0x1f1f3","0x1f1f9","0x1f1f4","0x1f1f9","0x1f1f7","0x1f1f9","0x1f1f9","0x1f1f9","0x1f1fb","0x1f1f9","0x1f1fc","0x1f1f9","0x1f1ff","0x1f1fa","0x1f1e6","0x1f1fa","0x1f1ec","0x1f1fa","0x1f1f2","0x1f1fa","0x1f1f3","0x1f1fa","0x1f1f8","0x1f1fa","0x1f1fe","0x1f1fa","0x1f1ff","0x1f1fb","0x1f1e6","0x1f1fb","0x1f1e8","0x1f1fb","0x1f1ea","0x1f1fb","0x1f1ec","0x1f1fb","0x1f1ee","0x1f1fb","0x1f1f3","0x1f1fb","0x1f1fa","0x1f1fc","0x1f1eb","0x1f1fc","0x1f1f8","0x1f1fd","0x1f1f0","0x1f1fe","0x1f1ea","0x1f1fe","0x1f1f9","0x1f1ff","0x1f1e6","0x1f1ff","0x1f1f2","0x1f1ff","0x1f1fc","0x1f3f4","0xe0067","0xe0062","0xe0065","0xe006e","0xe0067","0xe007f","0x1f3f4","0xe0067","0xe0062","0xe0073","0xe0063","0xe0074","0xe007f","0x1f3f4","0xe0067","0xe0062","0xe0077","0xe006c","0xe0073","0xe007f"]}},_=Object.prototype.hasOwnProperty,w=Object.keys||function(d){var y=[];for(var C in d)_.call(d,C)&&y.push(C);return y};function R(d,y){for(var C=w(d),M,A=0,L=C.length;A<L;A++)M=C[A],y[M]=d[M]||y[M]}function F(d,y){for(var C=0,M=d.length;C<M;C++)y[C]=d[C]}function k(d,y){var C=Array.isArray(d),M=y||(C?new Array(d.length):{});return C?F(d,M):R(d,M),M}u.prototype.get=function(d){return k(E[d])},u.prototype.mac_address=function(d){d=f(d),d.separator||(d.separator=d.networkVersion?".":":");var y="ABCDEF1234567890",C="";return d.networkVersion?C=this.n(this.string,3,{pool:y,length:4}).join(d.separator):C=this.n(this.string,6,{pool:y,length:2}).join(d.separator),C},u.prototype.normal=function(d){if(d=f(d,{mean:0,dev:1,pool:[]}),v(d.pool.constructor!==Array,"Chance: The pool option must be a valid array."),v(typeof d.mean!="number","Chance: Mean (mean) must be a number"),v(typeof d.dev!="number","Chance: Standard deviation (dev) must be a number"),d.pool.length>0)return this.normal_pool(d);var y,C,M,A,L=d.mean,P=d.dev;do C=this.random()*2-1,M=this.random()*2-1,y=C*C+M*M;while(y>=1);return A=C*Math.sqrt(-2*Math.log(y)/y),P*A+L},u.prototype.normal_pool=function(d){var y=0;do{var C=Math.round(this.normal({mean:d.mean,dev:d.dev}));if(C<d.pool.length&&C>=0)return d.pool[C];y++}while(y<100);throw new RangeError("Chance: Your pool is too small for the given mean and standard deviation. Please adjust.")},u.prototype.radio=function(d){d=f(d,{side:"?"});var y="";switch(d.side.toLowerCase()){case"east":case"e":y="W";break;case"west":case"w":y="K";break;default:y=this.character({pool:"KW"});break}return y+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})},u.prototype.set=function(d,y){typeof d=="string"?E[d]=y:E=k(d,E)},u.prototype.tv=function(d){return this.radio(d)},u.prototype.cnpj=function(){var d=this.n(this.natural,8,{max:9}),y=2+d[7]*6+d[6]*7+d[5]*8+d[4]*9+d[3]*2+d[2]*3+d[1]*4+d[0]*5;y=11-y%11,y>=10&&(y=0);var C=y*2+3+d[7]*7+d[6]*8+d[5]*9+d[4]*2+d[3]*3+d[2]*4+d[1]*5+d[0]*6;return C=11-C%11,C>=10&&(C=0),""+d[0]+d[1]+"."+d[2]+d[3]+d[4]+"."+d[5]+d[6]+d[7]+"/0001-"+y+C},u.prototype.emotion=function(){return this.pick(this.get("emotions"))},u.prototype.mersenne_twister=function(d){return new B(d)},u.prototype.blueimp_md5=function(){return new N};var B=function(d){d===void 0&&(d=Math.floor(Math.random()*Math.pow(10,13))),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(d)};B.prototype.init_genrand=function(d){for(this.mt[0]=d>>>0,this.mti=1;this.mti<this.N;this.mti++)d=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(((d&4294901760)>>>16)*1812433253<<16)+(d&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0},B.prototype.init_by_array=function(d,y){var C=1,M=0,A,L;for(this.init_genrand(19650218),A=this.N>y?this.N:y;A;A--)L=this.mt[C-1]^this.mt[C-1]>>>30,this.mt[C]=(this.mt[C]^(((L&4294901760)>>>16)*1664525<<16)+(L&65535)*1664525)+d[M]+M,this.mt[C]>>>=0,C++,M++,C>=this.N&&(this.mt[0]=this.mt[this.N-1],C=1),M>=y&&(M=0);for(A=this.N-1;A;A--)L=this.mt[C-1]^this.mt[C-1]>>>30,this.mt[C]=(this.mt[C]^(((L&4294901760)>>>16)*1566083941<<16)+(L&65535)*1566083941)-C,this.mt[C]>>>=0,C++,C>=this.N&&(this.mt[0]=this.mt[this.N-1],C=1);this.mt[0]=2147483648},B.prototype.genrand_int32=function(){var d,y=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var C;for(this.mti===this.N+1&&this.init_genrand(5489),C=0;C<this.N-this.M;C++)d=this.mt[C]&this.UPPER_MASK|this.mt[C+1]&this.LOWER_MASK,this.mt[C]=this.mt[C+this.M]^d>>>1^y[d&1];for(;C<this.N-1;C++)d=this.mt[C]&this.UPPER_MASK|this.mt[C+1]&this.LOWER_MASK,this.mt[C]=this.mt[C+(this.M-this.N)]^d>>>1^y[d&1];d=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^d>>>1^y[d&1],this.mti=0}return d=this.mt[this.mti++],d^=d>>>11,d^=d<<7&2636928640,d^=d<<15&4022730752,d^=d>>>18,d>>>0},B.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},B.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},B.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},B.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},B.prototype.genrand_res53=function(){var d=this.genrand_int32()>>>5,y=this.genrand_int32()>>>6;return(d*67108864+y)*(1/9007199254740992)};var N=function(){};N.prototype.VERSION="1.0.1",N.prototype.safe_add=function(y,C){var M=(y&65535)+(C&65535),A=(y>>16)+(C>>16)+(M>>16);return A<<16|M&65535},N.prototype.bit_roll=function(d,y){return d<<y|d>>>32-y},N.prototype.md5_cmn=function(d,y,C,M,A,L){return this.safe_add(this.bit_roll(this.safe_add(this.safe_add(y,d),this.safe_add(M,L)),A),C)},N.prototype.md5_ff=function(d,y,C,M,A,L,P){return this.md5_cmn(y&C|~y&M,d,y,A,L,P)},N.prototype.md5_gg=function(d,y,C,M,A,L,P){return this.md5_cmn(y&M|C&~M,d,y,A,L,P)},N.prototype.md5_hh=function(d,y,C,M,A,L,P){return this.md5_cmn(y^C^M,d,y,A,L,P)},N.prototype.md5_ii=function(d,y,C,M,A,L,P){return this.md5_cmn(C^(y|~M),d,y,A,L,P)},N.prototype.binl_md5=function(d,y){d[y>>5]|=128<<y%32,d[(y+64>>>9<<4)+14]=y;var C,M,A,L,P,b=1732584193,I=-271733879,D=-1732584194,G=271733878;for(C=0;C<d.length;C+=16)M=b,A=I,L=D,P=G,b=this.md5_ff(b,I,D,G,d[C],7,-680876936),G=this.md5_ff(G,b,I,D,d[C+1],12,-389564586),D=this.md5_ff(D,G,b,I,d[C+2],17,606105819),I=this.md5_ff(I,D,G,b,d[C+3],22,-1044525330),b=this.md5_ff(b,I,D,G,d[C+4],7,-176418897),G=this.md5_ff(G,b,I,D,d[C+5],12,1200080426),D=this.md5_ff(D,G,b,I,d[C+6],17,-1473231341),I=this.md5_ff(I,D,G,b,d[C+7],22,-45705983),b=this.md5_ff(b,I,D,G,d[C+8],7,1770035416),G=this.md5_ff(G,b,I,D,d[C+9],12,-1958414417),D=this.md5_ff(D,G,b,I,d[C+10],17,-42063),I=this.md5_ff(I,D,G,b,d[C+11],22,-1990404162),b=this.md5_ff(b,I,D,G,d[C+12],7,1804603682),G=this.md5_ff(G,b,I,D,d[C+13],12,-40341101),D=this.md5_ff(D,G,b,I,d[C+14],17,-1502002290),I=this.md5_ff(I,D,G,b,d[C+15],22,1236535329),b=this.md5_gg(b,I,D,G,d[C+1],5,-165796510),G=this.md5_gg(G,b,I,D,d[C+6],9,-1069501632),D=this.md5_gg(D,G,b,I,d[C+11],14,643717713),I=this.md5_gg(I,D,G,b,d[C],20,-373897302),b=this.md5_gg(b,I,D,G,d[C+5],5,-701558691),G=this.md5_gg(G,b,I,D,d[C+10],9,38016083),D=this.md5_gg(D,G,b,I,d[C+15],14,-660478335),I=this.md5_gg(I,D,G,b,d[C+4],20,-405537848),b=this.md5_gg(b,I,D,G,d[C+9],5,568446438),G=this.md5_gg(G,b,I,D,d[C+14],9,-1019803690),D=this.md5_gg(D,G,b,I,d[C+3],14,-187363961),I=this.md5_gg(I,D,G,b,d[C+8],20,1163531501),b=this.md5_gg(b,I,D,G,d[C+13],5,-1444681467),G=this.md5_gg(G,b,I,D,d[C+2],9,-51403784),D=this.md5_gg(D,G,b,I,d[C+7],14,1735328473),I=this.md5_gg(I,D,G,b,d[C+12],20,-1926607734),b=this.md5_hh(b,I,D,G,d[C+5],4,-378558),G=this.md5_hh(G,b,I,D,d[C+8],11,-2022574463),D=this.md5_hh(D,G,b,I,d[C+11],16,1839030562),I=this.md5_hh(I,D,G,b,d[C+14],23,-35309556),b=this.md5_hh(b,I,D,G,d[C+1],4,-1530992060),G=this.md5_hh(G,b,I,D,d[C+4],11,1272893353),D=this.md5_hh(D,G,b,I,d[C+7],16,-155497632),I=this.md5_hh(I,D,G,b,d[C+10],23,-1094730640),b=this.md5_hh(b,I,D,G,d[C+13],4,681279174),G=this.md5_hh(G,b,I,D,d[C],11,-358537222),D=this.md5_hh(D,G,b,I,d[C+3],16,-722521979),I=this.md5_hh(I,D,G,b,d[C+6],23,76029189),b=this.md5_hh(b,I,D,G,d[C+9],4,-640364487),G=this.md5_hh(G,b,I,D,d[C+12],11,-421815835),D=this.md5_hh(D,G,b,I,d[C+15],16,530742520),I=this.md5_hh(I,D,G,b,d[C+2],23,-995338651),b=this.md5_ii(b,I,D,G,d[C],6,-198630844),G=this.md5_ii(G,b,I,D,d[C+7],10,1126891415),D=this.md5_ii(D,G,b,I,d[C+14],15,-1416354905),I=this.md5_ii(I,D,G,b,d[C+5],21,-57434055),b=this.md5_ii(b,I,D,G,d[C+12],6,1700485571),G=this.md5_ii(G,b,I,D,d[C+3],10,-1894986606),D=this.md5_ii(D,G,b,I,d[C+10],15,-1051523),I=this.md5_ii(I,D,G,b,d[C+1],21,-2054922799),b=this.md5_ii(b,I,D,G,d[C+8],6,1873313359),G=this.md5_ii(G,b,I,D,d[C+15],10,-30611744),D=this.md5_ii(D,G,b,I,d[C+6],15,-1560198380),I=this.md5_ii(I,D,G,b,d[C+13],21,1309151649),b=this.md5_ii(b,I,D,G,d[C+4],6,-145523070),G=this.md5_ii(G,b,I,D,d[C+11],10,-1120210379),D=this.md5_ii(D,G,b,I,d[C+2],15,718787259),I=this.md5_ii(I,D,G,b,d[C+9],21,-343485551),b=this.safe_add(b,M),I=this.safe_add(I,A),D=this.safe_add(D,L),G=this.safe_add(G,P);return[b,I,D,G]},N.prototype.binl2rstr=function(d){var y,C="";for(y=0;y<d.length*32;y+=8)C+=String.fromCharCode(d[y>>5]>>>y%32&255);return C},N.prototype.rstr2binl=function(d){var y,C=[];for(C[(d.length>>2)-1]=void 0,y=0;y<C.length;y+=1)C[y]=0;for(y=0;y<d.length*8;y+=8)C[y>>5]|=(d.charCodeAt(y/8)&255)<<y%32;return C},N.prototype.rstr_md5=function(d){return this.binl2rstr(this.binl_md5(this.rstr2binl(d),d.length*8))},N.prototype.rstr_hmac_md5=function(d,y){var C,M=this.rstr2binl(d),A=[],L=[],P;for(A[15]=L[15]=void 0,M.length>16&&(M=this.binl_md5(M,d.length*8)),C=0;C<16;C+=1)A[C]=M[C]^909522486,L[C]=M[C]^1549556828;return P=this.binl_md5(A.concat(this.rstr2binl(y)),512+y.length*8),this.binl2rstr(this.binl_md5(L.concat(P),640))},N.prototype.rstr2hex=function(d){var y="0123456789abcdef",C="",M,A;for(A=0;A<d.length;A+=1)M=d.charCodeAt(A),C+=y.charAt(M>>>4&15)+y.charAt(M&15);return C},N.prototype.str2rstr_utf8=function(d){return unescape(encodeURIComponent(d))},N.prototype.raw_md5=function(d){return this.rstr_md5(this.str2rstr_utf8(d))},N.prototype.hex_md5=function(d){return this.rstr2hex(this.raw_md5(d))},N.prototype.raw_hmac_md5=function(d,y){return this.rstr_hmac_md5(this.str2rstr_utf8(d),this.str2rstr_utf8(y))},N.prototype.hex_hmac_md5=function(d,y){return this.rstr2hex(this.raw_hmac_md5(d,y))},N.prototype.md5=function(d,y,C){return y?C?this.raw_hmac_md5(y,d):this.hex_hmac_md5(y,d):C?this.raw_md5(d):this.hex_md5(d)},e.exports&&(t=e.exports=u),t.Chance=u,typeof importScripts<"u"&&(chance=new u,self.Chance=u),typeof window=="object"&&typeof window.document=="object"&&(window.Chance=u,window.chance=new u)})()})(eS,eS.exports);var MNe=eS.exports,w$={exports:{}};(function(e,t){e.exports=i;function i(o,l){if(!(this instanceof i))return new i(o,l);this.x=o||0,this.y=l||0}i.fromArray=function(o){return new i(o[0]||0,o[1]||0)},i.fromObject=function(o){return new i(o.x||0,o.y||0)},i.prototype.addX=function(o){return this.x+=o.x,this},i.prototype.addY=function(o){return this.y+=o.y,this},i.prototype.add=function(o){return this.x+=o.x,this.y+=o.y,this},i.prototype.addScalar=function(o){return this.x+=o,this.y+=o,this},i.prototype.addScalarX=function(o){return this.x+=o,this},i.prototype.addScalarY=function(o){return this.y+=o,this},i.prototype.subtractX=function(o){return this.x-=o.x,this},i.prototype.subtractY=function(o){return this.y-=o.y,this},i.prototype.subtract=function(o){return this.x-=o.x,this.y-=o.y,this},i.prototype.subtractScalar=function(o){return this.x-=o,this.y-=o,this},i.prototype.subtractScalarX=function(o){return this.x-=o,this},i.prototype.subtractScalarY=function(o){return this.y-=o,this},i.prototype.divideX=function(o){return this.x/=o.x,this},i.prototype.divideY=function(o){return this.y/=o.y,this},i.prototype.divide=function(o){return this.x/=o.x,this.y/=o.y,this},i.prototype.divideScalar=function(o){return o!==0?(this.x/=o,this.y/=o):(this.x=0,this.y=0),this},i.prototype.divideScalarX=function(o){return o!==0?this.x/=o:this.x=0,this},i.prototype.divideScalarY=function(o){return o!==0?this.y/=o:this.y=0,this},i.prototype.invertX=function(){return this.x*=-1,this},i.prototype.invertY=function(){return this.y*=-1,this},i.prototype.invert=function(){return this.invertX(),this.invertY(),this},i.prototype.multiplyX=function(o){return this.x*=o.x,this},i.prototype.multiplyY=function(o){return this.y*=o.y,this},i.prototype.multiply=function(o){return this.x*=o.x,this.y*=o.y,this},i.prototype.multiplyScalar=function(o){return this.x*=o,this.y*=o,this},i.prototype.multiplyScalarX=function(o){return this.x*=o,this},i.prototype.multiplyScalarY=function(o){return this.y*=o,this},i.prototype.normalize=function(){var o=this.length();return o===0?(this.x=1,this.y=0):this.divide(i(o,o)),this},i.prototype.norm=i.prototype.normalize,i.prototype.limit=function(o,l){return Math.abs(this.x)>o&&(this.x*=l),Math.abs(this.y)>o&&(this.y*=l),this},i.prototype.randomize=function(o,l){return this.randomizeX(o,l),this.randomizeY(o,l),this},i.prototype.randomizeX=function(o,l){var h=Math.min(o.x,l.x),u=Math.max(o.x,l.x);return this.x=n(h,u),this},i.prototype.randomizeY=function(o,l){var h=Math.min(o.y,l.y),u=Math.max(o.y,l.y);return this.y=n(h,u),this},i.prototype.randomizeAny=function(o,l){return Math.round(Math.random())?this.randomizeX(o,l):this.randomizeY(o,l),this},i.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},i.prototype.toFixed=function(o){return typeof o>"u"&&(o=8),this.x=this.x.toFixed(o),this.y=this.y.toFixed(o),this},i.prototype.mixX=function(o,l){return typeof l>"u"&&(l=.5),this.x=(1-l)*this.x+l*o.x,this},i.prototype.mixY=function(o,l){return typeof l>"u"&&(l=.5),this.y=(1-l)*this.y+l*o.y,this},i.prototype.mix=function(o,l){return this.mixX(o,l),this.mixY(o,l),this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copyX=function(o){return this.x=o.x,this},i.prototype.copyY=function(o){return this.y=o.y,this},i.prototype.copy=function(o){return this.copyX(o),this.copyY(o),this},i.prototype.zero=function(){return this.x=this.y=0,this},i.prototype.dot=function(o){return this.x*o.x+this.y*o.y},i.prototype.cross=function(o){return this.x*o.y-this.y*o.x},i.prototype.projectOnto=function(o){var l=(this.x*o.x+this.y*o.y)/(o.x*o.x+o.y*o.y);return this.x=l*o.x,this.y=l*o.y,this},i.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},i.prototype.horizontalAngleDeg=function(){return a(this.horizontalAngle())},i.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},i.prototype.verticalAngleDeg=function(){return a(this.verticalAngle())},i.prototype.angle=i.prototype.horizontalAngle,i.prototype.angleDeg=i.prototype.horizontalAngleDeg,i.prototype.direction=i.prototype.horizontalAngle,i.prototype.rotate=function(o){var l=this.x*Math.cos(o)-this.y*Math.sin(o),h=this.x*Math.sin(o)+this.y*Math.cos(o);return this.x=l,this.y=h,this},i.prototype.rotateDeg=function(o){return o=s(o),this.rotate(o)},i.prototype.rotateTo=function(o){return this.rotate(o-this.angle())},i.prototype.rotateToDeg=function(o){return o=s(o),this.rotateTo(o)},i.prototype.rotateBy=function(o){var l=this.angle()+o;return this.rotate(l)},i.prototype.rotateByDeg=function(o){return o=s(o),this.rotateBy(o)},i.prototype.distanceX=function(o){return this.x-o.x},i.prototype.absDistanceX=function(o){return Math.abs(this.distanceX(o))},i.prototype.distanceY=function(o){return this.y-o.y},i.prototype.absDistanceY=function(o){return Math.abs(this.distanceY(o))},i.prototype.distance=function(o){return Math.sqrt(this.distanceSq(o))},i.prototype.distanceSq=function(o){var l=this.distanceX(o),h=this.distanceY(o);return l*l+h*h},i.prototype.length=function(){return Math.sqrt(this.lengthSq())},i.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},i.prototype.magnitude=i.prototype.length,i.prototype.isZero=function(){return this.x===0&&this.y===0},i.prototype.isEqualTo=function(o){return this.x===o.x&&this.y===o.y},i.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},i.prototype.toArray=function(){return[this.x,this.y]},i.prototype.toObject=function(){return{x:this.x,y:this.y}};var r=180/Math.PI;function n(o,l){return Math.floor(Math.random()*(l-o+1)+o)}function a(o){return o*r}function s(o){return o/r}})(w$);var bNe=w$.exports,Yv={},a_="1.13.7",hI=typeof self=="object"&&self.self===self&&self||typeof Yv=="object"&&Yv.global===Yv&&Yv||Function("return this")()||{},Q0=Array.prototype,s_=Object.prototype,uI=typeof Symbol<"u"?Symbol.prototype:null,PNe=Q0.push,Ic=Q0.slice,jf=s_.toString,RNe=s_.hasOwnProperty,M$=typeof ArrayBuffer<"u",LNe=typeof DataView<"u",FNe=Array.isArray,fI=Object.keys,cI=Object.create,dI=M$&&ArrayBuffer.isView,INe=isNaN,ONe=isFinite,b$=!{toString:null}.propertyIsEnumerable("toString"),vI=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],DNe=Math.pow(2,53)-1;function _i(e,t){return t=t==null?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(n=0;n<t;n++)a[n]=arguments[n];return a[t]=r,e.apply(this,a)}}function ro(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function P$(e){return e===null}function o_(e){return e===void 0}function l_(e){return e===!0||e===!1||jf.call(e)==="[object Boolean]"}function R$(e){return!!(e&&e.nodeType===1)}function gi(e){var t="[object "+e+"]";return function(i){return jf.call(i)===t}}const j0=gi("String"),h_=gi("Number"),L$=gi("Date"),F$=gi("RegExp"),I$=gi("Error"),u_=gi("Symbol"),f_=gi("ArrayBuffer");var O$=gi("Function"),BNe=hI.document&&hI.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof BNe!="function"&&(O$=function(e){return typeof e=="function"||!1});const ci=O$,D$=gi("Object");var B$=LNe&&(!/\[native code\]/.test(String(DataView))||D$(new DataView(new ArrayBuffer(8)))),c_=typeof Map<"u"&&D$(new Map),NNe=gi("DataView");function GNe(e){return e!=null&&ci(e.getInt8)&&f_(e.buffer)}const ec=B$?GNe:NNe,no=FNe||gi("Array");function ao(e,t){return e!=null&&RNe.call(e,t)}var tS=gi("Arguments");(function(){tS(arguments)||(tS=function(e){return ao(e,"callee")})})();const em=tS;function N$(e){return!u_(e)&&ONe(e)&&!isNaN(parseFloat(e))}function d_(e){return h_(e)&&INe(e)}function v_(e){return function(){return e}}function G$(e){return function(t){var i=e(t);return typeof i=="number"&&i>=0&&i<=DNe}}function k$(e){return function(t){return t==null?void 0:t[e]}}const Up=k$("byteLength"),kNe=G$(Up);var $Ne=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function zNe(e){return dI?dI(e)&&!ec(e):kNe(e)&&$Ne.test(jf.call(e))}const p_=M$?zNe:v_(!1),Hi=k$("length");function VNe(e){for(var t={},i=e.length,r=0;r<i;++r)t[e[r]]=!0;return{contains:function(n){return t[n]===!0},push:function(n){return t[n]=!0,e.push(n)}}}function $$(e,t){t=VNe(t);var i=vI.length,r=e.constructor,n=ci(r)&&r.prototype||s_,a="constructor";for(ao(e,a)&&!t.contains(a)&&t.push(a);i--;)a=vI[i],a in e&&e[a]!==n[a]&&!t.contains(a)&&t.push(a)}function _t(e){if(!ro(e))return[];if(fI)return fI(e);var t=[];for(var i in e)ao(e,i)&&t.push(i);return b$&&$$(e,t),t}function z$(e){if(e==null)return!0;var t=Hi(e);return typeof t=="number"&&(no(e)||j0(e)||em(e))?t===0:Hi(_t(e))===0}function m_(e,t){var i=_t(t),r=i.length;if(e==null)return!r;for(var n=Object(e),a=0;a<r;a++){var s=i[a];if(t[s]!==n[s]||!(s in n))return!1}return!0}function Ee(e){if(e instanceof Ee)return e;if(!(this instanceof Ee))return new Ee(e);this._wrapped=e}Ee.VERSION=a_;Ee.prototype.value=function(){return this._wrapped};Ee.prototype.valueOf=Ee.prototype.toJSON=Ee.prototype.value;Ee.prototype.toString=function(){return String(this._wrapped)};function pI(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Up(e))}var mI="[object DataView]";function iS(e,t,i,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var n=typeof e;return n!=="function"&&n!=="object"&&typeof t!="object"?!1:V$(e,t,i,r)}function V$(e,t,i,r){e instanceof Ee&&(e=e._wrapped),t instanceof Ee&&(t=t._wrapped);var n=jf.call(e);if(n!==jf.call(t))return!1;if(B$&&n=="[object Object]"&&ec(e)){if(!ec(t))return!1;n=mI}switch(n){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return uI.valueOf.call(e)===uI.valueOf.call(t);case"[object ArrayBuffer]":case mI:return V$(pI(e),pI(t),i,r)}var a=n==="[object Array]";if(!a&&p_(e)){var s=Up(e);if(s!==Up(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;a=!0}if(!a){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,l=t.constructor;if(o!==l&&!(ci(o)&&o instanceof o&&ci(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],r=r||[];for(var h=i.length;h--;)if(i[h]===e)return r[h]===t;if(i.push(e),r.push(t),a){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!iS(e[h],t[h],i,r))return!1}else{var u=_t(e),f;if(h=u.length,_t(t).length!==h)return!1;for(;h--;)if(f=u[h],!(ao(t,f)&&iS(e[f],t[f],i,r)))return!1}return i.pop(),r.pop(),!0}function U$(e,t){return iS(e,t)}function Qh(e){if(!ro(e))return[];var t=[];for(var i in e)t.push(i);return b$&&$$(e,t),t}function g_(e){var t=Hi(e);return function(i){if(i==null)return!1;var r=Qh(i);if(Hi(r))return!1;for(var n=0;n<t;n++)if(!ci(i[e[n]]))return!1;return e!==H$||!ci(i[x_])}}var x_="forEach",W$="has",y_=["clear","delete"],Y$=["get",W$,"set"],UNe=y_.concat(x_,Y$),H$=y_.concat(Y$),WNe=["add"].concat(y_,x_,W$);const X$=c_?g_(UNe):gi("Map"),K$=c_?g_(H$):gi("WeakMap"),q$=c_?g_(WNe):gi("Set"),J$=gi("WeakSet");function sl(e){for(var t=_t(e),i=t.length,r=Array(i),n=0;n<i;n++)r[n]=e[t[n]];return r}function Z$(e){for(var t=_t(e),i=t.length,r=Array(i),n=0;n<i;n++)r[n]=[t[n],e[t[n]]];return r}function T_(e){for(var t={},i=_t(e),r=0,n=i.length;r<n;r++)t[e[i[r]]]=i[r];return t}function tc(e){var t=[];for(var i in e)ci(e[i])&&t.push(i);return t.sort()}function S_(e,t){return function(i){var r=arguments.length;if(t&&(i=Object(i)),r<2||i==null)return i;for(var n=1;n<r;n++)for(var a=arguments[n],s=e(a),o=s.length,l=0;l<o;l++){var h=s[l];(!t||i[h]===void 0)&&(i[h]=a[h])}return i}}const C_=S_(Qh),Rh=S_(_t),E_=S_(Qh,!0);function YNe(){return function(){}}function Q$(e){if(!ro(e))return{};if(cI)return cI(e);var t=YNe();t.prototype=e;var i=new t;return t.prototype=null,i}function j$(e,t){var i=Q$(e);return t&&Rh(i,t),i}function e5(e){return ro(e)?no(e)?e.slice():C_({},e):e}function t5(e,t){return t(e),e}function __(e){return no(e)?e:[e]}Ee.toPath=__;function Oc(e){return Ee.toPath(e)}function A_(e,t){for(var i=t.length,r=0;r<i;r++){if(e==null)return;e=e[t[r]]}return i?e:void 0}function w_(e,t,i){var r=A_(e,Oc(t));return o_(r)?i:r}function i5(e,t){t=Oc(t);for(var i=t.length,r=0;r<i;r++){var n=t[r];if(!ao(e,n))return!1;e=e[n]}return!!i}function tm(e){return e}function Xo(e){return e=Rh({},e),function(t){return m_(t,e)}}function im(e){return e=Oc(e),function(t){return A_(t,e)}}function Dc(e,t,i){if(t===void 0)return e;switch(i??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,a){return e.call(t,r,n,a)};case 4:return function(r,n,a,s){return e.call(t,r,n,a,s)}}return function(){return e.apply(t,arguments)}}function r5(e,t,i){return e==null?tm:ci(e)?Dc(e,t,i):ro(e)&&!no(e)?Xo(e):im(e)}function rm(e,t){return r5(e,t,1/0)}Ee.iteratee=rm;function Xi(e,t,i){return Ee.iteratee!==rm?Ee.iteratee(e,t):r5(e,t,i)}function n5(e,t,i){t=Xi(t,i);for(var r=_t(e),n=r.length,a={},s=0;s<n;s++){var o=r[s];a[o]=t(e[o],o,e)}return a}function M_(){}function a5(e){return e==null?M_:function(t){return w_(e,t)}}function s5(e,t,i){var r=Array(Math.max(0,e));t=Dc(t,i,1);for(var n=0;n<e;n++)r[n]=t(n);return r}function Wp(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Lh=Date.now||function(){return new Date().getTime()};function o5(e){var t=function(a){return e[a]},i="(?:"+_t(e).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(a){return a=a==null?"":""+a,r.test(a)?a.replace(n,t):a}}const l5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h5=o5(l5),HNe=T_(l5),u5=o5(HNe),f5=Ee.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ly=/(.)^/,XNe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},KNe=/\\|'|\r|\n|\u2028|\u2029/g;function qNe(e){return"\\"+XNe[e]}var JNe=/^\s*(\w|\$)+\s*$/;function c5(e,t,i){!t&&i&&(t=i),t=E_({},t,Ee.templateSettings);var r=RegExp([(t.escape||ly).source,(t.interpolate||ly).source,(t.evaluate||ly).source].join("|")+"|$","g"),n=0,a="__p+='";e.replace(r,function(h,u,f,c,v){return a+=e.slice(n,v).replace(KNe,qNe),n=v+h.length,u?a+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?a+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:c&&(a+=`';
`+c+`
__p+='`),h}),a+=`';
`;var s=t.variable;if(s){if(!JNe.test(s))throw new Error("variable is not a bare identifier: "+s)}else a=`with(obj||{}){
`+a+`}
`,s="obj";a=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+a+`return __p;
`;var o;try{o=new Function(s,"_",a)}catch(h){throw h.source=a,h}var l=function(h){return o.call(this,h,Ee)};return l.source="function("+s+`){
`+a+"}",l}function d5(e,t,i){t=Oc(t);var r=t.length;if(!r)return ci(i)?i.call(e):i;for(var n=0;n<r;n++){var a=e==null?void 0:e[t[n]];a===void 0&&(a=i,n=r),e=ci(a)?a.call(e):a}return e}var ZNe=0;function v5(e){var t=++ZNe+"";return e?e+t:t}function p5(e){var t=Ee(e);return t._chain=!0,t}function m5(e,t,i,r,n){if(!(r instanceof t))return e.apply(i,n);var a=Q$(e.prototype),s=e.apply(a,n);return ro(s)?s:a}var ol=_i(function(e,t){var i=ol.placeholder,r=function(){for(var n=0,a=t.length,s=Array(a),o=0;o<a;o++)s[o]=t[o]===i?arguments[n++]:t[o];for(;n<arguments.length;)s.push(arguments[n++]);return m5(e,r,this,this,s)};return r});ol.placeholder=Ee;const b_=_i(function(e,t,i){if(!ci(e))throw new TypeError("Bind must be called on a function");var r=_i(function(n){return m5(e,r,t,this,i.concat(n))});return r}),sr=G$(Hi);function ll(e,t,i,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var n=r.length,a=0,s=Hi(e);a<s;a++){var o=e[a];if(sr(o)&&(no(o)||em(o)))if(t>1)ll(o,t-1,i,r),n=r.length;else for(var l=0,h=o.length;l<h;)r[n++]=o[l++];else i||(r[n++]=o)}return r}const g5=_i(function(e,t){t=ll(t,!1,!1);var i=t.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=t[i];e[r]=b_(e[r],e)}return e});function x5(e,t){var i=function(r){var n=i.cache,a=""+(t?t.apply(this,arguments):r);return ao(n,a)||(n[a]=e.apply(this,arguments)),n[a]};return i.cache={},i}const P_=_i(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),y5=ol(P_,Ee,1);function T5(e,t,i){var r,n,a,s,o=0;i||(i={});var l=function(){o=i.leading===!1?0:Lh(),r=null,s=e.apply(n,a),r||(n=a=null)},h=function(){var u=Lh();!o&&i.leading===!1&&(o=u);var f=t-(u-o);return n=this,a=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),o=u,s=e.apply(n,a),r||(n=a=null)):!r&&i.trailing!==!1&&(r=setTimeout(l,f)),s};return h.cancel=function(){clearTimeout(r),o=0,r=n=a=null},h}function S5(e,t,i){var r,n,a,s,o,l=function(){var u=Lh()-n;t>u?r=setTimeout(l,t-u):(r=null,i||(s=e.apply(o,a)),r||(a=o=null))},h=_i(function(u){return o=this,a=u,n=Lh(),r||(r=setTimeout(l,t),i&&(s=e.apply(o,a))),s});return h.cancel=function(){clearTimeout(r),r=a=o=null},h}function C5(e,t){return ol(t,e)}function nm(e){return function(){return!e.apply(this,arguments)}}function E5(){var e=arguments,t=e.length-1;return function(){for(var i=t,r=e[t].apply(this,arguments);i--;)r=e[i].call(this,r);return r}}function _5(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function R_(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}}const A5=ol(R_,2);function L_(e,t,i){t=Xi(t,i);for(var r=_t(e),n,a=0,s=r.length;a<s;a++)if(n=r[a],t(e[n],n,e))return n}function w5(e){return function(t,i,r){i=Xi(i,r);for(var n=Hi(t),a=e>0?0:n-1;a>=0&&a<n;a+=e)if(i(t[a],a,t))return a;return-1}}const am=w5(1),F_=w5(-1);function I_(e,t,i,r){i=Xi(i,r,1);for(var n=i(t),a=0,s=Hi(e);a<s;){var o=Math.floor((a+s)/2);i(e[o])<n?a=o+1:s=o}return a}function M5(e,t,i){return function(r,n,a){var s=0,o=Hi(r);if(typeof a=="number")e>0?s=a>=0?a:Math.max(a+o,s):o=a>=0?Math.min(a+1,o):a+o+1;else if(i&&a&&o)return a=i(r,n),r[a]===n?a:-1;if(n!==n)return a=t(Ic.call(r,s,o),d_),a>=0?a+s:-1;for(a=e>0?s:o-1;a>=0&&a<o;a+=e)if(r[a]===n)return a;return-1}}const O_=M5(1,am,I_),b5=M5(-1,F_);function ic(e,t,i){var r=sr(e)?am:L_,n=r(e,t,i);if(n!==void 0&&n!==-1)return e[n]}function P5(e,t){return ic(e,Xo(t))}function ln(e,t,i){t=Dc(t,i);var r,n;if(sr(e))for(r=0,n=e.length;r<n;r++)t(e[r],r,e);else{var a=_t(e);for(r=0,n=a.length;r<n;r++)t(e[a[r]],a[r],e)}return e}function ma(e,t,i){t=Xi(t,i);for(var r=!sr(e)&&_t(e),n=(r||e).length,a=Array(n),s=0;s<n;s++){var o=r?r[s]:s;a[s]=t(e[o],o,e)}return a}function R5(e){var t=function(i,r,n,a){var s=!sr(i)&&_t(i),o=(s||i).length,l=e>0?0:o-1;for(a||(n=i[s?s[l]:l],l+=e);l>=0&&l<o;l+=e){var h=s?s[l]:l;n=r(n,i[h],h,i)}return n};return function(i,r,n,a){var s=arguments.length>=3;return t(i,Dc(r,a,4),n,s)}}const Th=R5(1),Yp=R5(-1);function Us(e,t,i){var r=[];return t=Xi(t,i),ln(e,function(n,a,s){t(n,a,s)&&r.push(n)}),r}function L5(e,t,i){return Us(e,nm(Xi(t)),i)}function Hp(e,t,i){t=Xi(t,i);for(var r=!sr(e)&&_t(e),n=(r||e).length,a=0;a<n;a++){var s=r?r[a]:a;if(!t(e[s],s,e))return!1}return!0}function Xp(e,t,i){t=Xi(t,i);for(var r=!sr(e)&&_t(e),n=(r||e).length,a=0;a<n;a++){var s=r?r[a]:a;if(t(e[s],s,e))return!0}return!1}function Lr(e,t,i,r){return sr(e)||(e=sl(e)),(typeof i!="number"||r)&&(i=0),O_(e,t,i)>=0}const F5=_i(function(e,t,i){var r,n;return ci(t)?n=t:(t=Oc(t),r=t.slice(0,-1),t=t[t.length-1]),ma(e,function(a){var s=n;if(!s){if(r&&r.length&&(a=A_(a,r)),a==null)return;s=a[t]}return s==null?s:s.apply(a,i)})});function sm(e,t){return ma(e,im(t))}function I5(e,t){return Us(e,Xo(t))}function D_(e,t,i){var r=-1/0,n=-1/0,a,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=sr(e)?e:sl(e);for(var o=0,l=e.length;o<l;o++)a=e[o],a!=null&&a>r&&(r=a)}else t=Xi(t,i),ln(e,function(h,u,f){s=t(h,u,f),(s>n||s===-1/0&&r===-1/0)&&(r=h,n=s)});return r}function O5(e,t,i){var r=1/0,n=1/0,a,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=sr(e)?e:sl(e);for(var o=0,l=e.length;o<l;o++)a=e[o],a!=null&&a<r&&(r=a)}else t=Xi(t,i),ln(e,function(h,u,f){s=t(h,u,f),(s<n||s===1/0&&r===1/0)&&(r=h,n=s)});return r}var QNe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function B_(e){return e?no(e)?Ic.call(e):j0(e)?e.match(QNe):sr(e)?ma(e,tm):sl(e):[]}function N_(e,t,i){if(t==null||i)return sr(e)||(e=sl(e)),e[Wp(e.length-1)];var r=B_(e),n=Hi(r);t=Math.max(Math.min(t,n),0);for(var a=n-1,s=0;s<t;s++){var o=Wp(s,a),l=r[s];r[s]=r[o],r[o]=l}return r.slice(0,t)}function D5(e){return N_(e,1/0)}function B5(e,t,i){var r=0;return t=Xi(t,i),sm(ma(e,function(n,a,s){return{value:n,index:r++,criteria:t(n,a,s)}}).sort(function(n,a){var s=n.criteria,o=a.criteria;if(s!==o){if(s>o||s===void 0)return 1;if(s<o||o===void 0)return-1}return n.index-a.index}),"value")}function om(e,t){return function(i,r,n){var a=t?[[],[]]:{};return r=Xi(r,n),ln(i,function(s,o){var l=r(s,o,i);e(a,s,l)}),a}}const N5=om(function(e,t,i){ao(e,i)?e[i].push(t):e[i]=[t]}),G5=om(function(e,t,i){e[i]=t}),k5=om(function(e,t,i){ao(e,i)?e[i]++:e[i]=1}),$5=om(function(e,t,i){e[i?0:1].push(t)},!0);function z5(e){return e==null?0:sr(e)?e.length:_t(e).length}function jNe(e,t,i){return t in i}const G_=_i(function(e,t){var i={},r=t[0];if(e==null)return i;ci(r)?(t.length>1&&(r=Dc(r,t[1])),t=Qh(e)):(r=jNe,t=ll(t,!1,!1),e=Object(e));for(var n=0,a=t.length;n<a;n++){var s=t[n],o=e[s];r(o,s,e)&&(i[s]=o)}return i}),V5=_i(function(e,t){var i=t[0],r;return ci(i)?(i=nm(i),t.length>1&&(r=t[1])):(t=ma(ll(t,!1,!1),String),i=function(n,a){return!Lr(t,a)}),G_(e,i,r)});function k_(e,t,i){return Ic.call(e,0,Math.max(0,e.length-(t==null||i?1:t)))}function Sh(e,t,i){return e==null||e.length<1?t==null||i?void 0:[]:t==null||i?e[0]:k_(e,e.length-t)}function zo(e,t,i){return Ic.call(e,t==null||i?1:t)}function U5(e,t,i){return e==null||e.length<1?t==null||i?void 0:[]:t==null||i?e[e.length-1]:zo(e,Math.max(0,e.length-t))}function W5(e){return Us(e,Boolean)}function Y5(e,t){return ll(e,t,!1)}const $_=_i(function(e,t){return t=ll(t,!0,!0),Us(e,function(i){return!Lr(t,i)})}),H5=_i(function(e,t){return $_(e,t)});function rc(e,t,i,r){l_(t)||(r=i,i=t,t=!1),i!=null&&(i=Xi(i,r));for(var n=[],a=[],s=0,o=Hi(e);s<o;s++){var l=e[s],h=i?i(l,s,e):l;t&&!i?((!s||a!==h)&&n.push(l),a=h):i?Lr(a,h)||(a.push(h),n.push(l)):Lr(n,l)||n.push(l)}return n}const X5=_i(function(e){return rc(ll(e,!0,!0))});function K5(e){for(var t=[],i=arguments.length,r=0,n=Hi(e);r<n;r++){var a=e[r];if(!Lr(t,a)){var s;for(s=1;s<i&&Lr(arguments[s],a);s++);s===i&&t.push(a)}}return t}function nc(e){for(var t=e&&D_(e,Hi).length||0,i=Array(t),r=0;r<t;r++)i[r]=sm(e,r);return i}const q5=_i(nc);function J5(e,t){for(var i={},r=0,n=Hi(e);r<n;r++)t?i[e[r]]=t[r]:i[e[r][0]]=e[r][1];return i}function Z5(e,t,i){t==null&&(t=e||0,e=0),i||(i=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/i),0),n=Array(r),a=0;a<r;a++,e+=i)n[a]=e;return n}function Q5(e,t){if(t==null||t<1)return[];for(var i=[],r=0,n=e.length;r<n;)i.push(Ic.call(e,r,r+=t));return i}function z_(e,t){return e._chain?Ee(t).chain():t}function V_(e){return ln(tc(e),function(t){var i=Ee[t]=e[t];Ee.prototype[t]=function(){var r=[this._wrapped];return PNe.apply(r,arguments),z_(this,i.apply(Ee,r))}}),Ee}ln(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Q0[e];Ee.prototype[e]=function(){var i=this._wrapped;return i!=null&&(t.apply(i,arguments),(e==="shift"||e==="splice")&&i.length===0&&delete i[0]),z_(this,i)}});ln(["concat","join","slice"],function(e){var t=Q0[e];Ee.prototype[e]=function(){var i=this._wrapped;return i!=null&&(i=t.apply(i,arguments)),z_(this,i)}});const eGe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:a_,after:_5,all:Hp,allKeys:Qh,any:Xp,assign:Rh,before:R_,bind:b_,bindAll:g5,chain:p5,chunk:Q5,clone:e5,collect:ma,compact:W5,compose:E5,constant:v_,contains:Lr,countBy:k5,create:j$,debounce:S5,default:Ee,defaults:E_,defer:y5,delay:P_,detect:ic,difference:$_,drop:zo,each:ln,escape:h5,every:Hp,extend:C_,extendOwn:Rh,filter:Us,find:ic,findIndex:am,findKey:L_,findLastIndex:F_,findWhere:P5,first:Sh,flatten:Y5,foldl:Th,foldr:Yp,forEach:ln,functions:tc,get:w_,groupBy:N5,has:i5,head:Sh,identity:tm,include:Lr,includes:Lr,indexBy:G5,indexOf:O_,initial:k_,inject:Th,intersection:K5,invert:T_,invoke:F5,isArguments:em,isArray:no,isArrayBuffer:f_,isBoolean:l_,isDataView:ec,isDate:L$,isElement:R$,isEmpty:z$,isEqual:U$,isError:I$,isFinite:N$,isFunction:ci,isMap:X$,isMatch:m_,isNaN:d_,isNull:P$,isNumber:h_,isObject:ro,isRegExp:F$,isSet:q$,isString:j0,isSymbol:u_,isTypedArray:p_,isUndefined:o_,isWeakMap:K$,isWeakSet:J$,iteratee:rm,keys:_t,last:U5,lastIndexOf:b5,map:ma,mapObject:n5,matcher:Xo,matches:Xo,max:D_,memoize:x5,methods:tc,min:O5,mixin:V_,negate:nm,noop:M_,now:Lh,object:J5,omit:V5,once:A5,pairs:Z$,partial:ol,partition:$5,pick:G_,pluck:sm,property:im,propertyOf:a5,random:Wp,range:Z5,reduce:Th,reduceRight:Yp,reject:L5,rest:zo,restArguments:_i,result:d5,sample:N_,select:Us,shuffle:D5,size:z5,some:Xp,sortBy:B5,sortedIndex:I_,tail:zo,take:Sh,tap:t5,template:c5,templateSettings:f5,throttle:T5,times:s5,toArray:B_,toPath:__,transpose:nc,unescape:u5,union:X5,uniq:rc,unique:rc,uniqueId:v5,unzip:nc,values:sl,where:I5,without:H5,wrap:C5,zip:q5},Symbol.toStringTag,{value:"Module"}));var rS=V_(eGe);rS._=rS;const tGe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:a_,after:_5,all:Hp,allKeys:Qh,any:Xp,assign:Rh,before:R_,bind:b_,bindAll:g5,chain:p5,chunk:Q5,clone:e5,collect:ma,compact:W5,compose:E5,constant:v_,contains:Lr,countBy:k5,create:j$,debounce:S5,default:rS,defaults:E_,defer:y5,delay:P_,detect:ic,difference:$_,drop:zo,each:ln,escape:h5,every:Hp,extend:C_,extendOwn:Rh,filter:Us,find:ic,findIndex:am,findKey:L_,findLastIndex:F_,findWhere:P5,first:Sh,flatten:Y5,foldl:Th,foldr:Yp,forEach:ln,functions:tc,get:w_,groupBy:N5,has:i5,head:Sh,identity:tm,include:Lr,includes:Lr,indexBy:G5,indexOf:O_,initial:k_,inject:Th,intersection:K5,invert:T_,invoke:F5,isArguments:em,isArray:no,isArrayBuffer:f_,isBoolean:l_,isDataView:ec,isDate:L$,isElement:R$,isEmpty:z$,isEqual:U$,isError:I$,isFinite:N$,isFunction:ci,isMap:X$,isMatch:m_,isNaN:d_,isNull:P$,isNumber:h_,isObject:ro,isRegExp:F$,isSet:q$,isString:j0,isSymbol:u_,isTypedArray:p_,isUndefined:o_,isWeakMap:K$,isWeakSet:J$,iteratee:rm,keys:_t,last:U5,lastIndexOf:b5,map:ma,mapObject:n5,matcher:Xo,matches:Xo,max:D_,memoize:x5,methods:tc,min:O5,mixin:V_,negate:nm,noop:M_,now:Lh,object:J5,omit:V5,once:A5,pairs:Z$,partial:ol,partition:$5,pick:G_,pluck:sm,property:im,propertyOf:a5,random:Wp,range:Z5,reduce:Th,reduceRight:Yp,reject:L5,rest:zo,restArguments:_i,result:d5,sample:N_,select:Us,shuffle:D5,size:z5,some:Xp,sortBy:B5,sortedIndex:I_,tail:zo,take:Sh,tap:t5,template:c5,templateSettings:f5,throttle:T5,times:s5,toArray:B_,toPath:__,transpose:nc,unescape:u5,union:X5,uniq:rc,unique:rc,uniqueId:v5,unzip:nc,values:sl,where:I5,without:H5,wrap:C5,zip:q5},Symbol.toStringTag,{value:"Module"})),iGe=e6(tGe),Bc=function(t,i,r,n){this.x=t,this.y=i,this.width=r,this.height=n};Bc.prototype.getBoundingBox=function(){return{top:this.y,right:this.x+this.width-1,bottom:this.y+this.height-1,left:this.x}};Bc.prototype.containsTile=function(t,i){const r=this.getBoundingBox();return!(t<r.left||t>r.right||i<r.top||i>r.bottom)};Bc.prototype.intersects=function(t){if(!t.getBoundingBox)throw new Error("Given entity has no method getBoundingBox");var i=this.getBoundingBox(),r=t.getBoundingBox();return!(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)};Bc.prototype.toJS=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}};var rGe=Bc;const U_=function(t,i,r){this.type=t,this.neighbours=[],this.x=i,this.y=r};U_.prototype.setNeighbours=function(e){return this.neighbours=e,this};U_.prototype.toJS=function(){return{x:this.x,y:this.y,type:this.type}};var nGe=U_;const j5=MNe,hf=bNe,hy=iGe,aGe=rGe,sGe=nGe,gI=e=>{const t=[];return e.neighbours.n&&t.push(e.neighbours.n),e.neighbours.e&&t.push(e.neighbours.e),e.neighbours.s&&t.push(e.neighbours.s),e.neighbours.w&&t.push(e.neighbours.w),t},xI=new j5,oGe=function(){var t=50,i=50,r=0,n=50,a=[],s=-1,o,l;const h=new hf(0,1),u=new hf(1,0),f=new hf(0,-1),c=new hf(-1,0),v=[h,u,f,c],p=A=>{o=A};let m=[],x;const g=(A,L)=>l.integer({min:A,max:L}),T=(A,L)=>m[A][L],S=(A,L,P)=>{if(m[A]&&m[A][L])return m[A][L].type=P,m[A][L].region=s,m[A][L];throw new RangeError(`tile at ${A}, ${L} is unreachable`)},E=A=>{let L={};var P,b;for(P=0;P<o.width;P++)for(m.push([]),b=0;b<o.height;b++)m[P].push(new sGe(A,P,b));for(P=0;P<o.width;P++)for(b=0;b<o.height;b++)L={},m[P][b-1]&&(L.n=m[P][b-1]),m[P+1]&&m[P+1][b-1]&&(L.ne=m[P+1][b-1]),m[P+1]&&m[P+1][b]&&(L.e=m[P+1][b]),m[P+1]&&m[P+1][b+1]&&(L.se=m[P+1][b+1]),m[P]&&m[P][b+1]&&(L.s=m[P][b+1]),m[P-1]&&m[P-1][b+1]&&(L.sw=m[P-1][b+1]),m[P-1]&&m[P-1][b]&&(L.w=m[P-1][b]),m[P-1]&&m[P-1][b-1]&&(L.nw=m[P-1][b-1]),m[P][b].setNeighbours(L);return m},_=A=>{if(A.width<5)throw new RangeError(`DungeoneerError: options.width must not be less than 5, received ${A.width}`);if(A.height<5)throw new RangeError(`DungeoneerError: options.height must not be less than 5, received ${A.height}`);A.width%2===0&&(A.width+=1),A.height%2===0&&(A.height+=1);const L=A.seed||`${xI.word({length:7})}-${xI.word({length:7})}`;l=new j5(L),x=L,p(A),E("wall"),F();for(var P=1;P<A.height;P+=2)for(var b=1;b<A.width;b+=2)T(b,P).type!=="floor"&&R(b,P);return B(),d(),{rooms:a,tiles:m,seed:L,toJS:w}},w=()=>{const A=[],L=[];for(const P of a)A.push(P.toJS());for(let P=0;P<m.length;P++){L[P]||L.push([]);for(let b=0;b<m[P].length;b++){const I=m[P][b];L[P].push(I.toJS())}}return{tiles:L,rooms:A,seed:x}},R=(A,L)=>{var P=[],b;if(Object.keys(m[A][L].neighbours).filter(X=>X.type==="floor").length>0)return;C(),M(A,L),P.push(new hf(A,L));let I=0;for(;P.length&&I<500;){I++;var D=P[P.length-1],G=[];for(let X of v)y(D,X)&&G.push(X);if(G.length){var H,V=G.map(te=>te.toString());if(b&&V.indexOf(b.toString())>-1&&g(1,100)>n)H=b.clone();else{let te=g(0,G.length-1);H=G[te].clone()}let X=D.clone().add(H).toObject();M(X.x,X.y);let K=D.clone().add(H).add(H).toObject();M(K.x,K.y),P.push(D.clone().add(H).add(H)),b=H.clone()}else P.pop(),b=null}},F=()=>{for(var A=0;A<t;A++){var L=g(1,3+r)*2+1,P=g(0,1+Math.floor(L/2))*2,b=L,I=L;N(2)?b+=P:I+=P,b=Math.min(b,o.width-4),I=Math.min(b,o.height-4);var D=g(0,Math.floor((o.width-b)/2))*2+1,G=g(0,Math.floor((o.height-I)/2))*2+1;D+b>o.width&&(D=Math.max(1,o.width-b-1)),G+I>o.height&&(G=Math.max(1,o.height-I-1));var H=new aGe(D,G,b,I),V=!1;for(var X of a)if(H.intersects(X)){V=!0;break}V||(a.push(H),C(),k(D,G,b,I))}},k=(A,L,P,b)=>{for(var I=A;I<A+P;I++)for(var D=L;D<L+b;D++)M(I,D)},B=()=>{let A={};m.forEach(L=>{L.forEach(P=>{if(P.type==="floor")return;let b=hy.unique(gI(P).map(D=>D.region).filter(D=>!hy.isUndefined(D)));if(b.length<=1)return;let I=b.join("-");A[I]||(A[I]=[]),A[I].push(P)})}),hy.each(A,L=>{let P=g(0,L.length-1);L[P].type="door",L.splice(P,1),L.forEach(b=>{N(i)&&(b.type="door")})})},N=A=>g(1,A)===1,d=()=>{var A=!1;const L=()=>{let P=!0;return m.forEach(b=>{b.forEach(I=>{I.type!=="wall"&&gI(I).filter(D=>D.type!=="wall").length<=1&&!a.find(D=>D.containsTile(I.x,I.y))&&(I.type="wall",P=!1)})}),P};for(;!A;)A=!0,A=L()},y=(A,L)=>{let P=A.clone().add(L).add(L).add(L).toObject();if(!m[P.x]||!m[P.x][P.y]||T(P.x,P.y).type!=="wall")return!1;let b=A.clone().add(L).add(L).toObject();return T(b.x,b.y).type!=="floor"},C=()=>(s++,s),M=(A,L,P="floor")=>{S(A,L,P)};return{build:_}},lGe=e=>new oGe().build(e);var hGe={build:lGe};const uGe=aS(hGe);class uy{static tileTypeFor(t){return t==="wall"?"TileType.Wall":t==="door"?"TileType.Door":"TileType.None"}constructor(t,i,r,n){this.type=t,this.collides=t!=="TileType.None",this.map=n,this.x=i,this.y=r,this.seen=!1,this.desiredAlpha=1,this.corridor=!n.withinRoom(i,r)}open(){this.collides=!1}neighbours(){return{n:this.map.tileAt(this.x,this.y-1),s:this.map.tileAt(this.x,this.y+1),w:this.map.tileAt(this.x-1,this.y),e:this.map.tileAt(this.x+1,this.y),nw:this.map.tileAt(this.x-1,this.y-1),ne:this.map.tileAt(this.x+1,this.y-1),sw:this.map.tileAt(this.x-1,this.y+1),se:this.map.tileAt(this.x+1,this.y+1)}}isEnclosed(){return Object.values(this.neighbours()).filter(t=>!t||t.type==="TileType.Wall"&&t.corridor===this.corridor).length===8}spriteIndex(){const t=this.type==="TileType.Wall"&&this.corridor?8:0;return this.rawIndex()+t}rawIndex(){const t=this.neighbours(),i=t.n&&t.n.type==="TileType.Wall"&&t.n.corridor===this.corridor,r=t.s&&t.s.type==="TileType.Wall"&&t.s.corridor===this.corridor,n=t.w&&t.w.type==="TileType.Wall"&&t.w.corridor===this.corridor,a=t.e&&t.e.type==="TileType.Wall"&&t.e.corridor===this.corridor,s=t.w&&t.w.type==="TileType.Door",o=t.e&&t.e.type==="TileType.Door",l=ae.environment.indices.walls;return this.type==="TileType.Wall"?i&&a&&r&&n?l.intersections.n_e_s_w:i&&a&&r?l.intersections.n_e_s:i&&r&&n?l.intersections.n_s_w:a&&r&&n?l.intersections.e_s_w:i&&a&&n?l.intersections.n_e_w:a&&r?l.intersections.e_s:a&&n?l.intersections.e_w:r&&n?l.intersections.s_w:i&&r?l.intersections.n_s:i&&a?l.intersections.n_e:i&&n?l.intersections.n_w:n&&o?l.intersections.e_door:a&&s?l.intersections.w_door:i?l.intersections.n:r?l.intersections.s:a?l.intersections.e:n?l.intersections.w:l.alone:this.type==="TileType.Door"?i||r?ae.environment.indices.doors.vertical:ae.environment.indices.doors.horizontal:0}}const Hv=20;class fGe{constructor(t,i,r){this.sprite=r.physics.add.sprite(t,i,ae.slime.name,0),this.sprite.setSize(12,10),this.sprite.setOffset(10,14),this.sprite.anims.play(ae.slime.animations.idle.key),this.sprite.setDepth(10),this.body=this.sprite.body,this.nextAction=0,this.body.bounce.set(0,0),this.body.setImmovable(!0)}update(t){if(!(t<this.nextAction)){if($e.Math.Between(0,1)===0)this.body.setVelocity(0),this.sprite.anims.play(ae.slime.animations.idle.key,!0);else{this.sprite.anims.play(ae.slime.animations.move.key,!0);const i=$e.Math.Between(0,3);this.body.setVelocity(0),!this.body.blocked.left&&i===0?this.body.setVelocityX(-Hv):!this.body.blocked.right&&i<=1?this.body.setVelocityX(Hv):!this.body.blocked.up&&i<=2?this.body.setVelocityY(-Hv):!this.body.blocked.down&&i<=3?this.body.setVelocityY(Hv):console.log(`Couldn't find direction for slime: ${i}`)}this.nextAction=t+$e.Math.Between(1e3,3e3)}}kill(){this.sprite.anims.play(ae.slime.animations.death.key,!1),this.sprite.disableBody()}}let cGe=class{constructor(t,i,r){const n=uGe.build({width:t,height:i});this.rooms=n.rooms,this.width=t,this.height=i,this.tiles=[];for(let c=0;c<i;c++){this.tiles.push([]);for(let v=0;v<t;v++){const p=uy.tileTypeFor(n.tiles[v][c].type);this.tiles[c][v]=new uy(p,v,c,this)}}const a=[];for(let c=0;c<i;c++)for(let v=0;v<t;v++){const p=this.tiles[c][v];p.type==="TileType.Wall"&&p.isEnclosed()&&a.push({y:c,x:v})}a.forEach(c=>{this.tiles[c.y][c.x]=new uy("TileType.None",c.x,c.y,this)});const s=Math.floor(Math.random()*n.rooms.length),o=n.rooms[s];this.startingX=Math.floor(o.x+o.width/2),this.startingY=Math.floor(o.y+o.height/2),this.tilemap=r.make.tilemap({tileWidth:ae.environment.width,tileHeight:ae.environment.height,width:t,height:i});const l=this.tilemap.addTilesetImage(ae.environment.name,ae.environment.name,ae.environment.width,ae.environment.height,ae.environment.margin,ae.environment.spacing),h=this.tilemap.createBlankDynamicLayer("Ground",l,0,0).randomize(0,0,this.width,this.height,ae.environment.indices.floor.outerCorridor);this.slimes=[];for(let c of n.rooms){if(h.randomize(c.x-1,c.y-1,c.width+2,c.height+2,ae.environment.indices.floor.outer),c.height<4||c.width<4)continue;const v=this.tilemap.tileToWorldXY(c.x+1,c.y+1),p=this.tilemap.tileToWorldXY(c.x+c.width-1,c.y+c.height-1),m=$e.Math.Between(1,3);for(let x=0;x<m;x++)this.slimes.push(new fGe($e.Math.Between(v.x,p.x),$e.Math.Between(v.y,p.y),r))}this.tilemap.convertLayerToStatic(h).setDepth(1);const u=this.tilemap.createBlankDynamicLayer("Wall",l,0,0);this.doorLayer=this.tilemap.createBlankDynamicLayer("Door",l,0,0);for(let c=0;c<t;c++)for(let v=0;v<i;v++){const p=this.tiles[v][c];p.type==="TileType.Wall"?u.putTileAt(p.spriteIndex(),c,v):p.type==="TileType.Door"&&this.doorLayer.putTileAt(p.spriteIndex(),c,v)}u.setCollisionBetween(0,127);const f=[ae.environment.indices.doors.horizontal,ae.environment.indices.doors.vertical];this.doorLayer.setCollision(f),this.doorLayer.setTileIndexCallback(f,(c,v)=>{this.doorLayer.putTileAt(ae.environment.indices.doors.destroyed,v.x,v.y),this.tileAt(v.x,v.y).open(),r.fov.recalculate()},this),this.doorLayer.setDepth(3),this.wallLayer=this.tilemap.convertLayerToStatic(u),this.wallLayer.setDepth(2)}tileAt(t,i){return i<0||i>=this.height||t<0||t>=this.width?null:this.tiles[i][t]}withinRoom(t,i){return this.rooms.find(r=>{const{top:n,left:a,right:s,bottom:o}=r.getBoundingBox();return i>=n-1&&i<=o+1&&t>=a-1&&t<=s+1})!=null}};const fy=7,dGe=.8,yI=[.7,.6,.3,.1],vGe=.004;function pGe(e,t,i){const r=Math.max(Math.abs(i.alpha-e),.05),n=vGe*t*r;i.alpha>e?i.setAlpha($e.Math.MinSub(i.alpha,n,e)):i.alpha<e&&i.setAlpha($e.Math.MaxAdd(i.alpha,n,e))}class mGe{constructor(t){const i=t.tilemap.addTilesetImage("util");this.layer=t.tilemap.createBlankDynamicLayer("Dark",i,0,0).fill(ae.util.indices.black),this.layer.setDepth(100),this.map=t,this.recalculate(),this.lastPos=new $e.Math.Vector2({x:-1,y:-1})}recalculate(){this.mrpas=new wNe(this.map.width,this.map.height,(t,i)=>this.map.tiles[i]&&!this.map.tiles[i][t].collides)}update(t,i,r){this.lastPos.equals(t)||(this.updateMRPAS(t),this.lastPos=t.clone());for(let n=i.y;n<i.y+i.height;n++)for(let a=i.x;a<i.x+i.width;a++){if(n<0||n>=this.map.height||a<0||a>=this.map.width)continue;const s=this.map.tiles[n][a].desiredAlpha,o=this.layer.getTileAt(a,n);pGe(s,r,o)}}updateMRPAS(t){for(let i of this.map.tiles)for(let r of i)r.seen&&(r.desiredAlpha=dGe);this.mrpas.compute(t.x,t.y,fy,(i,r)=>this.map.tiles[r][i].seen,(i,r)=>{const n=Math.floor(new $e.Math.Vector2(i,r).distance(new $e.Math.Vector2(t.x,t.y))),a=n<=fy?fy-n:0,s=a<yI.length?yI[a]:0;this.map.tiles[r][i].desiredAlpha=s,this.map.tiles[r][i].seen=!0})}}const uf=125,gGe=500,nS=165,xGe=200,Xv=100,yGe=nS*2;class TGe{constructor(t,i,r){this.scene=r,this.sprite=r.physics.add.sprite(t,i,ae.player.name,0),this.sprite.setSize(8,8),this.sprite.setOffset(20,28),this.sprite.anims.play(ae.player.animations.idle.key),this.facingUp=!1,this.sprite.setDepth(5),this.keys=r.input.keyboard.addKeys({up:$e.Input.Keyboard.KeyCodes.UP,down:$e.Input.Keyboard.KeyCodes.DOWN,left:$e.Input.Keyboard.KeyCodes.LEFT,right:$e.Input.Keyboard.KeyCodes.RIGHT,space:$e.Input.Keyboard.KeyCodes.SPACE,w:"w",a:"a",s:"s",d:"d"}),this.attackUntil=0,this.attackLockedUntil=0,this.attacking=!1,this.staggerUntil=0,this.staggered=!1;const n=r.add.particles(ae.player.name);n.setDepth(6),this.emitter=n.createEmitter({alpha:{start:.7,end:0,ease:"Cubic.easeOut"},follow:this.sprite,quantity:1,lifespan:200,blendMode:$e.BlendModes.ADD,scaleX:()=>this.sprite.flipX?-1:1,emitCallback:a=>{a.frame=this.sprite.frame}}),this.emitter.stop(),this.flashEmitter=n.createEmitter({alpha:{start:.5,end:0,ease:"Cubic.easeOut"},follow:this.sprite,quantity:1,lifespan:100,scaleX:()=>this.sprite.flipX?-1:1,emitCallback:a=>{a.frame=this.sprite.frame}}),this.flashEmitter.stop(),this.body=this.sprite.body,this.time=0}isAttacking(){return this.attacking}stagger(){this.time>this.staggerUntil&&(this.staggered=!0,this.scene.cameras.main.shake(150,.001),this.scene.cameras.main.flash(50,100,0,0))}update(t){this.time=t;const i=this.keys;let r="",n="";if(this.staggered&&!this.body.touching.none&&(this.staggerUntil=this.time+xGe,this.staggered=!1,this.body.setVelocity(0),this.body.touching.down?this.body.setVelocityY(-Xv):this.body.touching.up?this.body.setVelocityY(Xv):this.body.touching.left?(this.body.setVelocityX(Xv),this.sprite.setFlipX(!0)):this.body.touching.right&&(this.body.setVelocityX(-Xv),this.sprite.setFlipX(!1)),this.sprite.anims.play(ae.player.animations.stagger.key),this.flashEmitter.start()),t<this.attackUntil||t<this.staggerUntil)return;this.body.setVelocity(0);const a=i.left.isDown||i.a.isDown,s=i.right.isDown||i.d.isDown,o=i.up.isDown||i.w.isDown,l=i.down.isDown||i.s.isDown;if(!this.body.blocked.left&&a?(this.body.setVelocityX(-uf),this.sprite.setFlipX(!0)):!this.body.blocked.right&&s&&(this.body.setVelocityX(uf),this.sprite.setFlipX(!1)),!this.body.blocked.up&&o?this.body.setVelocityY(-uf):!this.body.blocked.down&&l&&this.body.setVelocityY(uf),a||s?(n=ae.player.animations.walk.key,r=ae.player.animations.slash.key,this.facingUp=!1):l?(n=ae.player.animations.walk.key,r=ae.player.animations.slashDown.key,this.facingUp=!1):o?(n=ae.player.animations.walkBack.key,r=ae.player.animations.slashUp.key,this.facingUp=!0):this.facingUp?n=ae.player.animations.idleBack.key:n=ae.player.animations.idle.key,i.space.isDown&&t>this.attackLockedUntil&&this.body.velocity.length()>0){this.attackUntil=t+nS,this.attackLockedUntil=t+nS+yGe,this.body.velocity.normalize().scale(gGe),this.sprite.anims.play(r,!0),this.emitter.start(),this.sprite.setBlendMode($e.BlendModes.ADD),this.attacking=!0;return}this.attacking=!1,this.sprite.anims.play(n,!0),this.body.velocity.normalize().scale(uf),this.sprite.setBlendMode($e.BlendModes.NORMAL),this.emitter.on&&this.emitter.stop(),this.flashEmitter.on&&this.flashEmitter.stop()}}const SGe=81,CGe=81;class EGe extends $e.Scene{preload(){this.load.image(ae.environment.name,ae.environment.file),this.load.image(ae.util.name,ae.util.file),this.load.spritesheet(ae.player.name,ae.player.file,{frameHeight:ae.player.height,frameWidth:ae.player.width}),this.load.spritesheet(ae.slime.name,ae.slime.file,{frameHeight:ae.slime.height,frameWidth:ae.slime.width})}constructor(){super("DungeonScene"),this.lastX=-1,this.lastY=-1,this.player=null,this.fov=null,this.tilemap=null,this.slimes=[],this.slimeGroup=null}slimePlayerCollide(t,i){const r=this.slimes.find(n=>n.sprite===i);if(!r){console.log("Missing slime for sprite collision!");return}return this.player.isAttacking()?(this.slimes=this.slimes.filter(n=>n!=r),r.kill(),!1):(this.player.stagger(),!0)}create(){this.events.on("wake",()=>{this.scene.run("InfoScene")}),Object.values(ae.player.animations).forEach(i=>{this.anims.get(i.key)||this.anims.create({...i,frames:this.anims.generateFrameNumbers(ae.player.name,i.frames)})}),Object.values(ae.slime.animations).forEach(i=>{this.anims.get(i.key)||this.anims.create({...i,frames:this.anims.generateFrameNumbers(ae.slime.name,i.frames)})});const t=new cGe(CGe,SGe,this);this.tilemap=t.tilemap,this.fov=new mGe(t),this.player=new TGe(this.tilemap.tileToWorldX(t.startingX),this.tilemap.tileToWorldY(t.startingY),this),this.slimes=t.slimes,this.slimeGroup=this.physics.add.group(this.slimes.map(i=>i.sprite)),this.cameras.main.setRoundPixels(!0),this.cameras.main.setZoom(3),this.cameras.main.setBounds(0,0,t.width*ae.environment.width,t.height*ae.environment.height),this.cameras.main.startFollow(this.player.sprite),this.physics.add.collider(this.player.sprite,t.wallLayer),this.physics.add.collider(this.slimeGroup,t.wallLayer),this.physics.add.collider(this.player.sprite,t.doorLayer),this.physics.add.collider(this.slimeGroup,t.doorLayer),this.physics.add.collider(this.player.sprite,this.slimeGroup,void 0,this.slimePlayerCollide,this),this.input.keyboard.on("keydown_R",()=>{this.scene.stop("InfoScene"),this.scene.run("ReferenceScene"),this.scene.sleep()}),this.input.keyboard.on("keydown_Q",()=>{this.physics.world.drawDebug=!this.physics.world.drawDebug,this.physics.world.debugGraphic||this.physics.world.createDebugGraphic(),this.physics.world.debugGraphic.clear(),this.roomDebugGraphics.setVisible(this.physics.world.drawDebug)}),this.input.keyboard.on("keydown_F",()=>{this.fov.layer.setVisible(!this.fov.layer.visible)}),this.roomDebugGraphics=this.add.graphics({x:0,y:0}),this.roomDebugGraphics.setVisible(!1),this.roomDebugGraphics.lineStyle(2,16733440,.5);for(let i of t.rooms)this.roomDebugGraphics.strokeRect(this.tilemap.tileToWorldX(i.x),this.tilemap.tileToWorldY(i.y),this.tilemap.tileToWorldX(i.width),this.tilemap.tileToWorldY(i.height));this.scene.run("InfoScene")}update(t,i){this.player.update(t);const r=this.cameras.main;for(let s of this.slimes)s.update(t);const n=new $e.Math.Vector2({x:this.tilemap.worldToTileX(this.player.sprite.body.x),y:this.tilemap.worldToTileY(this.player.sprite.body.y)}),a=new $e.Geom.Rectangle(this.tilemap.worldToTileX(r.worldView.x)-1,this.tilemap.worldToTileY(r.worldView.y)-1,this.tilemap.worldToTileX(r.worldView.width)+2,this.tilemap.worldToTileX(r.worldView.height)+2);this.fov.update(n,a,i)}}const Kv=Object.values(ae);class _Ge extends $e.Scene{constructor(){super("ReferenceScene"),this.index=0,this.group=null,this.map=null,this.title=null}preload(){Kv.forEach(t=>this.load.image(t.name,t.file)),this.load.bitmapFont("default",..._$.default)}create(){this.title=this.add.dynamicBitmapText(20,10,"default","",12),this.previewTileset(),this.input.keyboard.on("keydown_N",()=>{this.index+=1,this.index>=Kv.length&&(this.index=0),this.reset(),this.previewTileset()}),this.input.keyboard.on("keydown_R",()=>{this.scene.wake("DungeonScene"),this.scene.stop()})}reset(){this.group&&this.group.clear(!0,!0),this.map&&this.map.destroy(),this.group=null,this.map=null}previewTileset(){this.group=this.add.group();const t=Kv[this.index];this.map=this.make.tilemap({tileWidth:t.width,tileHeight:t.height});const i=this.map.addTilesetImage(t.name),r=this.map.createBlankDynamicLayer("preview",i,30,40,i.columns,i.rows);r.setScale(t.width>32?2:3);const n=this.add.grid(r.x+r.displayWidth/2,r.y+r.displayHeight/2,r.displayWidth+16,r.displayHeight+16,8,8,2236962).setAltFillStyle(2763306).setOutlineStyle();r.setDepth(5),this.group.add(n);for(let a=0;a<i.rows;a++)for(let s=0;s<i.columns;s++){const o=a*i.columns+s,l=this.add.bitmapText(this.map.tileToWorldX(s),this.map.tileToWorldY(a),"default",o.toString(16),6);l.setDepth(10),this.group.add(l),r.putTileAt(o,s,a)}this.group.add(r),this.title.setText(`'${t.name}' (${this.index+1} of ${Kv.length}) ['n' for next]`)}}const AGe=()=>Ch.jsx(xNe,{options:{type:$e.WEBGL,render:{pixelArt:!0},physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}},scene:[EGe,yNe,_Ge]}}),wGe=()=>Ch.jsx("div",{className:"App",children:Ch.jsx(AGe,{})}),MGe=FD(document.getElementById("root"));MGe.render(Ch.jsx(m6.StrictMode,{children:Ch.jsx(wGe,{})}));
